import merge from"https://unpkg.com/lodash-es@4.17.21/merge.js";import BigNumber$1 from"https://unpkg.com/bignumber.js@9.0.2/bignumber.mjs";function _defineProperty(t,e,Q){return e in t?Object.defineProperty(t,e,{value:Q,enumerable:!0,configurable:!0,writable:!0}):t[e]=Q,t}function asyncGeneratorStep(t,e,Q,B,s,F,U){try{var n=t[F](U),c=n.value}catch(t){return void Q(t)}n.done?e(c):Promise.resolve(c).then(B,s)}function _asyncToGenerator(t){return function(){var e=this,Q=arguments;return new Promise((function(B,s){var F=t.apply(e,Q);function U(t){asyncGeneratorStep(F,B,s,U,n,"next",t)}function n(t){asyncGeneratorStep(F,B,s,U,n,"throw",t)}U(void 0)}))}}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromNamespaceIfPresent$1(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var runtime={exports:{}};!function(t){var e=function(t){var e,Q=Object.prototype,B=Q.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},F=s.iterator||"@@iterator",U=s.asyncIterator||"@@asyncIterator",n=s.toStringTag||"@@toStringTag";function c(t,e,Q){return Object.defineProperty(t,e,{value:Q,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,Q){return t[e]=Q}}function o(t,e,Q,B){var s=e&&e.prototype instanceof d?e:d,F=Object.create(s.prototype),U=new h(B||[]);return F._invoke=function(t,e,Q){var B=l;return function(s,F){if(B===r)throw new Error("Generator is already running");if(B===i){if("throw"===s)throw F;return R()}for(Q.method=s,Q.arg=F;;){var U=Q.delegate;if(U){var n=L(U,Q);if(n){if(n===a)continue;return n}}if("next"===Q.method)Q.sent=Q._sent=Q.arg;else if("throw"===Q.method){if(B===l)throw B=i,Q.arg;Q.dispatchException(Q.arg)}else"return"===Q.method&&Q.abrupt("return",Q.arg);B=r;var c=g(t,e,Q);if("normal"===c.type){if(B=Q.done?i:I,c.arg===a)continue;return{value:c.arg,done:Q.done}}"throw"===c.type&&(B=i,Q.method="throw",Q.arg=c.arg)}}}(t,Q,U),F}function g(t,e,Q){try{return{type:"normal",arg:t.call(e,Q)}}catch(t){return{type:"throw",arg:t}}}t.wrap=o;var l="suspendedStart",I="suspendedYield",r="executing",i="completed",a={};function d(){}function u(){}function C(){}var y={};c(y,F,(function(){return this}));var S=Object.getPrototypeOf,b=S&&S(S(N([])));b&&b!==Q&&B.call(b,F)&&(y=b);var m=C.prototype=d.prototype=Object.create(y);function G(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function Q(s,F,U,n){var c=g(t[s],t,F);if("throw"!==c.type){var o=c.arg,l=o.value;return l&&"object"==typeof l&&B.call(l,"__await")?e.resolve(l.__await).then((function(t){Q("next",t,U,n)}),(function(t){Q("throw",t,U,n)})):e.resolve(l).then((function(t){o.value=t,U(o)}),(function(t){return Q("throw",t,U,n)}))}n(c.arg)}var s;this._invoke=function(t,B){function F(){return new e((function(e,s){Q(t,B,e,s)}))}return s=s?s.then(F,F):F()}}function L(t,Q){var B=t.iterator[Q.method];if(B===e){if(Q.delegate=null,"throw"===Q.method){if(t.iterator.return&&(Q.method="return",Q.arg=e,L(t,Q),"throw"===Q.method))return a;Q.method="throw",Q.arg=new TypeError("The iterator does not provide a 'throw' method")}return a}var s=g(B,t.iterator,Q.arg);if("throw"===s.type)return Q.method="throw",Q.arg=s.arg,Q.delegate=null,a;var F=s.arg;return F?F.done?(Q[t.resultName]=F.value,Q.next=t.nextLoc,"return"!==Q.method&&(Q.method="next",Q.arg=e),Q.delegate=null,a):F:(Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,a)}function Z(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(Z,this),this.reset(!0)}function N(t){if(t){var Q=t[F];if(Q)return Q.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,U=function Q(){for(;++s<t.length;)if(B.call(t,s))return Q.value=t[s],Q.done=!1,Q;return Q.value=e,Q.done=!0,Q};return U.next=U}}return{next:R}}function R(){return{value:e,done:!0}}return u.prototype=C,c(m,"constructor",C),c(C,"constructor",u),u.displayName=c(C,n,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===u||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,c(t,n,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},G(x.prototype),c(x.prototype,U,(function(){return this})),t.AsyncIterator=x,t.async=function(e,Q,B,s,F){void 0===F&&(F=Promise);var U=new x(o(e,Q,B,s),F);return t.isGeneratorFunction(Q)?U:U.next().then((function(t){return t.done?t.value:U.next()}))},G(m),c(m,n,"Generator"),c(m,F,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var Q in t)e.push(Q);return e.reverse(),function Q(){for(;e.length;){var B=e.pop();if(B in t)return Q.value=B,Q.done=!1,Q}return Q.done=!0,Q}},t.values=N,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var Q in this)"t"===Q.charAt(0)&&B.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var Q=this;function s(B,s){return n.type="throw",n.arg=t,Q.next=B,s&&(Q.method="next",Q.arg=e),!!s}for(var F=this.tryEntries.length-1;F>=0;--F){var U=this.tryEntries[F],n=U.completion;if("root"===U.tryLoc)return s("end");if(U.tryLoc<=this.prev){var c=B.call(U,"catchLoc"),o=B.call(U,"finallyLoc");if(c&&o){if(this.prev<U.catchLoc)return s(U.catchLoc,!0);if(this.prev<U.finallyLoc)return s(U.finallyLoc)}else if(c){if(this.prev<U.catchLoc)return s(U.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return s(U.finallyLoc)}}}},abrupt:function(t,e){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var s=this.tryEntries[Q];if(s.tryLoc<=this.prev&&B.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var F=s;break}}F&&("break"===t||"continue"===t)&&F.tryLoc<=e&&e<=F.finallyLoc&&(F=null);var U=F?F.completion:{};return U.type=t,U.arg=e,F?(this.method="next",this.next=F.finallyLoc,a):this.complete(U)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),a},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var Q=this.tryEntries[e];if(Q.finallyLoc===t)return this.complete(Q.completion,Q.afterLoc),A(Q),a}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var Q=this.tryEntries[e];if(Q.tryLoc===t){var B=Q.completion;if("throw"===B.type){var s=B.arg;A(Q)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,Q,B){return this.delegate={iterator:N(t),resultName:Q,nextLoc:B},"next"===this.method&&(this.arg=e),a}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(runtime);var regenerator=runtime.exports;class Key$1{}const CACHE$1={privateKeyConstructor:null,privateKeyFromBytes:null};class BadKeyError extends Error{constructor(t){super(t instanceof Error?t.message:t),this.name="BadKeyError",t instanceof Error&&(this.cause=t,this.stack=t.stack)}}var naclFast={exports:{}},_nodeResolve_empty={},_nodeResolve_empty$1=Object.freeze({__proto__:null,default:_nodeResolve_empty}),require$$0$1=getDefaultExportFromNamespaceIfPresent$1(_nodeResolve_empty$1);!function(t){!function(t){var e=function(t){var e,Q=new Float64Array(16);if(t)for(e=0;e<t.length;e++)Q[e]=t[e];return Q},Q=function(){throw new Error("no PRNG")},B=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var F=e(),U=e([1]),n=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),o=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),I=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function r(t,e,Q,B){t[e]=Q>>24&255,t[e+1]=Q>>16&255,t[e+2]=Q>>8&255,t[e+3]=255&Q,t[e+4]=B>>24&255,t[e+5]=B>>16&255,t[e+6]=B>>8&255,t[e+7]=255&B}function i(t,e,Q,B,s){var F,U=0;for(F=0;F<s;F++)U|=t[e+F]^Q[B+F];return(1&U-1>>>8)-1}function a(t,e,Q,B){return i(t,e,Q,B,16)}function d(t,e,Q,B){return i(t,e,Q,B,32)}function u(t,e,Q,B){!function(t,e,Q,B){for(var s,F=255&B[0]|(255&B[1])<<8|(255&B[2])<<16|(255&B[3])<<24,U=255&Q[0]|(255&Q[1])<<8|(255&Q[2])<<16|(255&Q[3])<<24,n=255&Q[4]|(255&Q[5])<<8|(255&Q[6])<<16|(255&Q[7])<<24,c=255&Q[8]|(255&Q[9])<<8|(255&Q[10])<<16|(255&Q[11])<<24,o=255&Q[12]|(255&Q[13])<<8|(255&Q[14])<<16|(255&Q[15])<<24,g=255&B[4]|(255&B[5])<<8|(255&B[6])<<16|(255&B[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,I=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,r=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,i=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,a=255&B[8]|(255&B[9])<<8|(255&B[10])<<16|(255&B[11])<<24,d=255&Q[16]|(255&Q[17])<<8|(255&Q[18])<<16|(255&Q[19])<<24,u=255&Q[20]|(255&Q[21])<<8|(255&Q[22])<<16|(255&Q[23])<<24,C=255&Q[24]|(255&Q[25])<<8|(255&Q[26])<<16|(255&Q[27])<<24,y=255&Q[28]|(255&Q[29])<<8|(255&Q[30])<<16|(255&Q[31])<<24,S=255&B[12]|(255&B[13])<<8|(255&B[14])<<16|(255&B[15])<<24,b=F,m=U,G=n,x=c,L=o,Z=g,A=l,h=I,N=r,R=i,V=a,E=d,p=u,D=C,J=y,X=S,H=0;H<20;H+=2)b^=(s=(p^=(s=(N^=(s=(L^=(s=b+p|0)<<7|s>>>25)+b|0)<<9|s>>>23)+L|0)<<13|s>>>19)+N|0)<<18|s>>>14,Z^=(s=(m^=(s=(D^=(s=(R^=(s=Z+m|0)<<7|s>>>25)+Z|0)<<9|s>>>23)+R|0)<<13|s>>>19)+D|0)<<18|s>>>14,V^=(s=(A^=(s=(G^=(s=(J^=(s=V+A|0)<<7|s>>>25)+V|0)<<9|s>>>23)+J|0)<<13|s>>>19)+G|0)<<18|s>>>14,X^=(s=(E^=(s=(h^=(s=(x^=(s=X+E|0)<<7|s>>>25)+X|0)<<9|s>>>23)+x|0)<<13|s>>>19)+h|0)<<18|s>>>14,b^=(s=(x^=(s=(G^=(s=(m^=(s=b+x|0)<<7|s>>>25)+b|0)<<9|s>>>23)+m|0)<<13|s>>>19)+G|0)<<18|s>>>14,Z^=(s=(L^=(s=(h^=(s=(A^=(s=Z+L|0)<<7|s>>>25)+Z|0)<<9|s>>>23)+A|0)<<13|s>>>19)+h|0)<<18|s>>>14,V^=(s=(R^=(s=(N^=(s=(E^=(s=V+R|0)<<7|s>>>25)+V|0)<<9|s>>>23)+E|0)<<13|s>>>19)+N|0)<<18|s>>>14,X^=(s=(J^=(s=(D^=(s=(p^=(s=X+J|0)<<7|s>>>25)+X|0)<<9|s>>>23)+p|0)<<13|s>>>19)+D|0)<<18|s>>>14;b=b+F|0,m=m+U|0,G=G+n|0,x=x+c|0,L=L+o|0,Z=Z+g|0,A=A+l|0,h=h+I|0,N=N+r|0,R=R+i|0,V=V+a|0,E=E+d|0,p=p+u|0,D=D+C|0,J=J+y|0,X=X+S|0,t[0]=b>>>0&255,t[1]=b>>>8&255,t[2]=b>>>16&255,t[3]=b>>>24&255,t[4]=m>>>0&255,t[5]=m>>>8&255,t[6]=m>>>16&255,t[7]=m>>>24&255,t[8]=G>>>0&255,t[9]=G>>>8&255,t[10]=G>>>16&255,t[11]=G>>>24&255,t[12]=x>>>0&255,t[13]=x>>>8&255,t[14]=x>>>16&255,t[15]=x>>>24&255,t[16]=L>>>0&255,t[17]=L>>>8&255,t[18]=L>>>16&255,t[19]=L>>>24&255,t[20]=Z>>>0&255,t[21]=Z>>>8&255,t[22]=Z>>>16&255,t[23]=Z>>>24&255,t[24]=A>>>0&255,t[25]=A>>>8&255,t[26]=A>>>16&255,t[27]=A>>>24&255,t[28]=h>>>0&255,t[29]=h>>>8&255,t[30]=h>>>16&255,t[31]=h>>>24&255,t[32]=N>>>0&255,t[33]=N>>>8&255,t[34]=N>>>16&255,t[35]=N>>>24&255,t[36]=R>>>0&255,t[37]=R>>>8&255,t[38]=R>>>16&255,t[39]=R>>>24&255,t[40]=V>>>0&255,t[41]=V>>>8&255,t[42]=V>>>16&255,t[43]=V>>>24&255,t[44]=E>>>0&255,t[45]=E>>>8&255,t[46]=E>>>16&255,t[47]=E>>>24&255,t[48]=p>>>0&255,t[49]=p>>>8&255,t[50]=p>>>16&255,t[51]=p>>>24&255,t[52]=D>>>0&255,t[53]=D>>>8&255,t[54]=D>>>16&255,t[55]=D>>>24&255,t[56]=J>>>0&255,t[57]=J>>>8&255,t[58]=J>>>16&255,t[59]=J>>>24&255,t[60]=X>>>0&255,t[61]=X>>>8&255,t[62]=X>>>16&255,t[63]=X>>>24&255}(t,e,Q,B)}function C(t,e,Q,B){!function(t,e,Q,B){for(var s,F=255&B[0]|(255&B[1])<<8|(255&B[2])<<16|(255&B[3])<<24,U=255&Q[0]|(255&Q[1])<<8|(255&Q[2])<<16|(255&Q[3])<<24,n=255&Q[4]|(255&Q[5])<<8|(255&Q[6])<<16|(255&Q[7])<<24,c=255&Q[8]|(255&Q[9])<<8|(255&Q[10])<<16|(255&Q[11])<<24,o=255&Q[12]|(255&Q[13])<<8|(255&Q[14])<<16|(255&Q[15])<<24,g=255&B[4]|(255&B[5])<<8|(255&B[6])<<16|(255&B[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,I=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,r=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,i=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,a=255&B[8]|(255&B[9])<<8|(255&B[10])<<16|(255&B[11])<<24,d=255&Q[16]|(255&Q[17])<<8|(255&Q[18])<<16|(255&Q[19])<<24,u=255&Q[20]|(255&Q[21])<<8|(255&Q[22])<<16|(255&Q[23])<<24,C=255&Q[24]|(255&Q[25])<<8|(255&Q[26])<<16|(255&Q[27])<<24,y=255&Q[28]|(255&Q[29])<<8|(255&Q[30])<<16|(255&Q[31])<<24,S=255&B[12]|(255&B[13])<<8|(255&B[14])<<16|(255&B[15])<<24,b=0;b<20;b+=2)F^=(s=(u^=(s=(r^=(s=(o^=(s=F+u|0)<<7|s>>>25)+F|0)<<9|s>>>23)+o|0)<<13|s>>>19)+r|0)<<18|s>>>14,g^=(s=(U^=(s=(C^=(s=(i^=(s=g+U|0)<<7|s>>>25)+g|0)<<9|s>>>23)+i|0)<<13|s>>>19)+C|0)<<18|s>>>14,a^=(s=(l^=(s=(n^=(s=(y^=(s=a+l|0)<<7|s>>>25)+a|0)<<9|s>>>23)+y|0)<<13|s>>>19)+n|0)<<18|s>>>14,S^=(s=(d^=(s=(I^=(s=(c^=(s=S+d|0)<<7|s>>>25)+S|0)<<9|s>>>23)+c|0)<<13|s>>>19)+I|0)<<18|s>>>14,F^=(s=(c^=(s=(n^=(s=(U^=(s=F+c|0)<<7|s>>>25)+F|0)<<9|s>>>23)+U|0)<<13|s>>>19)+n|0)<<18|s>>>14,g^=(s=(o^=(s=(I^=(s=(l^=(s=g+o|0)<<7|s>>>25)+g|0)<<9|s>>>23)+l|0)<<13|s>>>19)+I|0)<<18|s>>>14,a^=(s=(i^=(s=(r^=(s=(d^=(s=a+i|0)<<7|s>>>25)+a|0)<<9|s>>>23)+d|0)<<13|s>>>19)+r|0)<<18|s>>>14,S^=(s=(y^=(s=(C^=(s=(u^=(s=S+y|0)<<7|s>>>25)+S|0)<<9|s>>>23)+u|0)<<13|s>>>19)+C|0)<<18|s>>>14;t[0]=F>>>0&255,t[1]=F>>>8&255,t[2]=F>>>16&255,t[3]=F>>>24&255,t[4]=g>>>0&255,t[5]=g>>>8&255,t[6]=g>>>16&255,t[7]=g>>>24&255,t[8]=a>>>0&255,t[9]=a>>>8&255,t[10]=a>>>16&255,t[11]=a>>>24&255,t[12]=S>>>0&255,t[13]=S>>>8&255,t[14]=S>>>16&255,t[15]=S>>>24&255,t[16]=l>>>0&255,t[17]=l>>>8&255,t[18]=l>>>16&255,t[19]=l>>>24&255,t[20]=I>>>0&255,t[21]=I>>>8&255,t[22]=I>>>16&255,t[23]=I>>>24&255,t[24]=r>>>0&255,t[25]=r>>>8&255,t[26]=r>>>16&255,t[27]=r>>>24&255,t[28]=i>>>0&255,t[29]=i>>>8&255,t[30]=i>>>16&255,t[31]=i>>>24&255}(t,e,Q,B)}var y=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function S(t,e,Q,B,s,F,U){var n,c,o=new Uint8Array(16),g=new Uint8Array(64);for(c=0;c<16;c++)o[c]=0;for(c=0;c<8;c++)o[c]=F[c];for(;s>=64;){for(u(g,o,U,y),c=0;c<64;c++)t[e+c]=Q[B+c]^g[c];for(n=1,c=8;c<16;c++)n=n+(255&o[c])|0,o[c]=255&n,n>>>=8;s-=64,e+=64,B+=64}if(s>0)for(u(g,o,U,y),c=0;c<s;c++)t[e+c]=Q[B+c]^g[c];return 0}function b(t,e,Q,B,s){var F,U,n=new Uint8Array(16),c=new Uint8Array(64);for(U=0;U<16;U++)n[U]=0;for(U=0;U<8;U++)n[U]=B[U];for(;Q>=64;){for(u(c,n,s,y),U=0;U<64;U++)t[e+U]=c[U];for(F=1,U=8;U<16;U++)F=F+(255&n[U])|0,n[U]=255&F,F>>>=8;Q-=64,e+=64}if(Q>0)for(u(c,n,s,y),U=0;U<Q;U++)t[e+U]=c[U];return 0}function m(t,e,Q,B,s){var F=new Uint8Array(32);C(F,B,s,y);for(var U=new Uint8Array(8),n=0;n<8;n++)U[n]=B[n+16];return b(t,e,Q,U,F)}function G(t,e,Q,B,s,F,U){var n=new Uint8Array(32);C(n,F,U,y);for(var c=new Uint8Array(8),o=0;o<8;o++)c[o]=F[o+16];return S(t,e,Q,B,s,c,n)}var x=function(t){var e,Q,B,s,F,U,n,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,Q=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|Q<<3),B=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(Q>>>10|B<<6),s=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(B>>>7|s<<9),F=255&t[8]|(255&t[9])<<8,this.r[4]=255&(s>>>4|F<<12),this.r[5]=F>>>1&8190,U=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(F>>>14|U<<2),n=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(U>>>11|n<<5),c=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(n>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function L(t,e,Q,B,s,F){var U=new x(F);return U.update(Q,B,s),U.finish(t,e),0}function Z(t,e,Q,B,s,F){var U=new Uint8Array(16);return L(U,0,Q,B,s,F),a(t,e,U,0)}function A(t,e,Q,B,s){var F;if(Q<32)return-1;for(G(t,0,e,0,Q,B,s),L(t,16,t,32,Q-32,t),F=0;F<16;F++)t[F]=0;return 0}function h(t,e,Q,B,s){var F,U=new Uint8Array(32);if(Q<32)return-1;if(m(U,0,32,B,s),0!==Z(e,16,e,32,Q-32,U))return-1;for(G(t,0,e,0,Q,B,s),F=0;F<32;F++)t[F]=0;return 0}function N(t,e){var Q;for(Q=0;Q<16;Q++)t[Q]=0|e[Q]}function R(t){var e,Q,B=1;for(e=0;e<16;e++)Q=t[e]+B+65535,B=Math.floor(Q/65536),t[e]=Q-65536*B;t[0]+=B-1+37*(B-1)}function V(t,e,Q){for(var B,s=~(Q-1),F=0;F<16;F++)B=s&(t[F]^e[F]),t[F]^=B,e[F]^=B}function E(t,Q){var B,s,F,U=e(),n=e();for(B=0;B<16;B++)n[B]=Q[B];for(R(n),R(n),R(n),s=0;s<2;s++){for(U[0]=n[0]-65517,B=1;B<15;B++)U[B]=n[B]-65535-(U[B-1]>>16&1),U[B-1]&=65535;U[15]=n[15]-32767-(U[14]>>16&1),F=U[15]>>16&1,U[14]&=65535,V(n,U,1-F)}for(B=0;B<16;B++)t[2*B]=255&n[B],t[2*B+1]=n[B]>>8}function p(t,e){var Q=new Uint8Array(32),B=new Uint8Array(32);return E(Q,t),E(B,e),d(Q,0,B,0)}function D(t){var e=new Uint8Array(32);return E(e,t),1&e[0]}function J(t,e){var Q;for(Q=0;Q<16;Q++)t[Q]=e[2*Q]+(e[2*Q+1]<<8);t[15]&=32767}function X(t,e,Q){for(var B=0;B<16;B++)t[B]=e[B]+Q[B]}function H(t,e,Q){for(var B=0;B<16;B++)t[B]=e[B]-Q[B]}function W(t,e,Q){var B,s,F=0,U=0,n=0,c=0,o=0,g=0,l=0,I=0,r=0,i=0,a=0,d=0,u=0,C=0,y=0,S=0,b=0,m=0,G=0,x=0,L=0,Z=0,A=0,h=0,N=0,R=0,V=0,E=0,p=0,D=0,J=0,X=Q[0],H=Q[1],W=Q[2],k=Q[3],T=Q[4],f=Q[5],Y=Q[6],w=Q[7],M=Q[8],v=Q[9],z=Q[10],K=Q[11],O=Q[12],P=Q[13],j=Q[14],_=Q[15];F+=(B=e[0])*X,U+=B*H,n+=B*W,c+=B*k,o+=B*T,g+=B*f,l+=B*Y,I+=B*w,r+=B*M,i+=B*v,a+=B*z,d+=B*K,u+=B*O,C+=B*P,y+=B*j,S+=B*_,U+=(B=e[1])*X,n+=B*H,c+=B*W,o+=B*k,g+=B*T,l+=B*f,I+=B*Y,r+=B*w,i+=B*M,a+=B*v,d+=B*z,u+=B*K,C+=B*O,y+=B*P,S+=B*j,b+=B*_,n+=(B=e[2])*X,c+=B*H,o+=B*W,g+=B*k,l+=B*T,I+=B*f,r+=B*Y,i+=B*w,a+=B*M,d+=B*v,u+=B*z,C+=B*K,y+=B*O,S+=B*P,b+=B*j,m+=B*_,c+=(B=e[3])*X,o+=B*H,g+=B*W,l+=B*k,I+=B*T,r+=B*f,i+=B*Y,a+=B*w,d+=B*M,u+=B*v,C+=B*z,y+=B*K,S+=B*O,b+=B*P,m+=B*j,G+=B*_,o+=(B=e[4])*X,g+=B*H,l+=B*W,I+=B*k,r+=B*T,i+=B*f,a+=B*Y,d+=B*w,u+=B*M,C+=B*v,y+=B*z,S+=B*K,b+=B*O,m+=B*P,G+=B*j,x+=B*_,g+=(B=e[5])*X,l+=B*H,I+=B*W,r+=B*k,i+=B*T,a+=B*f,d+=B*Y,u+=B*w,C+=B*M,y+=B*v,S+=B*z,b+=B*K,m+=B*O,G+=B*P,x+=B*j,L+=B*_,l+=(B=e[6])*X,I+=B*H,r+=B*W,i+=B*k,a+=B*T,d+=B*f,u+=B*Y,C+=B*w,y+=B*M,S+=B*v,b+=B*z,m+=B*K,G+=B*O,x+=B*P,L+=B*j,Z+=B*_,I+=(B=e[7])*X,r+=B*H,i+=B*W,a+=B*k,d+=B*T,u+=B*f,C+=B*Y,y+=B*w,S+=B*M,b+=B*v,m+=B*z,G+=B*K,x+=B*O,L+=B*P,Z+=B*j,A+=B*_,r+=(B=e[8])*X,i+=B*H,a+=B*W,d+=B*k,u+=B*T,C+=B*f,y+=B*Y,S+=B*w,b+=B*M,m+=B*v,G+=B*z,x+=B*K,L+=B*O,Z+=B*P,A+=B*j,h+=B*_,i+=(B=e[9])*X,a+=B*H,d+=B*W,u+=B*k,C+=B*T,y+=B*f,S+=B*Y,b+=B*w,m+=B*M,G+=B*v,x+=B*z,L+=B*K,Z+=B*O,A+=B*P,h+=B*j,N+=B*_,a+=(B=e[10])*X,d+=B*H,u+=B*W,C+=B*k,y+=B*T,S+=B*f,b+=B*Y,m+=B*w,G+=B*M,x+=B*v,L+=B*z,Z+=B*K,A+=B*O,h+=B*P,N+=B*j,R+=B*_,d+=(B=e[11])*X,u+=B*H,C+=B*W,y+=B*k,S+=B*T,b+=B*f,m+=B*Y,G+=B*w,x+=B*M,L+=B*v,Z+=B*z,A+=B*K,h+=B*O,N+=B*P,R+=B*j,V+=B*_,u+=(B=e[12])*X,C+=B*H,y+=B*W,S+=B*k,b+=B*T,m+=B*f,G+=B*Y,x+=B*w,L+=B*M,Z+=B*v,A+=B*z,h+=B*K,N+=B*O,R+=B*P,V+=B*j,E+=B*_,C+=(B=e[13])*X,y+=B*H,S+=B*W,b+=B*k,m+=B*T,G+=B*f,x+=B*Y,L+=B*w,Z+=B*M,A+=B*v,h+=B*z,N+=B*K,R+=B*O,V+=B*P,E+=B*j,p+=B*_,y+=(B=e[14])*X,S+=B*H,b+=B*W,m+=B*k,G+=B*T,x+=B*f,L+=B*Y,Z+=B*w,A+=B*M,h+=B*v,N+=B*z,R+=B*K,V+=B*O,E+=B*P,p+=B*j,D+=B*_,S+=(B=e[15])*X,U+=38*(m+=B*W),n+=38*(G+=B*k),c+=38*(x+=B*T),o+=38*(L+=B*f),g+=38*(Z+=B*Y),l+=38*(A+=B*w),I+=38*(h+=B*M),r+=38*(N+=B*v),i+=38*(R+=B*z),a+=38*(V+=B*K),d+=38*(E+=B*O),u+=38*(p+=B*P),C+=38*(D+=B*j),y+=38*(J+=B*_),F=(B=(F+=38*(b+=B*H))+(s=1)+65535)-65536*(s=Math.floor(B/65536)),U=(B=U+s+65535)-65536*(s=Math.floor(B/65536)),n=(B=n+s+65535)-65536*(s=Math.floor(B/65536)),c=(B=c+s+65535)-65536*(s=Math.floor(B/65536)),o=(B=o+s+65535)-65536*(s=Math.floor(B/65536)),g=(B=g+s+65535)-65536*(s=Math.floor(B/65536)),l=(B=l+s+65535)-65536*(s=Math.floor(B/65536)),I=(B=I+s+65535)-65536*(s=Math.floor(B/65536)),r=(B=r+s+65535)-65536*(s=Math.floor(B/65536)),i=(B=i+s+65535)-65536*(s=Math.floor(B/65536)),a=(B=a+s+65535)-65536*(s=Math.floor(B/65536)),d=(B=d+s+65535)-65536*(s=Math.floor(B/65536)),u=(B=u+s+65535)-65536*(s=Math.floor(B/65536)),C=(B=C+s+65535)-65536*(s=Math.floor(B/65536)),y=(B=y+s+65535)-65536*(s=Math.floor(B/65536)),S=(B=S+s+65535)-65536*(s=Math.floor(B/65536)),F=(B=(F+=s-1+37*(s-1))+(s=1)+65535)-65536*(s=Math.floor(B/65536)),U=(B=U+s+65535)-65536*(s=Math.floor(B/65536)),n=(B=n+s+65535)-65536*(s=Math.floor(B/65536)),c=(B=c+s+65535)-65536*(s=Math.floor(B/65536)),o=(B=o+s+65535)-65536*(s=Math.floor(B/65536)),g=(B=g+s+65535)-65536*(s=Math.floor(B/65536)),l=(B=l+s+65535)-65536*(s=Math.floor(B/65536)),I=(B=I+s+65535)-65536*(s=Math.floor(B/65536)),r=(B=r+s+65535)-65536*(s=Math.floor(B/65536)),i=(B=i+s+65535)-65536*(s=Math.floor(B/65536)),a=(B=a+s+65535)-65536*(s=Math.floor(B/65536)),d=(B=d+s+65535)-65536*(s=Math.floor(B/65536)),u=(B=u+s+65535)-65536*(s=Math.floor(B/65536)),C=(B=C+s+65535)-65536*(s=Math.floor(B/65536)),y=(B=y+s+65535)-65536*(s=Math.floor(B/65536)),S=(B=S+s+65535)-65536*(s=Math.floor(B/65536)),F+=s-1+37*(s-1),t[0]=F,t[1]=U,t[2]=n,t[3]=c,t[4]=o,t[5]=g,t[6]=l,t[7]=I,t[8]=r,t[9]=i,t[10]=a,t[11]=d,t[12]=u,t[13]=C,t[14]=y,t[15]=S}function k(t,e){W(t,e,e)}function T(t,Q){var B,s=e();for(B=0;B<16;B++)s[B]=Q[B];for(B=253;B>=0;B--)k(s,s),2!==B&&4!==B&&W(s,s,Q);for(B=0;B<16;B++)t[B]=s[B]}function f(t,Q){var B,s=e();for(B=0;B<16;B++)s[B]=Q[B];for(B=250;B>=0;B--)k(s,s),1!==B&&W(s,s,Q);for(B=0;B<16;B++)t[B]=s[B]}function Y(t,Q,B){var s,F,U=new Uint8Array(32),c=new Float64Array(80),o=e(),g=e(),l=e(),I=e(),r=e(),i=e();for(F=0;F<31;F++)U[F]=Q[F];for(U[31]=127&Q[31]|64,U[0]&=248,J(c,B),F=0;F<16;F++)g[F]=c[F],I[F]=o[F]=l[F]=0;for(o[0]=I[0]=1,F=254;F>=0;--F)V(o,g,s=U[F>>>3]>>>(7&F)&1),V(l,I,s),X(r,o,l),H(o,o,l),X(l,g,I),H(g,g,I),k(I,r),k(i,o),W(o,l,o),W(l,g,r),X(r,o,l),H(o,o,l),k(g,o),H(l,I,i),W(o,l,n),X(o,o,I),W(l,l,o),W(o,I,i),W(I,g,c),k(g,r),V(o,g,s),V(l,I,s);for(F=0;F<16;F++)c[F+16]=o[F],c[F+32]=l[F],c[F+48]=g[F],c[F+64]=I[F];var a=c.subarray(32),d=c.subarray(16);return T(a,a),W(d,d,a),E(t,d),0}function w(t,e){return Y(t,e,s)}function M(t,e){return Q(e,32),w(t,e)}function v(t,e,Q){var s=new Uint8Array(32);return Y(s,Q,e),C(t,B,s,y)}x.prototype.blocks=function(t,e,Q){for(var B,s,F,U,n,c,o,g,l,I,r,i,a,d,u,C,y,S,b,m=this.fin?0:2048,G=this.h[0],x=this.h[1],L=this.h[2],Z=this.h[3],A=this.h[4],h=this.h[5],N=this.h[6],R=this.h[7],V=this.h[8],E=this.h[9],p=this.r[0],D=this.r[1],J=this.r[2],X=this.r[3],H=this.r[4],W=this.r[5],k=this.r[6],T=this.r[7],f=this.r[8],Y=this.r[9];Q>=16;)I=l=0,I+=(G+=8191&(B=255&t[e+0]|(255&t[e+1])<<8))*p,I+=(x+=8191&(B>>>13|(s=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*Y),I+=(L+=8191&(s>>>10|(F=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*f),I+=(Z+=8191&(F>>>7|(U=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*T),l=(I+=(A+=8191&(U>>>4|(n=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*k))>>>13,I&=8191,I+=(h+=n>>>1&8191)*(5*W),I+=(N+=8191&(n>>>14|(c=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*H),I+=(R+=8191&(c>>>11|(o=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*X),I+=(V+=8191&(o>>>8|(g=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*J),r=l+=(I+=(E+=g>>>5|m)*(5*D))>>>13,r+=G*D,r+=x*p,r+=L*(5*Y),r+=Z*(5*f),l=(r+=A*(5*T))>>>13,r&=8191,r+=h*(5*k),r+=N*(5*W),r+=R*(5*H),r+=V*(5*X),l+=(r+=E*(5*J))>>>13,r&=8191,i=l,i+=G*J,i+=x*D,i+=L*p,i+=Z*(5*Y),l=(i+=A*(5*f))>>>13,i&=8191,i+=h*(5*T),i+=N*(5*k),i+=R*(5*W),i+=V*(5*H),a=l+=(i+=E*(5*X))>>>13,a+=G*X,a+=x*J,a+=L*D,a+=Z*p,l=(a+=A*(5*Y))>>>13,a&=8191,a+=h*(5*f),a+=N*(5*T),a+=R*(5*k),a+=V*(5*W),d=l+=(a+=E*(5*H))>>>13,d+=G*H,d+=x*X,d+=L*J,d+=Z*D,l=(d+=A*p)>>>13,d&=8191,d+=h*(5*Y),d+=N*(5*f),d+=R*(5*T),d+=V*(5*k),u=l+=(d+=E*(5*W))>>>13,u+=G*W,u+=x*H,u+=L*X,u+=Z*J,l=(u+=A*D)>>>13,u&=8191,u+=h*p,u+=N*(5*Y),u+=R*(5*f),u+=V*(5*T),C=l+=(u+=E*(5*k))>>>13,C+=G*k,C+=x*W,C+=L*H,C+=Z*X,l=(C+=A*J)>>>13,C&=8191,C+=h*D,C+=N*p,C+=R*(5*Y),C+=V*(5*f),y=l+=(C+=E*(5*T))>>>13,y+=G*T,y+=x*k,y+=L*W,y+=Z*H,l=(y+=A*X)>>>13,y&=8191,y+=h*J,y+=N*D,y+=R*p,y+=V*(5*Y),S=l+=(y+=E*(5*f))>>>13,S+=G*f,S+=x*T,S+=L*k,S+=Z*W,l=(S+=A*H)>>>13,S&=8191,S+=h*X,S+=N*J,S+=R*D,S+=V*p,b=l+=(S+=E*(5*Y))>>>13,b+=G*Y,b+=x*f,b+=L*T,b+=Z*k,l=(b+=A*W)>>>13,b&=8191,b+=h*H,b+=N*X,b+=R*J,b+=V*D,G=I=8191&(l=(l=((l+=(b+=E*p)>>>13)<<2)+l|0)+(I&=8191)|0),x=r+=l>>>=13,L=i&=8191,Z=a&=8191,A=d&=8191,h=u&=8191,N=C&=8191,R=y&=8191,V=S&=8191,E=b&=8191,e+=16,Q-=16;this.h[0]=G,this.h[1]=x,this.h[2]=L,this.h[3]=Z,this.h[4]=A,this.h[5]=h,this.h[6]=N,this.h[7]=R,this.h[8]=V,this.h[9]=E},x.prototype.finish=function(t,e){var Q,B,s,F,U=new Uint16Array(10);if(this.leftover){for(F=this.leftover,this.buffer[F++]=1;F<16;F++)this.buffer[F]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(Q=this.h[1]>>>13,this.h[1]&=8191,F=2;F<10;F++)this.h[F]+=Q,Q=this.h[F]>>>13,this.h[F]&=8191;for(this.h[0]+=5*Q,Q=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=Q,Q=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=Q,U[0]=this.h[0]+5,Q=U[0]>>>13,U[0]&=8191,F=1;F<10;F++)U[F]=this.h[F]+Q,Q=U[F]>>>13,U[F]&=8191;for(U[9]-=8192,B=(1^Q)-1,F=0;F<10;F++)U[F]&=B;for(B=~B,F=0;F<10;F++)this.h[F]=this.h[F]&B|U[F];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),s=this.h[0]+this.pad[0],this.h[0]=65535&s,F=1;F<8;F++)s=(this.h[F]+this.pad[F]|0)+(s>>>16)|0,this.h[F]=65535&s;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},x.prototype.update=function(t,e,Q){var B,s;if(this.leftover){for((s=16-this.leftover)>Q&&(s=Q),B=0;B<s;B++)this.buffer[this.leftover+B]=t[e+B];if(Q-=s,e+=s,this.leftover+=s,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(Q>=16&&(s=Q-Q%16,this.blocks(t,e,s),e+=s,Q-=s),Q){for(B=0;B<Q;B++)this.buffer[this.leftover+B]=t[e+B];this.leftover+=Q}};var z=A,K=h;var O=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function P(t,e,Q,B){for(var s,F,U,n,c,o,g,l,I,r,i,a,d,u,C,y,S,b,m,G,x,L,Z,A,h,N,R=new Int32Array(16),V=new Int32Array(16),E=t[0],p=t[1],D=t[2],J=t[3],X=t[4],H=t[5],W=t[6],k=t[7],T=e[0],f=e[1],Y=e[2],w=e[3],M=e[4],v=e[5],z=e[6],K=e[7],P=0;B>=128;){for(m=0;m<16;m++)G=8*m+P,R[m]=Q[G+0]<<24|Q[G+1]<<16|Q[G+2]<<8|Q[G+3],V[m]=Q[G+4]<<24|Q[G+5]<<16|Q[G+6]<<8|Q[G+7];for(m=0;m<80;m++)if(s=E,F=p,U=D,n=J,c=X,o=H,g=W,k,I=T,r=f,i=Y,a=w,d=M,u=v,C=z,K,Z=65535&(L=K),A=L>>>16,h=65535&(x=k),N=x>>>16,Z+=65535&(L=(M>>>14|X<<18)^(M>>>18|X<<14)^(X>>>9|M<<23)),A+=L>>>16,h+=65535&(x=(X>>>14|M<<18)^(X>>>18|M<<14)^(M>>>9|X<<23)),N+=x>>>16,Z+=65535&(L=M&v^~M&z),A+=L>>>16,h+=65535&(x=X&H^~X&W),N+=x>>>16,Z+=65535&(L=O[2*m+1]),A+=L>>>16,h+=65535&(x=O[2*m]),N+=x>>>16,x=R[m%16],A+=(L=V[m%16])>>>16,h+=65535&x,N+=x>>>16,h+=(A+=(Z+=65535&L)>>>16)>>>16,Z=65535&(L=b=65535&Z|A<<16),A=L>>>16,h=65535&(x=S=65535&h|(N+=h>>>16)<<16),N=x>>>16,Z+=65535&(L=(T>>>28|E<<4)^(E>>>2|T<<30)^(E>>>7|T<<25)),A+=L>>>16,h+=65535&(x=(E>>>28|T<<4)^(T>>>2|E<<30)^(T>>>7|E<<25)),N+=x>>>16,A+=(L=T&f^T&Y^f&Y)>>>16,h+=65535&(x=E&p^E&D^p&D),N+=x>>>16,l=65535&(h+=(A+=(Z+=65535&L)>>>16)>>>16)|(N+=h>>>16)<<16,y=65535&Z|A<<16,Z=65535&(L=a),A=L>>>16,h=65535&(x=n),N=x>>>16,A+=(L=b)>>>16,h+=65535&(x=S),N+=x>>>16,p=s,D=F,J=U,X=n=65535&(h+=(A+=(Z+=65535&L)>>>16)>>>16)|(N+=h>>>16)<<16,H=c,W=o,k=g,E=l,f=I,Y=r,w=i,M=a=65535&Z|A<<16,v=d,z=u,K=C,T=y,m%16==15)for(G=0;G<16;G++)x=R[G],Z=65535&(L=V[G]),A=L>>>16,h=65535&x,N=x>>>16,x=R[(G+9)%16],Z+=65535&(L=V[(G+9)%16]),A+=L>>>16,h+=65535&x,N+=x>>>16,S=R[(G+1)%16],Z+=65535&(L=((b=V[(G+1)%16])>>>1|S<<31)^(b>>>8|S<<24)^(b>>>7|S<<25)),A+=L>>>16,h+=65535&(x=(S>>>1|b<<31)^(S>>>8|b<<24)^S>>>7),N+=x>>>16,S=R[(G+14)%16],A+=(L=((b=V[(G+14)%16])>>>19|S<<13)^(S>>>29|b<<3)^(b>>>6|S<<26))>>>16,h+=65535&(x=(S>>>19|b<<13)^(b>>>29|S<<3)^S>>>6),N+=x>>>16,N+=(h+=(A+=(Z+=65535&L)>>>16)>>>16)>>>16,R[G]=65535&h|N<<16,V[G]=65535&Z|A<<16;Z=65535&(L=T),A=L>>>16,h=65535&(x=E),N=x>>>16,x=t[0],A+=(L=e[0])>>>16,h+=65535&x,N+=x>>>16,N+=(h+=(A+=(Z+=65535&L)>>>16)>>>16)>>>16,t[0]=E=65535&h|N<<16,e[0]=T=65535&Z|A<<16,Z=65535&(L=f),A=L>>>16,h=65535&(x=p),N=x>>>16,x=t[1],A+=(L=e[1])>>>16,h+=65535&x,N+=x>>>16,N+=(h+=(A+=(Z+=65535&L)>>>16)>>>16)>>>16,t[1]=p=65535&h|N<<16,e[1]=f=65535&Z|A<<16,Z=65535&(L=Y),A=L>>>16,h=65535&(x=D),N=x>>>16,x=t[2],A+=(L=e[2])>>>16,h+=65535&x,N+=x>>>16,N+=(h+=(A+=(Z+=65535&L)>>>16)>>>16)>>>16,t[2]=D=65535&h|N<<16,e[2]=Y=65535&Z|A<<16,Z=65535&(L=w),A=L>>>16,h=65535&(x=J),N=x>>>16,x=t[3],A+=(L=e[3])>>>16,h+=65535&x,N+=x>>>16,N+=(h+=(A+=(Z+=65535&L)>>>16)>>>16)>>>16,t[3]=J=65535&h|N<<16,e[3]=w=65535&Z|A<<16,Z=65535&(L=M),A=L>>>16,h=65535&(x=X),N=x>>>16,x=t[4],A+=(L=e[4])>>>16,h+=65535&x,N+=x>>>16,N+=(h+=(A+=(Z+=65535&L)>>>16)>>>16)>>>16,t[4]=X=65535&h|N<<16,e[4]=M=65535&Z|A<<16,Z=65535&(L=v),A=L>>>16,h=65535&(x=H),N=x>>>16,x=t[5],A+=(L=e[5])>>>16,h+=65535&x,N+=x>>>16,N+=(h+=(A+=(Z+=65535&L)>>>16)>>>16)>>>16,t[5]=H=65535&h|N<<16,e[5]=v=65535&Z|A<<16,Z=65535&(L=z),A=L>>>16,h=65535&(x=W),N=x>>>16,x=t[6],A+=(L=e[6])>>>16,h+=65535&x,N+=x>>>16,N+=(h+=(A+=(Z+=65535&L)>>>16)>>>16)>>>16,t[6]=W=65535&h|N<<16,e[6]=z=65535&Z|A<<16,Z=65535&(L=K),A=L>>>16,h=65535&(x=k),N=x>>>16,x=t[7],A+=(L=e[7])>>>16,h+=65535&x,N+=x>>>16,N+=(h+=(A+=(Z+=65535&L)>>>16)>>>16)>>>16,t[7]=k=65535&h|N<<16,e[7]=K=65535&Z|A<<16,P+=128,B-=128}return B}function j(t,e,Q){var B,s=new Int32Array(8),F=new Int32Array(8),U=new Uint8Array(256),n=Q;for(s[0]=1779033703,s[1]=3144134277,s[2]=1013904242,s[3]=2773480762,s[4]=1359893119,s[5]=2600822924,s[6]=528734635,s[7]=1541459225,F[0]=4089235720,F[1]=2227873595,F[2]=4271175723,F[3]=1595750129,F[4]=2917565137,F[5]=725511199,F[6]=4215389547,F[7]=327033209,P(s,F,e,Q),Q%=128,B=0;B<Q;B++)U[B]=e[n-Q+B];for(U[Q]=128,U[(Q=256-128*(Q<112?1:0))-9]=0,r(U,Q-8,n/536870912|0,n<<3),P(s,F,U,Q),B=0;B<8;B++)r(t,8*B,s[B],F[B]);return 0}function _(t,Q){var B=e(),s=e(),F=e(),U=e(),n=e(),c=e(),g=e(),l=e(),I=e();H(B,t[1],t[0]),H(I,Q[1],Q[0]),W(B,B,I),X(s,t[0],t[1]),X(I,Q[0],Q[1]),W(s,s,I),W(F,t[3],Q[3]),W(F,F,o),W(U,t[2],Q[2]),X(U,U,U),H(n,s,B),H(c,U,F),X(g,U,F),X(l,s,B),W(t[0],n,c),W(t[1],l,g),W(t[2],g,c),W(t[3],n,l)}function q(t,e,Q){var B;for(B=0;B<4;B++)V(t[B],e[B],Q)}function $(t,Q){var B=e(),s=e(),F=e();T(F,Q[2]),W(B,Q[0],F),W(s,Q[1],F),E(t,s),t[31]^=D(B)<<7}function tt(t,e,Q){var B,s;for(N(t[0],F),N(t[1],U),N(t[2],U),N(t[3],F),s=255;s>=0;--s)q(t,e,B=Q[s/8|0]>>(7&s)&1),_(e,t),_(t,t),q(t,e,B)}function et(t,Q){var B=[e(),e(),e(),e()];N(B[0],g),N(B[1],l),N(B[2],U),W(B[3],g,l),tt(t,B,Q)}function Qt(t,B,s){var F,U=new Uint8Array(64),n=[e(),e(),e(),e()];for(s||Q(B,32),j(U,B,32),U[0]&=248,U[31]&=127,U[31]|=64,et(n,U),$(t,n),F=0;F<32;F++)B[F+32]=t[F];return 0}var Bt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function st(t,e){var Q,B,s,F;for(B=63;B>=32;--B){for(Q=0,s=B-32,F=B-12;s<F;++s)e[s]+=Q-16*e[B]*Bt[s-(B-32)],Q=Math.floor((e[s]+128)/256),e[s]-=256*Q;e[s]+=Q,e[B]=0}for(Q=0,s=0;s<32;s++)e[s]+=Q-(e[31]>>4)*Bt[s],Q=e[s]>>8,e[s]&=255;for(s=0;s<32;s++)e[s]-=Q*Bt[s];for(B=0;B<32;B++)e[B+1]+=e[B]>>8,t[B]=255&e[B]}function Ft(t){var e,Q=new Float64Array(64);for(e=0;e<64;e++)Q[e]=t[e];for(e=0;e<64;e++)t[e]=0;st(t,Q)}function Ut(t,Q,B,s){var F,U,n=new Uint8Array(64),c=new Uint8Array(64),o=new Uint8Array(64),g=new Float64Array(64),l=[e(),e(),e(),e()];j(n,s,32),n[0]&=248,n[31]&=127,n[31]|=64;var I=B+64;for(F=0;F<B;F++)t[64+F]=Q[F];for(F=0;F<32;F++)t[32+F]=n[32+F];for(j(o,t.subarray(32),B+32),Ft(o),et(l,o),$(t,l),F=32;F<64;F++)t[F]=s[F];for(j(c,t,B+64),Ft(c),F=0;F<64;F++)g[F]=0;for(F=0;F<32;F++)g[F]=o[F];for(F=0;F<32;F++)for(U=0;U<32;U++)g[F+U]+=c[F]*n[U];return st(t.subarray(32),g),I}function nt(t,Q,B,s){var n,o=new Uint8Array(32),g=new Uint8Array(64),l=[e(),e(),e(),e()],r=[e(),e(),e(),e()];if(B<64)return-1;if(function(t,Q){var B=e(),s=e(),n=e(),o=e(),g=e(),l=e(),r=e();return N(t[2],U),J(t[1],Q),k(n,t[1]),W(o,n,c),H(n,n,t[2]),X(o,t[2],o),k(g,o),k(l,g),W(r,l,g),W(B,r,n),W(B,B,o),f(B,B),W(B,B,n),W(B,B,o),W(B,B,o),W(t[0],B,o),k(s,t[0]),W(s,s,o),p(s,n)&&W(t[0],t[0],I),k(s,t[0]),W(s,s,o),p(s,n)?-1:(D(t[0])===Q[31]>>7&&H(t[0],F,t[0]),W(t[3],t[0],t[1]),0)}(r,s))return-1;for(n=0;n<B;n++)t[n]=Q[n];for(n=0;n<32;n++)t[n+32]=s[n];if(j(g,t,B),Ft(g),tt(l,r,g),et(r,Q.subarray(32)),_(l,r),$(o,l),B-=64,d(Q,0,o,0)){for(n=0;n<B;n++)t[n]=0;return-1}for(n=0;n<B;n++)t[n]=Q[n+64];return B}var ct=16,ot=64,gt=32,lt=64;function It(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function rt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function it(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:C,crypto_stream_xor:G,crypto_stream:m,crypto_stream_salsa20_xor:S,crypto_stream_salsa20:b,crypto_onetimeauth:L,crypto_onetimeauth_verify:Z,crypto_verify_16:a,crypto_verify_32:d,crypto_secretbox:A,crypto_secretbox_open:h,crypto_scalarmult:Y,crypto_scalarmult_base:w,crypto_box_beforenm:v,crypto_box_afternm:z,crypto_box:function(t,e,Q,B,s,F){var U=new Uint8Array(32);return v(U,s,F),z(t,e,Q,B,U)},crypto_box_open:function(t,e,Q,B,s,F){var U=new Uint8Array(32);return v(U,s,F),K(t,e,Q,B,U)},crypto_box_keypair:M,crypto_hash:j,crypto_sign:Ut,crypto_sign_keypair:Qt,crypto_sign_open:nt,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ct,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ot,crypto_sign_PUBLICKEYBYTES:gt,crypto_sign_SECRETKEYBYTES:lt,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:c,L:Bt,pack25519:E,unpack25519:J,M:W,A:X,S:k,Z:H,pow2523:f,add:_,set25519:N,modL:st,scalarmult:tt,scalarbase:et},t.randomBytes=function(t){var e=new Uint8Array(t);return Q(e,t),e},t.secretbox=function(t,e,Q){rt(t,e,Q),It(Q,e);for(var B=new Uint8Array(32+t.length),s=new Uint8Array(B.length),F=0;F<t.length;F++)B[F+32]=t[F];return A(s,B,B.length,e,Q),s.subarray(ct)},t.secretbox.open=function(t,e,Q){rt(t,e,Q),It(Q,e);for(var B=new Uint8Array(ct+t.length),s=new Uint8Array(B.length),F=0;F<t.length;F++)B[F+ct]=t[F];return B.length<32||0!==h(s,B,B.length,e,Q)?null:s.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=ct,t.scalarMult=function(t,e){if(rt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var Q=new Uint8Array(32);return Y(Q,t,e),Q},t.scalarMult.base=function(t){if(rt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return w(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,Q,B,s){var F=t.box.before(B,s);return t.secretbox(e,Q,F)},t.box.before=function(t,e){rt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var Q=new Uint8Array(32);return v(Q,t,e),Q},t.box.after=t.secretbox,t.box.open=function(e,Q,B,s){var F=t.box.before(B,s);return t.secretbox.open(e,Q,F)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return M(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(rt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return w(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(rt(t,e),e.length!==lt)throw new Error("bad secret key size");var Q=new Uint8Array(ot+t.length);return Ut(Q,t,t.length,e),Q},t.sign.open=function(t,e){if(rt(t,e),e.length!==gt)throw new Error("bad public key size");var Q=new Uint8Array(t.length),B=nt(Q,t,t.length,e);if(B<0)return null;for(var s=new Uint8Array(B),F=0;F<s.length;F++)s[F]=Q[F];return s},t.sign.detached=function(e,Q){for(var B=t.sign(e,Q),s=new Uint8Array(ot),F=0;F<s.length;F++)s[F]=B[F];return s},t.sign.detached.verify=function(t,e,Q){if(rt(t,e,Q),e.length!==ot)throw new Error("bad signature size");if(Q.length!==gt)throw new Error("bad public key size");var B,s=new Uint8Array(ot+t.length),F=new Uint8Array(ot+t.length);for(B=0;B<ot;B++)s[B]=e[B];for(B=0;B<t.length;B++)s[B+ot]=t[B];return nt(F,s,s.length,Q)>=0},t.sign.keyPair=function(){var t=new Uint8Array(gt),e=new Uint8Array(lt);return Qt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(rt(t),t.length!==lt)throw new Error("bad secret key size");for(var e=new Uint8Array(gt),Q=0;Q<e.length;Q++)e[Q]=t[32+Q];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(rt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(gt),Q=new Uint8Array(lt),B=0;B<32;B++)Q[B]=t[B];return Qt(e,Q,!0),{publicKey:e,secretKey:Q}},t.sign.publicKeyLength=gt,t.sign.secretKeyLength=lt,t.sign.seedLength=32,t.sign.signatureLength=ot,t.hash=function(t){rt(t);var e=new Uint8Array(64);return j(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return rt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===i(t,0,e,0,t.length))},t.setPRNG=function(t){Q=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG((function(t,Q){var B,s=new Uint8Array(Q);for(B=0;B<Q;B+=65536)e.getRandomValues(s.subarray(B,B+Math.min(Q-B,65536)));for(B=0;B<Q;B++)t[B]=s[B];it(s)}))}else void 0!==commonjsRequire&&(e=require$$0$1)&&e.randomBytes&&t.setPRNG((function(t,Q){var B,s=e.randomBytes(Q);for(B=0;B<Q;B++)t[B]=s[B];it(s)}))}()}(t.exports?t.exports:self.nacl=self.nacl||{})}(naclFast);var nacl=naclFast.exports;function arrayEqual$1(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;const Q=new DataView(t.buffer,t.byteOffset,t.byteLength),B=new DataView(e.buffer,e.byteOffset,e.byteLength);let s=t.byteLength;for(;s--;)if(Q.getUint8(s)!==B.getUint8(s))return!1;return!0}function arrayStartsWith(t,e){if(t.byteLength<e.byteLength)return!1;let Q=e.byteLength;for(;Q--;)if(t[Q]!==e[Q])return!1;return!0}const byteToHex$2=[];for(let t=0;t<=255;t+=1)byteToHex$2.push(t.toString(16).padStart(2,"0"));function encode$3(t){let e="";for(const Q of t)e+=byteToHex$2[Q];return e}function decode$5(t){const e=(t.startsWith("0x")?t.substring(2):t).match(/.{1,2}/gu);return new Uint8Array((null==e?[]:e).map((t=>parseInt(t,16))))}const derPrefix$3="302a300506032b6570032100",derPrefixBytes$3=decode$5(derPrefix$3);class Ed25519PublicKey extends Key$1{constructor(t){super(),this._keyData=t}get _type(){return"ED25519"}static fromBytes(t){switch(t.length){case 32:return Ed25519PublicKey.fromBytesRaw(t);case 44:return Ed25519PublicKey.fromBytesDer(t);default:throw new BadKeyError(`invalid public key length: ${t.length} bytes`)}}static fromBytesDer(t){if(44!=t.length||!arrayStartsWith(t,derPrefixBytes$3))throw new BadKeyError(`invalid public key length: ${t.length} bytes`);return new Ed25519PublicKey(t.subarray(12))}static fromBytesRaw(t){if(32!=t.length)throw new BadKeyError(`invalid public key length: ${t.length} bytes`);return new Ed25519PublicKey(t)}static fromString(t){return Ed25519PublicKey.fromBytes(decode$5(t))}verify(t,e){return nacl.sign.detached.verify(t,e,this._keyData)}toBytesDer(){const t=new Uint8Array(derPrefixBytes$3.length+32);return t.set(derPrefixBytes$3,0),t.set(this._keyData.subarray(0,32),derPrefixBytes$3.length),t}toBytesRaw(){return this._keyData.slice()}equals(t){return arrayEqual$1(this._keyData,t._keyData)}}function bytes(t){return nacl.randomBytes(t)}function bytesAsync(t){return Promise.resolve(nacl.randomBytes(t))}const derPrefix$2="302e020100300506032b657004220420",derPrefixBytes$2=decode$5(derPrefix$2);class Ed25519PrivateKey{constructor(t,e){this._keyPair=t instanceof Uint8Array?nacl.sign.keyPair.fromSeed(t):t,this._chainCode=null!=e?e:null}get _type(){return"ED25519"}static generate(){const t=bytes(64);return new Ed25519PrivateKey(nacl.sign.keyPair.fromSeed(t.subarray(0,32)),t.subarray(32))}static async generateAsync(){const t=await bytesAsync(64);return new Ed25519PrivateKey(nacl.sign.keyPair.fromSeed(t.subarray(0,32)),t.subarray(32))}static fromBytes(t){switch(t.length){case 48:return Ed25519PrivateKey.fromBytesDer(t);case 32:case 64:return Ed25519PrivateKey.fromBytesRaw(t);default:throw new BadKeyError(`invalid private key length: ${t.length} bytes`)}}static fromBytesDer(t){if(48!=t.length||!arrayStartsWith(t,derPrefixBytes$2))throw new BadKeyError(`invalid private key length: ${t.length} bytes`);const e=nacl.sign.keyPair.fromSeed(t.subarray(16));return new Ed25519PrivateKey(e)}static fromBytesRaw(t){switch(t.length){case 32:return new Ed25519PrivateKey(nacl.sign.keyPair.fromSeed(t));case 64:return new Ed25519PrivateKey(nacl.sign.keyPair.fromSecretKey(t))}throw new BadKeyError(`invalid private key length: ${t.length} bytes`)}static fromString(t){return Ed25519PrivateKey.fromBytes(decode$5(t))}static fromStringDer(t){return Ed25519PrivateKey.fromBytesDer(decode$5(t))}static fromStringRaw(t){return Ed25519PrivateKey.fromBytesRaw(decode$5(t))}get publicKey(){return new Ed25519PublicKey(this._keyPair.publicKey)}sign(t){return nacl.sign.detached(t,this._keyPair.secretKey)}toBytesDer(){const t=new Uint8Array(derPrefixBytes$2.length+32);return t.set(derPrefixBytes$2,0),t.set(this._keyPair.secretKey.subarray(0,32),derPrefixBytes$2.length),t}toBytesRaw(){return this._keyPair.secretKey.slice(0,32)}}const BadMnemonicReason=Object.freeze({BadLength:"BadLength",UnknownWords:"UnknownWords",ChecksumMismatch:"ChecksumMismatch"});class BadMnemonicError extends Error{constructor(t,e,Q){let B;switch(e){case BadMnemonicReason.BadLength:B="mnemonic is of an unexpected number of words";break;case BadMnemonicReason.ChecksumMismatch:B="checksum byte in mnemonic did not match the rest of the mnemonic";break;case BadMnemonicReason.UnknownWords:B="mnemonic contained words that are not in the standard word list";break;default:throw new Error(`unexpected value ${e.toString()} for 'reason'`)}super(`invalid mnemonic: ${B}`),void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,BadMnemonicError),this.name="BadMnemonicError",this.reason=e,this.mnemonic=t,this.unknownWordIndices=Q}}var legacyWords=["aback","abbey","abbot","abide","ablaze","able","aboard","abode","abort","abound","about","above","abroad","abrupt","absent","absorb","absurd","abuse","accent","accept","access","accord","accuse","ace","ache","aching","acid","acidic","acorn","acre","across","act","action","active","actor","actual","acute","adam","adapt","add","added","addict","adept","adhere","adjust","admire","admit","adobe","adopt","adrift","adult","adverb","advice","aerial","afar","affair","affect","afford","afghan","afield","afloat","afraid","afresh","after","again","age","agency","agenda","agent","aghast","agile","ago","agony","agree","agreed","ahead","aid","aide","aim","air","airman","airy","akin","alarm","alaska","albeit","album","ale","alert","alibi","alice","alien","alight","align","alike","alive","alkali","all","alley","allied","allow","alloy","ally","almond","almost","aloft","alone","along","aloof","aloud","alpha","alpine","also","altar","alter","always","amaze","amazon","amber","ambush","amen","amend","amid","amidst","amiss","among","amount","ample","amuse","anchor","and","andrew","anew","angel","anger","angle","angry","animal","ankle","annoy","annual","answer","anthem","any","anyhow","anyway","apart","apathy","apex","apiece","appeal","appear","apple","apply","april","apron","arab","arcade","arcane","arch","arctic","ardent","are","area","argue","arid","arise","ark","arm","armful","army","aroma","around","arouse","array","arrest","arrive","arrow","arson","art","artery","artful","artist","ascent","ash","ashen","ashore","aside","ask","asleep","aspect","assay","assent","assert","assess","asset","assign","assist","assume","assure","asthma","astute","asylum","ate","athens","atlas","atom","atomic","attach","attack","attain","attend","attic","auburn","audio","audit","august","aunt","auntie","aura","austin","author","auto","autumn","avail","avenge","avenue","avert","avid","avoid","await","awake","awaken","award","aware","awash","away","awful","awhile","axe","axes","axiom","axis","axle","aye","babe","baby","bach","back","backup","bacon","bad","badge","badly","bag","baggy","bail","bait","bake","baker","bakery","bald","ball","ballad","ballet","ballot","baltic","bamboo","ban","banal","banana","band","bang","bank","bar","barber","bare","barely","barge","bark","barley","barn","baron","barrel","barren","basalt","base","basic","basil","basin","basis","basket","bass","bat","batch","bath","baton","battle","bay","beach","beacon","beak","beam","bean","bear","beard","beast","beat","beauty","become","bed","beech","beef","beefy","beep","beer","beet","beetle","before","beg","beggar","begin","behalf","behave","behind","beige","being","belief","bell","belly","belong","below","belt","bench","bend","benign","bent","berlin","berry","berth","beset","beside","best","bestow","bet","beta","betray","better","beware","beyond","bias","biceps","bicker","bid","big","bigger","bike","bile","bill","bin","binary","bind","biopsy","birch","bird","birdie","birth","bishop","bit","bitch","bite","bitter","black","blade","blame","bland","blast","blaze","bleak","blend","bless","blew","blind","blink","blip","bliss","blitz","block","blond","blood","bloody","bloom","blot","blouse","blow","blue","bluff","blunt","blur","blush","boar","board","boast","boat","bob","bodily","body","bogus","boil","bold","bolt","bomb","bombay","bond","bone","bonn","bonnet","bonus","bony","book","boom","boost","boot","booth","booze","border","bore","borrow","bosom","boss","boston","both","bother","bottle","bottom","bought","bounce","bound","bounty","bout","bovine","bow","bowel","bowl","box","boy","boyish","brace","brain","brainy","brake","bran","branch","brand","brandy","brass","brave","bravo","brazil","breach","bread","break","breast","breath","bred","breed","breeze","brew","bribe","brick","bride","bridge","brief","bright","brim","brine","bring","brink","brisk","broad","broke","broken","bronze","brook","broom","brown","bruise","brush","brutal","brute","bubble","buck","bucket","buckle","budget","buffet","buggy","build","bulb","bulge","bulk","bulky","bull","bullet","bully","bump","bumpy","bunch","bundle","bunk","bunny","burden","bureau","burial","buried","burly","burn","burnt","burrow","burst","bury","bus","bush","bust","bustle","busy","but","butler","butt","butter","button","buy","buyer","buzz","bye","byte","cab","cabin","cable","cache","cactus","caesar","cage","cairo","cajun","cajole","cake","calf","call","caller","calm","calmly","came","camel","camera","camp","campus","can","canada","canal","canary","cancel","cancer","candid","candle","candy","cane","canine","canoe","canopy","canvas","canyon","cap","cape","car","carbon","card","care","career","caress","cargo","carl","carnal","carol","carp","carpet","carrot","carry","cart","cartel","case","cash","cask","cast","castle","casual","cat","catch","cater","cattle","caught","causal","cause","cave","cease","celery","cell","cellar","celtic","cement","censor","census","cent","cereal","chain","chair","chalk","chalky","champ","chance","change","chant","chaos","chap","chapel","charge","charm","chart","chase","chat","cheap","cheat","check","cheek","cheeky","cheer","cheery","cheese","chef","cheque","cherry","chess","chest","chew","chic","chick","chief","child","chile","chill","chilly","chin","china","chip","choice","choir","choose","chop","choppy","chord","chorus","chose","chosen","chris","chrome","chunk","chunky","church","cider","cigar","cinema","circa","circle","circus","cite","city","civic","civil","clad","claim","clammy","clan","clap","clash","clasp","class","clause","claw","clay","clean","clear","clergy","clerk","clever","click","client","cliff","climax","climb","clinch","cling","clinic","clip","cloak","clock","clone","close","closer","closet","cloth","cloud","cloudy","clout","clown","club","clue","clumsy","clung","clutch","coach","coal","coarse","coast","coat","coax","cobalt","cobra","coca","cock","cocoa","code","coffee","coffin","cohort","coil","coin","coke","cold","collar","colon","colony","colt","column","comb","combat","come","comedy","comic","commit","common","compel","comply","concur","cone","confer","congo","consul","convex","convey","convoy","cook","cool","cope","copper","copy","coral","cord","core","cork","corn","corner","corps","corpse","corpus","cortex","cosmic","cosmos","cost","costly","cotton","couch","cough","could","count","county","coup","couple","coupon","course","court","cousin","cove","cover","covert","cow","coward","cowboy","cozy","crab","crack","cradle","craft","crafty","crag","crane","crash","crate","crater","crawl","crazy","creak","cream","creamy","create","credit","creed","creek","creep","creepy","crept","crest","crew","cried","crime","crisis","crisp","critic","crook","crop","cross","crow","crowd","crown","crude","cruel","cruise","crunch","crush","crust","crux","cry","crypt","cuba","cube","cubic","cuckoo","cuff","cult","cup","curb","cure","curfew","curl","curry","curse","cursor","curve","cuss","custom","cut","cute","cycle","cyclic","cynic","czech","dad","daddy","dagger","daily","dairy","daisy","dale","dam","damage","damp","dampen","dance","danger","danish","dare","dark","darken","darn","dart","dash","data","date","david","dawn","day","dead","deadly","deaf","deal","dealer","dean","dear","death","debate","debit","debris","debt","debtor","decade","decay","decent","decide","deck","decor","decree","deduce","deed","deep","deeply","deer","defeat","defect","defend","defer","define","defy","degree","deity","delay","delete","delhi","delta","demand","demise","demo","demure","denial","denote","dense","dental","deny","depart","depend","depict","deploy","depot","depth","deputy","derive","desert","design","desire","desist","desk","detail","detect","deter","detest","detour","device","devise","devoid","devote","devour","dial","diana","diary","dice","dictum","did","die","diesel","diet","differ","dig","digest","digit","dine","dinghy","dinner","diode","dip","dire","direct","dirt","dirty","disc","disco","dish","disk","dismal","dispel","ditch","dive","divert","divide","divine","dizzy","docile","dock","doctor","dog","dogma","dole","doll","dollar","dolly","domain","dome","domino","donate","done","donkey","donor","doom","door","dorsal","dose","dot","double","doubt","dough","dour","dove","down","dozen","draft","drag","dragon","drain","drama","drank","draw","drawer","dread","dream","dreary","dress","drew","dried","drift","drill","drink","drip","drive","driver","drop","drove","drown","drug","drum","drunk","dry","dual","duck","duct","due","duel","duet","duke","dull","duly","dumb","dummy","dump","dune","dung","duress","during","dusk","dust","dusty","dutch","duty","dwarf","dwell","dyer","dying","dynamo","each","eager","eagle","ear","earl","early","earn","earth","ease","easel","easily","east","easter","easy","eat","eaten","eater","echo","eddy","eden","edge","edible","edict","edit","editor","eel","eerie","eerily","effect","effort","egg","ego","eight","eighth","eighty","either","elbow","elder","eldest","elect","eleven","elicit","elite","else","elude","elves","embark","emblem","embryo","emerge","emit","empire","employ","empty","enable","enamel","end","endure","enemy","energy","engage","engine","enjoy","enlist","enough","ensure","entail","enter","entire","entry","envoy","envy","enzyme","epic","epoch","equal","equate","equip","equity","era","erect","eric","erode","erotic","errant","error","escape","escort","essay","essex","estate","esteem","ethic","ethnic","europe","evade","eve","even","event","ever","every","evict","evil","evoke","evolve","exact","exam","exceed","excel","except","excess","excise","excite","excuse","exempt","exert","exile","exist","exit","exodus","exotic","expand","expect","expert","expire","export","expose","extend","extra","eye","eyed","fabric","face","facial","fact","factor","fade","fail","faint","fair","fairly","fairy","faith","fake","falcon","fall","false","falter","fame","family","famine","famous","fan","fancy","far","farce","fare","farm","farmer","fast","fasten","faster","fat","fatal","fate","father","fatty","fault","faulty","fauna","fear","feast","feat","fed","fee","feeble","feed","feel","feet","fell","fellow","felt","female","fence","fend","ferry","fetal","fetch","feudal","fever","few","fewer","fiasco","fiddle","field","fiend","fierce","fiery","fifth","fifty","fig","fight","figure","file","fill","filled","filler","film","filter","filth","filthy","final","finale","find","fine","finery","finger","finish","finite","fire","firm","firmly","first","fiscal","fish","fisher","fist","fit","fitful","five","fix","flag","flair","flak","flame","flank","flap","flare","flash","flask","flat","flavor","flaw","fled","flee","fleece","fleet","flesh","fleshy","flew","flick","flight","flimsy","flint","flirt","float","flock","flood","floor","floppy","flora","floral","flour","flow","flower","fluent","fluffy","fluid","flung","flurry","flush","flute","flux","fly","flyer","foal","foam","focal","focus","fog","foil","fold","folk","follow","folly","fond","fondly","font","food","fool","foot","for","forbid","force","ford","forest","forge","forget","fork","form","formal","format","former","fort","forth","forty","forum","fossil","foster","foul","found","four","fourth","fox","foyer","frail","frame","franc","france","frank","fraud","fred","free","freed","freely","freeze","french","frenzy","fresh","friar","friday","fridge","fried","friend","fright","fringe","frock","frog","from","front","frost","frosty","frown","frozen","frugal","fruit","fry","fudge","fuel","full","fully","fumes","fun","fund","funny","fur","furry","fury","fuse","fusion","fuss","fussy","futile","future","fuzzy","gadget","gain","gala","galaxy","gale","gall","galley","gallon","gallop","gamble","game","gamma","gandhi","gang","gap","garage","garden","garlic","gas","gasp","gate","gather","gauge","gaunt","gave","gaze","gear","geese","gem","gemini","gender","gene","geneva","genial","genius","genre","gentle","gently","gentry","genus","george","germ","get","ghetto","ghost","giant","gift","giggle","gill","gilt","ginger","girl","give","given","glad","glade","glance","gland","glare","glass","glassy","gleam","glee","glide","global","globe","gloom","gloomy","gloria","glory","gloss","glossy","glove","glow","glue","gnat","gnu","goal","goat","gold","golden","golf","gone","gong","goo","good","goose","gore","gorge","gory","gosh","gospel","gossip","got","gothic","govern","gown","grab","grace","grade","grail","grain","grand","grant","grape","graph","grasp","grass","grassy","grate","grave","gravel","gravy","grease","greasy","great","greece","greed","greedy","greek","green","greet","grew","grey","grid","grief","grill","grim","grin","grind","grip","grit","gritty","groan","groin","groom","groove","gross","ground","group","grove","grow","grown","growth","grudge","grunt","guard","guess","guest","guide","guild","guilt","guilty","guise","guitar","gulf","gully","gun","gunman","guru","gut","guy","gypsy","habit","hack","had","hail","hair","hairy","haiti","hale","half","hall","halt","hamlet","hammer","hand","handle","handy","hang","hangar","hanoi","happen","happy","harass","harbor","hard","harder","hardly","hare","harem","harm","harp","harry","harsh","has","hash","hassle","haste","hasten","hasty","hat","hatch","hate","haul","haunt","havana","have","haven","havoc","hawaii","hawk","hay","hazard","haze","hazel","hazy","head","heal","health","heap","hear","heard","heart","hearth","hearty","heat","heater","heaven","heavy","hebrew","heck","hectic","hedge","heel","hefty","height","heir","held","helium","helix","hell","hello","helm","helmet","help","hemp","hence","henry","her","herald","herb","herd","here","hereby","hermes","hernia","hero","heroic","heroin","hey","heyday","hick","hidden","hide","high","higher","highly","hill","him","hind","hinder","hint","hippie","hire","his","hiss","hit","hive","hoard","hoarse","hobby","hockey","hold","holder","hole","hollow","holly","holy","home","honest","honey","hood","hook","hope","horn","horrid","horror","horse","hose","host","hot","hotel","hound","hour","house","hover","how","huge","hull","human","humane","humble","humid","hung","hunger","hungry","hunt","hurdle","hurl","hurry","hurt","hush","hut","hybrid","hymn","hyphen","ice","icing","icon","idaho","idea","ideal","idiom","idiot","idle","idly","idol","ignite","ignore","ill","image","immune","impact","imply","import","impose","inca","incest","inch","income","incur","indeed","index","india","indian","indoor","induce","inept","inert","infant","infect","infer","influx","inform","inject","injure","injury","ink","inlaid","inland","inlet","inmate","inn","innate","inner","input","insane","insect","insert","inset","inside","insist","insult","insure","intact","intake","intend","inter","into","invade","invent","invest","invite","invoke","inward","iowa","iran","iraq","irish","iron","ironic","irony","isaac","isabel","island","isle","israel","issue","italy","itch","item","itself","ivan","ivory","jack","jacket","jacob","jade","jaguar","jail","james","jane","japan","jargon","java","jaw","jazz","jeep","jelly","jerky","jest","jet","jewel","jewish","jim","job","jock","jockey","joe","john","join","joint","joke","jolly","jolt","jordan","joseph","joy","joyful","joyous","judge","judy","juice","juicy","july","jumble","jumbo","jump","june","jungle","junior","junk","junta","jury","just","kansas","karate","karl","keel","keen","keep","keeper","kenya","kept","kernel","kettle","key","khaki","kick","kid","kidnap","kidney","kill","killer","kin","kind","kindly","king","kiss","kite","kitten","knack","knee","kneel","knew","knife","knight","knit","knob","knock","knot","know","known","koran","korea","kuwait","label","lace","lack","lad","ladder","laden","lady","lagoon","laity","lake","lamb","lame","lamp","lance","land","lane","lap","lapse","large","larval","laser","last","latch","late","lately","latent","later","latest","latin","latter","laugh","launch","lava","lavish","law","lawful","lawn","lawyer","lay","layer","layman","lazy","lead","leader","leaf","leafy","league","leak","leaky","lean","leap","learn","lease","leash","least","leave","led","ledge","left","leg","legacy","legal","legend","legion","lemon","lend","length","lens","lent","leo","leper","lesion","less","lessen","lesser","lesson","lest","let","lethal","letter","level","lever","levy","lewis","liable","liar","libel","libya","lice","lick","lid","lie","lied","lier","life","lift","light","like","likely","limb","lime","limit","limp","line","linear","linen","linger","link","lint","lion","lip","liquid","liquor","list","listen","lit","live","lively","liver","liz","lizard","load","loaf","loan","lobby","lobe","local","locate","lock","locus","lodge","loft","lofty","log","logic","logo","london","lone","lonely","long","longer","look","loop","loose","loosen","loot","lord","lorry","lose","loss","lost","lot","lotion","lotus","loud","loudly","lounge","lousy","love","lovely","lover","low","lower","lowest","loyal","lucid","luck","lucky","lucy","lull","lump","lumpy","lunacy","lunar","lunch","lung","lure","lurid","lush","lust","lute","luther","luxury","lying","lymph","lynch","lyric","macho","macro","mad","madam","made","mafia","magic","magma","magnet","magnum","magpie","maid","maiden","mail","main","mainly","major","make","maker","male","malice","mall","malt","mammal","manage","mane","mania","manic","manner","manor","mantle","manual","manure","many","map","maple","marble","march","mare","margin","maria","marina","mark","market","marry","mars","marsh","martin","martyr","mary","mask","mason","mass","mast","master","mat","match","mate","matrix","matter","mature","maxim","may","maybe","mayor","maze","mead","meadow","meal","mean","meant","meat","medal","media","median","medic","medium","meet","mellow","melody","melon","melt","member","memo","memory","menace","mend","mental","mentor","menu","mercy","mere","merely","merge","merger","merit","merry","mesh","mess","messy","met","metal","meter","method","methyl","metric","metro","mexico","miami","mickey","mid","midday","middle","midst","midway","might","mighty","mild","mildew","mile","milk","milky","mill","mimic","mince","mind","mine","mini","mink","minor","mint","minus","minute","mire","mirror","mirth","misery","miss","mist","misty","mite","mix","moan","moat","mob","mobile","mock","mode","model","modem","modern","modest","modify","module","moist","molar","mold","mole","molten","moment","monday","money","monk","monkey","month","mood","moody","moon","moor","moral","morale","morbid","more","morgue","mortal","mortar","mosaic","moscow","moses","mosque","moss","most","mostly","moth","mother","motion","motive","motor","mount","mourn","mouse","mouth","move","movie","mrs","much","muck","mucus","mud","muddle","muddy","mule","mummy","munich","murder","murky","murmur","muscle","museum","music","mussel","must","mutant","mute","mutiny","mutter","mutton","mutual","muzzle","myopic","myriad","myself","mystic","myth","nadir","nail","naked","name","namely","nape","napkin","naples","narrow","nasal","nasty","nathan","nation","native","nature","nausea","naval","nave","navy","near","nearer","nearly","neat","neatly","neck","need","needle","needy","negate","neon","nepal","nephew","nerve","nest","net","neural","never","newly","next","nice","nicely","niche","nickel","niece","night","nile","nimble","nine","ninety","ninth","nobel","noble","nobody","node","noise","noisy","none","noon","nor","norm","normal","north","norway","nose","nosy","not","note","notice","notify","notion","noun","novel","novice","now","nozzle","null","numb","number","nurse","nut","nylon","nymph","oak","oar","oasis","oath","obese","obey","object","oblige","oboe","obtain","obtuse","occult","occupy","occur","ocean","octave","odd","off","offend","offer","office","offset","often","ohio","oil","oily","okay","old","older","oldest","olive","omega","omen","omit","once","one","onion","only","onset","onto","onus","onward","opaque","open","openly","opera","opium","oppose","optic","option","oracle","oral","orange","orbit","orchid","ordeal","order","organ","orgasm","orient","origin","ornate","orphan","oscar","other","otter","ought","ounce","our","out","outer","output","outset","oval","oven","over","overt","owe","owing","owl","own","owner","oxford","oxide","oxygen","oyster","ozone","pace","pack","packet","pact","pad","paddle","paddy","pagan","page","paid","pain","paint","pair","palace","pale","palm","pan","panama","panel","panic","papa","papal","paper","parade","parcel","pardon","parent","paris","parish","park","parody","parrot","part","partly","party","pascal","pass","past","paste","pastel","pastor","pastry","pat","patch","patent","path","patio","patrol","patron","paul","pause","pave","paw","pawn","pay","peace","peach","peak","pear","pearl","pedal","peel","peer","peking","pelvic","pelvis","pen","penal","pence","pencil","penny","people","pepper","per","perch","peril","period","perish","permit","person","peru","pest","pet","peter","petite","petrol","petty","phase","philip","phone","photo","phrase","piano","pick","picket","picnic","pie","piece","pier","pierce","piety","pig","pigeon","piggy","pike","pile","pill","pillar","pillow","pilot","pin","pinch","pine","pink","pint","pious","pipe","pirate","piss","pistol","piston","pit","pitch","pity","pivot","pixel","pizza","place","placid","plague","plain","plan","plane","planet","plank","plant","plasma","plate","play","player","plea","plead","please","pledge","plenty","plight","plot","plough","ploy","plug","plum","plump","plunge","plural","plus","plush","pocket","poem","poet","poetic","poetry","point","poison","poland","polar","pole","police","policy","polish","polite","poll","pollen","polo","pond","ponder","pony","pool","poor","poorly","pop","poppy","pore","pork","port","portal","pose","posh","post","postal","pot","potato","potent","pouch","pound","pour","powder","power","praise","pray","prayer","preach","prefer","prefix","press","pretty","price","pride","priest","primal","prime","prince","print","prior","prism","prison","privy","prize","probe","profit","prompt","prone","proof","propel","proper","prose","proton","proud","prove","proven","proxy","prune","pry","psalm","pseudo","psyche","pub","public","puff","pull","pulp","pulpit","pulsar","pulse","pump","punch","punish","punk","pupil","puppet","puppy","pure","purely","purge","purify","purple","purse","pursue","push","pushy","put","putt","puzzle","quaint","quake","quarry","quart","quartz","quebec","queen","queer","query","quest","queue","quick","quid","quiet","quilt","quirk","quit","quite","quiver","quiz","quota","quote","rabbit","race","racial","racism","rack","racket","radar","radio","radish","radius","raffle","raft","rage","raid","rail","rain","rainy","raise","rake","rally","ramp","random","range","rank","ransom","rape","rapid","rare","rarely","rarity","rash","rat","rate","rather","ratify","ratio","rattle","rave","raven","raw","ray","razor","reach","react","read","reader","ready","real","really","realm","reap","rear","reason","rebel","recall","recent","recess","recipe","reckon","record","recoup","rector","red","redeem","redo","reduce","reed","reef","reek","refer","reform","refuge","refuse","regal","regard","regent","regime","region","regret","reign","reject","relate","relax","relay","relic","relief","relish","rely","remain","remark","remedy","remind","remit","remote","remove","renal","render","rent","rental","repair","repeal","repeat","repent","reply","report","rescue","resent","reside","resign","resin","resist","resort","rest","result","resume","retail","retain","retina","retire","return","reveal","review","revise","revive","revolt","reward","rex","rhine","rhino","rhyme","rhythm","ribbon","rice","rich","rick","rid","ride","rider","ridge","rife","rifle","rift","right","rigid","rile","rim","ring","rinse","riot","ripe","ripen","ripple","rise","risk","risky","rite","ritual","ritz","rival","river","road","roar","roast","rob","robe","robert","robin","robot","robust","rock","rocket","rocky","rod","rode","rodent","rogue","role","roll","roman","rome","roof","room","root","rope","rose","rosy","rot","rotate","rotor","rotten","rouge","rough","round","route","rover","row","royal","rub","rubber","rubble","ruby","rudder","rude","rug","rugby","ruin","rule","ruler","rumble","rump","run","rune","rung","runway","rural","rush","russia","rust","rustic","rusty","sack","sacred","sad","saddle","sadism","sadly","safari","safe","safely","safer","safety","saga","sage","sahara","said","sail","sailor","saint","sake","salad","salary","sale","saline","saliva","salmon","saloon","salt","salty","salute","sam","same","sample","sand","sandy","sane","sash","satin","satire","saturn","sauce","saucer","saudi","sauna","savage","save","saw","say","scale","scalp","scan","scant","scar","scarce","scare","scarf","scary","scene","scenic","scent","school","scold","scope","score","scorn","scotch","scott","scout","scrap","scrape","scream","screen","screw","script","scroll","scrub","scum","sea","seal","seam","seaman","search","season","seat","second","secret","sect","sector","secure","see","seed","seeing","seek","seem","seize","seldom","select","self","sell","seller","semi","senate","send","senile","senior","sense","sensor","sent","sentry","seoul","sequel","serene","serial","series","sermon","serum","serve","server","set","settle","seven","severe","sew","sewage","shabby","shade","shadow","shady","shaft","shaggy","shah","shake","shaky","shall","sham","shame","shape","share","shark","sharp","shawl","she","shear","sheen","sheep","sheer","sheet","shelf","shell","sherry","shield","shift","shine","shiny","ship","shire","shirk","shirt","shiver","shock","shoe","shook","shoot","shop","shore","short","shot","should","shout","show","shower","shrank","shrewd","shrill","shrimp","shrine","shrink","shrub","shrug","shut","shy","shyly","sick","side","siege","sigh","sight","sigma","sign","signal","silent","silk","silken","silky","sill","silly","silo","silver","simple","simply","since","sinful","sing","singer","single","sink","sir","sire","siren","sister","sit","site","sitter","six","sixth","sixty","size","sketch","skill","skin","skinny","skip","skirt","skull","sky","slab","slack","slain","slam","slang","slap","slat","slate","slave","sleek","sleep","sleepy","sleeve","slice","slick","slid","slide","slight","slim","slimy","sling","slip","slit","slogan","slope","sloppy","slot","slow","slowly","slug","slum","slump","smack","small","smart","smash","smear","smell","smelly","smelt","smile","smite","smoke","smoky","smooth","smug","snack","snail","snake","snap","snatch","sneak","snow","snowy","snug","soak","soap","sober","soccer","social","sock","socket","socks","soda","sodden","sodium","sofa","soft","soften","softly","soggy","soil","solar","sold","sole","solely","solemn","solid","solo","solve","some","son","sonar","sonata","song","sonic","sony","soon","sooner","soot","soothe","sordid","sore","sorrow","sorry","sort","soul","sound","soup","sour","source","soviet","sow","space","spade","spain","span","spare","spark","sparse","spasm","spat","spate","speak","spear","speech","speed","speedy","spell","spend","sphere","spice","spicy","spider","spiky","spill","spin","spinal","spine","spiral","spirit","spit","spite","splash","split","spoil","spoke","sponge","spoon","sport","spot","spouse","spray","spread","spree","spring","sprint","spur","squad","square","squash","squat","squid","stab","stable","stack","staff","stage","stain","stair","stairs","stake","stale","stall","stamp","stance","stand","staple","star","starch","stare","stark","start","starve","state","static","statue","status","stay","stead","steady","steak","steal","steam","steel","steep","steer","stem","stench","step","stereo","stern","stew","stick","sticky","stiff","stifle","stigma","still","sting","stint","stir","stitch","stock","stocky","stone","stony","stool","stop","store","storm","stormy","story","stout","stove","stow","strain","strait","strand","strap","strata","straw","stray","streak","stream","street","stress","strict","stride","strife","strike","string","strip","stripe","strive","stroke","stroll","strong","stud","studio","study","stuff","stuffy","stunt","stupid","sturdy","style","submit","subtle","subtly","suburb","such","sudden","sue","suez","suffer","sugar","suit","suite","suitor","sullen","sultan","sum","summer","summit","summon","sun","sunday","sunny","sunset","super","superb","supper","supple","supply","sure","surely","surf","surge","survey","suture","swamp","swan","swap","swarm","sway","swear","sweat","sweaty","sweden","sweep","sweet","swell","swift","swim","swine","swing","swirl","swiss","switch","sword","swore","sydney","symbol","synod","syntax","syria","syrup","system","table","tablet","taboo","tacit","tackle","tact","tactic","tail","tailor","taiwan","take","tale","talent","talk","tall","tally","tame","tampa","tan","tandem","tangle","tank","tap","tape","target","tariff","tarp","tart","tarzan","task","taste","tasty","tattoo","taurus","taut","tavern","tax","taxi","tea","teach","teak","team","tear","tease","tech","teeth","tell","temper","temple","tempo","tempt","ten","tenant","tend","tender","tendon","tennis","tenor","tense","tent","tenth","tenure","teresa","term","terror","terse","test","texas","text","thank","thaw","them","theme","thence","theory","there","these","thesis","they","thick","thief","thigh","thin","thing","think","third","thirst","thirty","this","thomas","thorn","those","though","thread","threat","three","thrill","thrive","throat","throne","throng","throw","thrust","thud","thug","thumb","thus","thyme","tibet","tick","ticket","tidal","tide","tidy","tie","tier","tiger","tight","tile","till","tilt","timber","time","timid","tin","tiny","tip","tire","tissue","title","toad","toast","today","toe","toilet","token","tokyo","told","toll","tom","tomato","tomb","tonal","tone","tongue","tonic","too","took","tool","tooth","top","topaz","topic","torch","torque","torso","tort","toss","total","touch","tough","tour","toward","towel","tower","town","toxic","toxin","toy","trace","track","tract","trade","tragic","trail","train","trait","tram","trance","trap","trauma","travel","tray","tread","treat","treaty","treble","tree","trek","tremor","trench","trend","trendy","trial","tribal","tribe","trick","tricky","tried","trifle","trim","trio","trip","triple","troop","trophy","trot","trough","trout","truce","truck","true","truly","trunk","trust","truth","try","tube","tumble","tuna","tundra","tune","tunic","tunnel","turban","turf","turk","turkey","turn","turtle","tutor","tweed","twelve","twenty","twice","twin","twist","two","tycoon","tying","type","tyrant","ugly","ulcer","ultra","umpire","unable","uncle","under","uneasy","unfair","unify","union","unique","unit","unite","unity","unlike","unrest","unruly","until","update","upheld","uphill","uphold","upon","upper","uproar","upset","upshot","uptake","upturn","upward","urban","urge","urgent","urging","urine","usable","usage","use","useful","user","usual","utmost","utter","vacant","vacuum","vague","vain","valet","valid","valley","value","valve","van","vanish","vanity","vary","vase","vast","vat","vault","vector","veil","vein","velvet","vendor","veneer","venice","venom","vent","venue","venus","verb","verbal","verge","verify","verity","verse","versus","very","vessel","vest","vet","veto","via","viable","vicar","vice","victim","victor","video","vienna","view","vigil","viking","vile","villa","vine","vinyl","viola","violet","violin","viral","virgo","virtue","virus","visa","vision","visit","visual","vital","vivid","vocal","vodka","vogue","voice","void","volley","volume","vote","vowel","voyage","vulgar","wade","wage","waist","wait","waiter","wake","walk","walker","wall","wallet","walnut","wander","want","war","warden","warm","warmth","warn","warp","warsaw","wary","was","wash","wasp","waste","watch","water","watery","wave","wax","way","weak","weaken","wealth","weapon","wear","weary","weave","wedge","wee","weed","week","weekly","weep","weigh","weight","weird","well","were","west","wet","whale","wharf","what","wheat","wheel","when","whence","where","which","whiff","while","whim","whip","whisky","white","who","whole","wholly","whom","whose","why","wicked","wide","widely","widen","wider","widow","width","wife","wig","wild","wildly","will","willow","wily","win","wind","window","windy","wine","wing","wink","winner","winter","wipe","wire","wisdom","wise","wish","wit","witch","with","within","witty","wizard","woke","wolf","wolves","woman","womb","won","wonder","wood","wooden","woods","woody","wool","word","work","worker","world","worm","worry","worse","worst","worth","worthy","would","wound","wrap","wrath","wreath","wreck","wring","wrist","writ","write","writer","wrong","xerox","yacht","yale","yard","yarn","yeah","year","yeard","yeast","yellow","yet","yield","yogurt","yolk","you","young","your","youth","zaire","zeal","zebra","zenith","zero","zeus","zigzag","zinc","zombie","zone"],bip39Words=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];async function digest$1(t){return new Uint8Array(await crypto.subtle.digest("SHA-256",t))}function decode$4(t){return(new TextDecoder).decode(t)}function encode$2(t){return(new TextEncoder).encode(t)}async function deriveKey(t,e,Q,B,s){const F="string"==typeof e?encode$2(e):e,U="string"==typeof Q?encode$2(Q):Q;try{const e=await window.crypto.subtle.importKey("raw",F,{name:"PBKDF2",hash:t},!1,["deriveBits"]);return new Uint8Array(await window.crypto.subtle.deriveBits({name:"PBKDF2",hash:t,salt:U,iterations:B},e,s<<3))}catch{throw new Error("(BUG) Non-Exhaustive switch statement for algorithms")}}const HashAlgorithm={Sha256:"SHA-256",Sha384:"SHA-384",Sha512:"SHA-512"};async function hash$3(t,e,Q){const B="string"==typeof e?encode$2(e):e,s="string"==typeof Q?encode$2(Q):Q;try{const e=await window.crypto.subtle.importKey("raw",B,{name:"HMAC",hash:t},!1,["sign"]);return new Uint8Array(await window.crypto.subtle.sign("HMAC",e,s))}catch{throw new Error("Fallback if SubtleCrypto fails is not implemented")}}async function derive(t,e,Q){const B=new Uint8Array(37);B[0]=0,B.set(t,1),new DataView(B.buffer,B.byteOffset,B.byteLength).setUint32(33,Q,!1),B[33]|=128;const s=await hash$3(HashAlgorithm.Sha512,e,B);return{keyData:s.subarray(0,32),chainCode:s.subarray(32)}}function legacy1(t,e){const Q=convertRadix(t.map((t=>e.indexOf(t.toLowerCase()))),e.length,256,33),B=Q[Q.length-1],s=new Uint8Array(Q.length-1);for(let t=0;t<Q.length-1;t+=1)s[t]=Q[t]^B;return[s,B]}async function legacy2(t,e){const Q=11*t.length,B=[];B.fill(!1,0,Q);for(const[Q,s]of t.entries()){const t=e.indexOf(s.toLowerCase());if(t<0)throw new Error(`Word not found in wordlist: ${s}`);for(let e=0;e<11;e+=1)B[11*Q+e]=0!=(t&1<<10-e)}const s=Q/33,F=Q-s,U=new Uint8Array(F/8);for(let t=0;t<U.length;t+=1)for(let e=0;e<8;e+=1)B[8*t+e]&&(U[t]|=1<<7-e);const n=bytesToBits(await digest$1(U));for(let t=0;t<s;t+=1)if(B[F+t]!==n[t])throw new Error("Checksum mismatch");return U}function crc8(t){let e=255;for(let Q=0;Q<t.length-1;Q+=1){e^=t[Q];for(let t=0;t<8;t+=1)e=e>>>1^(0==(1&e)?0:178)}return 255^e}function convertRadix(t,e,Q,B){let s=new BigNumber$1(0);for(const Q of t)s=s.times(e),s=s.plus(Q);const F=new Uint8Array(B);for(let t=B-1;t>=0;t-=1){const e=s.dividedToIntegerBy(Q),B=s.modulo(Q);s=e,F[t]=B.toNumber()}return F}function bytesToBits(t){const e=[];e.fill(!1,0,8*t.length);for(let Q=0;Q<t.length;Q+=1)for(let B=0;B<8;B+=1)e[8*Q+B]=0!=(t[Q]&1<<7-B);return e}class Mnemonic$1{constructor({words:t,legacy:e}){this.words=t,this._isLegacy=e}static generate(){return Mnemonic$1._generate(24)}static generate12(){return Mnemonic$1._generate(12)}static async _generate(t){let e;if(12===t)e=16;else{if(24!==t)throw new Error(`unsupported phrase length ${t}, only 12 or 24 are supported`);e=32}const Q=await bytesAsync(e),B=(bytesToBinary(Array.from(Q))+await deriveChecksumBits(Q)).match(/(.{1,11})/g),s=(null!=B?B:[]).map((t=>bip39Words[binaryToByte(t)]));return new Mnemonic$1({words:s,legacy:!1})}static async fromWords(t){return await new Mnemonic$1({words:t,legacy:22===t.length})._validate()}async toPrivateKey(t=""){if(this._isLegacy){if(t.length>0)throw new Error("legacy 22-word mnemonics do not support passphrases");return this.toLegacyPrivateKey()}return await this._toPrivateKey(t)}static async fromString(t){return Mnemonic$1.fromWords(t.split(/\s|,/))}async _validate(){if(this._isLegacy){if(22!==this.words.length)throw new BadMnemonicError(this,BadMnemonicReason.BadLength,[]);const t=this.words.reduce(((t,e,Q)=>legacyWords.includes(e.toLowerCase())?t:[...t,Q]),[]);if(t.length>0)throw new BadMnemonicError(this,BadMnemonicReason.UnknownWords,t);const[e,Q]=legacy1(this.words,legacyWords);if(Q!==crc8(e))throw new BadMnemonicError(this,BadMnemonicReason.ChecksumMismatch,[])}else{if(12!==this.words.length&&24!==this.words.length)throw new BadMnemonicError(this,BadMnemonicReason.BadLength,[]);const t=this.words.reduce(((t,e,Q)=>bip39Words.includes(e)?t:[...t,Q]),[]);if(t.length>0)throw new BadMnemonicError(this,BadMnemonicReason.UnknownWords,t);const e=this.words.map((t=>bip39Words.indexOf(t).toString(2).padStart(11,"0"))).join(""),Q=32*Math.floor(e.length/33),B=e.slice(0,Q),s=e.slice(Q),F=B.match(/(.{1,8})/g).map(binaryToByte);if(await deriveChecksumBits(Uint8Array.from(F))!==s)throw new BadMnemonicError(this,BadMnemonicReason.ChecksumMismatch,[])}return this}async _toPrivateKey(t=""){const e=this.words.join(" "),Q=`mnemonic${t}`,B=await deriveKey(HashAlgorithm.Sha512,e,Q,2048,64),s=await hash$3(HashAlgorithm.Sha512,"ed25519 seed",B);let F=s.subarray(0,32),U=s.subarray(32);for(const t of[44,3030,0,0])({keyData:F,chainCode:U}=await derive(F,U,t));const n=nacl.sign.keyPair.fromSeed(F);if(null==CACHE$1.privateKeyConstructor)throw new Error("PrivateKey not found in cache");return CACHE$1.privateKeyConstructor(new Ed25519PrivateKey(n,U))}async toLegacyPrivateKey(){let t;if(this._isLegacy?[t]=legacy1(this.words,legacyWords):t=await legacy2(this.words,bip39Words),null==CACHE$1.privateKeyFromBytes)throw new Error("PrivateKey not found in cache");return CACHE$1.privateKeyFromBytes(t)}toString(){return this.words.join(" ")}}function binaryToByte(t){return parseInt(t,2)}function bytesToBinary(t){return t.map((t=>t.toString(2).padStart(8,"0"))).join("")}async function deriveChecksumBits(t){const e=8*t.length/32,Q=await digest$1(t);return bytesToBinary(Array.from(Q)).slice(0,e)}const HEX_CHARS$1="0123456789abcdef".split(""),KECCAK_PADDING$1=[1,256,65536,16777216],SHIFT$1=[0,8,16,24],RC$1=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Keccak$1=t=>({blocks:[],reset:!0,block:0,start:0,blockCount:1600-(t<<1)>>5,outputBlocks:t>>5,s:(t=>[].concat(t,t,t,t,t))([0,0,0,0,0,0,0,0,0,0])}),update$1=(t,e)=>{for(var Q,B,s=e.length,F=t.blocks,U=t.blockCount<<2,n=t.blockCount,c=t.outputBlocks,o=t.s,g=0;g<s;){if(t.reset)for(t.reset=!1,F[0]=t.block,Q=1;Q<n+1;++Q)F[Q]=0;if("string"!=typeof e)for(Q=t.start;g<s&&Q<U;++g)F[Q>>2]|=e[g]<<SHIFT$1[3&Q++];else for(Q=t.start;g<s&&Q<U;++g)(B=e.charCodeAt(g))<128?F[Q>>2]|=B<<SHIFT$1[3&Q++]:B<2048?(F[Q>>2]|=(192|B>>6)<<SHIFT$1[3&Q++],F[Q>>2]|=(128|63&B)<<SHIFT$1[3&Q++]):B<55296||B>=57344?(F[Q>>2]|=(224|B>>12)<<SHIFT$1[3&Q++],F[Q>>2]|=(128|B>>6&63)<<SHIFT$1[3&Q++],F[Q>>2]|=(128|63&B)<<SHIFT$1[3&Q++]):(B=65536+((1023&B)<<10|1023&e.charCodeAt(++g)),F[Q>>2]|=(240|B>>18)<<SHIFT$1[3&Q++],F[Q>>2]|=(128|B>>12&63)<<SHIFT$1[3&Q++],F[Q>>2]|=(128|B>>6&63)<<SHIFT$1[3&Q++],F[Q>>2]|=(128|63&B)<<SHIFT$1[3&Q++]);if(t.lastByteIndex=Q,Q>=U){for(t.start=Q-U,t.block=F[n],Q=0;Q<n;++Q)o[Q]^=F[Q];f$3(o),t.reset=!0}else t.start=Q}if(F[(Q=t.lastByteIndex)>>2]|=KECCAK_PADDING$1[3&Q],t.lastByteIndex===U)for(F[0]=F[n],Q=1;Q<n+1;++Q)F[Q]=0;for(F[n-1]|=2147483648,Q=0;Q<n;++Q)o[Q]^=F[Q];f$3(o);var l,I="",r=0;for(Q=0;r<c;){for(Q=0;Q<n&&r<c;++Q,++r)l=o[Q],I+=HEX_CHARS$1[l>>4&15]+HEX_CHARS$1[15&l]+HEX_CHARS$1[l>>12&15]+HEX_CHARS$1[l>>8&15]+HEX_CHARS$1[l>>20&15]+HEX_CHARS$1[l>>16&15]+HEX_CHARS$1[l>>28&15]+HEX_CHARS$1[l>>24&15];r%n==0&&(f$3(o),Q=0)}return"0x"+I},f$3=t=>{var e,Q,B,s,F,U,n,c,o,g,l,I,r,i,a,d,u,C,y,S,b,m,G,x,L,Z,A,h,N,R,V,E,p,D,J,X,H,W,k,T,f,Y,w,M,v,z,K,O,P,j,_,q,$,tt,et,Qt,Bt,st,Ft,Ut,nt,ct,ot;for(B=0;B<48;B+=2)s=t[0]^t[10]^t[20]^t[30]^t[40],F=t[1]^t[11]^t[21]^t[31]^t[41],U=t[2]^t[12]^t[22]^t[32]^t[42],n=t[3]^t[13]^t[23]^t[33]^t[43],c=t[4]^t[14]^t[24]^t[34]^t[44],o=t[5]^t[15]^t[25]^t[35]^t[45],g=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(I=t[8]^t[18]^t[28]^t[38]^t[48])^(U<<1|n>>>31),Q=(r=t[9]^t[19]^t[29]^t[39]^t[49])^(n<<1|U>>>31),t[0]^=e,t[1]^=Q,t[10]^=e,t[11]^=Q,t[20]^=e,t[21]^=Q,t[30]^=e,t[31]^=Q,t[40]^=e,t[41]^=Q,e=s^(c<<1|o>>>31),Q=F^(o<<1|c>>>31),t[2]^=e,t[3]^=Q,t[12]^=e,t[13]^=Q,t[22]^=e,t[23]^=Q,t[32]^=e,t[33]^=Q,t[42]^=e,t[43]^=Q,e=U^(g<<1|l>>>31),Q=n^(l<<1|g>>>31),t[4]^=e,t[5]^=Q,t[14]^=e,t[15]^=Q,t[24]^=e,t[25]^=Q,t[34]^=e,t[35]^=Q,t[44]^=e,t[45]^=Q,e=c^(I<<1|r>>>31),Q=o^(r<<1|I>>>31),t[6]^=e,t[7]^=Q,t[16]^=e,t[17]^=Q,t[26]^=e,t[27]^=Q,t[36]^=e,t[37]^=Q,t[46]^=e,t[47]^=Q,e=g^(s<<1|F>>>31),Q=l^(F<<1|s>>>31),t[8]^=e,t[9]^=Q,t[18]^=e,t[19]^=Q,t[28]^=e,t[29]^=Q,t[38]^=e,t[39]^=Q,t[48]^=e,t[49]^=Q,i=t[0],a=t[1],z=t[11]<<4|t[10]>>>28,K=t[10]<<4|t[11]>>>28,h=t[20]<<3|t[21]>>>29,N=t[21]<<3|t[20]>>>29,Ut=t[31]<<9|t[30]>>>23,nt=t[30]<<9|t[31]>>>23,Y=t[40]<<18|t[41]>>>14,w=t[41]<<18|t[40]>>>14,D=t[2]<<1|t[3]>>>31,J=t[3]<<1|t[2]>>>31,d=t[13]<<12|t[12]>>>20,u=t[12]<<12|t[13]>>>20,O=t[22]<<10|t[23]>>>22,P=t[23]<<10|t[22]>>>22,R=t[33]<<13|t[32]>>>19,V=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,ot=t[43]<<2|t[42]>>>30,tt=t[5]<<30|t[4]>>>2,et=t[4]<<30|t[5]>>>2,X=t[14]<<6|t[15]>>>26,H=t[15]<<6|t[14]>>>26,C=t[25]<<11|t[24]>>>21,y=t[24]<<11|t[25]>>>21,j=t[34]<<15|t[35]>>>17,_=t[35]<<15|t[34]>>>17,E=t[45]<<29|t[44]>>>3,p=t[44]<<29|t[45]>>>3,x=t[6]<<28|t[7]>>>4,L=t[7]<<28|t[6]>>>4,Qt=t[17]<<23|t[16]>>>9,Bt=t[16]<<23|t[17]>>>9,W=t[26]<<25|t[27]>>>7,k=t[27]<<25|t[26]>>>7,S=t[36]<<21|t[37]>>>11,b=t[37]<<21|t[36]>>>11,q=t[47]<<24|t[46]>>>8,$=t[46]<<24|t[47]>>>8,M=t[8]<<27|t[9]>>>5,v=t[9]<<27|t[8]>>>5,Z=t[18]<<20|t[19]>>>12,A=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,Ft=t[28]<<7|t[29]>>>25,T=t[38]<<8|t[39]>>>24,f=t[39]<<8|t[38]>>>24,m=t[48]<<14|t[49]>>>18,G=t[49]<<14|t[48]>>>18,t[0]=i^~d&C,t[1]=a^~u&y,t[10]=x^~Z&h,t[11]=L^~A&N,t[20]=D^~X&W,t[21]=J^~H&k,t[30]=M^~z&O,t[31]=v^~K&P,t[40]=tt^~Qt&st,t[41]=et^~Bt&Ft,t[2]=d^~C&S,t[3]=u^~y&b,t[12]=Z^~h&R,t[13]=A^~N&V,t[22]=X^~W&T,t[23]=H^~k&f,t[32]=z^~O&j,t[33]=K^~P&_,t[42]=Qt^~st&Ut,t[43]=Bt^~Ft&nt,t[4]=C^~S&m,t[5]=y^~b&G,t[14]=h^~R&E,t[15]=N^~V&p,t[24]=W^~T&Y,t[25]=k^~f&w,t[34]=O^~j&q,t[35]=P^~_&$,t[44]=st^~Ut&ct,t[45]=Ft^~nt&ot,t[6]=S^~m&i,t[7]=b^~G&a,t[16]=R^~E&x,t[17]=V^~p&L,t[26]=T^~Y&D,t[27]=f^~w&J,t[36]=j^~q&M,t[37]=_^~$&v,t[46]=Ut^~ct&tt,t[47]=nt^~ot&et,t[8]=m^~i&d,t[9]=G^~a&u,t[18]=E^~x&Z,t[19]=p^~L&A,t[28]=Y^~D&X,t[29]=w^~J&H,t[38]=q^~M&z,t[39]=$^~v&K,t[48]=ct^~tt&Qt,t[49]=ot^~et&Bt,t[0]^=RC$1[B],t[1]^=RC$1[B+1]},keccak$1=t=>e=>{var Q;if("0x"===e.slice(0,2)){Q=[];for(var B=2,s=e.length;B<s;B+=2)Q.push(parseInt(e.slice(B,B+2),16))}else Q=e;return update$1(Keccak$1(t),Q)},keccak256$2=keccak$1(256);var elliptic={},name="elliptic",version$a="6.5.4",description="EC cryptography",main$1="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0={name:name,version:version$a,description:description,main:main$1,files:files,scripts:scripts,repository:repository,keywords:keywords,author:author,license:license,bugs:bugs,homepage:homepage,devDependencies:devDependencies,dependencies:dependencies},utils$m={},bn={exports:{}};!function(t,e){function Q(t,e){if(!t)throw new Error(e||"Assertion failed")}function B(t,e){t.super_=e;var Q=function(){};Q.prototype=e.prototype,t.prototype=new Q,t.prototype.constructor=t}function s(t,e,Q){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(Q=e,e=10),this._init(t||0,e||10,Q||"be"))}var F;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{F="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(t){}function U(t,e){var Q=t.charCodeAt(e);return Q>=65&&Q<=70?Q-55:Q>=97&&Q<=102?Q-87:Q-48&15}function n(t,e,Q){var B=U(t,Q);return Q-1>=e&&(B|=U(t,Q-1)<<4),B}function c(t,e,Q,B){for(var s=0,F=Math.min(t.length,Q),U=e;U<F;U++){var n=t.charCodeAt(U)-48;s*=B,s+=n>=49?n-49+10:n>=17?n-17+10:n}return s}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,B){if("number"==typeof t)return this._initNumber(t,e,B);if("object"==typeof t)return this._initArray(t,e,B);"hex"===e&&(e=16),Q(e===(0|e)&&e>=2&&e<=36);var s=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(s++,this.negative=1),s<t.length&&(16===e?this._parseHex(t,s,B):(this._parseBase(t,e,s),"le"===B&&this._initArray(this.toArray(),e,B)))},s.prototype._initNumber=function(t,e,B){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(Q(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===B&&this._initArray(this.toArray(),e,B)},s.prototype._initArray=function(t,e,B){if(Q("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var F,U,n=0;if("be"===B)for(s=t.length-1,F=0;s>=0;s-=3)U=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[F]|=U<<n&67108863,this.words[F+1]=U>>>26-n&67108863,(n+=24)>=26&&(n-=26,F++);else if("le"===B)for(s=0,F=0;s<t.length;s+=3)U=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[F]|=U<<n&67108863,this.words[F+1]=U>>>26-n&67108863,(n+=24)>=26&&(n-=26,F++);return this.strip()},s.prototype._parseHex=function(t,e,Q){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var s,F=0,U=0;if("be"===Q)for(B=t.length-1;B>=e;B-=2)s=n(t,e,B)<<F,this.words[U]|=67108863&s,F>=18?(F-=18,U+=1,this.words[U]|=s>>>26):F+=8;else for(B=(t.length-e)%2==0?e+1:e;B<t.length;B+=2)s=n(t,e,B)<<F,this.words[U]|=67108863&s,F>=18?(F-=18,U+=1,this.words[U]|=s>>>26):F+=8;this.strip()},s.prototype._parseBase=function(t,e,Q){this.words=[0],this.length=1;for(var B=0,s=1;s<=67108863;s*=e)B++;B--,s=s/e|0;for(var F=t.length-Q,U=F%B,n=Math.min(F,F-U)+Q,o=0,g=Q;g<n;g+=B)o=c(t,g,g+B,e),this.imuln(s),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(0!==U){var l=1;for(o=c(t,g,t.length,e),g=0;g<U;g++)l*=e;this.imuln(l),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var o=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function I(t,e,Q){Q.negative=e.negative^t.negative;var B=t.length+e.length|0;Q.length=B,B=B-1|0;var s=0|t.words[0],F=0|e.words[0],U=s*F,n=67108863&U,c=U/67108864|0;Q.words[0]=n;for(var o=1;o<B;o++){for(var g=c>>>26,l=67108863&c,I=Math.min(o,e.length-1),r=Math.max(0,o-t.length+1);r<=I;r++){var i=o-r|0;g+=(U=(s=0|t.words[i])*(F=0|e.words[r])+l)/67108864|0,l=67108863&U}Q.words[o]=0|l,c=0|g}return 0!==c?Q.words[o]=0|c:Q.length--,Q.strip()}s.prototype.toString=function(t,e){var B;if(e=0|e||1,16===(t=t||10)||"hex"===t){B="";for(var s=0,F=0,U=0;U<this.length;U++){var n=this.words[U],c=(16777215&(n<<s|F)).toString(16);B=0!=(F=n>>>24-s&16777215)||U!==this.length-1?o[6-c.length]+c+B:c+B,(s+=2)>=26&&(s-=26,U--)}for(0!==F&&(B=F.toString(16)+B);B.length%e!=0;)B="0"+B;return 0!==this.negative&&(B="-"+B),B}if(t===(0|t)&&t>=2&&t<=36){var I=g[t],r=l[t];B="";var i=this.clone();for(i.negative=0;!i.isZero();){var a=i.modn(r).toString(t);B=(i=i.idivn(r)).isZero()?a+B:o[I-a.length]+a+B}for(this.isZero()&&(B="0"+B);B.length%e!=0;)B="0"+B;return 0!==this.negative&&(B="-"+B),B}Q(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&Q(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return Q(void 0!==F),this.toArrayLike(F,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,B){var s=this.byteLength(),F=B||Math.max(1,s);Q(s<=F,"byte array longer than desired length"),Q(F>0,"Requested array length <= 0"),this.strip();var U,n,c="le"===e,o=new t(F),g=this.clone();if(c){for(n=0;!g.isZero();n++)U=g.andln(255),g.iushrn(8),o[n]=U;for(;n<F;n++)o[n]=0}else{for(n=0;n<F-s;n++)o[n]=0;for(n=0;!g.isZero();n++)U=g.andln(255),g.iushrn(8),o[F-n-1]=U}return o},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,Q=0;return e>=4096&&(Q+=13,e>>>=13),e>=64&&(Q+=7,e>>>=7),e>=8&&(Q+=4,e>>>=4),e>=2&&(Q+=2,e>>>=2),Q+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,Q=0;return 0==(8191&e)&&(Q+=13,e>>>=13),0==(127&e)&&(Q+=7,e>>>=7),0==(15&e)&&(Q+=4,e>>>=4),0==(3&e)&&(Q+=2,e>>>=2),0==(1&e)&&Q++,Q},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var Q=this._zeroBits(this.words[e]);if(t+=Q,26!==Q)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return Q(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var Q=0;Q<e.length;Q++)this.words[Q]=this.words[Q]&t.words[Q];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return Q(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,Q;this.length>t.length?(e=this,Q=t):(e=t,Q=this);for(var B=0;B<Q.length;B++)this.words[B]=e.words[B]^Q.words[B];if(this!==e)for(;B<e.length;B++)this.words[B]=e.words[B];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return Q(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){Q("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),B=t%26;this._expand(e),B>0&&e--;for(var s=0;s<e;s++)this.words[s]=67108863&~this.words[s];return B>0&&(this.words[s]=~this.words[s]&67108863>>26-B),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){Q("number"==typeof t&&t>=0);var B=t/26|0,s=t%26;return this._expand(B+1),this.words[B]=e?this.words[B]|1<<s:this.words[B]&~(1<<s),this.strip()},s.prototype.iadd=function(t){var e,Q,B;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(Q=this,B=t):(Q=t,B=this);for(var s=0,F=0;F<B.length;F++)e=(0|Q.words[F])+(0|B.words[F])+s,this.words[F]=67108863&e,s=e>>>26;for(;0!==s&&F<Q.length;F++)e=(0|Q.words[F])+s,this.words[F]=67108863&e,s=e>>>26;if(this.length=Q.length,0!==s)this.words[this.length]=s,this.length++;else if(Q!==this)for(;F<Q.length;F++)this.words[F]=Q.words[F];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var Q,B,s=this.cmp(t);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(Q=this,B=t):(Q=t,B=this);for(var F=0,U=0;U<B.length;U++)F=(e=(0|Q.words[U])-(0|B.words[U])+F)>>26,this.words[U]=67108863&e;for(;0!==F&&U<Q.length;U++)F=(e=(0|Q.words[U])+F)>>26,this.words[U]=67108863&e;if(0===F&&U<Q.length&&Q!==this)for(;U<Q.length;U++)this.words[U]=Q.words[U];return this.length=Math.max(this.length,U),Q!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var r=function(t,e,Q){var B,s,F,U=t.words,n=e.words,c=Q.words,o=0,g=0|U[0],l=8191&g,I=g>>>13,r=0|U[1],i=8191&r,a=r>>>13,d=0|U[2],u=8191&d,C=d>>>13,y=0|U[3],S=8191&y,b=y>>>13,m=0|U[4],G=8191&m,x=m>>>13,L=0|U[5],Z=8191&L,A=L>>>13,h=0|U[6],N=8191&h,R=h>>>13,V=0|U[7],E=8191&V,p=V>>>13,D=0|U[8],J=8191&D,X=D>>>13,H=0|U[9],W=8191&H,k=H>>>13,T=0|n[0],f=8191&T,Y=T>>>13,w=0|n[1],M=8191&w,v=w>>>13,z=0|n[2],K=8191&z,O=z>>>13,P=0|n[3],j=8191&P,_=P>>>13,q=0|n[4],$=8191&q,tt=q>>>13,et=0|n[5],Qt=8191&et,Bt=et>>>13,st=0|n[6],Ft=8191&st,Ut=st>>>13,nt=0|n[7],ct=8191&nt,ot=nt>>>13,gt=0|n[8],lt=8191&gt,It=gt>>>13,rt=0|n[9],it=8191&rt,at=rt>>>13;Q.negative=t.negative^e.negative,Q.length=19;var dt=(o+(B=Math.imul(l,f))|0)+((8191&(s=(s=Math.imul(l,Y))+Math.imul(I,f)|0))<<13)|0;o=((F=Math.imul(I,Y))+(s>>>13)|0)+(dt>>>26)|0,dt&=67108863,B=Math.imul(i,f),s=(s=Math.imul(i,Y))+Math.imul(a,f)|0,F=Math.imul(a,Y);var ut=(o+(B=B+Math.imul(l,M)|0)|0)+((8191&(s=(s=s+Math.imul(l,v)|0)+Math.imul(I,M)|0))<<13)|0;o=((F=F+Math.imul(I,v)|0)+(s>>>13)|0)+(ut>>>26)|0,ut&=67108863,B=Math.imul(u,f),s=(s=Math.imul(u,Y))+Math.imul(C,f)|0,F=Math.imul(C,Y),B=B+Math.imul(i,M)|0,s=(s=s+Math.imul(i,v)|0)+Math.imul(a,M)|0,F=F+Math.imul(a,v)|0;var Ct=(o+(B=B+Math.imul(l,K)|0)|0)+((8191&(s=(s=s+Math.imul(l,O)|0)+Math.imul(I,K)|0))<<13)|0;o=((F=F+Math.imul(I,O)|0)+(s>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,B=Math.imul(S,f),s=(s=Math.imul(S,Y))+Math.imul(b,f)|0,F=Math.imul(b,Y),B=B+Math.imul(u,M)|0,s=(s=s+Math.imul(u,v)|0)+Math.imul(C,M)|0,F=F+Math.imul(C,v)|0,B=B+Math.imul(i,K)|0,s=(s=s+Math.imul(i,O)|0)+Math.imul(a,K)|0,F=F+Math.imul(a,O)|0;var yt=(o+(B=B+Math.imul(l,j)|0)|0)+((8191&(s=(s=s+Math.imul(l,_)|0)+Math.imul(I,j)|0))<<13)|0;o=((F=F+Math.imul(I,_)|0)+(s>>>13)|0)+(yt>>>26)|0,yt&=67108863,B=Math.imul(G,f),s=(s=Math.imul(G,Y))+Math.imul(x,f)|0,F=Math.imul(x,Y),B=B+Math.imul(S,M)|0,s=(s=s+Math.imul(S,v)|0)+Math.imul(b,M)|0,F=F+Math.imul(b,v)|0,B=B+Math.imul(u,K)|0,s=(s=s+Math.imul(u,O)|0)+Math.imul(C,K)|0,F=F+Math.imul(C,O)|0,B=B+Math.imul(i,j)|0,s=(s=s+Math.imul(i,_)|0)+Math.imul(a,j)|0,F=F+Math.imul(a,_)|0;var St=(o+(B=B+Math.imul(l,$)|0)|0)+((8191&(s=(s=s+Math.imul(l,tt)|0)+Math.imul(I,$)|0))<<13)|0;o=((F=F+Math.imul(I,tt)|0)+(s>>>13)|0)+(St>>>26)|0,St&=67108863,B=Math.imul(Z,f),s=(s=Math.imul(Z,Y))+Math.imul(A,f)|0,F=Math.imul(A,Y),B=B+Math.imul(G,M)|0,s=(s=s+Math.imul(G,v)|0)+Math.imul(x,M)|0,F=F+Math.imul(x,v)|0,B=B+Math.imul(S,K)|0,s=(s=s+Math.imul(S,O)|0)+Math.imul(b,K)|0,F=F+Math.imul(b,O)|0,B=B+Math.imul(u,j)|0,s=(s=s+Math.imul(u,_)|0)+Math.imul(C,j)|0,F=F+Math.imul(C,_)|0,B=B+Math.imul(i,$)|0,s=(s=s+Math.imul(i,tt)|0)+Math.imul(a,$)|0,F=F+Math.imul(a,tt)|0;var bt=(o+(B=B+Math.imul(l,Qt)|0)|0)+((8191&(s=(s=s+Math.imul(l,Bt)|0)+Math.imul(I,Qt)|0))<<13)|0;o=((F=F+Math.imul(I,Bt)|0)+(s>>>13)|0)+(bt>>>26)|0,bt&=67108863,B=Math.imul(N,f),s=(s=Math.imul(N,Y))+Math.imul(R,f)|0,F=Math.imul(R,Y),B=B+Math.imul(Z,M)|0,s=(s=s+Math.imul(Z,v)|0)+Math.imul(A,M)|0,F=F+Math.imul(A,v)|0,B=B+Math.imul(G,K)|0,s=(s=s+Math.imul(G,O)|0)+Math.imul(x,K)|0,F=F+Math.imul(x,O)|0,B=B+Math.imul(S,j)|0,s=(s=s+Math.imul(S,_)|0)+Math.imul(b,j)|0,F=F+Math.imul(b,_)|0,B=B+Math.imul(u,$)|0,s=(s=s+Math.imul(u,tt)|0)+Math.imul(C,$)|0,F=F+Math.imul(C,tt)|0,B=B+Math.imul(i,Qt)|0,s=(s=s+Math.imul(i,Bt)|0)+Math.imul(a,Qt)|0,F=F+Math.imul(a,Bt)|0;var mt=(o+(B=B+Math.imul(l,Ft)|0)|0)+((8191&(s=(s=s+Math.imul(l,Ut)|0)+Math.imul(I,Ft)|0))<<13)|0;o=((F=F+Math.imul(I,Ut)|0)+(s>>>13)|0)+(mt>>>26)|0,mt&=67108863,B=Math.imul(E,f),s=(s=Math.imul(E,Y))+Math.imul(p,f)|0,F=Math.imul(p,Y),B=B+Math.imul(N,M)|0,s=(s=s+Math.imul(N,v)|0)+Math.imul(R,M)|0,F=F+Math.imul(R,v)|0,B=B+Math.imul(Z,K)|0,s=(s=s+Math.imul(Z,O)|0)+Math.imul(A,K)|0,F=F+Math.imul(A,O)|0,B=B+Math.imul(G,j)|0,s=(s=s+Math.imul(G,_)|0)+Math.imul(x,j)|0,F=F+Math.imul(x,_)|0,B=B+Math.imul(S,$)|0,s=(s=s+Math.imul(S,tt)|0)+Math.imul(b,$)|0,F=F+Math.imul(b,tt)|0,B=B+Math.imul(u,Qt)|0,s=(s=s+Math.imul(u,Bt)|0)+Math.imul(C,Qt)|0,F=F+Math.imul(C,Bt)|0,B=B+Math.imul(i,Ft)|0,s=(s=s+Math.imul(i,Ut)|0)+Math.imul(a,Ft)|0,F=F+Math.imul(a,Ut)|0;var Gt=(o+(B=B+Math.imul(l,ct)|0)|0)+((8191&(s=(s=s+Math.imul(l,ot)|0)+Math.imul(I,ct)|0))<<13)|0;o=((F=F+Math.imul(I,ot)|0)+(s>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,B=Math.imul(J,f),s=(s=Math.imul(J,Y))+Math.imul(X,f)|0,F=Math.imul(X,Y),B=B+Math.imul(E,M)|0,s=(s=s+Math.imul(E,v)|0)+Math.imul(p,M)|0,F=F+Math.imul(p,v)|0,B=B+Math.imul(N,K)|0,s=(s=s+Math.imul(N,O)|0)+Math.imul(R,K)|0,F=F+Math.imul(R,O)|0,B=B+Math.imul(Z,j)|0,s=(s=s+Math.imul(Z,_)|0)+Math.imul(A,j)|0,F=F+Math.imul(A,_)|0,B=B+Math.imul(G,$)|0,s=(s=s+Math.imul(G,tt)|0)+Math.imul(x,$)|0,F=F+Math.imul(x,tt)|0,B=B+Math.imul(S,Qt)|0,s=(s=s+Math.imul(S,Bt)|0)+Math.imul(b,Qt)|0,F=F+Math.imul(b,Bt)|0,B=B+Math.imul(u,Ft)|0,s=(s=s+Math.imul(u,Ut)|0)+Math.imul(C,Ft)|0,F=F+Math.imul(C,Ut)|0,B=B+Math.imul(i,ct)|0,s=(s=s+Math.imul(i,ot)|0)+Math.imul(a,ct)|0,F=F+Math.imul(a,ot)|0;var xt=(o+(B=B+Math.imul(l,lt)|0)|0)+((8191&(s=(s=s+Math.imul(l,It)|0)+Math.imul(I,lt)|0))<<13)|0;o=((F=F+Math.imul(I,It)|0)+(s>>>13)|0)+(xt>>>26)|0,xt&=67108863,B=Math.imul(W,f),s=(s=Math.imul(W,Y))+Math.imul(k,f)|0,F=Math.imul(k,Y),B=B+Math.imul(J,M)|0,s=(s=s+Math.imul(J,v)|0)+Math.imul(X,M)|0,F=F+Math.imul(X,v)|0,B=B+Math.imul(E,K)|0,s=(s=s+Math.imul(E,O)|0)+Math.imul(p,K)|0,F=F+Math.imul(p,O)|0,B=B+Math.imul(N,j)|0,s=(s=s+Math.imul(N,_)|0)+Math.imul(R,j)|0,F=F+Math.imul(R,_)|0,B=B+Math.imul(Z,$)|0,s=(s=s+Math.imul(Z,tt)|0)+Math.imul(A,$)|0,F=F+Math.imul(A,tt)|0,B=B+Math.imul(G,Qt)|0,s=(s=s+Math.imul(G,Bt)|0)+Math.imul(x,Qt)|0,F=F+Math.imul(x,Bt)|0,B=B+Math.imul(S,Ft)|0,s=(s=s+Math.imul(S,Ut)|0)+Math.imul(b,Ft)|0,F=F+Math.imul(b,Ut)|0,B=B+Math.imul(u,ct)|0,s=(s=s+Math.imul(u,ot)|0)+Math.imul(C,ct)|0,F=F+Math.imul(C,ot)|0,B=B+Math.imul(i,lt)|0,s=(s=s+Math.imul(i,It)|0)+Math.imul(a,lt)|0,F=F+Math.imul(a,It)|0;var Lt=(o+(B=B+Math.imul(l,it)|0)|0)+((8191&(s=(s=s+Math.imul(l,at)|0)+Math.imul(I,it)|0))<<13)|0;o=((F=F+Math.imul(I,at)|0)+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,B=Math.imul(W,M),s=(s=Math.imul(W,v))+Math.imul(k,M)|0,F=Math.imul(k,v),B=B+Math.imul(J,K)|0,s=(s=s+Math.imul(J,O)|0)+Math.imul(X,K)|0,F=F+Math.imul(X,O)|0,B=B+Math.imul(E,j)|0,s=(s=s+Math.imul(E,_)|0)+Math.imul(p,j)|0,F=F+Math.imul(p,_)|0,B=B+Math.imul(N,$)|0,s=(s=s+Math.imul(N,tt)|0)+Math.imul(R,$)|0,F=F+Math.imul(R,tt)|0,B=B+Math.imul(Z,Qt)|0,s=(s=s+Math.imul(Z,Bt)|0)+Math.imul(A,Qt)|0,F=F+Math.imul(A,Bt)|0,B=B+Math.imul(G,Ft)|0,s=(s=s+Math.imul(G,Ut)|0)+Math.imul(x,Ft)|0,F=F+Math.imul(x,Ut)|0,B=B+Math.imul(S,ct)|0,s=(s=s+Math.imul(S,ot)|0)+Math.imul(b,ct)|0,F=F+Math.imul(b,ot)|0,B=B+Math.imul(u,lt)|0,s=(s=s+Math.imul(u,It)|0)+Math.imul(C,lt)|0,F=F+Math.imul(C,It)|0;var Zt=(o+(B=B+Math.imul(i,it)|0)|0)+((8191&(s=(s=s+Math.imul(i,at)|0)+Math.imul(a,it)|0))<<13)|0;o=((F=F+Math.imul(a,at)|0)+(s>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,B=Math.imul(W,K),s=(s=Math.imul(W,O))+Math.imul(k,K)|0,F=Math.imul(k,O),B=B+Math.imul(J,j)|0,s=(s=s+Math.imul(J,_)|0)+Math.imul(X,j)|0,F=F+Math.imul(X,_)|0,B=B+Math.imul(E,$)|0,s=(s=s+Math.imul(E,tt)|0)+Math.imul(p,$)|0,F=F+Math.imul(p,tt)|0,B=B+Math.imul(N,Qt)|0,s=(s=s+Math.imul(N,Bt)|0)+Math.imul(R,Qt)|0,F=F+Math.imul(R,Bt)|0,B=B+Math.imul(Z,Ft)|0,s=(s=s+Math.imul(Z,Ut)|0)+Math.imul(A,Ft)|0,F=F+Math.imul(A,Ut)|0,B=B+Math.imul(G,ct)|0,s=(s=s+Math.imul(G,ot)|0)+Math.imul(x,ct)|0,F=F+Math.imul(x,ot)|0,B=B+Math.imul(S,lt)|0,s=(s=s+Math.imul(S,It)|0)+Math.imul(b,lt)|0,F=F+Math.imul(b,It)|0;var At=(o+(B=B+Math.imul(u,it)|0)|0)+((8191&(s=(s=s+Math.imul(u,at)|0)+Math.imul(C,it)|0))<<13)|0;o=((F=F+Math.imul(C,at)|0)+(s>>>13)|0)+(At>>>26)|0,At&=67108863,B=Math.imul(W,j),s=(s=Math.imul(W,_))+Math.imul(k,j)|0,F=Math.imul(k,_),B=B+Math.imul(J,$)|0,s=(s=s+Math.imul(J,tt)|0)+Math.imul(X,$)|0,F=F+Math.imul(X,tt)|0,B=B+Math.imul(E,Qt)|0,s=(s=s+Math.imul(E,Bt)|0)+Math.imul(p,Qt)|0,F=F+Math.imul(p,Bt)|0,B=B+Math.imul(N,Ft)|0,s=(s=s+Math.imul(N,Ut)|0)+Math.imul(R,Ft)|0,F=F+Math.imul(R,Ut)|0,B=B+Math.imul(Z,ct)|0,s=(s=s+Math.imul(Z,ot)|0)+Math.imul(A,ct)|0,F=F+Math.imul(A,ot)|0,B=B+Math.imul(G,lt)|0,s=(s=s+Math.imul(G,It)|0)+Math.imul(x,lt)|0,F=F+Math.imul(x,It)|0;var ht=(o+(B=B+Math.imul(S,it)|0)|0)+((8191&(s=(s=s+Math.imul(S,at)|0)+Math.imul(b,it)|0))<<13)|0;o=((F=F+Math.imul(b,at)|0)+(s>>>13)|0)+(ht>>>26)|0,ht&=67108863,B=Math.imul(W,$),s=(s=Math.imul(W,tt))+Math.imul(k,$)|0,F=Math.imul(k,tt),B=B+Math.imul(J,Qt)|0,s=(s=s+Math.imul(J,Bt)|0)+Math.imul(X,Qt)|0,F=F+Math.imul(X,Bt)|0,B=B+Math.imul(E,Ft)|0,s=(s=s+Math.imul(E,Ut)|0)+Math.imul(p,Ft)|0,F=F+Math.imul(p,Ut)|0,B=B+Math.imul(N,ct)|0,s=(s=s+Math.imul(N,ot)|0)+Math.imul(R,ct)|0,F=F+Math.imul(R,ot)|0,B=B+Math.imul(Z,lt)|0,s=(s=s+Math.imul(Z,It)|0)+Math.imul(A,lt)|0,F=F+Math.imul(A,It)|0;var Nt=(o+(B=B+Math.imul(G,it)|0)|0)+((8191&(s=(s=s+Math.imul(G,at)|0)+Math.imul(x,it)|0))<<13)|0;o=((F=F+Math.imul(x,at)|0)+(s>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,B=Math.imul(W,Qt),s=(s=Math.imul(W,Bt))+Math.imul(k,Qt)|0,F=Math.imul(k,Bt),B=B+Math.imul(J,Ft)|0,s=(s=s+Math.imul(J,Ut)|0)+Math.imul(X,Ft)|0,F=F+Math.imul(X,Ut)|0,B=B+Math.imul(E,ct)|0,s=(s=s+Math.imul(E,ot)|0)+Math.imul(p,ct)|0,F=F+Math.imul(p,ot)|0,B=B+Math.imul(N,lt)|0,s=(s=s+Math.imul(N,It)|0)+Math.imul(R,lt)|0,F=F+Math.imul(R,It)|0;var Rt=(o+(B=B+Math.imul(Z,it)|0)|0)+((8191&(s=(s=s+Math.imul(Z,at)|0)+Math.imul(A,it)|0))<<13)|0;o=((F=F+Math.imul(A,at)|0)+(s>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,B=Math.imul(W,Ft),s=(s=Math.imul(W,Ut))+Math.imul(k,Ft)|0,F=Math.imul(k,Ut),B=B+Math.imul(J,ct)|0,s=(s=s+Math.imul(J,ot)|0)+Math.imul(X,ct)|0,F=F+Math.imul(X,ot)|0,B=B+Math.imul(E,lt)|0,s=(s=s+Math.imul(E,It)|0)+Math.imul(p,lt)|0,F=F+Math.imul(p,It)|0;var Vt=(o+(B=B+Math.imul(N,it)|0)|0)+((8191&(s=(s=s+Math.imul(N,at)|0)+Math.imul(R,it)|0))<<13)|0;o=((F=F+Math.imul(R,at)|0)+(s>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,B=Math.imul(W,ct),s=(s=Math.imul(W,ot))+Math.imul(k,ct)|0,F=Math.imul(k,ot),B=B+Math.imul(J,lt)|0,s=(s=s+Math.imul(J,It)|0)+Math.imul(X,lt)|0,F=F+Math.imul(X,It)|0;var Et=(o+(B=B+Math.imul(E,it)|0)|0)+((8191&(s=(s=s+Math.imul(E,at)|0)+Math.imul(p,it)|0))<<13)|0;o=((F=F+Math.imul(p,at)|0)+(s>>>13)|0)+(Et>>>26)|0,Et&=67108863,B=Math.imul(W,lt),s=(s=Math.imul(W,It))+Math.imul(k,lt)|0,F=Math.imul(k,It);var pt=(o+(B=B+Math.imul(J,it)|0)|0)+((8191&(s=(s=s+Math.imul(J,at)|0)+Math.imul(X,it)|0))<<13)|0;o=((F=F+Math.imul(X,at)|0)+(s>>>13)|0)+(pt>>>26)|0,pt&=67108863;var Dt=(o+(B=Math.imul(W,it))|0)+((8191&(s=(s=Math.imul(W,at))+Math.imul(k,it)|0))<<13)|0;return o=((F=Math.imul(k,at))+(s>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,c[0]=dt,c[1]=ut,c[2]=Ct,c[3]=yt,c[4]=St,c[5]=bt,c[6]=mt,c[7]=Gt,c[8]=xt,c[9]=Lt,c[10]=Zt,c[11]=At,c[12]=ht,c[13]=Nt,c[14]=Rt,c[15]=Vt,c[16]=Et,c[17]=pt,c[18]=Dt,0!==o&&(c[19]=o,Q.length++),Q};function i(t,e,Q){return(new a).mulp(t,e,Q)}function a(t,e){this.x=t,this.y=e}Math.imul||(r=I),s.prototype.mulTo=function(t,e){var Q,B=this.length+t.length;return Q=10===this.length&&10===t.length?r(this,t,e):B<63?I(this,t,e):B<1024?function(t,e,Q){Q.negative=e.negative^t.negative,Q.length=t.length+e.length;for(var B=0,s=0,F=0;F<Q.length-1;F++){var U=s;s=0;for(var n=67108863&B,c=Math.min(F,e.length-1),o=Math.max(0,F-t.length+1);o<=c;o++){var g=F-o,l=(0|t.words[g])*(0|e.words[o]),I=67108863&l;n=67108863&(I=I+n|0),s+=(U=(U=U+(l/67108864|0)|0)+(I>>>26)|0)>>>26,U&=67108863}Q.words[F]=n,B=U,U=s}return 0!==B?Q.words[F]=B:Q.length--,Q.strip()}(this,t,e):i(this,t,e),Q},a.prototype.makeRBT=function(t){for(var e=new Array(t),Q=s.prototype._countBits(t)-1,B=0;B<t;B++)e[B]=this.revBin(B,Q,t);return e},a.prototype.revBin=function(t,e,Q){if(0===t||t===Q-1)return t;for(var B=0,s=0;s<e;s++)B|=(1&t)<<e-s-1,t>>=1;return B},a.prototype.permute=function(t,e,Q,B,s,F){for(var U=0;U<F;U++)B[U]=e[t[U]],s[U]=Q[t[U]]},a.prototype.transform=function(t,e,Q,B,s,F){this.permute(F,t,e,Q,B,s);for(var U=1;U<s;U<<=1)for(var n=U<<1,c=Math.cos(2*Math.PI/n),o=Math.sin(2*Math.PI/n),g=0;g<s;g+=n)for(var l=c,I=o,r=0;r<U;r++){var i=Q[g+r],a=B[g+r],d=Q[g+r+U],u=B[g+r+U],C=l*d-I*u;u=l*u+I*d,d=C,Q[g+r]=i+d,B[g+r]=a+u,Q[g+r+U]=i-d,B[g+r+U]=a-u,r!==n&&(C=c*l-o*I,I=c*I+o*l,l=C)}},a.prototype.guessLen13b=function(t,e){var Q=1|Math.max(e,t),B=1&Q,s=0;for(Q=Q/2|0;Q;Q>>>=1)s++;return 1<<s+1+B},a.prototype.conjugate=function(t,e,Q){if(!(Q<=1))for(var B=0;B<Q/2;B++){var s=t[B];t[B]=t[Q-B-1],t[Q-B-1]=s,s=e[B],e[B]=-e[Q-B-1],e[Q-B-1]=-s}},a.prototype.normalize13b=function(t,e){for(var Q=0,B=0;B<e/2;B++){var s=8192*Math.round(t[2*B+1]/e)+Math.round(t[2*B]/e)+Q;t[B]=67108863&s,Q=s<67108864?0:s/67108864|0}return t},a.prototype.convert13b=function(t,e,B,s){for(var F=0,U=0;U<e;U++)F+=0|t[U],B[2*U]=8191&F,F>>>=13,B[2*U+1]=8191&F,F>>>=13;for(U=2*e;U<s;++U)B[U]=0;Q(0===F),Q(0==(-8192&F))},a.prototype.stub=function(t){for(var e=new Array(t),Q=0;Q<t;Q++)e[Q]=0;return e},a.prototype.mulp=function(t,e,Q){var B=2*this.guessLen13b(t.length,e.length),s=this.makeRBT(B),F=this.stub(B),U=new Array(B),n=new Array(B),c=new Array(B),o=new Array(B),g=new Array(B),l=new Array(B),I=Q.words;I.length=B,this.convert13b(t.words,t.length,U,B),this.convert13b(e.words,e.length,o,B),this.transform(U,F,n,c,B,s),this.transform(o,F,g,l,B,s);for(var r=0;r<B;r++){var i=n[r]*g[r]-c[r]*l[r];c[r]=n[r]*l[r]+c[r]*g[r],n[r]=i}return this.conjugate(n,c,B),this.transform(n,c,I,F,B,s),this.conjugate(I,F,B),this.normalize13b(I,B),Q.negative=t.negative^e.negative,Q.length=t.length+e.length,Q.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),i(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){Q("number"==typeof t),Q(t<67108864);for(var e=0,B=0;B<this.length;B++){var s=(0|this.words[B])*t,F=(67108863&s)+(67108863&e);e>>=26,e+=s/67108864|0,e+=F>>>26,this.words[B]=67108863&F}return 0!==e&&(this.words[B]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),Q=0;Q<e.length;Q++){var B=Q/26|0,s=Q%26;e[Q]=(t.words[B]&1<<s)>>>s}return e}(t);if(0===e.length)return new s(1);for(var Q=this,B=0;B<e.length&&0===e[B];B++,Q=Q.sqr());if(++B<e.length)for(var F=Q.sqr();B<e.length;B++,F=F.sqr())0!==e[B]&&(Q=Q.mul(F));return Q},s.prototype.iushln=function(t){Q("number"==typeof t&&t>=0);var e,B=t%26,s=(t-B)/26,F=67108863>>>26-B<<26-B;if(0!==B){var U=0;for(e=0;e<this.length;e++){var n=this.words[e]&F,c=(0|this.words[e])-n<<B;this.words[e]=c|U,U=n>>>26-B}U&&(this.words[e]=U,this.length++)}if(0!==s){for(e=this.length-1;e>=0;e--)this.words[e+s]=this.words[e];for(e=0;e<s;e++)this.words[e]=0;this.length+=s}return this.strip()},s.prototype.ishln=function(t){return Q(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,B){var s;Q("number"==typeof t&&t>=0),s=e?(e-e%26)/26:0;var F=t%26,U=Math.min((t-F)/26,this.length),n=67108863^67108863>>>F<<F,c=B;if(s-=U,s=Math.max(0,s),c){for(var o=0;o<U;o++)c.words[o]=this.words[o];c.length=U}if(0===U);else if(this.length>U)for(this.length-=U,o=0;o<this.length;o++)this.words[o]=this.words[o+U];else this.words[0]=0,this.length=1;var g=0;for(o=this.length-1;o>=0&&(0!==g||o>=s);o--){var l=0|this.words[o];this.words[o]=g<<26-F|l>>>F,g=l&n}return c&&0!==g&&(c.words[c.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,B){return Q(0===this.negative),this.iushrn(t,e,B)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){Q("number"==typeof t&&t>=0);var e=t%26,B=(t-e)/26,s=1<<e;return!(this.length<=B||!(this.words[B]&s))},s.prototype.imaskn=function(t){Q("number"==typeof t&&t>=0);var e=t%26,B=(t-e)/26;if(Q(0===this.negative,"imaskn works only with positive numbers"),this.length<=B)return this;if(0!==e&&B++,this.length=Math.min(B,this.length),0!==e){var s=67108863^67108863>>>e<<e;this.words[this.length-1]&=s}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return Q("number"==typeof t),Q(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(Q("number"==typeof t),Q(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,B){var s,F,U=t.length+B;this._expand(U);var n=0;for(s=0;s<t.length;s++){F=(0|this.words[s+B])+n;var c=(0|t.words[s])*e;n=((F-=67108863&c)>>26)-(c/67108864|0),this.words[s+B]=67108863&F}for(;s<this.length-B;s++)n=(F=(0|this.words[s+B])+n)>>26,this.words[s+B]=67108863&F;if(0===n)return this.strip();for(Q(-1===n),n=0,s=0;s<this.length;s++)n=(F=-(0|this.words[s])+n)>>26,this.words[s]=67108863&F;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var Q=(this.length,t.length),B=this.clone(),F=t,U=0|F.words[F.length-1];0!=(Q=26-this._countBits(U))&&(F=F.ushln(Q),B.iushln(Q),U=0|F.words[F.length-1]);var n,c=B.length-F.length;if("mod"!==e){(n=new s(null)).length=c+1,n.words=new Array(n.length);for(var o=0;o<n.length;o++)n.words[o]=0}var g=B.clone()._ishlnsubmul(F,1,c);0===g.negative&&(B=g,n&&(n.words[c]=1));for(var l=c-1;l>=0;l--){var I=67108864*(0|B.words[F.length+l])+(0|B.words[F.length+l-1]);for(I=Math.min(I/U|0,67108863),B._ishlnsubmul(F,I,l);0!==B.negative;)I--,B.negative=0,B._ishlnsubmul(F,1,l),B.isZero()||(B.negative^=1);n&&(n.words[l]=I)}return n&&n.strip(),B.strip(),"div"!==e&&0!==Q&&B.iushrn(Q),{div:n||null,mod:B}},s.prototype.divmod=function(t,e,B){return Q(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(n=this.neg().divmod(t,e),"mod"!==e&&(F=n.div.neg()),"div"!==e&&(U=n.mod.neg(),B&&0!==U.negative&&U.iadd(t)),{div:F,mod:U}):0===this.negative&&0!==t.negative?(n=this.divmod(t.neg(),e),"mod"!==e&&(F=n.div.neg()),{div:F,mod:n.mod}):0!=(this.negative&t.negative)?(n=this.neg().divmod(t.neg(),e),"div"!==e&&(U=n.mod.neg(),B&&0!==U.negative&&U.isub(t)),{div:n.div,mod:U}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var F,U,n},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var Q=0!==e.div.negative?e.mod.isub(t):e.mod,B=t.ushrn(1),s=t.andln(1),F=Q.cmp(B);return F<0||1===s&&0===F?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){Q(t<=67108863);for(var e=(1<<26)%t,B=0,s=this.length-1;s>=0;s--)B=(e*B+(0|this.words[s]))%t;return B},s.prototype.idivn=function(t){Q(t<=67108863);for(var e=0,B=this.length-1;B>=0;B--){var s=(0|this.words[B])+67108864*e;this.words[B]=s/t|0,e=s%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){Q(0===t.negative),Q(!t.isZero());var e=this,B=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var F=new s(1),U=new s(0),n=new s(0),c=new s(1),o=0;e.isEven()&&B.isEven();)e.iushrn(1),B.iushrn(1),++o;for(var g=B.clone(),l=e.clone();!e.isZero();){for(var I=0,r=1;0==(e.words[0]&r)&&I<26;++I,r<<=1);if(I>0)for(e.iushrn(I);I-- >0;)(F.isOdd()||U.isOdd())&&(F.iadd(g),U.isub(l)),F.iushrn(1),U.iushrn(1);for(var i=0,a=1;0==(B.words[0]&a)&&i<26;++i,a<<=1);if(i>0)for(B.iushrn(i);i-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(g),c.isub(l)),n.iushrn(1),c.iushrn(1);e.cmp(B)>=0?(e.isub(B),F.isub(n),U.isub(c)):(B.isub(e),n.isub(F),c.isub(U))}return{a:n,b:c,gcd:B.iushln(o)}},s.prototype._invmp=function(t){Q(0===t.negative),Q(!t.isZero());var e=this,B=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var F,U=new s(1),n=new s(0),c=B.clone();e.cmpn(1)>0&&B.cmpn(1)>0;){for(var o=0,g=1;0==(e.words[0]&g)&&o<26;++o,g<<=1);if(o>0)for(e.iushrn(o);o-- >0;)U.isOdd()&&U.iadd(c),U.iushrn(1);for(var l=0,I=1;0==(B.words[0]&I)&&l<26;++l,I<<=1);if(l>0)for(B.iushrn(l);l-- >0;)n.isOdd()&&n.iadd(c),n.iushrn(1);e.cmp(B)>=0?(e.isub(B),U.isub(n)):(B.isub(e),n.isub(U))}return(F=0===e.cmpn(1)?U:n).cmpn(0)<0&&F.iadd(t),F},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),Q=t.clone();e.negative=0,Q.negative=0;for(var B=0;e.isEven()&&Q.isEven();B++)e.iushrn(1),Q.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;Q.isEven();)Q.iushrn(1);var s=e.cmp(Q);if(s<0){var F=e;e=Q,Q=F}else if(0===s||0===Q.cmpn(1))break;e.isub(Q)}return Q.iushln(B)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){Q("number"==typeof t);var e=t%26,B=(t-e)/26,s=1<<e;if(this.length<=B)return this._expand(B+1),this.words[B]|=s,this;for(var F=s,U=B;0!==F&&U<this.length;U++){var n=0|this.words[U];F=(n+=F)>>>26,n&=67108863,this.words[U]=n}return 0!==F&&(this.words[U]=F,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,B=t<0;if(0!==this.negative&&!B)return-1;if(0===this.negative&&B)return 1;if(this.strip(),this.length>1)e=1;else{B&&(t=-t),Q(t<=67108863,"Number is too big");var s=0|this.words[0];e=s===t?0:s<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,Q=this.length-1;Q>=0;Q--){var B=0|this.words[Q],s=0|t.words[Q];if(B!==s){B<s?e=-1:B>s&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new m(t)},s.prototype.toRed=function(t){return Q(!this.red,"Already a number in reduction context"),Q(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return Q(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return Q(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return Q(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return Q(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return Q(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return Q(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return Q(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return Q(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return Q(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return Q(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return Q(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return Q(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return Q(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return Q(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return Q(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var d={k256:null,p224:null,p192:null,p25519:null};function u(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function C(){u.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){u.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){u.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function b(){u.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function m(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else Q(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function G(t){m.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},u.prototype.ireduce=function(t){var e,Q=t;do{this.split(Q,this.tmp),e=(Q=(Q=this.imulK(Q)).iadd(this.tmp)).bitLength()}while(e>this.n);var B=e<this.n?-1:Q.ucmp(this.p);return 0===B?(Q.words[0]=0,Q.length=1):B>0?Q.isub(this.p):void 0!==Q.strip?Q.strip():Q._strip(),Q},u.prototype.split=function(t,e){t.iushrn(this.n,0,e)},u.prototype.imulK=function(t){return t.imul(this.k)},B(C,u),C.prototype.split=function(t,e){for(var Q=4194303,B=Math.min(t.length,9),s=0;s<B;s++)e.words[s]=t.words[s];if(e.length=B,t.length<=9)return t.words[0]=0,void(t.length=1);var F=t.words[9];for(e.words[e.length++]=F&Q,s=10;s<t.length;s++){var U=0|t.words[s];t.words[s-10]=(U&Q)<<4|F>>>22,F=U}F>>>=22,t.words[s-10]=F,0===F&&t.length>10?t.length-=10:t.length-=9},C.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,Q=0;Q<t.length;Q++){var B=0|t.words[Q];e+=977*B,t.words[Q]=67108863&e,e=64*B+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},B(y,u),B(S,u),B(b,u),b.prototype.imulK=function(t){for(var e=0,Q=0;Q<t.length;Q++){var B=19*(0|t.words[Q])+e,s=67108863&B;B>>>=26,t.words[Q]=s,e=B}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(d[t])return d[t];var e;if("k256"===t)e=new C;else if("p224"===t)e=new y;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new b}return d[t]=e,e},m.prototype._verify1=function(t){Q(0===t.negative,"red works only with positives"),Q(t.red,"red works only with red numbers")},m.prototype._verify2=function(t,e){Q(0==(t.negative|e.negative),"red works only with positives"),Q(t.red&&t.red===e.red,"red works only with red numbers")},m.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},m.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},m.prototype.add=function(t,e){this._verify2(t,e);var Q=t.add(e);return Q.cmp(this.m)>=0&&Q.isub(this.m),Q._forceRed(this)},m.prototype.iadd=function(t,e){this._verify2(t,e);var Q=t.iadd(e);return Q.cmp(this.m)>=0&&Q.isub(this.m),Q},m.prototype.sub=function(t,e){this._verify2(t,e);var Q=t.sub(e);return Q.cmpn(0)<0&&Q.iadd(this.m),Q._forceRed(this)},m.prototype.isub=function(t,e){this._verify2(t,e);var Q=t.isub(e);return Q.cmpn(0)<0&&Q.iadd(this.m),Q},m.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},m.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},m.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},m.prototype.isqr=function(t){return this.imul(t,t.clone())},m.prototype.sqr=function(t){return this.mul(t,t)},m.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(Q(e%2==1),3===e){var B=this.m.add(new s(1)).iushrn(2);return this.pow(t,B)}for(var F=this.m.subn(1),U=0;!F.isZero()&&0===F.andln(1);)U++,F.iushrn(1);Q(!F.isZero());var n=new s(1).toRed(this),c=n.redNeg(),o=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new s(2*g*g).toRed(this);0!==this.pow(g,o).cmp(c);)g.redIAdd(c);for(var l=this.pow(g,F),I=this.pow(t,F.addn(1).iushrn(1)),r=this.pow(t,F),i=U;0!==r.cmp(n);){for(var a=r,d=0;0!==a.cmp(n);d++)a=a.redSqr();Q(d<i);var u=this.pow(l,new s(1).iushln(i-d-1));I=I.redMul(u),l=u.redSqr(),r=r.redMul(l),i=d}return I},m.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},m.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var Q=new Array(16);Q[0]=new s(1).toRed(this),Q[1]=t;for(var B=2;B<Q.length;B++)Q[B]=this.mul(Q[B-1],t);var F=Q[0],U=0,n=0,c=e.bitLength()%26;for(0===c&&(c=26),B=e.length-1;B>=0;B--){for(var o=e.words[B],g=c-1;g>=0;g--){var l=o>>g&1;F!==Q[0]&&(F=this.sqr(F)),0!==l||0!==U?(U<<=1,U|=l,(4==++n||0===B&&0===g)&&(F=this.mul(F,Q[U]),n=0,U=0)):n=0}c=26}return F},m.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},m.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new G(t)},B(G,m),G.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},G.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},G.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var Q=t.imul(e),B=Q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=Q.isub(B).iushrn(this.shift),F=s;return s.cmp(this.m)>=0?F=s.isub(this.m):s.cmpn(0)<0&&(F=s.iadd(this.m)),F._forceRed(this)},G.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var Q=t.mul(e),B=Q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=Q.isub(B).iushrn(this.shift),U=F;return F.cmp(this.m)>=0?U=F.isub(this.m):F.cmpn(0)<0&&(U=F.iadd(this.m)),U._forceRed(this)},G.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(bn,commonjsGlobal);var _BN=bn.exports,minimalisticAssert=assert$f;function assert$f(t,e){if(!t)throw new Error(e||"Assertion failed")}assert$f.equal=function(t,e,Q){if(t!=e)throw new Error(Q||"Assertion failed: "+t+" != "+e)};var utils$l={};!function(t){var e=utils$l;function Q(t){return 1===t.length?"0"+t:t}function B(t){for(var e="",B=0;B<t.length;B++)e+=Q(t[B].toString(16));return e}e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var Q=[];if("string"!=typeof t){for(var B=0;B<t.length;B++)Q[B]=0|t[B];return Q}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(B=0;B<t.length;B+=2)Q.push(parseInt(t[B]+t[B+1],16))}else for(B=0;B<t.length;B++){var s=t.charCodeAt(B),F=s>>8,U=255&s;F?Q.push(F,U):Q.push(U)}return Q},e.zero2=Q,e.toHex=B,e.encode=function(t,e){return"hex"===e?B(t):t}}(),function(t){var e=utils$m,Q=bn.exports,B=minimalisticAssert,s=utils$l;e.assert=B,e.toArray=s.toArray,e.zero2=s.zero2,e.toHex=s.toHex,e.encode=s.encode,e.getNAF=function(t,e,Q){var B=new Array(Math.max(t.bitLength(),Q)+1);B.fill(0);for(var s=1<<e+1,F=t.clone(),U=0;U<B.length;U++){var n,c=F.andln(s-1);F.isOdd()?(n=c>(s>>1)-1?(s>>1)-c:c,F.isubn(n)):n=0,B[U]=n,F.iushrn(1)}return B},e.getJSF=function(t,e){var Q=[[],[]];t=t.clone(),e=e.clone();for(var B,s=0,F=0;t.cmpn(-s)>0||e.cmpn(-F)>0;){var U,n,c=t.andln(3)+s&3,o=e.andln(3)+F&3;3===c&&(c=-1),3===o&&(o=-1),U=0==(1&c)?0:3!==(B=t.andln(7)+s&7)&&5!==B||2!==o?c:-c,Q[0].push(U),n=0==(1&o)?0:3!==(B=e.andln(7)+F&7)&&5!==B||2!==c?o:-o,Q[1].push(n),2*s===U+1&&(s=1-s),2*F===n+1&&(F=1-F),t.iushrn(1),e.iushrn(1)}return Q},e.cachedProperty=function(t,e,Q){var B="_"+e;t.prototype[e]=function(){return void 0!==this[B]?this[B]:this[B]=Q.call(this)}},e.parseBytes=function(t){return"string"==typeof t?e.toArray(t,"hex"):t},e.intFromLE=function(t){return new Q(t,"hex","le")}}();var brorand={exports:{}},r$1;function Rand(t){this.rand=t}if(brorand.exports=function(t){return r$1||(r$1=new Rand(null)),r$1.generate(t)},brorand.exports.Rand=Rand,Rand.prototype.generate=function(t){return this._rand(t)},Rand.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),Q=0;Q<e.length;Q++)e[Q]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto$1=require("crypto");if("function"!=typeof crypto$1.randomBytes)throw new Error("Not supported");Rand.prototype._rand=function(t){return crypto$1.randomBytes(t)}}catch(t){}var curve={},BN$8=bn.exports,utils$k=utils$m,getNAF=utils$k.getNAF,getJSF=utils$k.getJSF,assert$e=utils$k.assert;function BaseCurve(t,e){this.type=t,this.p=new BN$8(e.p,16),this.red=e.prime?BN$8.red(e.prime):BN$8.mont(this.p),this.zero=new BN$8(0).toRed(this.red),this.one=new BN$8(1).toRed(this.red),this.two=new BN$8(2).toRed(this.red),this.n=e.n&&new BN$8(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Q=this.n&&this.p.div(this.n);!Q||Q.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base=BaseCurve;function BasePoint(t,e){this.curve=t,this.type=e,this.precomputed=null}BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(t,e){assert$e(t.precomputed);var Q=t._getDoubles(),B=getNAF(e,1,this._bitLength),s=(1<<Q.step+1)-(Q.step%2==0?2:1);s/=3;var F,U,n=[];for(F=0;F<B.length;F+=Q.step){U=0;for(var c=F+Q.step-1;c>=F;c--)U=(U<<1)+B[c];n.push(U)}for(var o=this.jpoint(null,null,null),g=this.jpoint(null,null,null),l=s;l>0;l--){for(F=0;F<n.length;F++)(U=n[F])===l?g=g.mixedAdd(Q.points[F]):U===-l&&(g=g.mixedAdd(Q.points[F].neg()));o=o.add(g)}return o.toP()},BaseCurve.prototype._wnafMul=function(t,e){var Q=4,B=t._getNAFPoints(Q);Q=B.wnd;for(var s=B.points,F=getNAF(e,Q,this._bitLength),U=this.jpoint(null,null,null),n=F.length-1;n>=0;n--){for(var c=0;n>=0&&0===F[n];n--)c++;if(n>=0&&c++,U=U.dblp(c),n<0)break;var o=F[n];assert$e(0!==o),U="affine"===t.type?o>0?U.mixedAdd(s[o-1>>1]):U.mixedAdd(s[-o-1>>1].neg()):o>0?U.add(s[o-1>>1]):U.add(s[-o-1>>1].neg())}return"affine"===t.type?U.toP():U},BaseCurve.prototype._wnafMulAdd=function(t,e,Q,B,s){var F,U,n,c=this._wnafT1,o=this._wnafT2,g=this._wnafT3,l=0;for(F=0;F<B;F++){var I=(n=e[F])._getNAFPoints(t);c[F]=I.wnd,o[F]=I.points}for(F=B-1;F>=1;F-=2){var r=F-1,i=F;if(1===c[r]&&1===c[i]){var a=[e[r],null,null,e[i]];0===e[r].y.cmp(e[i].y)?(a[1]=e[r].add(e[i]),a[2]=e[r].toJ().mixedAdd(e[i].neg())):0===e[r].y.cmp(e[i].y.redNeg())?(a[1]=e[r].toJ().mixedAdd(e[i]),a[2]=e[r].add(e[i].neg())):(a[1]=e[r].toJ().mixedAdd(e[i]),a[2]=e[r].toJ().mixedAdd(e[i].neg()));var d=[-3,-1,-5,-7,0,7,5,1,3],u=getJSF(Q[r],Q[i]);for(l=Math.max(u[0].length,l),g[r]=new Array(l),g[i]=new Array(l),U=0;U<l;U++){var C=0|u[0][U],y=0|u[1][U];g[r][U]=d[3*(C+1)+(y+1)],g[i][U]=0,o[r]=a}}else g[r]=getNAF(Q[r],c[r],this._bitLength),g[i]=getNAF(Q[i],c[i],this._bitLength),l=Math.max(g[r].length,l),l=Math.max(g[i].length,l)}var S=this.jpoint(null,null,null),b=this._wnafT4;for(F=l;F>=0;F--){for(var m=0;F>=0;){var G=!0;for(U=0;U<B;U++)b[U]=0|g[U][F],0!==b[U]&&(G=!1);if(!G)break;m++,F--}if(F>=0&&m++,S=S.dblp(m),F<0)break;for(U=0;U<B;U++){var x=b[U];0!==x&&(x>0?n=o[U][x-1>>1]:x<0&&(n=o[U][-x-1>>1].neg()),S="affine"===n.type?S.mixedAdd(n):S.add(n))}}for(F=0;F<B;F++)o[F]=null;return s?S:S.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(t,e){t=utils$k.toArray(t,e);var Q=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*Q)return 6===t[0]?assert$e(t[t.length-1]%2==0):7===t[0]&&assert$e(t[t.length-1]%2==1),this.point(t.slice(1,1+Q),t.slice(1+Q,1+2*Q));if((2===t[0]||3===t[0])&&t.length-1===Q)return this.pointFromX(t.slice(1,1+Q),3===t[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(t){return this.encode(t,!0)},BasePoint.prototype._encode=function(t){var e=this.curve.p.byteLength(),Q=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(Q):[4].concat(Q,this.getY().toArray("be",e))},BasePoint.prototype.encode=function(t,e){return utils$k.encode(this._encode(e),t)},BasePoint.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},BasePoint.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},BasePoint.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Q=[this],B=this,s=0;s<e;s+=t){for(var F=0;F<t;F++)B=B.dbl();Q.push(B)}return{step:t,points:Q}},BasePoint.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],Q=(1<<t)-1,B=1===Q?null:this.dbl(),s=1;s<Q;s++)e[s]=e[s-1].add(B);return{wnd:t,points:e}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(t){for(var e=this,Q=0;Q<t;Q++)e=e.dbl();return e};var inherits_browser={exports:{}};"function"==typeof Object.create?inherits_browser.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(t,e){if(e){t.super_=e;var Q=function(){};Q.prototype=e.prototype,t.prototype=new Q,t.prototype.constructor=t}};var utils$j=utils$m,BN$7=bn.exports,inherits$4=inherits_browser.exports,Base$2=base,assert$d=utils$j.assert;function ShortCurve(t){Base$2.call(this,"short",t),this.a=new BN$7(t.a,16).toRed(this.red),this.b=new BN$7(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$4(ShortCurve,Base$2);var short=ShortCurve;function Point$2(t,e,Q,B){Base$2.BasePoint.call(this,t,"affine"),null===e&&null===Q?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$7(e,16),this.y=new BN$7(Q,16),B&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(t,e,Q,B){Base$2.BasePoint.call(this,t,"jacobian"),null===e&&null===Q&&null===B?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$7(0)):(this.x=new BN$7(e,16),this.y=new BN$7(Q,16),this.z=new BN$7(B,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ShortCurve.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,Q;if(t.beta)e=new BN$7(t.beta,16).toRed(this.red);else{var B=this._getEndoRoots(this.p);e=(e=B[0].cmp(B[1])<0?B[0]:B[1]).toRed(this.red)}if(t.lambda)Q=new BN$7(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?Q=s[0]:(Q=s[1],assert$d(0===this.g.mul(Q).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:Q,basis:t.basis?t.basis.map((function(t){return{a:new BN$7(t.a,16),b:new BN$7(t.b,16)}})):this._getEndoBasis(Q)}}},ShortCurve.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:BN$7.mont(t),Q=new BN$7(2).toRed(e).redInvm(),B=Q.redNeg(),s=new BN$7(3).toRed(e).redNeg().redSqrt().redMul(Q);return[B.redAdd(s).fromRed(),B.redSub(s).fromRed()]},ShortCurve.prototype._getEndoBasis=function(t){for(var e,Q,B,s,F,U,n,c,o,g=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=t,I=this.n.clone(),r=new BN$7(1),i=new BN$7(0),a=new BN$7(0),d=new BN$7(1),u=0;0!==l.cmpn(0);){var C=I.div(l);c=I.sub(C.mul(l)),o=a.sub(C.mul(r));var y=d.sub(C.mul(i));if(!B&&c.cmp(g)<0)e=n.neg(),Q=r,B=c.neg(),s=o;else if(B&&2==++u)break;n=c,I=l,l=c,a=r,r=o,d=i,i=y}F=c.neg(),U=o;var S=B.sqr().add(s.sqr());return F.sqr().add(U.sqr()).cmp(S)>=0&&(F=e,U=Q),B.negative&&(B=B.neg(),s=s.neg()),F.negative&&(F=F.neg(),U=U.neg()),[{a:B,b:s},{a:F,b:U}]},ShortCurve.prototype._endoSplit=function(t){var e=this.endo.basis,Q=e[0],B=e[1],s=B.b.mul(t).divRound(this.n),F=Q.b.neg().mul(t).divRound(this.n),U=s.mul(Q.a),n=F.mul(B.a),c=s.mul(Q.b),o=F.mul(B.b);return{k1:t.sub(U).sub(n),k2:c.add(o).neg()}},ShortCurve.prototype.pointFromX=function(t,e){(t=new BN$7(t,16)).red||(t=t.toRed(this.red));var Q=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),B=Q.redSqrt();if(0!==B.redSqr().redSub(Q).cmp(this.zero))throw new Error("invalid point");var s=B.fromRed().isOdd();return(e&&!s||!e&&s)&&(B=B.redNeg()),this.point(t,B)},ShortCurve.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,Q=t.y,B=this.a.redMul(e),s=e.redSqr().redMul(e).redIAdd(B).redIAdd(this.b);return 0===Q.redSqr().redISub(s).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(t,e,Q){for(var B=this._endoWnafT1,s=this._endoWnafT2,F=0;F<t.length;F++){var U=this._endoSplit(e[F]),n=t[F],c=n._getBeta();U.k1.negative&&(U.k1.ineg(),n=n.neg(!0)),U.k2.negative&&(U.k2.ineg(),c=c.neg(!0)),B[2*F]=n,B[2*F+1]=c,s[2*F]=U.k1,s[2*F+1]=U.k2}for(var o=this._wnafMulAdd(1,B,s,2*F,Q),g=0;g<2*F;g++)B[g]=null,s[g]=null;return o},inherits$4(Point$2,Base$2.BasePoint),ShortCurve.prototype.point=function(t,e,Q){return new Point$2(this,t,e,Q)},ShortCurve.prototype.pointFromJSON=function(t,e){return Point$2.fromJSON(this,t,e)},Point$2.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var Q=this.curve,B=function(t){return Q.point(t.x.redMul(Q.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(B)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(B)}}}return e}},Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point$2.fromJSON=function(t,e,Q){"string"==typeof e&&(e=JSON.parse(e));var B=t.point(e[0],e[1],Q);if(!e[2])return B;function s(e){return t.point(e[0],e[1],Q)}var F=e[2];return B.precomputed={beta:null,doubles:F.doubles&&{step:F.doubles.step,points:[B].concat(F.doubles.points.map(s))},naf:F.naf&&{wnd:F.naf.wnd,points:[B].concat(F.naf.points.map(s))}},B},Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point$2.prototype.isInfinity=function(){return this.inf},Point$2.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var Q=e.redSqr().redISub(this.x).redISub(t.x),B=e.redMul(this.x.redSub(Q)).redISub(this.y);return this.curve.point(Q,B)},Point$2.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,Q=this.x.redSqr(),B=t.redInvm(),s=Q.redAdd(Q).redIAdd(Q).redIAdd(e).redMul(B),F=s.redSqr().redISub(this.x.redAdd(this.x)),U=s.redMul(this.x.redSub(F)).redISub(this.y);return this.curve.point(F,U)},Point$2.prototype.getX=function(){return this.x.fromRed()},Point$2.prototype.getY=function(){return this.y.fromRed()},Point$2.prototype.mul=function(t){return t=new BN$7(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Point$2.prototype.mulAdd=function(t,e,Q){var B=[this,e],s=[t,Q];return this.curve.endo?this.curve._endoWnafMulAdd(B,s):this.curve._wnafMulAdd(1,B,s,2)},Point$2.prototype.jmulAdd=function(t,e,Q){var B=[this,e],s=[t,Q];return this.curve.endo?this.curve._endoWnafMulAdd(B,s,!0):this.curve._wnafMulAdd(1,B,s,2,!0)},Point$2.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Point$2.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var Q=this.precomputed,B=function(t){return t.neg()};e.precomputed={naf:Q.naf&&{wnd:Q.naf.wnd,points:Q.naf.points.map(B)},doubles:Q.doubles&&{step:Q.doubles.step,points:Q.doubles.points.map(B)}}}return e},Point$2.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits$4(JPoint,Base$2.BasePoint),ShortCurve.prototype.jpoint=function(t,e,Q){return new JPoint(this,t,e,Q)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),Q=this.x.redMul(e),B=this.y.redMul(e).redMul(t);return this.curve.point(Q,B)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),Q=this.z.redSqr(),B=this.x.redMul(e),s=t.x.redMul(Q),F=this.y.redMul(e.redMul(t.z)),U=t.y.redMul(Q.redMul(this.z)),n=B.redSub(s),c=F.redSub(U);if(0===n.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var o=n.redSqr(),g=o.redMul(n),l=B.redMul(o),I=c.redSqr().redIAdd(g).redISub(l).redISub(l),r=c.redMul(l.redISub(I)).redISub(F.redMul(g)),i=this.z.redMul(t.z).redMul(n);return this.curve.jpoint(I,r,i)},JPoint.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),Q=this.x,B=t.x.redMul(e),s=this.y,F=t.y.redMul(e).redMul(this.z),U=Q.redSub(B),n=s.redSub(F);if(0===U.cmpn(0))return 0!==n.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=U.redSqr(),o=c.redMul(U),g=Q.redMul(c),l=n.redSqr().redIAdd(o).redISub(g).redISub(g),I=n.redMul(g.redISub(l)).redISub(s.redMul(o)),r=this.z.redMul(U);return this.curve.jpoint(l,I,r)},JPoint.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var Q=this;for(e=0;e<t;e++)Q=Q.dbl();return Q}var B=this.curve.a,s=this.curve.tinv,F=this.x,U=this.y,n=this.z,c=n.redSqr().redSqr(),o=U.redAdd(U);for(e=0;e<t;e++){var g=F.redSqr(),l=o.redSqr(),I=l.redSqr(),r=g.redAdd(g).redIAdd(g).redIAdd(B.redMul(c)),i=F.redMul(l),a=r.redSqr().redISub(i.redAdd(i)),d=i.redISub(a),u=r.redMul(d);u=u.redIAdd(u).redISub(I);var C=o.redMul(n);e+1<t&&(c=c.redMul(I)),F=a,n=C,o=u}return this.curve.jpoint(F,o.redMul(s),n)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var t,e,Q;if(this.zOne){var B=this.x.redSqr(),s=this.y.redSqr(),F=s.redSqr(),U=this.x.redAdd(s).redSqr().redISub(B).redISub(F);U=U.redIAdd(U);var n=B.redAdd(B).redIAdd(B),c=n.redSqr().redISub(U).redISub(U),o=F.redIAdd(F);o=(o=o.redIAdd(o)).redIAdd(o),t=c,e=n.redMul(U.redISub(c)).redISub(o),Q=this.y.redAdd(this.y)}else{var g=this.x.redSqr(),l=this.y.redSqr(),I=l.redSqr(),r=this.x.redAdd(l).redSqr().redISub(g).redISub(I);r=r.redIAdd(r);var i=g.redAdd(g).redIAdd(g),a=i.redSqr(),d=I.redIAdd(I);d=(d=d.redIAdd(d)).redIAdd(d),t=a.redISub(r).redISub(r),e=i.redMul(r.redISub(t)).redISub(d),Q=(Q=this.y.redMul(this.z)).redIAdd(Q)}return this.curve.jpoint(t,e,Q)},JPoint.prototype._threeDbl=function(){var t,e,Q;if(this.zOne){var B=this.x.redSqr(),s=this.y.redSqr(),F=s.redSqr(),U=this.x.redAdd(s).redSqr().redISub(B).redISub(F);U=U.redIAdd(U);var n=B.redAdd(B).redIAdd(B).redIAdd(this.curve.a),c=n.redSqr().redISub(U).redISub(U);t=c;var o=F.redIAdd(F);o=(o=o.redIAdd(o)).redIAdd(o),e=n.redMul(U.redISub(c)).redISub(o),Q=this.y.redAdd(this.y)}else{var g=this.z.redSqr(),l=this.y.redSqr(),I=this.x.redMul(l),r=this.x.redSub(g).redMul(this.x.redAdd(g));r=r.redAdd(r).redIAdd(r);var i=I.redIAdd(I),a=(i=i.redIAdd(i)).redAdd(i);t=r.redSqr().redISub(a),Q=this.y.redAdd(this.z).redSqr().redISub(l).redISub(g);var d=l.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d),e=r.redMul(i.redISub(t)).redISub(d)}return this.curve.jpoint(t,e,Q)},JPoint.prototype._dbl=function(){var t=this.curve.a,e=this.x,Q=this.y,B=this.z,s=B.redSqr().redSqr(),F=e.redSqr(),U=Q.redSqr(),n=F.redAdd(F).redIAdd(F).redIAdd(t.redMul(s)),c=e.redAdd(e),o=(c=c.redIAdd(c)).redMul(U),g=n.redSqr().redISub(o.redAdd(o)),l=o.redISub(g),I=U.redSqr();I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var r=n.redMul(l).redISub(I),i=Q.redAdd(Q).redMul(B);return this.curve.jpoint(g,r,i)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),Q=this.z.redSqr(),B=e.redSqr(),s=t.redAdd(t).redIAdd(t),F=s.redSqr(),U=this.x.redAdd(e).redSqr().redISub(t).redISub(B),n=(U=(U=(U=U.redIAdd(U)).redAdd(U).redIAdd(U)).redISub(F)).redSqr(),c=B.redIAdd(B);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var o=s.redIAdd(U).redSqr().redISub(F).redISub(n).redISub(c),g=e.redMul(o);g=(g=g.redIAdd(g)).redIAdd(g);var l=this.x.redMul(n).redISub(g);l=(l=l.redIAdd(l)).redIAdd(l);var I=this.y.redMul(o.redMul(c.redISub(o)).redISub(U.redMul(n)));I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var r=this.z.redAdd(U).redSqr().redISub(Q).redISub(n);return this.curve.jpoint(l,I,r)},JPoint.prototype.mul=function(t,e){return t=new BN$7(t,e),this.curve._wnafMul(this,t)},JPoint.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),Q=t.z.redSqr();if(0!==this.x.redMul(Q).redISub(t.x.redMul(e)).cmpn(0))return!1;var B=e.redMul(this.z),s=Q.redMul(t.z);return 0===this.y.redMul(s).redISub(t.y.redMul(B)).cmpn(0)},JPoint.prototype.eqXToP=function(t){var e=this.z.redSqr(),Q=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(Q))return!0;for(var B=t.clone(),s=this.curve.redN.redMul(e);;){if(B.iadd(this.curve.n),B.cmp(this.curve.p)>=0)return!1;if(Q.redIAdd(s),0===this.x.cmp(Q))return!0}},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var BN$6=bn.exports,inherits$3=inherits_browser.exports,Base$1=base,utils$i=utils$m;function MontCurve(t){Base$1.call(this,"mont",t),this.a=new BN$6(t.a,16).toRed(this.red),this.b=new BN$6(t.b,16).toRed(this.red),this.i4=new BN$6(4).toRed(this.red).redInvm(),this.two=new BN$6(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$3(MontCurve,Base$1);var mont=MontCurve;function Point$1(t,e,Q){Base$1.BasePoint.call(this,t,"projective"),null===e&&null===Q?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$6(e,16),this.z=new BN$6(Q,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}MontCurve.prototype.validate=function(t){var e=t.normalize().x,Q=e.redSqr(),B=Q.redMul(e).redAdd(Q.redMul(this.a)).redAdd(e);return 0===B.redSqrt().redSqr().cmp(B)},inherits$3(Point$1,Base$1.BasePoint),MontCurve.prototype.decodePoint=function(t,e){return this.point(utils$i.toArray(t,e),1)},MontCurve.prototype.point=function(t,e){return new Point$1(this,t,e)},MontCurve.prototype.pointFromJSON=function(t){return Point$1.fromJSON(this,t)},Point$1.prototype.precompute=function(){},Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point$1.fromJSON=function(t,e){return new Point$1(t,e[0],e[1]||t.one)},Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point$1.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point$1.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),Q=t.redSub(e),B=t.redMul(e),s=Q.redMul(e.redAdd(this.curve.a24.redMul(Q)));return this.curve.point(B,s)},Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.diffAdd=function(t,e){var Q=this.x.redAdd(this.z),B=this.x.redSub(this.z),s=t.x.redAdd(t.z),F=t.x.redSub(t.z).redMul(Q),U=s.redMul(B),n=e.z.redMul(F.redAdd(U).redSqr()),c=e.x.redMul(F.redISub(U).redSqr());return this.curve.point(n,c)},Point$1.prototype.mul=function(t){for(var e=t.clone(),Q=this,B=this.curve.point(null,null),s=[];0!==e.cmpn(0);e.iushrn(1))s.push(e.andln(1));for(var F=s.length-1;F>=0;F--)0===s[F]?(Q=Q.diffAdd(B,this),B=B.dbl()):(B=Q.diffAdd(B,this),Q=Q.dbl());return B},Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$h=utils$m,BN$5=bn.exports,inherits$2=inherits_browser.exports,Base=base,assert$c=utils$h.assert;function EdwardsCurve(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,Base.call(this,"edwards",t),this.a=new BN$5(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$5(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$5(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$c(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}inherits$2(EdwardsCurve,Base);var edwards=EdwardsCurve;function Point(t,e,Q,B,s){Base.BasePoint.call(this,t,"projective"),null===e&&null===Q&&null===B?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$5(e,16),this.y=new BN$5(Q,16),this.z=B?new BN$5(B,16):this.curve.one,this.t=s&&new BN$5(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}EdwardsCurve.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},EdwardsCurve.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},EdwardsCurve.prototype.jpoint=function(t,e,Q,B){return this.point(t,e,Q,B)},EdwardsCurve.prototype.pointFromX=function(t,e){(t=new BN$5(t,16)).red||(t=t.toRed(this.red));var Q=t.redSqr(),B=this.c2.redSub(this.a.redMul(Q)),s=this.one.redSub(this.c2.redMul(this.d).redMul(Q)),F=B.redMul(s.redInvm()),U=F.redSqrt();if(0!==U.redSqr().redSub(F).cmp(this.zero))throw new Error("invalid point");var n=U.fromRed().isOdd();return(e&&!n||!e&&n)&&(U=U.redNeg()),this.point(t,U)},EdwardsCurve.prototype.pointFromY=function(t,e){(t=new BN$5(t,16)).red||(t=t.toRed(this.red));var Q=t.redSqr(),B=Q.redSub(this.c2),s=Q.redMul(this.d).redMul(this.c2).redSub(this.a),F=B.redMul(s.redInvm());if(0===F.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var U=F.redSqrt();if(0!==U.redSqr().redSub(F).cmp(this.zero))throw new Error("invalid point");return U.fromRed().isOdd()!==e&&(U=U.redNeg()),this.point(U,t)},EdwardsCurve.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),Q=t.y.redSqr(),B=e.redMul(this.a).redAdd(Q),s=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(Q)));return 0===B.cmp(s)},inherits$2(Point,Base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(t){return Point.fromJSON(this,t)},EdwardsCurve.prototype.point=function(t,e,Q,B){return new Point(this,t,e,Q,B)},Point.fromJSON=function(t,e){return new Point(t,e[0],e[1],e[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Point.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),Q=this.z.redSqr();Q=Q.redIAdd(Q);var B=this.curve._mulA(t),s=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),F=B.redAdd(e),U=F.redSub(Q),n=B.redSub(e),c=s.redMul(U),o=F.redMul(n),g=s.redMul(n),l=U.redMul(F);return this.curve.point(c,o,l,g)},Point.prototype._projDbl=function(){var t,e,Q,B,s,F,U=this.x.redAdd(this.y).redSqr(),n=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var o=(B=this.curve._mulA(n)).redAdd(c);this.zOne?(t=U.redSub(n).redSub(c).redMul(o.redSub(this.curve.two)),e=o.redMul(B.redSub(c)),Q=o.redSqr().redSub(o).redSub(o)):(s=this.z.redSqr(),F=o.redSub(s).redISub(s),t=U.redSub(n).redISub(c).redMul(F),e=o.redMul(B.redSub(c)),Q=o.redMul(F))}else B=n.redAdd(c),s=this.curve._mulC(this.z).redSqr(),F=B.redSub(s).redSub(s),t=this.curve._mulC(U.redISub(B)).redMul(F),e=this.curve._mulC(B).redMul(n.redISub(c)),Q=B.redMul(F);return this.curve.point(t,e,Q)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),Q=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),B=this.t.redMul(this.curve.dd).redMul(t.t),s=this.z.redMul(t.z.redAdd(t.z)),F=Q.redSub(e),U=s.redSub(B),n=s.redAdd(B),c=Q.redAdd(e),o=F.redMul(U),g=n.redMul(c),l=F.redMul(c),I=U.redMul(n);return this.curve.point(o,g,I,l)},Point.prototype._projAdd=function(t){var e,Q,B=this.z.redMul(t.z),s=B.redSqr(),F=this.x.redMul(t.x),U=this.y.redMul(t.y),n=this.curve.d.redMul(F).redMul(U),c=s.redSub(n),o=s.redAdd(n),g=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(F).redISub(U),l=B.redMul(c).redMul(g);return this.curve.twisted?(e=B.redMul(o).redMul(U.redSub(this.curve._mulA(F))),Q=c.redMul(o)):(e=B.redMul(o).redMul(U.redSub(F)),Q=this.curve._mulC(c).redMul(o)),this.curve.point(l,e,Q)},Point.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},Point.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},Point.prototype.mulAdd=function(t,e,Q){return this.curve._wnafMulAdd(1,[this,e],[t,Q],2,!1)},Point.prototype.jmulAdd=function(t,e,Q){return this.curve._wnafMulAdd(1,[this,e],[t,Q],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},Point.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var Q=t.clone(),B=this.curve.redN.redMul(this.z);;){if(Q.iadd(this.curve.n),Q.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(B),0===this.x.cmp(e))return!0}},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add,function(t){var e=t;e.base=base,e.short=short,e.mont=mont,e.edwards=edwards}(curve);var curves$2={},hash$2={},utils$g={},assert$b=minimalisticAssert,inherits$1=inherits_browser.exports;function isSurrogatePair(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function toArray(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var Q=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),s=0;s<t.length;s+=2)Q.push(parseInt(t[s]+t[s+1],16))}else for(var B=0,s=0;s<t.length;s++){var F=t.charCodeAt(s);F<128?Q[B++]=F:F<2048?(Q[B++]=F>>6|192,Q[B++]=63&F|128):isSurrogatePair(t,s)?(F=65536+((1023&F)<<10)+(1023&t.charCodeAt(++s)),Q[B++]=F>>18|240,Q[B++]=F>>12&63|128,Q[B++]=F>>6&63|128,Q[B++]=63&F|128):(Q[B++]=F>>12|224,Q[B++]=F>>6&63|128,Q[B++]=63&F|128)}else for(s=0;s<t.length;s++)Q[s]=0|t[s];return Q}function toHex$1(t){for(var e="",Q=0;Q<t.length;Q++)e+=zero2(t[Q].toString(16));return e}function htonl(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function toHex32(t,e){for(var Q="",B=0;B<t.length;B++){var s=t[B];"little"===e&&(s=htonl(s)),Q+=zero8(s.toString(16))}return Q}function zero2(t){return 1===t.length?"0"+t:t}function zero8(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}function join32(t,e,Q,B){var s=Q-e;assert$b(s%4==0);for(var F=new Array(s/4),U=0,n=e;U<F.length;U++,n+=4){var c;c="big"===B?t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]:t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n],F[U]=c>>>0}return F}function split32(t,e){for(var Q=new Array(4*t.length),B=0,s=0;B<t.length;B++,s+=4){var F=t[B];"big"===e?(Q[s]=F>>>24,Q[s+1]=F>>>16&255,Q[s+2]=F>>>8&255,Q[s+3]=255&F):(Q[s+3]=F>>>24,Q[s+2]=F>>>16&255,Q[s+1]=F>>>8&255,Q[s]=255&F)}return Q}function rotr32$1(t,e){return t>>>e|t<<32-e}function rotl32$2(t,e){return t<<e|t>>>32-e}function sum32$3(t,e){return t+e>>>0}function sum32_3$1(t,e,Q){return t+e+Q>>>0}function sum32_4$2(t,e,Q,B){return t+e+Q+B>>>0}function sum32_5$2(t,e,Q,B,s){return t+e+Q+B+s>>>0}function sum64$1(t,e,Q,B){var s=t[e],F=B+t[e+1]>>>0,U=(F<B?1:0)+Q+s;t[e]=U>>>0,t[e+1]=F}function sum64_hi$1(t,e,Q,B){return(e+B>>>0<e?1:0)+t+Q>>>0}function sum64_lo$1(t,e,Q,B){return e+B>>>0}function sum64_4_hi$1(t,e,Q,B,s,F,U,n){var c=0,o=e;return c+=(o=o+B>>>0)<e?1:0,c+=(o=o+F>>>0)<F?1:0,t+Q+s+U+(c+=(o=o+n>>>0)<n?1:0)>>>0}function sum64_4_lo$1(t,e,Q,B,s,F,U,n){return e+B+F+n>>>0}function sum64_5_hi$1(t,e,Q,B,s,F,U,n,c,o){var g=0,l=e;return g+=(l=l+B>>>0)<e?1:0,g+=(l=l+F>>>0)<F?1:0,g+=(l=l+n>>>0)<n?1:0,t+Q+s+U+c+(g+=(l=l+o>>>0)<o?1:0)>>>0}function sum64_5_lo$1(t,e,Q,B,s,F,U,n,c,o){return e+B+F+n+o>>>0}function rotr64_hi$1(t,e,Q){return(e<<32-Q|t>>>Q)>>>0}function rotr64_lo$1(t,e,Q){return(t<<32-Q|e>>>Q)>>>0}function shr64_hi$1(t,e,Q){return t>>>Q}function shr64_lo$1(t,e,Q){return(t<<32-Q|e>>>Q)>>>0}utils$g.inherits=inherits$1,utils$g.toArray=toArray,utils$g.toHex=toHex$1,utils$g.htonl=htonl,utils$g.toHex32=toHex32,utils$g.zero2=zero2,utils$g.zero8=zero8,utils$g.join32=join32,utils$g.split32=split32,utils$g.rotr32=rotr32$1,utils$g.rotl32=rotl32$2,utils$g.sum32=sum32$3,utils$g.sum32_3=sum32_3$1,utils$g.sum32_4=sum32_4$2,utils$g.sum32_5=sum32_5$2,utils$g.sum64=sum64$1,utils$g.sum64_hi=sum64_hi$1,utils$g.sum64_lo=sum64_lo$1,utils$g.sum64_4_hi=sum64_4_hi$1,utils$g.sum64_4_lo=sum64_4_lo$1,utils$g.sum64_5_hi=sum64_5_hi$1,utils$g.sum64_5_lo=sum64_5_lo$1,utils$g.rotr64_hi=rotr64_hi$1,utils$g.rotr64_lo=rotr64_lo$1,utils$g.shr64_hi=shr64_hi$1,utils$g.shr64_lo=shr64_lo$1;var common$5={},utils$f=utils$g,assert$a=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4,BlockHash$4.prototype.update=function(t,e){if(t=utils$f.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var Q=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-Q,t.length),0===this.pending.length&&(this.pending=null),t=utils$f.join32(t,0,t.length-Q,this.endian);for(var B=0;B<t.length;B+=this._delta32)this._update(t,B,B+this._delta32)}return this},BlockHash$4.prototype.digest=function(t){return this.update(this._pad()),assert$a(null===this.pending),this._digest(t)},BlockHash$4.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,Q=e-(t+this.padLength)%e,B=new Array(Q+this.padLength);B[0]=128;for(var s=1;s<Q;s++)B[s]=0;if(t<<=3,"big"===this.endian){for(var F=8;F<this.padLength;F++)B[s++]=0;B[s++]=0,B[s++]=0,B[s++]=0,B[s++]=0,B[s++]=t>>>24&255,B[s++]=t>>>16&255,B[s++]=t>>>8&255,B[s++]=255&t}else for(B[s++]=255&t,B[s++]=t>>>8&255,B[s++]=t>>>16&255,B[s++]=t>>>24&255,B[s++]=0,B[s++]=0,B[s++]=0,B[s++]=0,F=8;F<this.padLength;F++)B[s++]=0;return B};var sha={},common$4={},utils$e=utils$g,rotr32=utils$e.rotr32;function ft_1$1(t,e,Q,B){return 0===t?ch32$1(e,Q,B):1===t||3===t?p32(e,Q,B):2===t?maj32$1(e,Q,B):void 0}function ch32$1(t,e,Q){return t&e^~t&Q}function maj32$1(t,e,Q){return t&e^t&Q^e&Q}function p32(t,e,Q){return t^e^Q}function s0_256$1(t){return rotr32(t,2)^rotr32(t,13)^rotr32(t,22)}function s1_256$1(t){return rotr32(t,6)^rotr32(t,11)^rotr32(t,25)}function g0_256$1(t){return rotr32(t,7)^rotr32(t,18)^t>>>3}function g1_256$1(t){return rotr32(t,17)^rotr32(t,19)^t>>>10}common$4.ft_1=ft_1$1,common$4.ch32=ch32$1,common$4.maj32=maj32$1,common$4.p32=p32,common$4.s0_256=s0_256$1,common$4.s1_256=s1_256$1,common$4.g0_256=g0_256$1,common$4.g1_256=g1_256$1;var utils$d=utils$g,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$d.rotl32,sum32$2=utils$d.sum32,sum32_5$1=utils$d.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$d.inherits(SHA1,BlockHash$3);var _1$3=SHA1;SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(t,e){for(var Q=this.W,B=0;B<16;B++)Q[B]=t[e+B];for(;B<Q.length;B++)Q[B]=rotl32$1(Q[B-3]^Q[B-8]^Q[B-14]^Q[B-16],1);var s=this.h[0],F=this.h[1],U=this.h[2],n=this.h[3],c=this.h[4];for(B=0;B<Q.length;B++){var o=~~(B/20),g=sum32_5$1(rotl32$1(s,5),ft_1(o,F,U,n),c,Q[B],sha1_K[o]);c=n,n=U,U=rotl32$1(F,30),F=s,s=g}this.h[0]=sum32$2(this.h[0],s),this.h[1]=sum32$2(this.h[1],F),this.h[2]=sum32$2(this.h[2],U),this.h[3]=sum32$2(this.h[3],n),this.h[4]=sum32$2(this.h[4],c)},SHA1.prototype._digest=function(t){return"hex"===t?utils$d.toHex32(this.h,"big"):utils$d.split32(this.h,"big")};var utils$c=utils$g,common$2=common$5,shaCommon=common$4,assert$9=minimalisticAssert,sum32$1=utils$c.sum32,sum32_4$1=utils$c.sum32_4,sum32_5=utils$c.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$c.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512,SHA256$1.outSize=256,SHA256$1.hmacStrength=192,SHA256$1.padLength=64,SHA256$1.prototype._update=function(t,e){for(var Q=this.W,B=0;B<16;B++)Q[B]=t[e+B];for(;B<Q.length;B++)Q[B]=sum32_4$1(g1_256(Q[B-2]),Q[B-7],g0_256(Q[B-15]),Q[B-16]);var s=this.h[0],F=this.h[1],U=this.h[2],n=this.h[3],c=this.h[4],o=this.h[5],g=this.h[6],l=this.h[7];for(assert$9(this.k.length===Q.length),B=0;B<Q.length;B++){var I=sum32_5(l,s1_256(c),ch32(c,o,g),this.k[B],Q[B]),r=sum32$1(s0_256(s),maj32(s,F,U));l=g,g=o,o=c,c=sum32$1(n,I),n=U,U=F,F=s,s=sum32$1(I,r)}this.h[0]=sum32$1(this.h[0],s),this.h[1]=sum32$1(this.h[1],F),this.h[2]=sum32$1(this.h[2],U),this.h[3]=sum32$1(this.h[3],n),this.h[4]=sum32$1(this.h[4],c),this.h[5]=sum32$1(this.h[5],o),this.h[6]=sum32$1(this.h[6],g),this.h[7]=sum32$1(this.h[7],l)},SHA256$1.prototype._digest=function(t){return"hex"===t?utils$c.toHex32(this.h,"big"):utils$c.split32(this.h,"big")};var utils$b=utils$g,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$b.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(t){return"hex"===t?utils$b.toHex32(this.h.slice(0,7),"big"):utils$b.split32(this.h.slice(0,7),"big")};var utils$a=utils$g,common$1=common$5,assert$8=minimalisticAssert,rotr64_hi=utils$a.rotr64_hi,rotr64_lo=utils$a.rotr64_lo,shr64_hi=utils$a.shr64_hi,shr64_lo=utils$a.shr64_lo,sum64=utils$a.sum64,sum64_hi=utils$a.sum64_hi,sum64_lo=utils$a.sum64_lo,sum64_4_hi=utils$a.sum64_4_hi,sum64_4_lo=utils$a.sum64_4_lo,sum64_5_hi=utils$a.sum64_5_hi,sum64_5_lo=utils$a.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$a.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;function ch64_hi(t,e,Q,B,s){var F=t&Q^~t&s;return F<0&&(F+=4294967296),F}function ch64_lo(t,e,Q,B,s,F){var U=e&B^~e&F;return U<0&&(U+=4294967296),U}function maj64_hi(t,e,Q,B,s){var F=t&Q^t&s^Q&s;return F<0&&(F+=4294967296),F}function maj64_lo(t,e,Q,B,s,F){var U=e&B^e&F^B&F;return U<0&&(U+=4294967296),U}function s0_512_hi(t,e){var Q=rotr64_hi(t,e,28)^rotr64_hi(e,t,2)^rotr64_hi(e,t,7);return Q<0&&(Q+=4294967296),Q}function s0_512_lo(t,e){var Q=rotr64_lo(t,e,28)^rotr64_lo(e,t,2)^rotr64_lo(e,t,7);return Q<0&&(Q+=4294967296),Q}function s1_512_hi(t,e){var Q=rotr64_hi(t,e,14)^rotr64_hi(t,e,18)^rotr64_hi(e,t,9);return Q<0&&(Q+=4294967296),Q}function s1_512_lo(t,e){var Q=rotr64_lo(t,e,14)^rotr64_lo(t,e,18)^rotr64_lo(e,t,9);return Q<0&&(Q+=4294967296),Q}function g0_512_hi(t,e){var Q=rotr64_hi(t,e,1)^rotr64_hi(t,e,8)^shr64_hi(t,e,7);return Q<0&&(Q+=4294967296),Q}function g0_512_lo(t,e){var Q=rotr64_lo(t,e,1)^rotr64_lo(t,e,8)^shr64_lo(t,e,7);return Q<0&&(Q+=4294967296),Q}function g1_512_hi(t,e){var Q=rotr64_hi(t,e,19)^rotr64_hi(e,t,29)^shr64_hi(t,e,6);return Q<0&&(Q+=4294967296),Q}function g1_512_lo(t,e){var Q=rotr64_lo(t,e,19)^rotr64_lo(e,t,29)^shr64_lo(t,e,6);return Q<0&&(Q+=4294967296),Q}SHA512$1.blockSize=1024,SHA512$1.outSize=512,SHA512$1.hmacStrength=192,SHA512$1.padLength=128,SHA512$1.prototype._prepareBlock=function(t,e){for(var Q=this.W,B=0;B<32;B++)Q[B]=t[e+B];for(;B<Q.length;B+=2){var s=g1_512_hi(Q[B-4],Q[B-3]),F=g1_512_lo(Q[B-4],Q[B-3]),U=Q[B-14],n=Q[B-13],c=g0_512_hi(Q[B-30],Q[B-29]),o=g0_512_lo(Q[B-30],Q[B-29]),g=Q[B-32],l=Q[B-31];Q[B]=sum64_4_hi(s,F,U,n,c,o,g,l),Q[B+1]=sum64_4_lo(s,F,U,n,c,o,g,l)}},SHA512$1.prototype._update=function(t,e){this._prepareBlock(t,e);var Q=this.W,B=this.h[0],s=this.h[1],F=this.h[2],U=this.h[3],n=this.h[4],c=this.h[5],o=this.h[6],g=this.h[7],l=this.h[8],I=this.h[9],r=this.h[10],i=this.h[11],a=this.h[12],d=this.h[13],u=this.h[14],C=this.h[15];assert$8(this.k.length===Q.length);for(var y=0;y<Q.length;y+=2){var S=u,b=C,m=s1_512_hi(l,I),G=s1_512_lo(l,I),x=ch64_hi(l,I,r,i,a),L=ch64_lo(l,I,r,i,a,d),Z=this.k[y],A=this.k[y+1],h=Q[y],N=Q[y+1],R=sum64_5_hi(S,b,m,G,x,L,Z,A,h,N),V=sum64_5_lo(S,b,m,G,x,L,Z,A,h,N);S=s0_512_hi(B,s),b=s0_512_lo(B,s),m=maj64_hi(B,s,F,U,n),G=maj64_lo(B,s,F,U,n,c);var E=sum64_hi(S,b,m,G),p=sum64_lo(S,b,m,G);u=a,C=d,a=r,d=i,r=l,i=I,l=sum64_hi(o,g,R,V),I=sum64_lo(g,g,R,V),o=n,g=c,n=F,c=U,F=B,U=s,B=sum64_hi(R,V,E,p),s=sum64_lo(R,V,E,p)}sum64(this.h,0,B,s),sum64(this.h,2,F,U),sum64(this.h,4,n,c),sum64(this.h,6,o,g),sum64(this.h,8,l,I),sum64(this.h,10,r,i),sum64(this.h,12,a,d),sum64(this.h,14,u,C)},SHA512$1.prototype._digest=function(t){return"hex"===t?utils$a.toHex32(this.h,"big"):utils$a.split32(this.h,"big")};var utils$9=utils$g,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$9.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(t){return"hex"===t?utils$9.toHex32(this.h.slice(0,12),"big"):utils$9.split32(this.h.slice(0,12),"big")},sha.sha1=_1$3,sha.sha224=_224,sha.sha256=_256,sha.sha384=_384,sha.sha512=_512;var ripemd={},utils$8=utils$g,common=common$5,rotl32=utils$8.rotl32,sum32=utils$8.sum32,sum32_3=utils$8.sum32_3,sum32_4=utils$8.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f$2(t,e,Q,B){return t<=15?e^Q^B:t<=31?e&Q|~e&B:t<=47?(e|~Q)^B:t<=63?e&B|Q&~B:e^(Q|~B)}function K(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Kh(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}utils$8.inherits(RIPEMD160,BlockHash),ripemd.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(t,e){for(var Q=this.h[0],B=this.h[1],F=this.h[2],U=this.h[3],n=this.h[4],c=Q,o=B,g=F,l=U,I=n,i=0;i<80;i++){var a=sum32(rotl32(sum32_4(Q,f$2(i,B,F,U),t[r[i]+e],K(i)),s[i]),n);Q=n,n=U,U=rotl32(F,10),F=B,B=a,a=sum32(rotl32(sum32_4(c,f$2(79-i,o,g,l),t[rh[i]+e],Kh(i)),sh[i]),I),c=I,I=l,l=rotl32(g,10),g=o,o=a}a=sum32_3(this.h[1],F,l),this.h[1]=sum32_3(this.h[2],U,I),this.h[2]=sum32_3(this.h[3],n,c),this.h[3]=sum32_3(this.h[4],Q,o),this.h[4]=sum32_3(this.h[0],B,g),this.h[0]=a},RIPEMD160.prototype._digest=function(t){return"hex"===t?utils$8.toHex32(this.h,"little"):utils$8.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$7=utils$g,assert$7=minimalisticAssert;function Hmac(t,e,Q){if(!(this instanceof Hmac))return new Hmac(t,e,Q);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(utils$7.toArray(e,Q))}var hmac$1=Hmac;Hmac.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),assert$7(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},Hmac.prototype.update=function(t,e){return this.inner.update(t,e),this},Hmac.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=hash$2;e.utils=utils$g,e.common=common$5,e.sha=sha,e.ripemd=ripemd,e.hmac=hmac$1,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(),function(t){var e,Q=curves$2,B=hash$2,s=curve,F=utils$m.assert;function U(t){"short"===t.type?this.curve=new s.short(t):"edwards"===t.type?this.curve=new s.edwards(t):this.curve=new s.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,F(this.g.validate(),"Invalid curve"),F(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function n(t,e){Object.defineProperty(Q,t,{configurable:!0,enumerable:!0,get:function(){var B=new U(e);return Object.defineProperty(Q,t,{configurable:!0,enumerable:!0,value:B}),B}})}Q.PresetCurve=U,n("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:B.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),n("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:B.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),n("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:B.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),n("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:B.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),n("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:B.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),n("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:B.sha256,gRed:!1,g:["9"]}),n("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:B.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{e=require("./precomputed/secp256k1")}catch(t){e=void 0}n("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:B.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",e]})}();var hash$1=hash$2,utils$6=utils$l,assert$6=minimalisticAssert;function HmacDRBG$1(t){if(!(this instanceof HmacDRBG$1))return new HmacDRBG$1(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=utils$6.toArray(t.entropy,t.entropyEnc||"hex"),Q=utils$6.toArray(t.nonce,t.nonceEnc||"hex"),B=utils$6.toArray(t.pers,t.persEnc||"hex");assert$6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,Q,B)}var hmacDrbg=HmacDRBG$1;HmacDRBG$1.prototype._init=function(t,e,Q){var B=t.concat(e).concat(Q);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(B),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG$1.prototype._hmac=function(){return new hash$1.hmac(this.hash,this.K)},HmacDRBG$1.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG$1.prototype.reseed=function(t,e,Q,B){"string"!=typeof e&&(B=Q,Q=e,e=null),t=utils$6.toArray(t,e),Q=utils$6.toArray(Q,B),assert$6(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(Q||[])),this._reseed=1},HmacDRBG$1.prototype.generate=function(t,e,Q,B){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(B=Q,Q=e,e=null),Q&&(Q=utils$6.toArray(Q,B||"hex"),this._update(Q));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var F=s.slice(0,t);return this._update(Q),this._reseed++,utils$6.encode(F,e)};var BN$4=bn.exports,utils$5=utils$m,assert$5=utils$5.assert;function KeyPair$3(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var key$1=KeyPair$3;KeyPair$3.fromPublic=function(t,e,Q){return e instanceof KeyPair$3?e:new KeyPair$3(t,{pub:e,pubEnc:Q})},KeyPair$3.fromPrivate=function(t,e,Q){return e instanceof KeyPair$3?e:new KeyPair$3(t,{priv:e,privEnc:Q})},KeyPair$3.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair$3.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},KeyPair$3.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},KeyPair$3.prototype._importPrivate=function(t,e){this.priv=new BN$4(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair$3.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?assert$5(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert$5(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},KeyPair$3.prototype.derive=function(t){return t.validate()||assert$5(t.validate(),"public point not validated"),t.mul(this.priv).getX()},KeyPair$3.prototype.sign=function(t,e,Q){return this.ec.sign(t,this,e,Q)},KeyPair$3.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},KeyPair$3.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$3=bn.exports,utils$4=utils$m,assert$4=utils$4.assert;function Signature$3(t,e){if(t instanceof Signature$3)return t;this._importDER(t,e)||(assert$4(t.r&&t.s,"Signature without r or s"),this.r=new BN$3(t.r,16),this.s=new BN$3(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var signature$1=Signature$3;function Position(){this.place=0}function getLength(t,e){var Q=t[e.place++];if(!(128&Q))return Q;var B=15&Q;if(0===B||B>4)return!1;for(var s=0,F=0,U=e.place;F<B;F++,U++)s<<=8,s|=t[U],s>>>=0;return!(s<=127)&&(e.place=U,s)}function rmPadding(t){for(var e=0,Q=t.length-1;!t[e]&&!(128&t[e+1])&&e<Q;)e++;return 0===e?t:t.slice(e)}function constructLength(t,e){if(e<128)t.push(e);else{var Q=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|Q);--Q;)t.push(e>>>(Q<<3)&255);t.push(e)}}Signature$3.prototype._importDER=function(t,e){t=utils$4.toArray(t,e);var Q=new Position;if(48!==t[Q.place++])return!1;var B=getLength(t,Q);if(!1===B)return!1;if(B+Q.place!==t.length)return!1;if(2!==t[Q.place++])return!1;var s=getLength(t,Q);if(!1===s)return!1;var F=t.slice(Q.place,s+Q.place);if(Q.place+=s,2!==t[Q.place++])return!1;var U=getLength(t,Q);if(!1===U)return!1;if(t.length!==U+Q.place)return!1;var n=t.slice(Q.place,U+Q.place);if(0===F[0]){if(!(128&F[1]))return!1;F=F.slice(1)}if(0===n[0]){if(!(128&n[1]))return!1;n=n.slice(1)}return this.r=new BN$3(F),this.s=new BN$3(n),this.recoveryParam=null,!0},Signature$3.prototype.toDER=function(t){var e=this.r.toArray(),Q=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&Q[0]&&(Q=[0].concat(Q)),e=rmPadding(e),Q=rmPadding(Q);!(Q[0]||128&Q[1]);)Q=Q.slice(1);var B=[2];constructLength(B,e.length),(B=B.concat(e)).push(2),constructLength(B,Q.length);var s=B.concat(Q),F=[48];return constructLength(F,s.length),F=F.concat(s),utils$4.encode(F,t)};var BN$2=bn.exports,HmacDRBG=hmacDrbg,utils$3=utils$m,curves$1=curves$2,rand=brorand.exports,assert$3=utils$3.assert,KeyPair$2=key$1,Signature$2=signature$1;function EC(t){if(!(this instanceof EC))return new EC(t);"string"==typeof t&&(assert$3(Object.prototype.hasOwnProperty.call(curves$1,t),"Unknown curve "+t),t=curves$1[t]),t instanceof curves$1.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var ec=EC;EC.prototype.keyPair=function(t){return new KeyPair$2(this,t)},EC.prototype.keyFromPrivate=function(t,e){return KeyPair$2.fromPrivate(this,t,e)},EC.prototype.keyFromPublic=function(t,e){return KeyPair$2.fromPublic(this,t,e)},EC.prototype.genKeyPair=function(t){t||(t={});for(var e=new HmacDRBG({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||rand(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),Q=this.n.byteLength(),B=this.n.sub(new BN$2(2));;){var s=new BN$2(e.generate(Q));if(!(s.cmp(B)>0))return s.iaddn(1),this.keyFromPrivate(s)}},EC.prototype._truncateToN=function(t,e){var Q=8*t.byteLength()-this.n.bitLength();return Q>0&&(t=t.ushrn(Q)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},EC.prototype.sign=function(t,e,Q,B){"object"==typeof Q&&(B=Q,Q=null),B||(B={}),e=this.keyFromPrivate(e,Q),t=this._truncateToN(new BN$2(t,16));for(var s=this.n.byteLength(),F=e.getPrivate().toArray("be",s),U=t.toArray("be",s),n=new HmacDRBG({hash:this.hash,entropy:F,nonce:U,pers:B.pers,persEnc:B.persEnc||"utf8"}),c=this.n.sub(new BN$2(1)),o=0;;o++){var g=B.k?B.k(o):new BN$2(n.generate(this.n.byteLength()));if(!((g=this._truncateToN(g,!0)).cmpn(1)<=0||g.cmp(c)>=0)){var l=this.g.mul(g);if(!l.isInfinity()){var I=l.getX(),r=I.umod(this.n);if(0!==r.cmpn(0)){var i=g.invm(this.n).mul(r.mul(e.getPrivate()).iadd(t));if(0!==(i=i.umod(this.n)).cmpn(0)){var a=(l.getY().isOdd()?1:0)|(0!==I.cmp(r)?2:0);return B.canonical&&i.cmp(this.nh)>0&&(i=this.n.sub(i),a^=1),new Signature$2({r:r,s:i,recoveryParam:a})}}}}}},EC.prototype.verify=function(t,e,Q,B){t=this._truncateToN(new BN$2(t,16)),Q=this.keyFromPublic(Q,B);var s=(e=new Signature$2(e,"hex")).r,F=e.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(F.cmpn(1)<0||F.cmp(this.n)>=0)return!1;var U,n=F.invm(this.n),c=n.mul(t).umod(this.n),o=n.mul(s).umod(this.n);return this.curve._maxwellTrick?!(U=this.g.jmulAdd(c,Q.getPublic(),o)).isInfinity()&&U.eqXToP(s):!(U=this.g.mulAdd(c,Q.getPublic(),o)).isInfinity()&&0===U.getX().umod(this.n).cmp(s)},EC.prototype.recoverPubKey=function(t,e,Q,B){assert$3((3&Q)===Q,"The recovery param is more than two bits"),e=new Signature$2(e,B);var s=this.n,F=new BN$2(t),U=e.r,n=e.s,c=1&Q,o=Q>>1;if(U.cmp(this.curve.p.umod(this.curve.n))>=0&&o)throw new Error("Unable to find sencond key candinate");U=o?this.curve.pointFromX(U.add(this.curve.n),c):this.curve.pointFromX(U,c);var g=e.r.invm(s),l=s.sub(F).mul(g).umod(s),I=n.mul(g).umod(s);return this.g.mulAdd(l,U,I)},EC.prototype.getKeyRecoveryParam=function(t,e,Q,B){if(null!==(e=new Signature$2(e,B)).recoveryParam)return e.recoveryParam;for(var s=0;s<4;s++){var F;try{F=this.recoverPubKey(t,e,s)}catch(t){continue}if(F.eq(Q))return s}throw new Error("Unable to find valid recovery factor")};var utils$2=utils$m,assert$2=utils$2.assert,parseBytes$2=utils$2.parseBytes,cachedProperty$1=utils$2.cachedProperty;function KeyPair$1(t,e){this.eddsa=t,this._secret=parseBytes$2(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=parseBytes$2(e.pub)}KeyPair$1.fromPublic=function(t,e){return e instanceof KeyPair$1?e:new KeyPair$1(t,{pub:e})},KeyPair$1.fromSecret=function(t,e){return e instanceof KeyPair$1?e:new KeyPair$1(t,{secret:e})},KeyPair$1.prototype.secret=function(){return this._secret},cachedProperty$1(KeyPair$1,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),cachedProperty$1(KeyPair$1,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),cachedProperty$1(KeyPair$1,"privBytes",(function(){var t=this.eddsa,e=this.hash(),Q=t.encodingLength-1,B=e.slice(0,t.encodingLength);return B[0]&=248,B[Q]&=127,B[Q]|=64,B})),cachedProperty$1(KeyPair$1,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),cachedProperty$1(KeyPair$1,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),cachedProperty$1(KeyPair$1,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),KeyPair$1.prototype.sign=function(t){return assert$2(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},KeyPair$1.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},KeyPair$1.prototype.getSecret=function(t){return assert$2(this._secret,"KeyPair is public only"),utils$2.encode(this.secret(),t)},KeyPair$1.prototype.getPublic=function(t){return utils$2.encode(this.pubBytes(),t)};var key=KeyPair$1,BN$1=bn.exports,utils$1=utils$m,assert$1=utils$1.assert,cachedProperty=utils$1.cachedProperty,parseBytes$1=utils$1.parseBytes;function Signature$1(t,e){this.eddsa=t,"object"!=typeof e&&(e=parseBytes$1(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),assert$1(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof BN$1&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}cachedProperty(Signature$1,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),cachedProperty(Signature$1,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),cachedProperty(Signature$1,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),cachedProperty(Signature$1,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),Signature$1.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature$1.prototype.toHex=function(){return utils$1.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$1,hash=hash$2,curves=curves$2,utils=utils$m,assert=utils.assert,parseBytes=utils.parseBytes,KeyPair=key,Signature=signature;function EDDSA(t){if(assert("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(t);t=curves[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=hash.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(t,e){t=parseBytes(t);var Q=this.keyFromSecret(e),B=this.hashInt(Q.messagePrefix(),t),s=this.g.mul(B),F=this.encodePoint(s),U=this.hashInt(F,Q.pubBytes(),t).mul(Q.priv()),n=B.add(U).umod(this.curve.n);return this.makeSignature({R:s,S:n,Rencoded:F})},EDDSA.prototype.verify=function(t,e,Q){t=parseBytes(t),e=this.makeSignature(e);var B=this.keyFromPublic(Q),s=this.hashInt(e.Rencoded(),B.pubBytes(),t),F=this.g.mul(e.S());return e.R().add(B.pub().mul(s)).eq(F)},EDDSA.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return utils.intFromLE(t.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(t){return KeyPair.fromPublic(this,t)},EDDSA.prototype.keyFromSecret=function(t){return KeyPair.fromSecret(this,t)},EDDSA.prototype.makeSignature=function(t){return t instanceof Signature?t:new Signature(this,t)},EDDSA.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},EDDSA.prototype.decodePoint=function(t){var e=(t=utils.parseBytes(t)).length-1,Q=t.slice(0,e).concat(-129&t[e]),B=0!=(128&t[e]),s=utils.intFromLE(Q);return this.curve.pointFromY(s,B)},EDDSA.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(t){return utils.intFromLE(t)},EDDSA.prototype.isPoint=function(t){return t instanceof this.pointClass},function(t){var e=t;e.version=require$$0.version,e.utils=utils$m,e.rand=brorand.exports,e.curve=curve,e.curves=curves$2,e.ec=ec,e.eddsa=eddsa}(elliptic);const secp256k1=new elliptic.ec("secp256k1");function generate(){const t=secp256k1.genKeyPair();return{privateKey:decode$5(t.getPrivate("hex")),publicKey:decode$5(t.getPublic(!0,"hex"))}}async function generateAsync(){return Promise.resolve(generate())}function fromBytes(t){const e=secp256k1.keyFromPrivate(t);return{privateKey:decode$5(e.getPrivate("hex")),publicKey:decode$5(e.getPublic(!0,"hex"))}}function sign(t,e){const Q=encode$3(e),B=decode$5(keccak256$2(`0x${Q}`)),s=secp256k1.keyFromPrivate(t).sign(B),F=s.r.toArray("be",32),U=s.s.toArray("be",32),n=new Uint8Array(64);return n.set(F,0),n.set(U,32),n}function verify(t,e,Q){const B=encode$3(e),s=decode$5(keccak256$2(`0x${B}`));return secp256k1.keyFromPublic(t).verify(s,{r:Q.subarray(0,32),s:Q.subarray(32,64)})}const derPrefix$1="302d300706052b8104000a032200",derPrefixBytes$1=decode$5(derPrefix$1);class EcdsaPublicKey extends Key$1{constructor(t){super(),this._keyData=t}get _type(){return"secp256k1"}static fromBytes(t){switch(t.length){case 33:return EcdsaPublicKey.fromBytesRaw(t);case 49:return EcdsaPublicKey.fromBytesDer(t);default:throw new BadKeyError(`invalid public key length: ${t.length} bytes`)}}static fromBytesDer(t){if(44!=t.length||!arrayStartsWith(t,derPrefixBytes$1))throw new BadKeyError(`invalid public key length: ${t.length} bytes`);return new EcdsaPublicKey(t.subarray(12))}static fromBytesRaw(t){if(33!=t.length)throw new BadKeyError(`invalid public key length: ${t.length} bytes`);return new EcdsaPublicKey(t)}static fromString(t){return EcdsaPublicKey.fromBytes(decode$5(t))}verify(t,e){return verify(this._keyData,t,e)}toBytesDer(){const t=new Uint8Array(derPrefixBytes$1.length+this._keyData.length);return t.set(derPrefixBytes$1,0),t.set(this._keyData,derPrefixBytes$1.length),t}toBytesRaw(){return new Uint8Array(this._keyData.subarray())}equals(t){return arrayEqual$1(this._keyData,t._keyData)}}const derPrefix="3030020100300706052b8104000a04220420",derPrefixBytes=decode$5(derPrefix);class EcdsaPrivateKey{constructor(t,e){this._keyPair=t,this._chainCode=null!=e?e:null}get _type(){return"secp256k1"}static generate(){return new EcdsaPrivateKey(generate())}static async generateAsync(){return new EcdsaPrivateKey(await generateAsync())}static fromBytes(t){switch(t.length){case 32:return EcdsaPrivateKey.fromBytesRaw(t);case 50:return EcdsaPrivateKey.fromBytesDer(t);default:throw new BadKeyError(`invalid private key length: ${t.length} bytes`)}}static fromBytesDer(t){if(32!=t.length&&!arrayStartsWith(t,derPrefixBytes))throw new BadKeyError("invalid der header");return new EcdsaPrivateKey(fromBytes(t.subarray(derPrefixBytes.length)))}static fromBytesRaw(t){return new EcdsaPrivateKey(fromBytes(t))}static fromString(t){return EcdsaPrivateKey.fromBytes(decode$5(t))}static fromStringDer(t){return EcdsaPrivateKey.fromBytesDer(decode$5(t))}static fromStringRaw(t){return EcdsaPrivateKey.fromBytesRaw(decode$5(t))}get publicKey(){return new EcdsaPublicKey(this._keyPair.publicKey)}sign(t){return sign(this._keyPair.privateKey,t)}toBytesDer(){const t=new Uint8Array(derPrefixBytes.length+32);return t.set(derPrefixBytes,0),t.set(this._keyPair.privateKey.subarray(0,32),derPrefixBytes.length),t}toBytesRaw(){return this._keyPair.privateKey.slice(0,32)}}class PublicKey$1 extends Key$1{constructor(t){super(),this._key=t}get _type(){return this._key._type}static fromBytes(t){try{return new PublicKey$1(Ed25519PublicKey.fromBytes(t))}catch{}try{return new PublicKey$1(EcdsaPublicKey.fromBytes(t))}catch{}throw new BadKeyError(`invalid public key length: ${t.length} bytes`)}static fromBytesED25519(t){return new PublicKey$1(Ed25519PublicKey.fromBytes(t))}static fromBytesECDSA(t){return new PublicKey$1(EcdsaPublicKey.fromBytes(t))}static fromString(t){return PublicKey$1.fromBytes(decode$5(t))}static fromStringED25519(t){return PublicKey$1.fromBytesED25519(decode$5(t))}static fromStringECDSA(t){return PublicKey$1.fromBytesECDSA(decode$5(t))}verify(t,e){return this._key.verify(t,e)}verifyTransaction(t){console.log("Deprecated: use `@hashgraph/sdk`.PublicKey instead"),t._requireFrozen(),t.isFrozen()||t.freeze();for(const e of t._signedTransactions)if(null!=e.sigMap&&null!=e.sigMap.sigPair){let t=!1;for(const Q of e.sigMap.sigPair){if(arrayEqual$1(Q.pubKeyPrefix,this.toBytesRaw())){t=!0;const B=e.bodyBytes,s=null!=Q.ed25519?Q.ed25519:Q.ECDSASecp256k1;if(!this.verify(B,s))return!1}}if(!t)return!1}return!0}toBytes(){return this._key instanceof Ed25519PublicKey?this.toBytesRaw():this.toBytesDer()}toBytesDer(){return this._key.toBytesDer()}toBytesRaw(){return this._key.toBytesRaw()}toString(){return this.toStringDer()}toStringDer(){return encode$3(this.toBytesDer())}toStringRaw(){return encode$3(this.toBytesRaw())}equals(t){return(this._key instanceof Ed25519PublicKey&&t instanceof Ed25519PublicKey||this._key instanceof EcdsaPublicKey&&t instanceof EcdsaPublicKey)&&this._key.equals(t)}}const CipherAlgorithm={Aes128Ctr:"AES-128-CTR",Aes128Cbc:"AES-128-CBC"};async function createCipheriv(t,e,Q,B){let s;switch(t.toUpperCase()){case CipherAlgorithm.Aes128Ctr:s={name:"AES-CTR",counter:Q,length:128};break;case CipherAlgorithm.Aes128Cbc:s={name:"AES-CBC",iv:Q};break;default:throw new Error("(BUG) non-exhaustive switch statement for CipherAlgorithm")}const F=await window.crypto.subtle.importKey("raw",e,s.name,!1,["encrypt"]);return new Uint8Array(await window.crypto.subtle.encrypt(s,F,B))}async function createDecipheriv(t,e,Q,B){let s;switch(t.toUpperCase()){case CipherAlgorithm.Aes128Ctr:s={name:"AES-CTR",counter:Q,length:128};break;case CipherAlgorithm.Aes128Cbc:s={name:"AES-CBC",iv:Q};break;default:throw new Error("(BUG) non-exhaustive switch statement for CipherAlgorithm")}const F=await window.crypto.subtle.importKey("raw",e,s.name,!1,["decrypt"]);return new Uint8Array(await window.crypto.subtle.decrypt(s,F,B))}const HMAC_SHA256="hmac-sha256";async function createKeystore(t,e){const Q=262144,B=await bytesAsync(32),s=await deriveKey(HashAlgorithm.Sha256,e,B,Q,32),F=await bytesAsync(16),U=await createCipheriv(CipherAlgorithm.Aes128Ctr,s.slice(0,16),F,t),n=await hash$3(HashAlgorithm.Sha384,s.slice(16),U),c={version:1,crypto:{ciphertext:encode$3(U),cipherparams:{iv:encode$3(F)},cipher:CipherAlgorithm.Aes128Ctr,kdf:"pbkdf2",kdfparams:{dkLen:32,salt:encode$3(B),c:Q,prf:HMAC_SHA256},mac:encode$3(n)}};return encode$2(JSON.stringify(c))}async function loadKeystore(t,e){const Q=JSON.parse(decode$4(t));if(1!==Q.version)throw new BadKeyError(`unsupported keystore version: ${Q.version}`);const{ciphertext:B,cipherparams:{iv:s},cipher:F,kdf:U,kdfparams:{dkLen:n,salt:c,c:o,prf:g},mac:l}=Q.crypto;if("pbkdf2"!==U)throw new BadKeyError(`unsupported key derivation function:" + ${U}`);if(g!==HMAC_SHA256)throw new BadKeyError(`unsupported key derivation hash function: ${g}`);const I=decode$5(c),r=decode$5(s),i=decode$5(B),a=await deriveKey(HashAlgorithm.Sha256,e,I,o,n),d=decode$5(l),u=await hash$3(HashAlgorithm.Sha384,a.slice(16),i);if(!d.every(((t,e)=>t===u[e])))throw new BadKeyError("HMAC mismatch; passphrase is incorrect");return createDecipheriv(F,a.slice(0,16),r,i)}function decode$3(t){return decodeIncremental(t)[0]}function decodeIncremental(t){const[e,Q]=decodeLength(t.subarray(1)),B=Q.subarray(0,e),s=Q.subarray(e);switch(t[0]){case 2:return[{int:decodeInt(B)},s];case 4:return[{bytes:B},s];case 5:return[{},s];case 6:return[{ident:decodeObjectIdent(B)},s];case 48:return[{seq:decodeSeq(B)},s];default:throw new Error(`unsupported DER type tag: ${t[0]}`)}}function decodeSeq(t){let e=t;const Q=[];for(;0!==e.length;){const[t,B]=decodeIncremental(e);Q.push(t),e=B}return Q}function decodeObjectIdent(t){const e=[Math.floor(t[0]/40),t[0]%40];let Q=0;for(const B of t.subarray(1))Q*=128,B<128?(Q+=B,e.push(Q),Q=0):Q+=127&B;return e.join(".")}function decodeLength(t){if(t[0]<128)return[t[0],t.subarray(1)];const e=t[0]-128,Q=t.subarray(1,e+1),B=t.subarray(e+1);return[decodeInt(Q),B]}function decodeInt(t){const e=t.length;if(1===e)return t[0];let Q=new DataView(t.buffer,t.byteOffset,t.byteLength);if(2===e)return Q.getUint16(0,!1);if(3===e){const e=Uint8Array.of(0,...t);Q=new DataView(e.buffer,e.byteOffset,e.byteLength)}if(e>4)throw new Error(`unsupported DER integer length of ${e} bytes`);return Q.getUint32(0,!1)}class AlgorithmIdentifier{constructor(t){if(!("seq"in t&&t.seq.length>=1&&"ident"in t.seq[0]))throw new Error(`error parsing AlgorithmIdentifier from ${JSON.stringify(t)}`);this.algIdent=t.seq[0].ident,this.parameters=t.seq[1]}toString(){return JSON.stringify(this)}}class PBES2Params{constructor(t){if(!("seq"in t)||2!==t.seq.length)throw new Error(`error parsing PBES2Params from ${JSON.stringify(t)}`);this.kdf=new AlgorithmIdentifier(t.seq[0]),this.encScheme=new AlgorithmIdentifier(t.seq[1])}}class PBKDF2Params{constructor(t){if("seq"in t&&t.seq.length>=2&&"bytes"in t.seq[0]&&"int"in t.seq[1]&&(this.salt=t.seq[0].bytes,this.iterCount=t.seq[1].int,t.seq.length>2))return"seq"in t.seq[2]?void(this.prf=new AlgorithmIdentifier(t.seq[2])):("int"in t.seq[2]&&(this.keyLength=t.seq[2].int),void(4===t.seq.length&&(this.prf=new AlgorithmIdentifier(t.seq[3]))));throw new Error(`error parsing PBKDF2Params from ${JSON.stringify(t)}`)}}class PrivateKeyInfo{constructor(t){if(!("seq"in t)||3!==t.seq.length)throw new Error(`error parsing PrivateKeyInfo from ${JSON.stringify(t)}`);if(!("int"in t.seq[0])||0!==t.seq[0].int)throw new Error(`expected version = 0, got ${JSON.stringify(t.seq[0])}`);if(this.version=0,this.algId=new AlgorithmIdentifier(t.seq[1]),!("bytes"in t.seq[2]))throw new Error(`expected octet string as 3rd element, got ${JSON.stringify(t.seq[2])}`);this.privateKey=t.seq[2].bytes}static parse(t){return new PrivateKeyInfo(decode$3(t))}}class EncryptedPrivateKeyInfo{constructor(t){if("seq"in t&&2===t.seq.length&&"bytes"in t.seq[1])return this.algId=new AlgorithmIdentifier(t.seq[0]),void(this.data=t.seq[1].bytes);throw new Error(`error parsing EncryptedPrivateKeyInfo from ${JSON.stringify(t)}`)}static parse(t){return new EncryptedPrivateKeyInfo(decode$3(t))}async decrypt(t){if("1.2.840.113549.1.5.13"!==this.algId.algIdent||!this.algId.parameters)throw new Error(`unsupported key encryption algorithm: ${this.algId.toString()}`);const e=new PBES2Params(this.algId.parameters);if("1.2.840.113549.1.5.12"!==e.kdf.algIdent||!e.kdf.parameters)throw new Error(`unsupported key derivation function: ${e.kdf.toString()}`);const Q=new PBKDF2Params(e.kdf.parameters);if(!Q.prf)throw new Error("unsupported PRF HMAC-SHA-1");if("1.2.840.113549.2.9"!==Q.prf.algIdent)throw new Error(`unsupported PRF ${Q.prf.toString()}`);if("2.16.840.1.101.3.4.1.2"!==e.encScheme.algIdent)throw new Error(`unsupported encryption scheme: ${e.encScheme.toString()}`);if(!e.encScheme.parameters||!("bytes"in e.encScheme.parameters))throw new Error(`expected IV as bytes for AES-128-CBC, got: ${JSON.stringify(e.encScheme.parameters)}`);const B=Q.keyLength||16,s=e.encScheme.parameters.bytes,F=await deriveKey(HashAlgorithm.Sha256,t,Q.salt,Q.iterCount,B),U=await createDecipheriv(CipherAlgorithm.Aes128Cbc,F,s,this.data);return PrivateKeyInfo.parse(U)}}function decode$2(t){return Uint8Array.from(atob(t),(t=>t.charCodeAt(0)))}const BEGIN_PRIVATEKEY="-----BEGIN PRIVATE KEY-----\n",END_PRIVATEKEY="-----END PRIVATE KEY-----\n",BEGIN_ENCRYPTED_PRIVATEKEY="-----BEGIN ENCRYPTED PRIVATE KEY-----\n",END_ENCRYPTED_PRIVATEKEY="-----END ENCRYPTED PRIVATE KEY-----\n";async function read(t,e){const Q=e?BEGIN_ENCRYPTED_PRIVATEKEY:BEGIN_PRIVATEKEY,B=e?END_ENCRYPTED_PRIVATEKEY:END_PRIVATEKEY,s=t.indexOf(Q),F=t.indexOf(B);if(-1===s||-1===F)throw new BadKeyError("failed to find a private key in the PEM file");const U=decode$2(t.slice(s+Q.length,F));if(e){let t;try{t=EncryptedPrivateKeyInfo.parse(U)}catch(t){const e=null!=t&&null!=t.message?t.message:"";throw new BadKeyError(`failed to parse encrypted private key: ${e}`)}const Q=await t.decrypt(e);let B=null;if("1.3.101.112"===Q.algId.algIdent)B=Ed25519PrivateKey;else{if("1.3.132.0.10"!==Q.algId.algIdent)throw new BadKeyError(`unknown private key algorithm ${Q.algId.toString()}`);B=EcdsaPrivateKey}const s=decode$3(Q.privateKey);if(!("bytes"in s))throw new BadKeyError(`expected ASN bytes, got ${JSON.stringify(s)}`);return B.fromBytes(s.bytes)}return U.subarray(16)}function legacy(t,e){const Q=new Uint8Array(t.length+8);Q.set(t,0);const B=new DataView(Q.buffer,Q.byteOffset,Q.byteLength);0xffffffffff===e?(B.setInt32(t.length+0,255),B.setInt32(t.length+4,-1)):(B.setInt32(t.length+0,e<0?-1:0),B.setInt32(t.length+4,e));const s=Uint8Array.from([255]);return deriveKey(HashAlgorithm.Sha512,Q,s,2048,32)}class PrivateKey$1 extends Key$1{constructor(t){super(),this._key=t}get _type(){return this._key._type}static generateED25519(){return new PrivateKey$1(Ed25519PrivateKey.generate())}static generateECDSA(){return new PrivateKey$1(EcdsaPrivateKey.generate())}static generate(){return PrivateKey$1.generateED25519()}static async generateAsync(){return PrivateKey$1.generateED25519Async()}static async generateED25519Async(){return new PrivateKey$1(await Ed25519PrivateKey.generateAsync())}static async generateECDSAAsync(){return new PrivateKey$1(await EcdsaPrivateKey.generateAsync())}static fromBytes(t){try{return new PrivateKey$1(Ed25519PrivateKey.fromBytes(t))}catch{}try{return new PrivateKey$1(EcdsaPrivateKey.fromBytes(t))}catch{}throw new BadKeyError(`invalid private key length: ${t.length} bytes`)}static fromBytesECDSA(t){return new PrivateKey$1(EcdsaPrivateKey.fromBytes(t))}static fromBytesED25519(t){return new PrivateKey$1(Ed25519PrivateKey.fromBytes(t))}static fromString(t){return PrivateKey$1.fromBytes(decode$5(t))}static fromStringECDSA(t){return PrivateKey$1.fromBytesECDSA(decode$5(t))}static fromStringED25519(t){return PrivateKey$1.fromBytesED25519(decode$5(t))}static async fromMnemonic(t,e=""){return("string"==typeof t?await Mnemonic$1.fromString(t):t).toPrivateKey(e)}static async fromKeystore(t,e=""){return PrivateKey$1.fromBytes(await loadKeystore(t,e))}static async fromPem(t,e=""){const Q=await read(t,e);return Q instanceof Ed25519PrivateKey||Q instanceof EcdsaPrivateKey?new PrivateKey$1(Q):PrivateKey$1.fromBytes(Q)}async derive(t){if(null==this._key._chainCode)throw new Error("this private key does not support key derivation");const{keyData:e,chainCode:Q}=await derive(this.toBytesRaw(),this._key._chainCode,t),B=this._key.constructor;return new PrivateKey$1(new B(e,Q))}async legacyDerive(t){const e=await legacy(this.toBytesRaw().subarray(0,32),t),Q=this._key.constructor;return new PrivateKey$1(new Q(e))}get publicKey(){return new PublicKey$1(this._key.publicKey)}sign(t){return this._key.sign(t)}signTransaction(t){if(t._requireFrozen(),t.isFrozen()||t.freeze(),1!=t._signedTransactions.length)throw new Error("`PrivateKey.signTransaction()` requires `Transaction` to have a single node `AccountId` set");const e=t._signedTransactions[0],Q=encode$3(this.publicKey.toBytesRaw());null==e.sigMap&&(e.sigMap={}),null==e.sigMap.sigPair&&(e.sigMap.sigPair=[]);for(const t of e.sigMap.sigPair)if(null!=t.pubKeyPrefix&&encode$3(t.pubKeyPrefix)===Q)switch(this._type){case"ED25519":return t.ed25519;case"secp256k1":return t.ECDSASecp256k1}const B=this.sign(null!=e.bodyBytes?e.bodyBytes:new Uint8Array),s={pubKeyPrefix:this.publicKey.toBytesRaw()};switch(this._type){case"ED25519":s.ed25519=B;break;case"secp256k1":s.ECDSASecp256k1=B}return e.sigMap.sigPair.push(s),t._signerPublicKeys.add(Q),B}isDerivable(){return null!=this._key._chainCode}toBytes(){return this._key instanceof Ed25519PrivateKey?this.toBytesRaw():this.toBytesDer()}toBytesDer(){return this._key.toBytesDer()}toBytesRaw(){return this._key.toBytesRaw()}toString(){return this.toStringDer()}toStringDer(){return encode$3(this.toBytesDer())}toStringRaw(){return encode$3(this.toBytesRaw())}toKeystore(t=""){return createKeystore(this.toBytesRaw(),t)}}CACHE$1.privateKeyConstructor=t=>new PrivateKey$1(t),CACHE$1.privateKeyFromBytes=t=>PrivateKey$1.fromBytes(t);const CACHE={contractId:null,keyList:null,thresholdKey:null,publicKeyED25519:null,publicKeyECDSA:null,privateKeyConstructor:null,accountIdConstructor:null,delegateContractId:null};class Mnemonic{constructor(t){this._mnemonic=t}static async generate(){return new Mnemonic(await Mnemonic$1._generate(24))}static async generate12(){return new Mnemonic(await Mnemonic$1._generate(12))}static async fromWords(t){return new Mnemonic(await Mnemonic$1.fromWords(t))}async toPrivateKey(t=""){if(null==CACHE.privateKeyConstructor)throw new Error("`PrivateKey` has not been loaded");return CACHE.privateKeyConstructor(await this._mnemonic.toPrivateKey(t))}static async fromString(t){return new Mnemonic(await Mnemonic$1.fromString(t))}async toLegacyPrivateKey(){if(null==CACHE.privateKeyConstructor)throw new Error("`PrivateKey` has not been loaded");return CACHE.privateKeyConstructor(await this._mnemonic.toLegacyPrivateKey())}toString(){return this._mnemonic.toString()}}function arrayEqual(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;const Q=new DataView(t.buffer,t.byteOffset,t.byteLength),B=new DataView(e.buffer,e.byteOffset,e.byteLength);let s=t.byteLength;for(;s--;)if(Q.getUint8(s)!==B.getUint8(s))return!1;return!0}class Key{_toProtobufKey(){throw new Error("not implemented")}static _fromProtobufKey(t){if(null!=t.contractID){if(null==CACHE.contractId)throw new Error("`ContractId` was not loaded before decoding `Key`");return CACHE.contractId(t.contractID)}if(null!=t.delegatableContractId){if(null==CACHE.delegateContractId)throw new Error("`ContractId` was not loaded before decoding `Key`");return CACHE.delegateContractId(t.delegatableContractId)}if(null!=t.ed25519&&t.ed25519.byteLength>0){if(null==CACHE.publicKeyED25519)throw new Error("`PublicKey` was not loaded before decoding `Key`");return CACHE.publicKeyED25519(t.ed25519)}if(null!=t.ECDSASecp256k1&&t.ECDSASecp256k1.byteLength>0){if(null==CACHE.publicKeyECDSA)throw new Error("`PublicKey` was not loaded before decoding `Key`");return CACHE.publicKeyECDSA(t.ECDSASecp256k1)}if(null!=t.thresholdKey&&null!=t.thresholdKey.threshold){if(null==CACHE.thresholdKey)throw new Error("`PublicKey` was not loaded before decoding `Key`");return CACHE.thresholdKey(t.thresholdKey)}if(null!=t.keyList){if(null==CACHE.keyList)throw new Error("`PublicKey` was not loaded before decoding `Key`");return CACHE.keyList(t.keyList)}throw new Error(`(BUG) keyFromProtobuf: not implemented key case: ${JSON.stringify(t)}`)}}class PublicKey extends Key{constructor(t){super(),this._key=t}static fromBytes(t){return new PublicKey(PublicKey$1.fromBytes(t))}static fromBytesED25519(t){return new PublicKey(PublicKey$1.fromBytesED25519(t))}static fromBytesECDSA(t){return new PublicKey(PublicKey$1.fromBytesECDSA(t))}static fromString(t){return new PublicKey(PublicKey$1.fromString(t))}verify(t,e){return this._key.verify(t,e)}verifyTransaction(t){t._requireFrozen(),t.isFrozen()||t.freeze();for(const e of t._signedTransactions.list)if(null!=e.sigMap&&null!=e.sigMap.sigPair){let t=!1;for(const Q of e.sigMap.sigPair){if(arrayEqual(Q.pubKeyPrefix,this.toBytesRaw())){t=!0;const B=e.bodyBytes;let s=null;if(null!=Q.ed25519?s=Q.ed25519:null!=Q.ECDSASecp256k1&&(s=Q.ECDSASecp256k1),null==s)continue;if(!this.verify(B,s))return!1}}if(!t)return!1}return!0}toBytes(){return this._key.toBytes()}toBytesDer(){return this._key.toBytesDer()}toBytesRaw(){return this._key.toBytesRaw()}toString(){return this._key.toString()}toStringDer(){return this._key.toStringDer()}toStringRaw(){return this._key.toStringRaw()}equals(t){return this._key.equals(t._key)}_toProtobufKey(){switch(this._key._type){case"ED25519":return{ed25519:this._key.toBytesRaw()};case"secp256k1":return{ECDSASecp256k1:this._key.toBytesRaw()};default:throw new Error(`unrecognized key type ${this._key._type}`)}}_toProtobufSignature(t){switch(this._key._type){case"ED25519":return{pubKeyPrefix:this._key.toBytesRaw(),ed25519:t};case"secp256k1":return{pubKeyPrefix:this._key.toBytesRaw(),ECDSASecp256k1:t};default:throw new Error(`unrecognized key type ${this._key._type}`)}}toAccountId(t,e){if(null==CACHE.accountIdConstructor)throw new Error("`AccountId` not loaded");return CACHE.accountIdConstructor(t,e,this)}}CACHE.publicKeyED25519=t=>PublicKey.fromBytesED25519(t),CACHE.publicKeyECDSA=t=>PublicKey.fromBytesECDSA(t);class PrivateKey extends Key{constructor(t){super(),this._key=t}static generateED25519(){return new PrivateKey(PrivateKey$1.generateED25519())}static generateECDSA(){return new PrivateKey(PrivateKey$1.generateECDSA())}static generate(){return PrivateKey.generateED25519()}static async generateAsync(){return new PrivateKey(await PrivateKey$1.generateAsync())}static async generateED25519Async(){return new PrivateKey(await PrivateKey$1.generateED25519Async())}static async generateECDSAAsync(){return new PrivateKey(await PrivateKey$1.generateECDSAAsync())}static fromBytes(t){return new PrivateKey(PrivateKey$1.fromBytes(t))}static fromBytesECDSA(t){return new PrivateKey(PrivateKey$1.fromBytesECDSA(t))}static fromBytesED25519(t){return new PrivateKey(PrivateKey$1.fromBytesED25519(t))}static fromString(t){return new PrivateKey(PrivateKey$1.fromString(t))}static fromStringECDSA(t){return new PrivateKey(PrivateKey$1.fromStringECDSA(t))}static fromStringED25519(t){return new PrivateKey(PrivateKey$1.fromStringED25519(t))}static async fromMnemonic(t,e=""){return new PrivateKey(t instanceof Mnemonic?await PrivateKey$1.fromMnemonic(t._mnemonic,e):await PrivateKey$1.fromMnemonic(t,e))}static async fromKeystore(t,e=""){return new PrivateKey(await PrivateKey$1.fromKeystore(t,e))}static async fromPem(t,e=""){return new PrivateKey(await PrivateKey$1.fromPem(t,e))}async derive(t){return new PrivateKey(await this._key.derive(t))}async legacyDerive(t){return new PrivateKey(await this._key.legacyDerive(t))}get publicKey(){return new PublicKey(this._key.publicKey)}sign(t){return this._key.sign(t)}signTransaction(t){const e=t._signedTransactions.get(0),Q=null!=e.bodyBytes?this.sign(e.bodyBytes):new Uint8Array;return t.addSignature(this.publicKey,Q),Q}isDerivable(){return this._key.isDerivable()}toBytes(){return this._key.toBytes()}toBytesDer(){return this._key.toBytesDer()}toBytesRaw(){return this._key.toBytesRaw()}toString(){return this._key.toStringDer()}toStringDer(){return this._key.toStringDer()}toStringRaw(){return this._key.toStringRaw()}toKeystore(t=""){return this._key.toKeystore(t)}_toProtobufKey(){return this.publicKey._toProtobufKey()}toAccountId(t,e){return this.publicKey.toAccountId(t,e)}}CACHE.privateKeyConstructor=t=>new PrivateKey(t);class KeyList extends Key{constructor(t,e){super(),this._keys=null==t?[]:t,this._threshold=null==e?null:e}static of(...t){return new KeyList(t,null)}static from(t,e,Q){return new KeyList(null==e?Array.from(t):Array.from(t,e,Q))}get threshold(){return this._threshold}setThreshold(t){return this._threshold=t,this}push(...t){return this._keys.push(...t)}splice(t,e,...Q){return new KeyList(this._keys.splice(t,e,...Q),this.threshold)}slice(t,e){return new KeyList(this._keys.slice(t,e),this.threshold)}[Symbol.iterator](){return this._keys[Symbol.iterator]()}toArray(){return this._keys.slice()}toString(){return JSON.stringify({threshold:this._threshold,keys:this._keys.toString()})}_toProtobufKey(){const t=this._keys.map((t=>t._toProtobufKey()));return null==this.threshold?{keyList:{keys:t}}:{thresholdKey:{threshold:this.threshold,keys:{keys:t}}}}static __fromProtobufKeyList(t){const e=(null!=t.keys?t.keys:[]).map((t=>Key._fromProtobufKey(t)));return new KeyList(e)}static __fromProtobufThresoldKey(t){const e=KeyList.__fromProtobufKeyList(null!=t.keys?t.keys:{});return e.setThreshold(null!=t.threshold?t.threshold:0),e}}function valueToLong(t){return BigNumber$1.isBigNumber(t)?t:new BigNumber$1(t.toString())}CACHE.keyList=t=>KeyList.__fromProtobufKeyList(t),CACHE.thresholdKey=t=>KeyList.__fromProtobufThresoldKey(t);class HbarUnit{constructor(t,e,Q){this._name=t,this._symbol=e,this._tinybar=Q,Object.freeze(this)}static fromString(t){switch(t){case HbarUnit.Hbar._symbol:return HbarUnit.Hbar;case HbarUnit.Tinybar._symbol:return HbarUnit.Tinybar;case HbarUnit.Microbar._symbol:return HbarUnit.Microbar;case HbarUnit.Millibar._symbol:return HbarUnit.Millibar;case HbarUnit.Kilobar._symbol:return HbarUnit.Kilobar;case HbarUnit.Megabar._symbol:return HbarUnit.Megabar;case HbarUnit.Gigabar._symbol:return HbarUnit.Gigabar;default:throw new Error("Unknown unit.")}}}HbarUnit.Tinybar=new HbarUnit("tinybar","tℏ",new BigNumber$1(1)),HbarUnit.Microbar=new HbarUnit("microbar","μℏ",new BigNumber$1(100)),HbarUnit.Millibar=new HbarUnit("millibar","mℏ",new BigNumber$1(1e5)),HbarUnit.Hbar=new HbarUnit("hbar","ℏ",new BigNumber$1("100000000")),HbarUnit.Kilobar=new HbarUnit("kilobar","kℏ",new BigNumber$1(1e3).multipliedBy(new BigNumber$1("100000000"))),HbarUnit.Megabar=new HbarUnit("megabar","Mℏ",new BigNumber$1(1e6).multipliedBy(new BigNumber$1("100000000"))),HbarUnit.Gigabar=new HbarUnit("gigabar","Gℏ",new BigNumber$1("1000000000").multipliedBy(new BigNumber$1("100000000")));var long=Long,wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Long(t,e,Q){this.low=0|t,this.high=0|e,this.unsigned=!!Q}function isLong$1(t){return!0===(t&&t.__isLong__)}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0}),Long.isLong=isLong$1;var INT_CACHE={},UINT_CACHE={};function fromInt(t,e){var Q,B,s;return e?(s=0<=(t>>>=0)&&t<256)&&(B=UINT_CACHE[t])?B:(Q=fromBits(t,(0|t)<0?-1:0,!0),s&&(UINT_CACHE[t]=Q),Q):(s=-128<=(t|=0)&&t<128)&&(B=INT_CACHE[t])?B:(Q=fromBits(t,t<0?-1:0,!1),s&&(INT_CACHE[t]=Q),Q)}function fromNumber(t,e){if(isNaN(t))return e?UZERO:ZERO;if(e){if(t<0)return UZERO;if(t>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(t<=-TWO_PWR_63_DBL)return MIN_VALUE;if(t+1>=TWO_PWR_63_DBL)return MAX_VALUE}return t<0?fromNumber(-t,e).neg():fromBits(t%TWO_PWR_32_DBL|0,t/TWO_PWR_32_DBL|0,e)}function fromBits(t,e,Q){return new Long(t,e,Q)}Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString$1(t,e,Q){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return ZERO;if("number"==typeof e?(Q=e,e=!1):e=!!e,(Q=Q||10)<2||36<Q)throw RangeError("radix");var B;if((B=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===B)return fromString$1(t.substring(1),e,Q).neg();for(var s=fromNumber(pow_dbl(Q,8)),F=ZERO,U=0;U<t.length;U+=8){var n=Math.min(8,t.length-U),c=parseInt(t.substring(U,U+n),Q);if(n<8){var o=fromNumber(pow_dbl(Q,n));F=F.mul(o).add(fromNumber(c))}else F=(F=F.mul(s)).add(fromNumber(c))}return F.unsigned=e,F}function fromValue(t,e){return"number"==typeof t?fromNumber(t,e):"string"==typeof t?fromString$1(t,e):fromBits(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}Long.fromString=fromString$1,Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var e=fromNumber(t),Q=this.div(e),B=Q.mul(e).sub(this);return Q.toString(t)+B.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var s=fromNumber(pow_dbl(t,6),this.unsigned),F=this,U="";;){var n=F.div(s),c=(F.sub(n.mul(s)).toInt()>>>0).toString(t);if((F=n).isZero())return c+U;for(;c.length<6;)c="0"+c;U=""+c+U}},LongPrototype.getHighBits=function(){return this.high},LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0},LongPrototype.getLowBits=function(){return this.low},LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0},LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},LongPrototype.isZero=function(){return 0===this.high&&0===this.low},LongPrototype.eqz=LongPrototype.isZero,LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function(){return 1==(1&this.low)},LongPrototype.isEven=function(){return 0==(1&this.low)},LongPrototype.equals=function(t){return isLong$1(t)||(t=fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function(t){return!this.eq(t)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.ne=LongPrototype.notEquals,LongPrototype.lessThan=function(t){return this.comp(t)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function(t){return this.comp(t)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.le=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function(t){return this.comp(t)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function(t){return this.comp(t)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.ge=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function(t){if(isLong$1(t)||(t=fromValue(t)),this.eq(t))return 0;var e=this.isNegative(),Q=t.isNegative();return e&&!Q?-1:!e&&Q?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function(t){isLong$1(t)||(t=fromValue(t));var e=this.high>>>16,Q=65535&this.high,B=this.low>>>16,s=65535&this.low,F=t.high>>>16,U=65535&t.high,n=t.low>>>16,c=0,o=0,g=0,l=0;return g+=(l+=s+(65535&t.low))>>>16,o+=(g+=B+n)>>>16,c+=(o+=Q+U)>>>16,c+=e+F,fromBits((g&=65535)<<16|(l&=65535),(c&=65535)<<16|(o&=65535),this.unsigned)},LongPrototype.subtract=function(t){return isLong$1(t)||(t=fromValue(t)),this.add(t.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function(t){if(this.isZero())return ZERO;if(isLong$1(t)||(t=fromValue(t)),wasm)return fromBits(wasm.mul(this.low,this.high,t.low,t.high),wasm.get_high(),this.unsigned);if(t.isZero())return ZERO;if(this.eq(MIN_VALUE))return t.isOdd()?MIN_VALUE:ZERO;if(t.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(TWO_PWR_24)&&t.lt(TWO_PWR_24))return fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,Q=65535&this.high,B=this.low>>>16,s=65535&this.low,F=t.high>>>16,U=65535&t.high,n=t.low>>>16,c=65535&t.low,o=0,g=0,l=0,I=0;return l+=(I+=s*c)>>>16,g+=(l+=B*c)>>>16,l&=65535,g+=(l+=s*n)>>>16,o+=(g+=Q*c)>>>16,g&=65535,o+=(g+=B*n)>>>16,g&=65535,o+=(g+=s*U)>>>16,o+=e*c+Q*n+B*U+s*F,fromBits((l&=65535)<<16|(I&=65535),(o&=65535)<<16|(g&=65535),this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function(t){if(isLong$1(t)||(t=fromValue(t)),t.isZero())throw Error("division by zero");var e,Q,B;if(wasm)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?fromBits((this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,t.low,t.high),wasm.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?UZERO:ZERO;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return UZERO;if(t.gt(this.shru(1)))return UONE;B=UZERO}else{if(this.eq(MIN_VALUE))return t.eq(ONE)||t.eq(NEG_ONE)?MIN_VALUE:t.eq(MIN_VALUE)?ONE:(e=this.shr(1).div(t).shl(1)).eq(ZERO)?t.isNegative()?ONE:NEG_ONE:(Q=this.sub(t.mul(e)),B=e.add(Q.div(t)));if(t.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();B=ZERO}for(Q=this;Q.gte(t);){e=Math.max(1,Math.floor(Q.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(e)/Math.LN2),F=s<=48?1:pow_dbl(2,s-48),U=fromNumber(e),n=U.mul(t);n.isNegative()||n.gt(Q);)n=(U=fromNumber(e-=F,this.unsigned)).mul(t);U.isZero()&&(U=ONE),B=B.add(U),Q=Q.sub(n)}return B},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function(t){return isLong$1(t)||(t=fromValue(t)),wasm?fromBits((this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,t.low,t.high),wasm.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.rem=LongPrototype.modulo,LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.and=function(t){return isLong$1(t)||(t=fromValue(t)),fromBits(this.low&t.low,this.high&t.high,this.unsigned)},LongPrototype.or=function(t){return isLong$1(t)||(t=fromValue(t)),fromBits(this.low|t.low,this.high|t.high,this.unsigned)},LongPrototype.xor=function(t){return isLong$1(t)||(t=fromValue(t)),fromBits(this.low^t.low,this.high^t.high,this.unsigned)},LongPrototype.shiftLeft=function(t){return isLong$1(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):fromBits(0,this.low<<t-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function(t){return isLong$1(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function(t){if(isLong$1(t)&&(t=t.toInt()),0===(t&=63))return this;var e=this.high;return t<32?fromBits(this.low>>>t|e<<32-t,e>>>t,this.unsigned):fromBits(32===t?e:e>>>t-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.shr_u=LongPrototype.shiftRightUnsigned,LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},LongPrototype.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},Long.fromBytes=function(t,e,Q){return Q?Long.fromBytesLE(t,e):Long.fromBytesBE(t,e)},Long.fromBytesLE=function(t,e){return new Long(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},Long.fromBytesBE=function(t,e){return new Long(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)};class Hbar{constructor(t,e=HbarUnit.Hbar){if(e===HbarUnit.Tinybar)this._valueInTinybar=valueToLong(t);else{let Q;Q=long.isLong(t)?new BigNumber$1(t.toString(10)):BigNumber$1.isBigNumber(t)||"string"==typeof t||"number"==typeof t?new BigNumber$1(t):new BigNumber$1(0),this._valueInTinybar=Q.multipliedBy(e._tinybar)}if(!this._valueInTinybar.isInteger())throw new Error("Hbar in tinybars contains decimals")}static from(t,e){return new Hbar(t,e)}static fromTinybars(t){return"string"==typeof t?this.fromString(t,HbarUnit.Tinybar):new Hbar(t,HbarUnit.Tinybar)}static fromString(t,e=HbarUnit.Hbar){if(/^((?:\+|-)?\d+(?:\.\d+)?)(?: (tℏ|μℏ|mℏ|ℏ|kℏ|Mℏ|Gℏ))?$/.test(t)){let[Q,B]=t.split(" ");return null!=B&&(e=HbarUnit.fromString(B)),new Hbar(new BigNumber$1(Q),e)}throw new Error("invalid argument provided")}to(t){return this._valueInTinybar.dividedBy(t._tinybar)}toBigNumber(){return this.to(HbarUnit.Hbar)}toTinybars(){return long.fromValue(this._valueInTinybar.toFixed())}negated(){return Hbar.fromTinybars(this._valueInTinybar.negated())}isNegative(){return this._valueInTinybar.isNegative()}toString(t){return null!=t?`${this._valueInTinybar.dividedBy(t._tinybar).toString()} ${t._symbol}`:this._valueInTinybar.isLessThan(1e4)&&this._valueInTinybar.isGreaterThan(-1e4)?`${this._valueInTinybar.toFixed()} ${HbarUnit.Tinybar._symbol}`:`${this.to(HbarUnit.Hbar).toString()} ${HbarUnit.Hbar._symbol}`}}class StatusError extends Error{constructor(t,e){super(e),this.name="StatusError",this.status=t.status,this.transactionId=t.transactionId,this.message=e,void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,StatusError)}}class ReceiptStatusError extends StatusError{constructor(t){super(t,`receipt for transaction ${t.transactionId.toString()} contained error status ${t.status.toString()}`),this.transactionReceipt=t.transactionReceipt}}class Status{constructor(t){this._code=t,Object.freeze(this)}toString(){switch(this){case Status.Ok:return"OK";case Status.InvalidTransaction:return"INVALID_TRANSACTION";case Status.PayerAccountNotFound:return"PAYER_ACCOUNT_NOT_FOUND";case Status.InvalidNodeAccount:return"INVALID_NODE_ACCOUNT";case Status.TransactionExpired:return"TRANSACTION_EXPIRED";case Status.InvalidTransactionStart:return"INVALID_TRANSACTION_START";case Status.InvalidTransactionDuration:return"INVALID_TRANSACTION_DURATION";case Status.InvalidSignature:return"INVALID_SIGNATURE";case Status.MemoTooLong:return"MEMO_TOO_LONG";case Status.InsufficientTxFee:return"INSUFFICIENT_TX_FEE";case Status.InsufficientPayerBalance:return"INSUFFICIENT_PAYER_BALANCE";case Status.DuplicateTransaction:return"DUPLICATE_TRANSACTION";case Status.Busy:return"BUSY";case Status.NotSupported:return"NOT_SUPPORTED";case Status.InvalidFileId:return"INVALID_FILE_ID";case Status.InvalidAccountId:return"INVALID_ACCOUNT_ID";case Status.InvalidContractId:return"INVALID_CONTRACT_ID";case Status.InvalidTransactionId:return"INVALID_TRANSACTION_ID";case Status.ReceiptNotFound:return"RECEIPT_NOT_FOUND";case Status.RecordNotFound:return"RECORD_NOT_FOUND";case Status.InvalidSolidityId:return"INVALID_SOLIDITY_ID";case Status.Unknown:return"UNKNOWN";case Status.Success:return"SUCCESS";case Status.FailInvalid:return"FAIL_INVALID";case Status.FailFee:return"FAIL_FEE";case Status.FailBalance:return"FAIL_BALANCE";case Status.KeyRequired:return"KEY_REQUIRED";case Status.BadEncoding:return"BAD_ENCODING";case Status.InsufficientAccountBalance:return"INSUFFICIENT_ACCOUNT_BALANCE";case Status.InvalidSolidityAddress:return"INVALID_SOLIDITY_ADDRESS";case Status.InsufficientGas:return"INSUFFICIENT_GAS";case Status.ContractSizeLimitExceeded:return"CONTRACT_SIZE_LIMIT_EXCEEDED";case Status.LocalCallModificationException:return"LOCAL_CALL_MODIFICATION_EXCEPTION";case Status.ContractRevertExecuted:return"CONTRACT_REVERT_EXECUTED";case Status.ContractExecutionException:return"CONTRACT_EXECUTION_EXCEPTION";case Status.InvalidReceivingNodeAccount:return"INVALID_RECEIVING_NODE_ACCOUNT";case Status.MissingQueryHeader:return"MISSING_QUERY_HEADER";case Status.AccountUpdateFailed:return"ACCOUNT_UPDATE_FAILED";case Status.InvalidKeyEncoding:return"INVALID_KEY_ENCODING";case Status.NullSolidityAddress:return"NULL_SOLIDITY_ADDRESS";case Status.ContractUpdateFailed:return"CONTRACT_UPDATE_FAILED";case Status.InvalidQueryHeader:return"INVALID_QUERY_HEADER";case Status.InvalidFeeSubmitted:return"INVALID_FEE_SUBMITTED";case Status.InvalidPayerSignature:return"INVALID_PAYER_SIGNATURE";case Status.KeyNotProvided:return"KEY_NOT_PROVIDED";case Status.InvalidExpirationTime:return"INVALID_EXPIRATION_TIME";case Status.NoWaclKey:return"NO_WACL_KEY";case Status.FileContentEmpty:return"FILE_CONTENT_EMPTY";case Status.InvalidAccountAmounts:return"INVALID_ACCOUNT_AMOUNTS";case Status.EmptyTransactionBody:return"EMPTY_TRANSACTION_BODY";case Status.InvalidTransactionBody:return"INVALID_TRANSACTION_BODY";case Status.InvalidSignatureTypeMismatchingKey:return"INVALID_SIGNATURE_TYPE_MISMATCHING_KEY";case Status.InvalidSignatureCountMismatchingKey:return"INVALID_SIGNATURE_COUNT_MISMATCHING_KEY";case Status.EmptyLiveHashBody:return"EMPTY_LIVE_HASH_BODY";case Status.EmptyLiveHash:return"EMPTY_LIVE_HASH";case Status.EmptyLiveHashKeys:return"EMPTY_LIVE_HASH_KEYS";case Status.InvalidLiveHashSize:return"INVALID_LIVE_HASH_SIZE";case Status.EmptyQueryBody:return"EMPTY_QUERY_BODY";case Status.EmptyLiveHashQuery:return"EMPTY_LIVE_HASH_QUERY";case Status.LiveHashNotFound:return"LIVE_HASH_NOT_FOUND";case Status.AccountIdDoesNotExist:return"ACCOUNT_ID_DOES_NOT_EXIST";case Status.LiveHashAlreadyExists:return"LIVE_HASH_ALREADY_EXISTS";case Status.InvalidFileWacl:return"INVALID_FILE_WACL";case Status.SerializationFailed:return"SERIALIZATION_FAILED";case Status.TransactionOversize:return"TRANSACTION_OVERSIZE";case Status.TransactionTooManyLayers:return"TRANSACTION_TOO_MANY_LAYERS";case Status.ContractDeleted:return"CONTRACT_DELETED";case Status.PlatformNotActive:return"PLATFORM_NOT_ACTIVE";case Status.KeyPrefixMismatch:return"KEY_PREFIX_MISMATCH";case Status.PlatformTransactionNotCreated:return"PLATFORM_TRANSACTION_NOT_CREATED";case Status.InvalidRenewalPeriod:return"INVALID_RENEWAL_PERIOD";case Status.InvalidPayerAccountId:return"INVALID_PAYER_ACCOUNT_ID";case Status.AccountDeleted:return"ACCOUNT_DELETED";case Status.FileDeleted:return"FILE_DELETED";case Status.AccountRepeatedInAccountAmounts:return"ACCOUNT_REPEATED_IN_ACCOUNT_AMOUNTS";case Status.SettingNegativeAccountBalance:return"SETTING_NEGATIVE_ACCOUNT_BALANCE";case Status.ObtainerRequired:return"OBTAINER_REQUIRED";case Status.ObtainerSameContractId:return"OBTAINER_SAME_CONTRACT_ID";case Status.ObtainerDoesNotExist:return"OBTAINER_DOES_NOT_EXIST";case Status.ModifyingImmutableContract:return"MODIFYING_IMMUTABLE_CONTRACT";case Status.FileSystemException:return"FILE_SYSTEM_EXCEPTION";case Status.AutorenewDurationNotInRange:return"AUTORENEW_DURATION_NOT_IN_RANGE";case Status.ErrorDecodingBytestring:return"ERROR_DECODING_BYTESTRING";case Status.ContractFileEmpty:return"CONTRACT_FILE_EMPTY";case Status.ContractBytecodeEmpty:return"CONTRACT_BYTECODE_EMPTY";case Status.InvalidInitialBalance:return"INVALID_INITIAL_BALANCE";case Status.InvalidReceiveRecordThreshold:return"INVALID_RECEIVE_RECORD_THRESHOLD";case Status.InvalidSendRecordThreshold:return"INVALID_SEND_RECORD_THRESHOLD";case Status.AccountIsNotGenesisAccount:return"ACCOUNT_IS_NOT_GENESIS_ACCOUNT";case Status.PayerAccountUnauthorized:return"PAYER_ACCOUNT_UNAUTHORIZED";case Status.InvalidFreezeTransactionBody:return"INVALID_FREEZE_TRANSACTION_BODY";case Status.FreezeTransactionBodyNotFound:return"FREEZE_TRANSACTION_BODY_NOT_FOUND";case Status.TransferListSizeLimitExceeded:return"TRANSFER_LIST_SIZE_LIMIT_EXCEEDED";case Status.ResultSizeLimitExceeded:return"RESULT_SIZE_LIMIT_EXCEEDED";case Status.NotSpecialAccount:return"NOT_SPECIAL_ACCOUNT";case Status.ContractNegativeGas:return"CONTRACT_NEGATIVE_GAS";case Status.ContractNegativeValue:return"CONTRACT_NEGATIVE_VALUE";case Status.InvalidFeeFile:return"INVALID_FEE_FILE";case Status.InvalidExchangeRateFile:return"INVALID_EXCHANGE_RATE_FILE";case Status.InsufficientLocalCallGas:return"INSUFFICIENT_LOCAL_CALL_GAS";case Status.EntityNotAllowedToDelete:return"ENTITY_NOT_ALLOWED_TO_DELETE";case Status.AuthorizationFailed:return"AUTHORIZATION_FAILED";case Status.FileUploadedProtoInvalid:return"FILE_UPLOADED_PROTO_INVALID";case Status.FileUploadedProtoNotSavedToDisk:return"FILE_UPLOADED_PROTO_NOT_SAVED_TO_DISK";case Status.FeeScheduleFilePartUploaded:return"FEE_SCHEDULE_FILE_PART_UPLOADED";case Status.ExchangeRateChangeLimitExceeded:return"EXCHANGE_RATE_CHANGE_LIMIT_EXCEEDED";case Status.MaxContractStorageExceeded:return"MAX_CONTRACT_STORAGE_EXCEEDED";case Status.TransferAccountSameAsDeleteAccount:return"TRANSFER_ACCOUNT_SAME_AS_DELETE_ACCOUNT";case Status.TotalLedgerBalanceInvalid:return"TOTAL_LEDGER_BALANCE_INVALID";case Status.ExpirationReductionNotAllowed:return"EXPIRATION_REDUCTION_NOT_ALLOWED";case Status.MaxGasLimitExceeded:return"MAX_GAS_LIMIT_EXCEEDED";case Status.MaxFileSizeExceeded:return"MAX_FILE_SIZE_EXCEEDED";case Status.ReceiverSigRequired:return"RECEIVER_SIG_REQUIRED";case Status.InvalidTopicId:return"INVALID_TOPIC_ID";case Status.InvalidAdminKey:return"INVALID_ADMIN_KEY";case Status.InvalidSubmitKey:return"INVALID_SUBMIT_KEY";case Status.Unauthorized:return"UNAUTHORIZED";case Status.InvalidTopicMessage:return"INVALID_TOPIC_MESSAGE";case Status.InvalidAutorenewAccount:return"INVALID_AUTORENEW_ACCOUNT";case Status.AutorenewAccountNotAllowed:return"AUTORENEW_ACCOUNT_NOT_ALLOWED";case Status.TopicExpired:return"TOPIC_EXPIRED";case Status.InvalidChunkNumber:return"INVALID_CHUNK_NUMBER";case Status.InvalidChunkTransactionId:return"INVALID_CHUNK_TRANSACTION_ID";case Status.AccountFrozenForToken:return"ACCOUNT_FROZEN_FOR_TOKEN";case Status.TokensPerAccountLimitExceeded:return"TOKENS_PER_ACCOUNT_LIMIT_EXCEEDED";case Status.InvalidTokenId:return"INVALID_TOKEN_ID";case Status.InvalidTokenDecimals:return"INVALID_TOKEN_DECIMALS";case Status.InvalidTokenInitialSupply:return"INVALID_TOKEN_INITIAL_SUPPLY";case Status.InvalidTreasuryAccountForToken:return"INVALID_TREASURY_ACCOUNT_FOR_TOKEN";case Status.InvalidTokenSymbol:return"INVALID_TOKEN_SYMBOL";case Status.TokenHasNoFreezeKey:return"TOKEN_HAS_NO_FREEZE_KEY";case Status.TransfersNotZeroSumForToken:return"TRANSFERS_NOT_ZERO_SUM_FOR_TOKEN";case Status.MissingTokenSymbol:return"MISSING_TOKEN_SYMBOL";case Status.TokenSymbolTooLong:return"TOKEN_SYMBOL_TOO_LONG";case Status.AccountKycNotGrantedForToken:return"ACCOUNT_KYC_NOT_GRANTED_FOR_TOKEN";case Status.TokenHasNoKycKey:return"TOKEN_HAS_NO_KYC_KEY";case Status.InsufficientTokenBalance:return"INSUFFICIENT_TOKEN_BALANCE";case Status.TokenWasDeleted:return"TOKEN_WAS_DELETED";case Status.TokenHasNoSupplyKey:return"TOKEN_HAS_NO_SUPPLY_KEY";case Status.TokenHasNoWipeKey:return"TOKEN_HAS_NO_WIPE_KEY";case Status.InvalidTokenMintAmount:return"INVALID_TOKEN_MINT_AMOUNT";case Status.InvalidTokenBurnAmount:return"INVALID_TOKEN_BURN_AMOUNT";case Status.TokenNotAssociatedToAccount:return"TOKEN_NOT_ASSOCIATED_TO_ACCOUNT";case Status.CannotWipeTokenTreasuryAccount:return"CANNOT_WIPE_TOKEN_TREASURY_ACCOUNT";case Status.InvalidKycKey:return"INVALID_KYC_KEY";case Status.InvalidWipeKey:return"INVALID_WIPE_KEY";case Status.InvalidFreezeKey:return"INVALID_FREEZE_KEY";case Status.InvalidSupplyKey:return"INVALID_SUPPLY_KEY";case Status.MissingTokenName:return"MISSING_TOKEN_NAME";case Status.TokenNameTooLong:return"TOKEN_NAME_TOO_LONG";case Status.InvalidWipingAmount:return"INVALID_WIPING_AMOUNT";case Status.TokenIsImmutable:return"TOKEN_IS_IMMUTABLE";case Status.TokenAlreadyAssociatedToAccount:return"TOKEN_ALREADY_ASSOCIATED_TO_ACCOUNT";case Status.TransactionRequiresZeroTokenBalances:return"TRANSACTION_REQUIRES_ZERO_TOKEN_BALANCES";case Status.AccountIsTreasury:return"ACCOUNT_IS_TREASURY";case Status.TokenIdRepeatedInTokenList:return"TOKEN_ID_REPEATED_IN_TOKEN_LIST";case Status.TokenTransferListSizeLimitExceeded:return"TOKEN_TRANSFER_LIST_SIZE_LIMIT_EXCEEDED";case Status.EmptyTokenTransferBody:return"EMPTY_TOKEN_TRANSFER_BODY";case Status.EmptyTokenTransferAccountAmounts:return"EMPTY_TOKEN_TRANSFER_ACCOUNT_AMOUNTS";case Status.InvalidScheduleId:return"INVALID_SCHEDULE_ID";case Status.ScheduleIsImmutable:return"SCHEDULE_IS_IMMUTABLE";case Status.InvalidSchedulePayerId:return"INVALID_SCHEDULE_PAYER_ID";case Status.InvalidScheduleAccountId:return"INVALID_SCHEDULE_ACCOUNT_ID";case Status.NoNewValidSignatures:return"NO_NEW_VALID_SIGNATURES";case Status.UnresolvableRequiredSigners:return"UNRESOLVABLE_REQUIRED_SIGNERS";case Status.ScheduledTransactionNotInWhitelist:return"SCHEDULED_TRANSACTION_NOT_IN_WHITELIST";case Status.SomeSignaturesWereInvalid:return"SOME_SIGNATURES_WERE_INVALID";case Status.TransactionIdFieldNotAllowed:return"TRANSACTION_ID_FIELD_NOT_ALLOWED";case Status.IdenticalScheduleAlreadyCreated:return"IDENTICAL_SCHEDULE_ALREADY_CREATED";case Status.InvalidZeroByteInString:return"INVALID_ZERO_BYTE_IN_STRING";case Status.ScheduleAlreadyDeleted:return"SCHEDULE_ALREADY_DELETED";case Status.ScheduleAlreadyExecuted:return"SCHEDULE_ALREADY_EXECUTED";case Status.MessageSizeTooLarge:return"MESSAGE_SIZE_TOO_LARGE";case Status.OperationRepeatedInBucketGroups:return"OPERATION_REPEATED_IN_BUCKET_GROUPS";case Status.BucketCapacityOverflow:return"BUCKET_CAPACITY_OVERFLOW";case Status.NodeCapacityNotSufficientForOperation:return"NODE_CAPACITY_NOT_SUFFICIENT_FOR_OPERATION";case Status.BucketHasNoThrottleGroups:return"BUCKET_HAS_NO_THROTTLE_GROUPS";case Status.ThrottleGroupHasZeroOpsPerSec:return"THROTTLE_GROUP_HAS_ZERO_OPS_PER_SEC";case Status.SuccessButMissingExpectedOperation:return"SUCCESS_BUT_MISSING_EXPECTED_OPERATION";case Status.UnparseableThrottleDefinitions:return"UNPARSEABLE_THROTTLE_DEFINITIONS";case Status.InvalidThrottleDefinitions:return"INVALID_THROTTLE_DEFINITIONS";case Status.AccountExpiredAndPendingRemoval:return"ACCOUNT_EXPIRED_AND_PENDING_REMOVAL";case Status.InvalidTokenMaxSupply:return"INVALID_TOKEN_MAX_SUPPLY";case Status.InvalidTokenNftSerialNumber:return"INVALID_TOKEN_NFT_SERIAL_NUMBER";case Status.InvalidNftId:return"INVALID_NFT_ID";case Status.MetadataTooLong:return"METADATA_TOO_LONG";case Status.BatchSizeLimitExceeded:return"BATCH_SIZE_LIMIT_EXCEEDED";case Status.InvalidQueryRange:return"INVALID_QUERY_RANGE";case Status.FractionDividesByZero:return"FRACTION_DIVIDES_BY_ZERO";case Status.InsufficientPayerBalanceForCustomFee:return"INSUFFICIENT_PAYER_BALANCE_FOR_CUSTOM_FEE";case Status.CustomFeesListTooLong:return"CUSTOM_FEES_LIST_TOO_LONG";case Status.InvalidCustomFeeCollector:return"INVALID_CUSTOM_FEE_COLLECTOR";case Status.InvalidTokenIdInCustomFees:return"INVALID_TOKEN_ID_IN_CUSTOM_FEES";case Status.TokenNotAssociatedToFeeCollector:return"TOKEN_NOT_ASSOCIATED_TO_FEE_COLLECTOR";case Status.TokenMaxSupplyReached:return"TOKEN_MAX_SUPPLY_REACHED";case Status.SenderDoesNotOwnNftSerialNo:return"SENDER_DOES_NOT_OWN_NFT_SERIAL_NO";case Status.CustomFeeNotFullySpecified:return"CUSTOM_FEE_NOT_FULLY_SPECIFIED";case Status.CustomFeeMustBePositive:return"CUSTOM_FEE_MUST_BE_POSITIVE";case Status.TokenHasNoFeeScheduleKey:return"TOKEN_HAS_NO_FEE_SCHEDULE_KEY";case Status.CustomFeeOutsideNumericRange:return"CUSTOM_FEE_OUTSIDE_NUMERIC_RANGE";case Status.RoyaltyFractionCannotExceedOne:return"ROYALTY_FRACTION_CANNOT_EXCEED_ONE";case Status.FractionalFeeMaxAmountLessThanMinAmount:return"FRACTIONAL_FEE_MAX_AMOUNT_LESS_THAN_MIN_AMOUNT";case Status.CustomScheduleAlreadyHasNoFees:return"CUSTOM_SCHEDULE_ALREADY_HAS_NO_FEES";case Status.CustomFeeDenominationMustBeFungibleCommon:return"CUSTOM_FEE_DENOMINATION_MUST_BE_FUNGIBLE_COMMON";case Status.CustomFractionalFeeOnlyAllowedForFungibleCommon:return"CUSTOM_FRACTIONAL_FEE_ONLY_ALLOWED_FOR_FUNGIBLE_COMMON";case Status.InvalidCustomFeeScheduleKey:return"INVALID_CUSTOM_FEE_SCHEDULE_KEY";case Status.InvalidTokenMintMetadata:return"INVALID_TOKEN_MINT_METADATA";case Status.InvalidTokenBurnMetadata:return"INVALID_TOKEN_BURN_METADATA";case Status.CurrentTreasuryStillOwnsNfts:return"CURRENT_TREASURY_STILL_OWNS_NFTS";case Status.AccountStillOwnsNfts:return"ACCOUNT_STILL_OWNS_NFTS";case Status.TreasuryMustOwnBurnedNft:return"TREASURY_MUST_OWN_BURNED_NFT";case Status.AccountDoesNotOwnWipedNft:return"ACCOUNT_DOES_NOT_OWN_WIPED_NFT";case Status.AccountAmountTransfersOnlyAllowedForFungibleCommon:return"ACCOUNT_AMOUNT_TRANSFERS_ONLY_ALLOWED_FOR_FUNGIBLE_COMMON";case Status.MaxNftsInPriceRegimeHaveBeenMinted:return"MAX_NFTS_IN_PRICE_REGIME_HAVE_BEEN_MINTED";case Status.PayerAccountDeleted:return"PAYER_ACCOUNT_DELETED";case Status.CustomFeeChargingExceededMaxRecursionDepth:return"CUSTOM_FEE_CHARGING_EXCEEDED_MAX_RECURSION_DEPTH";case Status.CustomFeeChargingExceededMaxAccountAmounts:return"CUSTOM_FEE_CHARGING_EXCEEDED_MAX_ACCOUNT_AMOUNTS";case Status.InsufficientSenderAccountBalanceForCustomFee:return"INSUFFICIENT_SENDER_ACCOUNT_BALANCE_FOR_CUSTOM_FEE";case Status.SerialNumberLimitReached:return"SERIAL_NUMBER_LIMIT_REACHED";case Status.CustomRoyaltyFeeOnlyAllowedForNonFungibleUnique:return"CUSTOM_ROYALTY_FEE_ONLY_ALLOWED_FOR_NON_FUNGIBLE_UNIQUE";case Status.NoRemainingAutomaticAssociations:return"NO_REMAINING_AUTOMATIC_ASSOCIATIONS";case Status.ExistingAutomaticAssociationsExceedGivenLimit:return"EXISTING_AUTOMATIC_ASSOCIATIONS_EXCEED_GIVEN_LIMIT";case Status.RequestedNumAutomaticAssociationsExceedsAssociationLimit:return"REQUESTED_NUM_AUTOMATIC_ASSOCIATIONS_EXCEEDS_ASSOCIATION_LIMIT";case Status.TokenIsPaused:return"TOKEN_IS_PAUSED";case Status.TokenHasNoPauseKey:return"TOKEN_HAS_NO_PAUSE_KEY";case Status.InvalidPauseKey:return"INVALID_PAUSE_KEY";case Status.FreezeUpdateFileDoesNotExist:return"FREEZE_UPDATE_FILE_DOES_NOT_EXIST";case Status.FreezeUpdateFileHashDoesNotMatch:return"FREEZE_UPDATE_FILE_HASH_DOES_NOT_MATCH";case Status.NoUpgradeHasBeenPrepared:return"NO_UPGRADE_HAS_BEEN_PREPARED";case Status.NoFreezeIsScheduled:return"NO_FREEZE_IS_SCHEDULED";case Status.UpdateFileHashChangedSincePrepareUpgrade:return"UPDATE_FILE_HASH_CHANGED_SINCE_PREPARE_UPGRADE";case Status.FreezeStartTimeMustBeFuture:return"FREEZE_START_TIME_MUST_BE_FUTURE";case Status.PreparedUpdateFileIsImmutable:return"PREPARED_UPDATE_FILE_IS_IMMUTABLE";case Status.FreezeAlreadyScheduled:return"FREEZE_ALREADY_SCHEDULED";case Status.FreezeUpgradeInProgress:return"FREEZE_UPGRADE_IN_PROGRESS";case Status.UpdateFileIdDoesNotMatchPrepared:return"UPDATE_FILE_ID_DOES_NOT_MATCH_PREPARED";case Status.UpdateFileHashDoesNotMatchPrepared:return"UPDATE_FILE_HASH_DOES_NOT_MATCH_PREPARED";case Status.ConsensusGasExhausted:return"CONSENSUS_GAS_EXHAUSTED";case Status.RevertedSuccess:return"REVERTED_SUCCESS";case Status.MaxStorageInPriceRegimeHasBeenUsed:return"MAX_STORAGE_IN_PRICE_REGIME_HAS_BEEN_USED";case Status.InvalidAliasKey:return"INVALID_ALIAS_KEY";case Status.UnexpectedTokenDecimals:return"UNEXPECTED_TOKEN_DECIMALS";case Status.InvalidProxyAccountId:return"INVALID_PROXY_ACCOUNT_ID";case Status.InvalidTransferAccountId:return"INVALID_TRANSFER_ACCOUNT_ID";case Status.InvalidFeeCollectorAccountId:return"INVALID_FEE_COLLECTOR_ACCOUNT_ID";case Status.AliasIsImmutable:return"ALIAS_IS_IMMUTABLE";case Status.SpenderAccountSameAsOwner:return"SPENDER_ACCOUNT_SAME_AS_OWNER";case Status.AmountExceedsTokenMaxSupply:return"AMOUNT_EXCEEDS_TOKEN_MAX_SUPPLY";case Status.NegativeAllowanceAmount:return"NEGATIVE_ALLOWANCE_AMOUNT";case Status.CannotApproveForAllFungibleCommon:return"CANNOT_APPROVE_FOR_ALL_FUNGIBLE_COMMON";case Status.SpenderDoesNotHaveAllowance:return"SPENDER_DOES_NOT_HAVE_ALLOWANCE";case Status.AmountExceedsAllowance:return"AMOUNT_EXCEEDS_ALLOWANCE";case Status.MaxAllowancesExceeded:return"MAX_ALLOWANCES_EXCEEDED";case Status.EmptyAllowances:return"EMPTY_ALLOWANCES";case Status.SpenderAccountRepeatedInAllowances:return"SPENDER_ACCOUNT_REPEATED_IN_ALLOWANCES";case Status.RepeatedSerialNumsInNFTAllowances:return"REPEATED_SERIAL_NUMS_IN_NFT_ALLOWANCES";case Status.FungibleTokenInNFTAllowances:return"FUNGIBLE_TOKEN_IN_NFT_ALLOWANCES";case Status.NFTInFungibleTokenAllowances:return"NFT_IN_FUNGIBLE_PAYER_ALLOWANCES";case Status.PayerAndOwnerNotEqual:return"PAYER_AND_OWNER_NOT_EQUAL";default:return`UNKNOWN (${this._code})`}}static _fromCode(t){switch(t){case 0:return Status.Ok;case 1:return Status.InvalidTransaction;case 2:return Status.PayerAccountNotFound;case 3:return Status.InvalidNodeAccount;case 4:return Status.TransactionExpired;case 5:return Status.InvalidTransactionStart;case 6:return Status.InvalidTransactionDuration;case 7:return Status.InvalidSignature;case 8:return Status.MemoTooLong;case 9:return Status.InsufficientTxFee;case 10:return Status.InsufficientPayerBalance;case 11:return Status.DuplicateTransaction;case 12:return Status.Busy;case 13:return Status.NotSupported;case 14:return Status.InvalidFileId;case 15:return Status.InvalidAccountId;case 16:return Status.InvalidContractId;case 17:return Status.InvalidTransactionId;case 18:return Status.ReceiptNotFound;case 19:return Status.RecordNotFound;case 20:return Status.InvalidSolidityId;case 21:return Status.Unknown;case 22:return Status.Success;case 23:return Status.FailInvalid;case 24:return Status.FailFee;case 25:return Status.FailBalance;case 26:return Status.KeyRequired;case 27:return Status.BadEncoding;case 28:return Status.InsufficientAccountBalance;case 29:return Status.InvalidSolidityAddress;case 30:return Status.InsufficientGas;case 31:return Status.ContractSizeLimitExceeded;case 32:return Status.LocalCallModificationException;case 33:return Status.ContractRevertExecuted;case 34:return Status.ContractExecutionException;case 35:return Status.InvalidReceivingNodeAccount;case 36:return Status.MissingQueryHeader;case 37:return Status.AccountUpdateFailed;case 38:return Status.InvalidKeyEncoding;case 39:return Status.NullSolidityAddress;case 40:return Status.ContractUpdateFailed;case 41:return Status.InvalidQueryHeader;case 42:return Status.InvalidFeeSubmitted;case 43:return Status.InvalidPayerSignature;case 44:return Status.KeyNotProvided;case 45:return Status.InvalidExpirationTime;case 46:return Status.NoWaclKey;case 47:return Status.FileContentEmpty;case 48:return Status.InvalidAccountAmounts;case 49:return Status.EmptyTransactionBody;case 50:return Status.InvalidTransactionBody;case 51:return Status.InvalidSignatureTypeMismatchingKey;case 52:return Status.InvalidSignatureCountMismatchingKey;case 53:return Status.EmptyLiveHashBody;case 54:return Status.EmptyLiveHash;case 55:return Status.EmptyLiveHashKeys;case 56:return Status.InvalidLiveHashSize;case 57:return Status.EmptyQueryBody;case 58:return Status.EmptyLiveHashQuery;case 59:return Status.LiveHashNotFound;case 60:return Status.AccountIdDoesNotExist;case 61:return Status.LiveHashAlreadyExists;case 62:return Status.InvalidFileWacl;case 63:return Status.SerializationFailed;case 64:return Status.TransactionOversize;case 65:return Status.TransactionTooManyLayers;case 66:return Status.ContractDeleted;case 67:return Status.PlatformNotActive;case 68:return Status.KeyPrefixMismatch;case 69:return Status.PlatformTransactionNotCreated;case 70:return Status.InvalidRenewalPeriod;case 71:return Status.InvalidPayerAccountId;case 72:return Status.AccountDeleted;case 73:return Status.FileDeleted;case 74:return Status.AccountRepeatedInAccountAmounts;case 75:return Status.SettingNegativeAccountBalance;case 76:return Status.ObtainerRequired;case 77:return Status.ObtainerSameContractId;case 78:return Status.ObtainerDoesNotExist;case 79:return Status.ModifyingImmutableContract;case 80:return Status.FileSystemException;case 81:return Status.AutorenewDurationNotInRange;case 82:return Status.ErrorDecodingBytestring;case 83:return Status.ContractFileEmpty;case 84:return Status.ContractBytecodeEmpty;case 85:return Status.InvalidInitialBalance;case 86:return Status.InvalidReceiveRecordThreshold;case 87:return Status.InvalidSendRecordThreshold;case 88:return Status.AccountIsNotGenesisAccount;case 89:return Status.PayerAccountUnauthorized;case 90:return Status.InvalidFreezeTransactionBody;case 91:return Status.FreezeTransactionBodyNotFound;case 92:return Status.TransferListSizeLimitExceeded;case 93:return Status.ResultSizeLimitExceeded;case 94:return Status.NotSpecialAccount;case 95:return Status.ContractNegativeGas;case 96:return Status.ContractNegativeValue;case 97:return Status.InvalidFeeFile;case 98:return Status.InvalidExchangeRateFile;case 99:return Status.InsufficientLocalCallGas;case 100:return Status.EntityNotAllowedToDelete;case 101:return Status.AuthorizationFailed;case 102:return Status.FileUploadedProtoInvalid;case 103:return Status.FileUploadedProtoNotSavedToDisk;case 104:return Status.FeeScheduleFilePartUploaded;case 105:return Status.ExchangeRateChangeLimitExceeded;case 106:return Status.MaxContractStorageExceeded;case 107:return Status.TransferAccountSameAsDeleteAccount;case 108:return Status.TotalLedgerBalanceInvalid;case 110:return Status.ExpirationReductionNotAllowed;case 111:return Status.MaxGasLimitExceeded;case 112:return Status.MaxFileSizeExceeded;case 113:return Status.ReceiverSigRequired;case 150:return Status.InvalidTopicId;case 155:return Status.InvalidAdminKey;case 156:return Status.InvalidSubmitKey;case 157:return Status.Unauthorized;case 158:return Status.InvalidTopicMessage;case 159:return Status.InvalidAutorenewAccount;case 160:return Status.AutorenewAccountNotAllowed;case 162:return Status.TopicExpired;case 163:return Status.InvalidChunkNumber;case 164:return Status.InvalidChunkTransactionId;case 165:return Status.AccountFrozenForToken;case 166:return Status.TokensPerAccountLimitExceeded;case 167:return Status.InvalidTokenId;case 168:return Status.InvalidTokenDecimals;case 169:return Status.InvalidTokenInitialSupply;case 170:return Status.InvalidTreasuryAccountForToken;case 171:return Status.InvalidTokenSymbol;case 172:return Status.TokenHasNoFreezeKey;case 173:return Status.TransfersNotZeroSumForToken;case 174:return Status.MissingTokenSymbol;case 175:return Status.TokenSymbolTooLong;case 176:return Status.AccountKycNotGrantedForToken;case 177:return Status.TokenHasNoKycKey;case 178:return Status.InsufficientTokenBalance;case 179:return Status.TokenWasDeleted;case 180:return Status.TokenHasNoSupplyKey;case 181:return Status.TokenHasNoWipeKey;case 182:return Status.InvalidTokenMintAmount;case 183:return Status.InvalidTokenBurnAmount;case 184:return Status.TokenNotAssociatedToAccount;case 185:return Status.CannotWipeTokenTreasuryAccount;case 186:return Status.InvalidKycKey;case 187:return Status.InvalidWipeKey;case 188:return Status.InvalidFreezeKey;case 189:return Status.InvalidSupplyKey;case 190:return Status.MissingTokenName;case 191:return Status.TokenNameTooLong;case 192:return Status.InvalidWipingAmount;case 193:return Status.TokenIsImmutable;case 194:return Status.TokenAlreadyAssociatedToAccount;case 195:return Status.TransactionRequiresZeroTokenBalances;case 196:return Status.AccountIsTreasury;case 197:return Status.TokenIdRepeatedInTokenList;case 198:return Status.TokenTransferListSizeLimitExceeded;case 199:return Status.EmptyTokenTransferBody;case 200:return Status.EmptyTokenTransferAccountAmounts;case 201:return Status.InvalidScheduleId;case 202:return Status.ScheduleIsImmutable;case 203:return Status.InvalidSchedulePayerId;case 204:return Status.InvalidScheduleAccountId;case 205:return Status.NoNewValidSignatures;case 206:return Status.UnresolvableRequiredSigners;case 207:return Status.ScheduledTransactionNotInWhitelist;case 208:return Status.SomeSignaturesWereInvalid;case 209:return Status.TransactionIdFieldNotAllowed;case 210:return Status.IdenticalScheduleAlreadyCreated;case 211:return Status.InvalidZeroByteInString;case 212:return Status.ScheduleAlreadyDeleted;case 213:return Status.ScheduleAlreadyExecuted;case 214:return Status.MessageSizeTooLarge;case 215:return Status.OperationRepeatedInBucketGroups;case 216:return Status.BucketCapacityOverflow;case 217:return Status.NodeCapacityNotSufficientForOperation;case 218:return Status.BucketHasNoThrottleGroups;case 219:return Status.ThrottleGroupHasZeroOpsPerSec;case 220:return Status.SuccessButMissingExpectedOperation;case 221:return Status.UnparseableThrottleDefinitions;case 222:return Status.InvalidThrottleDefinitions;case 223:return Status.AccountExpiredAndPendingRemoval;case 224:return Status.InvalidTokenMaxSupply;case 225:return Status.InvalidTokenNftSerialNumber;case 226:return Status.InvalidNftId;case 227:return Status.MetadataTooLong;case 228:return Status.BatchSizeLimitExceeded;case 229:return Status.InvalidQueryRange;case 230:return Status.FractionDividesByZero;case 231:return Status.InsufficientPayerBalanceForCustomFee;case 232:return Status.CustomFeesListTooLong;case 233:return Status.InvalidCustomFeeCollector;case 234:return Status.InvalidTokenIdInCustomFees;case 235:return Status.TokenNotAssociatedToFeeCollector;case 236:return Status.TokenMaxSupplyReached;case 237:return Status.SenderDoesNotOwnNftSerialNo;case 238:return Status.CustomFeeNotFullySpecified;case 239:return Status.CustomFeeMustBePositive;case 240:return Status.TokenHasNoFeeScheduleKey;case 241:return Status.CustomFeeOutsideNumericRange;case 242:return Status.RoyaltyFractionCannotExceedOne;case 243:return Status.FractionalFeeMaxAmountLessThanMinAmount;case 244:return Status.CustomScheduleAlreadyHasNoFees;case 245:return Status.CustomFeeDenominationMustBeFungibleCommon;case 246:return Status.CustomFractionalFeeOnlyAllowedForFungibleCommon;case 247:return Status.InvalidCustomFeeScheduleKey;case 248:return Status.InvalidTokenMintMetadata;case 249:return Status.InvalidTokenBurnMetadata;case 250:return Status.CurrentTreasuryStillOwnsNfts;case 251:return Status.AccountStillOwnsNfts;case 252:return Status.TreasuryMustOwnBurnedNft;case 253:return Status.AccountDoesNotOwnWipedNft;case 254:return Status.AccountAmountTransfersOnlyAllowedForFungibleCommon;case 255:return Status.MaxNftsInPriceRegimeHaveBeenMinted;case 256:return Status.PayerAccountDeleted;case 257:return Status.CustomFeeChargingExceededMaxRecursionDepth;case 258:return Status.CustomFeeChargingExceededMaxAccountAmounts;case 259:return Status.InsufficientSenderAccountBalanceForCustomFee;case 260:return Status.SerialNumberLimitReached;case 261:return Status.CustomRoyaltyFeeOnlyAllowedForNonFungibleUnique;case 262:return Status.NoRemainingAutomaticAssociations;case 263:return Status.ExistingAutomaticAssociationsExceedGivenLimit;case 264:return Status.RequestedNumAutomaticAssociationsExceedsAssociationLimit;case 265:return Status.TokenIsPaused;case 266:return Status.TokenHasNoPauseKey;case 267:return Status.InvalidPauseKey;case 268:return Status.FreezeUpdateFileDoesNotExist;case 269:return Status.FreezeUpdateFileHashDoesNotMatch;case 270:return Status.NoUpgradeHasBeenPrepared;case 271:return Status.NoFreezeIsScheduled;case 272:return Status.UpdateFileHashChangedSincePrepareUpgrade;case 273:return Status.FreezeStartTimeMustBeFuture;case 274:return Status.PreparedUpdateFileIsImmutable;case 275:return Status.FreezeAlreadyScheduled;case 276:return Status.FreezeUpgradeInProgress;case 277:return Status.UpdateFileIdDoesNotMatchPrepared;case 278:return Status.UpdateFileHashDoesNotMatchPrepared;case 279:return Status.ConsensusGasExhausted;case 280:return Status.RevertedSuccess;case 281:return Status.MaxStorageInPriceRegimeHasBeenUsed;case 282:return Status.InvalidAliasKey;case 283:return Status.UnexpectedTokenDecimals;case 284:return Status.InvalidProxyAccountId;case 285:return Status.InvalidTransferAccountId;case 286:return Status.InvalidFeeCollectorAccountId;case 287:return Status.AliasIsImmutable;case 288:return Status.SpenderAccountSameAsOwner;case 289:return Status.AmountExceedsTokenMaxSupply;case 290:return Status.NegativeAllowanceAmount;case 291:return Status.CannotApproveForAllFungibleCommon;case 292:return Status.SpenderDoesNotHaveAllowance;case 293:return Status.AmountExceedsAllowance;case 294:return Status.MaxAllowancesExceeded;case 295:return Status.EmptyAllowances;case 296:return Status.SpenderAccountRepeatedInAllowances;case 297:return Status.RepeatedSerialNumsInNFTAllowances;case 298:return Status.FungibleTokenInNFTAllowances;case 299:return Status.NFTInFungibleTokenAllowances;case 300:return Status.PayerAndOwnerNotEqual;default:throw new Error(`(BUG) Status.fromCode() does not handle code: ${t}`)}}valueOf(){return this._code}}Status.Ok=new Status(0),Status.InvalidTransaction=new Status(1),Status.PayerAccountNotFound=new Status(2),Status.InvalidNodeAccount=new Status(3),Status.TransactionExpired=new Status(4),Status.InvalidTransactionStart=new Status(5),Status.InvalidTransactionDuration=new Status(6),Status.InvalidSignature=new Status(7),Status.MemoTooLong=new Status(8),Status.InsufficientTxFee=new Status(9),Status.InsufficientPayerBalance=new Status(10),Status.DuplicateTransaction=new Status(11),Status.Busy=new Status(12),Status.NotSupported=new Status(13),Status.InvalidFileId=new Status(14),Status.InvalidAccountId=new Status(15),Status.InvalidContractId=new Status(16),Status.InvalidTransactionId=new Status(17),Status.ReceiptNotFound=new Status(18),Status.RecordNotFound=new Status(19),Status.InvalidSolidityId=new Status(20),Status.Unknown=new Status(21),Status.Success=new Status(22),Status.FailInvalid=new Status(23),Status.FailFee=new Status(24),Status.FailBalance=new Status(25),Status.KeyRequired=new Status(26),Status.BadEncoding=new Status(27),Status.InsufficientAccountBalance=new Status(28),Status.InvalidSolidityAddress=new Status(29),Status.InsufficientGas=new Status(30),Status.ContractSizeLimitExceeded=new Status(31),Status.LocalCallModificationException=new Status(32),Status.ContractRevertExecuted=new Status(33),Status.ContractExecutionException=new Status(34),Status.InvalidReceivingNodeAccount=new Status(35),Status.MissingQueryHeader=new Status(36),Status.AccountUpdateFailed=new Status(37),Status.InvalidKeyEncoding=new Status(38),Status.NullSolidityAddress=new Status(39),Status.ContractUpdateFailed=new Status(40),Status.InvalidQueryHeader=new Status(41),Status.InvalidFeeSubmitted=new Status(42),Status.InvalidPayerSignature=new Status(43),Status.KeyNotProvided=new Status(44),Status.InvalidExpirationTime=new Status(45),Status.NoWaclKey=new Status(46),Status.FileContentEmpty=new Status(47),Status.InvalidAccountAmounts=new Status(48),Status.EmptyTransactionBody=new Status(49),Status.InvalidTransactionBody=new Status(50),Status.InvalidSignatureTypeMismatchingKey=new Status(51),Status.InvalidSignatureCountMismatchingKey=new Status(52),Status.EmptyLiveHashBody=new Status(53),Status.EmptyLiveHash=new Status(54),Status.EmptyLiveHashKeys=new Status(55),Status.InvalidLiveHashSize=new Status(56),Status.EmptyQueryBody=new Status(57),Status.EmptyLiveHashQuery=new Status(58),Status.LiveHashNotFound=new Status(59),Status.AccountIdDoesNotExist=new Status(60),Status.LiveHashAlreadyExists=new Status(61),Status.InvalidFileWacl=new Status(62),Status.SerializationFailed=new Status(63),Status.TransactionOversize=new Status(64),Status.TransactionTooManyLayers=new Status(65),Status.ContractDeleted=new Status(66),Status.PlatformNotActive=new Status(67),Status.KeyPrefixMismatch=new Status(68),Status.PlatformTransactionNotCreated=new Status(69),Status.InvalidRenewalPeriod=new Status(70),Status.InvalidPayerAccountId=new Status(71),Status.AccountDeleted=new Status(72),Status.FileDeleted=new Status(73),Status.AccountRepeatedInAccountAmounts=new Status(74),Status.SettingNegativeAccountBalance=new Status(75),Status.ObtainerRequired=new Status(76),Status.ObtainerSameContractId=new Status(77),Status.ObtainerDoesNotExist=new Status(78),Status.ModifyingImmutableContract=new Status(79),Status.FileSystemException=new Status(80),Status.AutorenewDurationNotInRange=new Status(81),Status.ErrorDecodingBytestring=new Status(82),Status.ContractFileEmpty=new Status(83),Status.ContractBytecodeEmpty=new Status(84),Status.InvalidInitialBalance=new Status(85),Status.InvalidReceiveRecordThreshold=new Status(86),Status.InvalidSendRecordThreshold=new Status(87),Status.AccountIsNotGenesisAccount=new Status(88),Status.PayerAccountUnauthorized=new Status(89),Status.InvalidFreezeTransactionBody=new Status(90),Status.FreezeTransactionBodyNotFound=new Status(91),Status.TransferListSizeLimitExceeded=new Status(92),Status.ResultSizeLimitExceeded=new Status(93),Status.NotSpecialAccount=new Status(94),Status.ContractNegativeGas=new Status(95),Status.ContractNegativeValue=new Status(96),Status.InvalidFeeFile=new Status(97),Status.InvalidExchangeRateFile=new Status(98),Status.InsufficientLocalCallGas=new Status(99),Status.EntityNotAllowedToDelete=new Status(100),Status.AuthorizationFailed=new Status(101),Status.FileUploadedProtoInvalid=new Status(102),Status.FileUploadedProtoNotSavedToDisk=new Status(103),Status.FeeScheduleFilePartUploaded=new Status(104),Status.ExchangeRateChangeLimitExceeded=new Status(105),Status.MaxContractStorageExceeded=new Status(106),Status.TransferAccountSameAsDeleteAccount=new Status(107),Status.TotalLedgerBalanceInvalid=new Status(108),Status.ExpirationReductionNotAllowed=new Status(110),Status.MaxGasLimitExceeded=new Status(111),Status.MaxFileSizeExceeded=new Status(112),Status.ReceiverSigRequired=new Status(113),Status.InvalidTopicId=new Status(150),Status.InvalidAdminKey=new Status(155),Status.InvalidSubmitKey=new Status(156),Status.Unauthorized=new Status(157),Status.InvalidTopicMessage=new Status(158),Status.InvalidAutorenewAccount=new Status(159),Status.AutorenewAccountNotAllowed=new Status(160),Status.TopicExpired=new Status(162),Status.InvalidChunkNumber=new Status(163),Status.InvalidChunkTransactionId=new Status(164),Status.AccountFrozenForToken=new Status(165),Status.TokensPerAccountLimitExceeded=new Status(166),Status.InvalidTokenId=new Status(167),Status.InvalidTokenDecimals=new Status(168),Status.InvalidTokenInitialSupply=new Status(169),Status.InvalidTreasuryAccountForToken=new Status(170),Status.InvalidTokenSymbol=new Status(171),Status.TokenHasNoFreezeKey=new Status(172),Status.TransfersNotZeroSumForToken=new Status(173),Status.MissingTokenSymbol=new Status(174),Status.TokenSymbolTooLong=new Status(175),Status.AccountKycNotGrantedForToken=new Status(176),Status.TokenHasNoKycKey=new Status(177),Status.InsufficientTokenBalance=new Status(178),Status.TokenWasDeleted=new Status(179),Status.TokenHasNoSupplyKey=new Status(180),Status.TokenHasNoWipeKey=new Status(181),Status.InvalidTokenMintAmount=new Status(182),Status.InvalidTokenBurnAmount=new Status(183),Status.TokenNotAssociatedToAccount=new Status(184),Status.CannotWipeTokenTreasuryAccount=new Status(185),Status.InvalidKycKey=new Status(186),Status.InvalidWipeKey=new Status(187),Status.InvalidFreezeKey=new Status(188),Status.InvalidSupplyKey=new Status(189),Status.MissingTokenName=new Status(190),Status.TokenNameTooLong=new Status(191),Status.InvalidWipingAmount=new Status(192),Status.TokenIsImmutable=new Status(193),Status.TokenAlreadyAssociatedToAccount=new Status(194),Status.TransactionRequiresZeroTokenBalances=new Status(195),Status.AccountIsTreasury=new Status(196),Status.TokenIdRepeatedInTokenList=new Status(197),Status.TokenTransferListSizeLimitExceeded=new Status(198),Status.EmptyTokenTransferBody=new Status(199),Status.EmptyTokenTransferAccountAmounts=new Status(200),Status.InvalidScheduleId=new Status(201),Status.ScheduleIsImmutable=new Status(202),Status.InvalidSchedulePayerId=new Status(203),Status.InvalidScheduleAccountId=new Status(204),Status.NoNewValidSignatures=new Status(205),Status.UnresolvableRequiredSigners=new Status(206),Status.ScheduledTransactionNotInWhitelist=new Status(207),Status.SomeSignaturesWereInvalid=new Status(208),Status.TransactionIdFieldNotAllowed=new Status(209),Status.IdenticalScheduleAlreadyCreated=new Status(210),Status.InvalidZeroByteInString=new Status(211),Status.ScheduleAlreadyDeleted=new Status(212),Status.ScheduleAlreadyExecuted=new Status(213),Status.MessageSizeTooLarge=new Status(214),Status.OperationRepeatedInBucketGroups=new Status(215),Status.BucketCapacityOverflow=new Status(216),Status.NodeCapacityNotSufficientForOperation=new Status(217),Status.BucketHasNoThrottleGroups=new Status(218),Status.ThrottleGroupHasZeroOpsPerSec=new Status(219),Status.SuccessButMissingExpectedOperation=new Status(220),Status.UnparseableThrottleDefinitions=new Status(221),Status.InvalidThrottleDefinitions=new Status(222),Status.AccountExpiredAndPendingRemoval=new Status(223),Status.InvalidTokenMaxSupply=new Status(224),Status.InvalidTokenNftSerialNumber=new Status(225),Status.InvalidNftId=new Status(226),Status.MetadataTooLong=new Status(227),Status.BatchSizeLimitExceeded=new Status(228),Status.InvalidQueryRange=new Status(229),Status.FractionDividesByZero=new Status(230),Status.InsufficientPayerBalanceForCustomFee=new Status(231),Status.CustomFeesListTooLong=new Status(232),Status.InvalidCustomFeeCollector=new Status(233),Status.InvalidTokenIdInCustomFees=new Status(234),Status.TokenNotAssociatedToFeeCollector=new Status(235),Status.TokenMaxSupplyReached=new Status(236),Status.SenderDoesNotOwnNftSerialNo=new Status(237),Status.CustomFeeNotFullySpecified=new Status(238),Status.CustomFeeMustBePositive=new Status(239),Status.TokenHasNoFeeScheduleKey=new Status(240),Status.CustomFeeOutsideNumericRange=new Status(241),Status.RoyaltyFractionCannotExceedOne=new Status(242),Status.FractionalFeeMaxAmountLessThanMinAmount=new Status(243),Status.CustomScheduleAlreadyHasNoFees=new Status(244),Status.CustomFeeDenominationMustBeFungibleCommon=new Status(245),Status.CustomFractionalFeeOnlyAllowedForFungibleCommon=new Status(246),Status.InvalidCustomFeeScheduleKey=new Status(247),Status.InvalidTokenMintMetadata=new Status(248),Status.InvalidTokenBurnMetadata=new Status(249),Status.CurrentTreasuryStillOwnsNfts=new Status(250),Status.AccountStillOwnsNfts=new Status(251),Status.TreasuryMustOwnBurnedNft=new Status(252),Status.AccountDoesNotOwnWipedNft=new Status(253),Status.AccountAmountTransfersOnlyAllowedForFungibleCommon=new Status(254),Status.MaxNftsInPriceRegimeHaveBeenMinted=new Status(255),Status.PayerAccountDeleted=new Status(256),Status.CustomFeeChargingExceededMaxRecursionDepth=new Status(257),Status.CustomFeeChargingExceededMaxAccountAmounts=new Status(258),Status.InsufficientSenderAccountBalanceForCustomFee=new Status(259),Status.SerialNumberLimitReached=new Status(260),Status.CustomRoyaltyFeeOnlyAllowedForNonFungibleUnique=new Status(261),Status.NoRemainingAutomaticAssociations=new Status(262),Status.ExistingAutomaticAssociationsExceedGivenLimit=new Status(263),Status.RequestedNumAutomaticAssociationsExceedsAssociationLimit=new Status(264),Status.TokenIsPaused=new Status(265),Status.TokenHasNoPauseKey=new Status(266),Status.InvalidPauseKey=new Status(267),Status.FreezeUpdateFileDoesNotExist=new Status(268),Status.FreezeUpdateFileHashDoesNotMatch=new Status(269),Status.NoUpgradeHasBeenPrepared=new Status(270),Status.NoFreezeIsScheduled=new Status(271),Status.UpdateFileHashChangedSincePrepareUpgrade=new Status(272),Status.FreezeStartTimeMustBeFuture=new Status(273),Status.PreparedUpdateFileIsImmutable=new Status(274),Status.FreezeAlreadyScheduled=new Status(275),Status.FreezeUpgradeInProgress=new Status(276),Status.UpdateFileIdDoesNotMatchPrepared=new Status(277),Status.UpdateFileHashDoesNotMatchPrepared=new Status(278),Status.ConsensusGasExhausted=new Status(279),Status.RevertedSuccess=new Status(280),Status.MaxStorageInPriceRegimeHasBeenUsed=new Status(281),Status.InvalidAliasKey=new Status(282),Status.UnexpectedTokenDecimals=new Status(283),Status.InvalidProxyAccountId=new Status(284),Status.InvalidTransferAccountId=new Status(285),Status.InvalidFeeCollectorAccountId=new Status(286),Status.AliasIsImmutable=new Status(287),Status.SpenderAccountSameAsOwner=new Status(288),Status.AmountExceedsTokenMaxSupply=new Status(289),Status.NegativeAllowanceAmount=new Status(290),Status.CannotApproveForAllFungibleCommon=new Status(291),Status.SpenderDoesNotHaveAllowance=new Status(292),Status.AmountExceedsAllowance=new Status(293),Status.MaxAllowancesExceeded=new Status(294),Status.EmptyAllowances=new Status(295),Status.SpenderAccountRepeatedInAllowances=new Status(296),Status.RepeatedSerialNumsInNFTAllowances=new Status(297),Status.FungibleTokenInNFTAllowances=new Status(298),Status.NFTInFungibleTokenAllowances=new Status(299),Status.PayerAndOwnerNotEqual=new Status(300);const byteToHex$1=[];for(let t=0;t<=255;t+=1)byteToHex$1.push(t.toString(16).padStart(2,"0"));function encode$1(t){let e="";for(const Q of t)e+=byteToHex$1[Q];return e}function decode$1(t){const e=(t.startsWith("0x")?t.substring(2):t).match(/.{1,2}/gu);return new Uint8Array((null==e?[]:e).map((t=>parseInt(t,16))))}class BadEntityIdException extends Error{constructor(t,e,Q,B,s){super(`Entity ID ${t.toString()}.${e.toString()}.${Q.toString()}-${B} was incorrect.`),this.name="BadEntityIdException",this.shard=t,this.realm=e,this.num=Q,this.presentChecksum=B,this.expectedChecksum=s}}const REQUIRE_NON_NULL_ERROR="This value cannot be null | undefined.",REQUIRE_STRING_OR_UINT8ARRAY_ERROR="This value must be a string or Uint8Array.",REQUIRE_ARRAY_ERROR="The provided variable must be an Array.",FUNCTION_CONVERT_TO_BIGNUMBER_ERROR="This value must be a String, Number, or BigNumber to be converted.",FUNCTION_CONVERT_TO_NUMBER_ERROR="This value must be a String, Number, or BigNumber to be converted.",FUNCTION_CONVERT_TO_NUMBER_PARSE_ERROR="Unable to parse given variable. Returns NaN.";function isNonNull(t){return null!=t&&null!=t}function isUint8Array(t){return isNonNull(t)&&t instanceof Uint8Array}function isNumber$1(t){return isNonNull(t)&&("number"==typeof t||t instanceof Number)}function isBigNumber(t){return isNonNull(t)&&t instanceof BigNumber$1}function isLong(t){return isNonNull(t)&&t instanceof long}function isString$1(t){return isNonNull(t)&&"string"==typeof t}function isStringOrUint8Array(t){return isNonNull(t)&&(isString$1(t)||isUint8Array(t))}function requireNotNegative(t){if(t.isNegative())throw new Error("negative value not allowed");return t}function requireNonNull(t){if(isNonNull(t))return t;throw new Error(REQUIRE_NON_NULL_ERROR)}function requireStringOrUint8Array(t){if(isStringOrUint8Array(requireNonNull(t)))return t;throw new Error(REQUIRE_STRING_OR_UINT8ARRAY_ERROR)}function convertToBigNumber(t){if(requireNonNull(t),isBigNumber(t)||isString$1(t)||isNumber$1(t)||isLong(t))return new BigNumber$1(t);throw new Error(FUNCTION_CONVERT_TO_BIGNUMBER_ERROR)}function convertToBigNumberArray(t){if(t instanceof Array)return t.map(convertToBigNumber);throw new Error(REQUIRE_ARRAY_ERROR)}function convertToNumber(t){if(requireNonNull(t),isBigNumber(t)||isString$1(t)||isNumber$1(t)||isLong(t)){const e=parseInt(t);if(isNaN(e))throw new Error(FUNCTION_CONVERT_TO_NUMBER_PARSE_ERROR);return e}throw new Error(FUNCTION_CONVERT_TO_NUMBER_ERROR)}function safeView(t,e=0,Q=t.byteLength){if(!(Number.isInteger(e)&&e>=0))throw new Error("Invalid offset!");if(!(Number.isInteger(Q)&&Q>=0))throw new Error("Invalid length!");return new DataView(t.buffer,t.byteOffset+e,Math.min(Q,t.byteLength-e))}const ENTITY_ID_REGEX=/^(\d+)(?:\.(\d+)\.([a-fA-F0-9]+))?(?:-([a-z]{5}))?$/;function constructor(t,e,Q){if(null==e&&null!=Q||null!=e&&null==Q)throw new Error("invalid entity ID");const[B,s,F]="number"==typeof t||long.isLong(t)?[null!=Q?long.fromValue(t):long.ZERO,null!=e?long.fromValue(e):long.ZERO,null!=Q?long.fromValue(Q):long.fromValue(t)]:[null!=t.shard?long.fromValue(t.shard):long.ZERO,null!=t.realm?long.fromValue(t.realm):long.ZERO,long.fromValue(t.num)];if(B.isNegative()||s.isNegative()||F.isNegative())throw new Error("negative numbers are not allowed in IDs");return{shard:B,realm:s,num:F}}function compare(t,e){let Q=t[0].compare(e[0]);return 0!=Q?Q:(Q=t[1].compare(e[1]),0!=Q?Q:t[2].compare(e[2]))}function fromStringSplitter(t){const e=ENTITY_ID_REGEX.exec(t);if(null==e)throw new Error(`failed to parse entity id: ${t}`);return null==e[2]&&null==e[3]?{shard:"0",realm:"0",numOrHex:e[1],checksum:e[4]}:{shard:e[1],realm:e[2],numOrHex:e[3],checksum:e[4]}}function fromString(t){const e=fromStringSplitter(t);if(Number.isNaN(e.shard)||Number.isNaN(e.realm)||Number.isNaN(e.numOrHex))throw new Error("invalid format for entity ID");return{shard:null!=e.shard?long.fromString(e.shard):long.ZERO,realm:null!=e.realm?long.fromString(e.realm):long.ZERO,num:long.fromString(e.numOrHex),checksum:e.checksum}}function fromSolidityAddress(t){const e=t.startsWith("0x")?decode$1(t.slice(2)):decode$1(t);if(20!==e.length)throw new Error(`Invalid hex encoded solidity address length:\n                expected length 40, got length ${t.length}`);return[long.fromBytesBE([0,0,0,0,...e.slice(0,4)]),long.fromBytesBE(Array.from(e.slice(4,12))),long.fromBytesBE(Array.from(e.slice(12,20)))]}function toSolidityAddress(t){const e=new Uint8Array(20),Q=safeView(e),[B,s,F]=t;return Q.setUint32(0,convertToNumber(B)),Q.setUint32(8,convertToNumber(s)),Q.setUint32(16,convertToNumber(F)),encode$1(e)}function _checksum(t,e){let Q="",B=[],s=0,F=0,U=0,n=0,c=0;const o=11881376,g="a".charCodeAt(0);let l=t+"000000000000",I=[];for(var r=0;r<l.length;r+=2)I.push(parseInt(l.substring(r,r+2),16));for(let t=0;t<e.length;t++)B.push("."===e[t]?10:parseInt(e[t],10));for(let t=0;t<B.length;t++)U=(31*U+B[t])%17576,t%2==0?s=(s+B[t])%11:F=(F+B[t])%11;for(let t=0;t<I.length;t++)n=(31*n+I[t])%o;c=(17576*(11*(e.length%5*11+s)+F)+U+n)%o,c=1000003*c%o;for(let t=0;t<5;t++)Q=String.fromCharCode(g+c%26)+Q,c/=26;return Q}function validateChecksum(t,e,Q,B,s){if(null==s._network._ledgerId||null==B)return;const F=_checksum(s._network._ledgerId._toStringForChecksum(),`${t.toString()}.${e.toString()}.${Q.toString()}`);if(B!=F)throw new BadEntityIdException(t,e,Q,B,F)}function toStringWithChecksum(t,e){if(null==e._network._ledgerId)throw new Error("cannot calculate checksum with a client that does not contain a recognzied ledger ID");return`${t}-${_checksum(e._network._ledgerId._toStringForChecksum(),t)}`}var lib={},indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(t,e){for(var Q=new Array(arguments.length-1),B=0,s=2,F=!0;s<arguments.length;)Q[B++]=arguments[s++];return new Promise((function(s,U){Q[B]=function(t){if(F)if(F=!1,t)U(t);else{for(var e=new Array(arguments.length-1),Q=0;Q<e.length;)e[Q++]=arguments[Q];s.apply(null,e)}};try{t.apply(e||null,Q)}catch(t){F&&(F=!1,U(t))}}))}var base64$1={};!function(t){var e=base64$1;e.length=function(t){var e=t.length;if(!e)return 0;for(var Q=0;--e%4>1&&"="===t.charAt(e);)++Q;return Math.ceil(3*t.length)/4-Q};for(var Q=new Array(64),B=new Array(123),s=0;s<64;)B[Q[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;e.encode=function(t,e,B){for(var s,F=null,U=[],n=0,c=0;e<B;){var o=t[e++];switch(c){case 0:U[n++]=Q[o>>2],s=(3&o)<<4,c=1;break;case 1:U[n++]=Q[s|o>>4],s=(15&o)<<2,c=2;break;case 2:U[n++]=Q[s|o>>6],U[n++]=Q[63&o],c=0}n>8191&&((F||(F=[])).push(String.fromCharCode.apply(String,U)),n=0)}return c&&(U[n++]=Q[s],U[n++]=61,1===c&&(U[n++]=61)),F?(n&&F.push(String.fromCharCode.apply(String,U.slice(0,n))),F.join("")):String.fromCharCode.apply(String,U.slice(0,n))};var F="invalid encoding";e.decode=function(t,e,Q){for(var s,U=Q,n=0,c=0;c<t.length;){var o=t.charCodeAt(c++);if(61===o&&n>1)break;if(void 0===(o=B[o]))throw Error(F);switch(n){case 0:s=o,n=1;break;case 1:e[Q++]=s<<2|(48&o)>>4,s=o,n=2;break;case 2:e[Q++]=(15&s)<<4|(60&o)>>2,s=o,n=3;break;case 3:e[Q++]=(3&s)<<6|o,n=0}}if(1===n)throw Error(F);return Q-U},e.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}}();var eventemitter=EventEmitter$1;function EventEmitter$1(){this._listeners={}}EventEmitter$1.prototype.on=function(t,e,Q){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:Q||this}),this},EventEmitter$1.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var Q=this._listeners[t],B=0;B<Q.length;)Q[B].fn===e?Q.splice(B,1):++B;return this},EventEmitter$1.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var Q=[],B=1;B<arguments.length;)Q.push(arguments[B++]);for(B=0;B<e.length;)e[B].fn.apply(e[B++].ctx,Q)}return this};var float=factory(factory);function factory(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),Q=new Uint8Array(e.buffer),B=128===Q[3];function s(t,B,s){e[0]=t,B[s]=Q[0],B[s+1]=Q[1],B[s+2]=Q[2],B[s+3]=Q[3]}function F(t,B,s){e[0]=t,B[s]=Q[3],B[s+1]=Q[2],B[s+2]=Q[1],B[s+3]=Q[0]}function U(t,B){return Q[0]=t[B],Q[1]=t[B+1],Q[2]=t[B+2],Q[3]=t[B+3],e[0]}function n(t,B){return Q[3]=t[B],Q[2]=t[B+1],Q[1]=t[B+2],Q[0]=t[B+3],e[0]}t.writeFloatLE=B?s:F,t.writeFloatBE=B?F:s,t.readFloatLE=B?U:n,t.readFloatBE=B?n:U}():function(){function e(t,e,Q,B){var s=e<0?1:0;if(s&&(e=-e),0===e)t(1/e>0?0:2147483648,Q,B);else if(isNaN(e))t(2143289344,Q,B);else if(e>34028234663852886e22)t((s<<31|2139095040)>>>0,Q,B);else if(e<11754943508222875e-54)t((s<<31|Math.round(e/1401298464324817e-60))>>>0,Q,B);else{var F=Math.floor(Math.log(e)/Math.LN2);t((s<<31|F+127<<23|8388607&Math.round(e*Math.pow(2,-F)*8388608))>>>0,Q,B)}}function Q(t,e,Q){var B=t(e,Q),s=2*(B>>31)+1,F=B>>>23&255,U=8388607&B;return 255===F?U?NaN:s*(1/0):0===F?1401298464324817e-60*s*U:s*Math.pow(2,F-150)*(U+8388608)}t.writeFloatLE=e.bind(null,writeUintLE),t.writeFloatBE=e.bind(null,writeUintBE),t.readFloatLE=Q.bind(null,readUintLE),t.readFloatBE=Q.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),Q=new Uint8Array(e.buffer),B=128===Q[7];function s(t,B,s){e[0]=t,B[s]=Q[0],B[s+1]=Q[1],B[s+2]=Q[2],B[s+3]=Q[3],B[s+4]=Q[4],B[s+5]=Q[5],B[s+6]=Q[6],B[s+7]=Q[7]}function F(t,B,s){e[0]=t,B[s]=Q[7],B[s+1]=Q[6],B[s+2]=Q[5],B[s+3]=Q[4],B[s+4]=Q[3],B[s+5]=Q[2],B[s+6]=Q[1],B[s+7]=Q[0]}function U(t,B){return Q[0]=t[B],Q[1]=t[B+1],Q[2]=t[B+2],Q[3]=t[B+3],Q[4]=t[B+4],Q[5]=t[B+5],Q[6]=t[B+6],Q[7]=t[B+7],e[0]}function n(t,B){return Q[7]=t[B],Q[6]=t[B+1],Q[5]=t[B+2],Q[4]=t[B+3],Q[3]=t[B+4],Q[2]=t[B+5],Q[1]=t[B+6],Q[0]=t[B+7],e[0]}t.writeDoubleLE=B?s:F,t.writeDoubleBE=B?F:s,t.readDoubleLE=B?U:n,t.readDoubleBE=B?n:U}():function(){function e(t,e,Q,B,s,F){var U=B<0?1:0;if(U&&(B=-B),0===B)t(0,s,F+e),t(1/B>0?0:2147483648,s,F+Q);else if(isNaN(B))t(0,s,F+e),t(2146959360,s,F+Q);else if(B>17976931348623157e292)t(0,s,F+e),t((U<<31|2146435072)>>>0,s,F+Q);else{var n;if(B<22250738585072014e-324)t((n=B/5e-324)>>>0,s,F+e),t((U<<31|n/4294967296)>>>0,s,F+Q);else{var c=Math.floor(Math.log(B)/Math.LN2);1024===c&&(c=1023),t(4503599627370496*(n=B*Math.pow(2,-c))>>>0,s,F+e),t((U<<31|c+1023<<20|1048576*n&1048575)>>>0,s,F+Q)}}}function Q(t,e,Q,B,s){var F=t(B,s+e),U=t(B,s+Q),n=2*(U>>31)+1,c=U>>>20&2047,o=4294967296*(1048575&U)+F;return 2047===c?o?NaN:n*(1/0):0===c?5e-324*n*o:n*Math.pow(2,c-1075)*(o+4503599627370496)}t.writeDoubleLE=e.bind(null,writeUintLE,0,4),t.writeDoubleBE=e.bind(null,writeUintBE,4,0),t.readDoubleLE=Q.bind(null,readUintLE,0,4),t.readDoubleBE=Q.bind(null,readUintBE,4,0)}(),t}function writeUintLE(t,e,Q){e[Q]=255&t,e[Q+1]=t>>>8&255,e[Q+2]=t>>>16&255,e[Q+3]=t>>>24}function writeUintBE(t,e,Q){e[Q]=t>>>24,e[Q+1]=t>>>16&255,e[Q+2]=t>>>8&255,e[Q+3]=255&t}function readUintLE(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function readUintBE(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}var utf8$2={};!function(t){var e=utf8$2;e.length=function(t){for(var e=0,Q=0,B=0;B<t.length;++B)(Q=t.charCodeAt(B))<128?e+=1:Q<2048?e+=2:55296==(64512&Q)&&56320==(64512&t.charCodeAt(B+1))?(++B,e+=4):e+=3;return e},e.read=function(t,e,Q){if(Q-e<1)return"";for(var B,s=null,F=[],U=0;e<Q;)(B=t[e++])<128?F[U++]=B:B>191&&B<224?F[U++]=(31&B)<<6|63&t[e++]:B>239&&B<365?(B=((7&B)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,F[U++]=55296+(B>>10),F[U++]=56320+(1023&B)):F[U++]=(15&B)<<12|(63&t[e++])<<6|63&t[e++],U>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,F)),U=0);return s?(U&&s.push(String.fromCharCode.apply(String,F.slice(0,U))),s.join("")):String.fromCharCode.apply(String,F.slice(0,U))},e.write=function(t,e,Q){for(var B,s,F=Q,U=0;U<t.length;++U)(B=t.charCodeAt(U))<128?e[Q++]=B:B<2048?(e[Q++]=B>>6|192,e[Q++]=63&B|128):55296==(64512&B)&&56320==(64512&(s=t.charCodeAt(U+1)))?(B=65536+((1023&B)<<10)+(1023&s),++U,e[Q++]=B>>18|240,e[Q++]=B>>12&63|128,e[Q++]=B>>6&63|128,e[Q++]=63&B|128):(e[Q++]=B>>12|224,e[Q++]=B>>6&63|128,e[Q++]=63&B|128);return Q-F}}();var pool_1=pool;function pool(t,e,Q){var B=Q||8192,s=B>>>1,F=null,U=B;return function(Q){if(Q<1||Q>s)return t(Q);U+Q>B&&(F=t(B),U=0);var n=e.call(F,U,U+=Q);return 7&U&&(U=1+(7|U)),n}}var longbits=LongBits$2,util$5=minimal$1;function LongBits$2(t,e){this.lo=t>>>0,this.hi=e>>>0}var zero=LongBits$2.zero=new LongBits$2(0,0);zero.toNumber=function(){return 0},zero.zzEncode=zero.zzDecode=function(){return this},zero.length=function(){return 1};var zeroHash=LongBits$2.zeroHash="\0\0\0\0\0\0\0\0";LongBits$2.fromNumber=function(t){if(0===t)return zero;var e=t<0;e&&(t=-t);var Q=t>>>0,B=(t-Q)/4294967296>>>0;return e&&(B=~B>>>0,Q=~Q>>>0,++Q>4294967295&&(Q=0,++B>4294967295&&(B=0))),new LongBits$2(Q,B)},LongBits$2.from=function(t){if("number"==typeof t)return LongBits$2.fromNumber(t);if(util$5.isString(t)){if(!util$5.Long)return LongBits$2.fromNumber(parseInt(t,10));t=util$5.Long.fromString(t)}return t.low||t.high?new LongBits$2(t.low>>>0,t.high>>>0):zero},LongBits$2.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,Q=~this.hi>>>0;return e||(Q=Q+1>>>0),-(e+4294967296*Q)}return this.lo+4294967296*this.hi},LongBits$2.prototype.toLong=function(t){return util$5.Long?new util$5.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var charCodeAt=String.prototype.charCodeAt;LongBits$2.fromHash=function(t){return t===zeroHash?zero:new LongBits$2((charCodeAt.call(t,0)|charCodeAt.call(t,1)<<8|charCodeAt.call(t,2)<<16|charCodeAt.call(t,3)<<24)>>>0,(charCodeAt.call(t,4)|charCodeAt.call(t,5)<<8|charCodeAt.call(t,6)<<16|charCodeAt.call(t,7)<<24)>>>0)},LongBits$2.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits$2.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},LongBits$2.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},LongBits$2.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,Q=this.hi>>>24;return 0===Q?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:Q<128?9:10},function(t){var e=minimal$1;function Q(t,e,Q){for(var B=Object.keys(e),s=0;s<B.length;++s)void 0!==t[B[s]]&&Q||(t[B[s]]=e[B[s]]);return t}function B(t){function e(t,B){if(!(this instanceof e))return new e(t,B);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),B&&Q(this,B)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}e.asPromise=aspromise,e.base64=base64$1,e.EventEmitter=eventemitter,e.float=float,e.inquire=inquire_1,e.utf8=utf8$2,e.pool=pool_1,e.LongBits=longbits,e.isNode=Boolean(void 0!==commonjsGlobal&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.isString=function(t){return"string"==typeof t||t instanceof String},e.isObject=function(t){return t&&"object"==typeof t},e.isset=e.isSet=function(t,e){var Q=t[e];return!(null==Q||!t.hasOwnProperty(e))&&("object"!=typeof Q||(Array.isArray(Q)?Q.length:Object.keys(Q).length)>0)},e.Buffer=function(){try{var t=e.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(t){return"number"==typeof t?e.Buffer?e._Buffer_allocUnsafe(t):new e.Array(t):e.Buffer?e._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},e.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(t){return t?e.LongBits.from(t).toHash():e.LongBits.zeroHash},e.longFromHash=function(t,Q){var B=e.LongBits.fromHash(t);return e.Long?e.Long.fromBits(B.lo,B.hi,Q):B.toNumber(Boolean(Q))},e.merge=Q,e.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},e.newError=B,e.ProtocolError=B("ProtocolError"),e.oneOfGetter=function(t){for(var e={},Q=0;Q<t.length;++Q)e[t[Q]]=1;return function(){for(var t=Object.keys(this),Q=t.length-1;Q>-1;--Q)if(1===e[t[Q]]&&void 0!==this[t[Q]]&&null!==this[t[Q]])return t[Q]}},e.oneOfSetter=function(t){return function(e){for(var Q=0;Q<t.length;++Q)t[Q]!==e&&delete this[t[Q]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var t=e.Buffer;t?(e._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,Q){return new t(e,Q)},e._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):e._Buffer_from=e._Buffer_allocUnsafe=null}}();var writer=Writer$2,util$4=minimal$1,BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(t,e,Q){this.fn=t,this.len=e,this.next=void 0,this.val=Q}function noop$2(){}function State(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Writer$2(){this.len=0,this.head=new Op(noop$2,0,0),this.tail=this.head,this.states=null}var create$1=function(){return util$4.Buffer?function(){return(Writer$2.create=function(){return new BufferWriter$1})()}:function(){return new Writer$2}};function writeByte(t,e,Q){e[Q]=255&t}function writeVarint32(t,e,Q){for(;t>127;)e[Q++]=127&t|128,t>>>=7;e[Q]=t}function VarintOp(t,e){this.len=t,this.next=void 0,this.val=e}function writeVarint64(t,e,Q){for(;t.hi;)e[Q++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[Q++]=127&t.lo|128,t.lo=t.lo>>>7;e[Q++]=t.lo}function writeFixed32(t,e,Q){e[Q]=255&t,e[Q+1]=t>>>8&255,e[Q+2]=t>>>16&255,e[Q+3]=t>>>24}Writer$2.create=create$1(),Writer$2.alloc=function(t){return new util$4.Array(t)},util$4.Array!==Array&&(Writer$2.alloc=util$4.pool(Writer$2.alloc,util$4.Array.prototype.subarray)),Writer$2.prototype._push=function(t,e,Q){return this.tail=this.tail.next=new Op(t,e,Q),this.len+=e,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$2.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new VarintOp((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},Writer$2.prototype.int32=function(t){return t<0?this._push(writeVarint64,10,LongBits$1.fromNumber(t)):this.uint32(t)},Writer$2.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},Writer$2.prototype.uint64=function(t){var e=LongBits$1.from(t);return this._push(writeVarint64,e.length(),e)},Writer$2.prototype.int64=Writer$2.prototype.uint64,Writer$2.prototype.sint64=function(t){var e=LongBits$1.from(t).zzEncode();return this._push(writeVarint64,e.length(),e)},Writer$2.prototype.bool=function(t){return this._push(writeByte,1,t?1:0)},Writer$2.prototype.fixed32=function(t){return this._push(writeFixed32,4,t>>>0)},Writer$2.prototype.sfixed32=Writer$2.prototype.fixed32,Writer$2.prototype.fixed64=function(t){var e=LongBits$1.from(t);return this._push(writeFixed32,4,e.lo)._push(writeFixed32,4,e.hi)},Writer$2.prototype.sfixed64=Writer$2.prototype.fixed64,Writer$2.prototype.float=function(t){return this._push(util$4.float.writeFloatLE,4,t)},Writer$2.prototype.double=function(t){return this._push(util$4.float.writeDoubleLE,8,t)};var writeBytes=util$4.Array.prototype.set?function(t,e,Q){e.set(t,Q)}:function(t,e,Q){for(var B=0;B<t.length;++B)e[Q+B]=t[B]};Writer$2.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(writeByte,1,0);if(util$4.isString(t)){var Q=Writer$2.alloc(e=base64.length(t));base64.decode(t,Q,0),t=Q}return this.uint32(e)._push(writeBytes,e,t)},Writer$2.prototype.string=function(t){var e=utf8$1.length(t);return e?this.uint32(e)._push(utf8$1.write,e,t):this._push(writeByte,1,0)},Writer$2.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop$2,0,0),this.len=0,this},Writer$2.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop$2,0,0),this.len=0),this},Writer$2.prototype.ldelim=function(){var t=this.head,e=this.tail,Q=this.len;return this.reset().uint32(Q),Q&&(this.tail.next=t.next,this.tail=e,this.len+=Q),this},Writer$2.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),Q=0;t;)t.fn(t.val,e,Q),Q+=t.len,t=t.next;return e},Writer$2._configure=function(t){BufferWriter$1=t,Writer$2.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer$1=writer;(BufferWriter.prototype=Object.create(Writer$1.prototype)).constructor=BufferWriter;var util$3=minimal$1;function BufferWriter(){Writer$1.call(this)}function writeStringBuffer(t,e,Q){t.length<40?util$3.utf8.write(t,e,Q):e.utf8Write?e.utf8Write(t,Q):e.write(t,Q)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&"set"===util$3.Buffer.prototype.set.name?function(t,e,Q){e.set(t,Q)}:function(t,e,Q){if(t.copy)t.copy(e,Q,0,t.length);else for(var B=0;B<t.length;)e[Q++]=t[B++]}},BufferWriter.prototype.bytes=function(t){util$3.isString(t)&&(t=util$3._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(BufferWriter.writeBytesBuffer,e,t),this},BufferWriter.prototype.string=function(t){var e=util$3.Buffer.byteLength(t);return this.uint32(e),e&&this._push(writeStringBuffer,e,t),this},BufferWriter._configure();var reader=Reader$2,util$2=minimal$1,BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Reader$2(t){this.buf=t,this.pos=0,this.len=t.length}var create_array="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new Reader$2(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new Reader$2(t);throw Error("illegal buffer")},create=function(){return util$2.Buffer?function(t){return(Reader$2.create=function(t){return util$2.Buffer.isBuffer(t)?new BufferReader$1(t):create_array(t)})(t)}:create_array},value;function readLongVarint(){var t=new LongBits(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function readFixed32_end(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$2.create=create(),Reader$2.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice,Reader$2.prototype.uint32=(value=4294967295,function(){if(value=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return value;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return value}),Reader$2.prototype.int32=function(){return 0|this.uint32()},Reader$2.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},Reader$2.prototype.bool=function(){return 0!==this.uint32()},Reader$2.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$2.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader$2.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var t=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},Reader$2.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var t=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},Reader$2.prototype.bytes=function(){var t=this.uint32(),e=this.pos,Q=this.pos+t;if(Q>this.len)throw indexOutOfRange(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,Q):e===Q?new this.buf.constructor(0):this._slice.call(this.buf,e,Q)},Reader$2.prototype.string=function(){var t=this.bytes();return utf8.read(t,0,t.length)},Reader$2.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw indexOutOfRange(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this},Reader$2.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},Reader$2._configure=function(t){BufferReader$1=t,Reader$2.create=create(),BufferReader$1._configure();var e=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$2.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader$1=reader;(BufferReader.prototype=Object.create(Reader$1.prototype)).constructor=BufferReader;var util$1=minimal$1;function BufferReader(t){Reader$1.call(this,t)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)},BufferReader.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},BufferReader._configure();var rpc={},service=Service,util=minimal$1,exports;function Service(t,e,Q){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(Q)}(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function t(e,Q,B,s,F){if(!s)throw TypeError("request must be specified");var U=this;if(!F)return util.asPromise(t,U,e,Q,B,s);if(U.rpcImpl)try{return U.rpcImpl(e,Q[U.requestDelimited?"encodeDelimited":"encode"](s).finish(),(function(t,Q){if(t)return U.emit("error",t,e),F(t);if(null!==Q){if(!(Q instanceof B))try{Q=B[U.responseDelimited?"decodeDelimited":"decode"](Q)}catch(t){return U.emit("error",t,e),F(t)}return U.emit("data",Q,e),F(null,Q)}U.end(!0)}))}catch(t){return U.emit("error",t,e),void setTimeout((function(){F(t)}),0)}else setTimeout((function(){F(Error("already ended"))}),0)},Service.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},exports=rpc,exports.Service=service;var roots={};!function(t){var e=indexMinimal;function Q(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}e.build="minimal",e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=minimal$1,e.rpc=rpc,e.roots=roots,e.configure=Q,Q()}();var minimal=indexMinimal,proto={};!function(t){var e=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var B=Q(e);if(B&&B.has(t))return B.get(t);var s={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in t)if("default"!=U&&Object.prototype.hasOwnProperty.call(t,U)){var n=F?Object.getOwnPropertyDescriptor(t,U):null;n&&(n.get||n.set)?Object.defineProperty(s,U,n):s[U]=t[U]}return s.default=t,B&&B.set(t,s),s}(minimal);function Q(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,B=new WeakMap;return(Q=function(t){return t?B:e})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.proto=t.google=t.default=void 0;const B=e.Reader,s=e.Writer,F=e.util,U=e.roots.hashgraph||(e.roots.hashgraph={});t.default=U;const n=U.proto=(()=>{const t={TokenUnitBalance:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.tokenId=null,t.prototype.balance=F.Long?F.Long.fromBits(0,0,!0):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.tokenId&&Object.hasOwnProperty.call(t,"tokenId")&&U.proto.TokenID.encode(t.tokenId,e.uint32(10).fork()).ldelim(),null!=t.balance&&Object.hasOwnProperty.call(t,"balance")&&e.uint32(16).uint64(t.balance),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenUnitBalance;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.tokenId=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.balance=t.uint64();break;default:t.skipType(7&Q)}return F},t}(),SingleAccountBalances:function(){function t(t){if(this.tokenUnitBalances=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.accountID=null,t.prototype.hbarBalance=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.tokenUnitBalances=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(10).fork()).ldelim(),null!=t.hbarBalance&&Object.hasOwnProperty.call(t,"hbarBalance")&&e.uint32(16).uint64(t.hbarBalance),null!=t.tokenUnitBalances&&t.tokenUnitBalances.length)for(var Q=0;Q<t.tokenUnitBalances.length;++Q)U.proto.TokenUnitBalance.encode(t.tokenUnitBalances[Q],e.uint32(26).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.SingleAccountBalances;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.hbarBalance=t.uint64();break;case 3:F.tokenUnitBalances&&F.tokenUnitBalances.length||(F.tokenUnitBalances=[]),F.tokenUnitBalances.push(U.proto.TokenUnitBalance.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),AllAccountBalances:function(){function t(t){if(this.allAccounts=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.consensusTimestamp=null,t.prototype.allAccounts=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.consensusTimestamp&&Object.hasOwnProperty.call(t,"consensusTimestamp")&&U.proto.Timestamp.encode(t.consensusTimestamp,e.uint32(10).fork()).ldelim(),null!=t.allAccounts&&t.allAccounts.length)for(var Q=0;Q<t.allAccounts.length;++Q)U.proto.SingleAccountBalances.encode(t.allAccounts[Q],e.uint32(18).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.AllAccountBalances;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.consensusTimestamp=U.proto.Timestamp.decode(t,t.uint32());break;case 2:F.allAccounts&&F.allAccounts.length||(F.allAccounts=[]),F.allAccounts.push(U.proto.SingleAccountBalances.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),ShardID:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.shardNum=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.shardNum&&Object.hasOwnProperty.call(t,"shardNum")&&e.uint32(8).int64(t.shardNum),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ShardID;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.shardNum=t.int64();else t.skipType(7&Q);return F},t}(),RealmID:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.shardNum=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.realmNum=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.shardNum&&Object.hasOwnProperty.call(t,"shardNum")&&e.uint32(8).int64(t.shardNum),null!=t.realmNum&&Object.hasOwnProperty.call(t,"realmNum")&&e.uint32(16).int64(t.realmNum),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.RealmID;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.shardNum=t.int64();break;case 2:F.realmNum=t.int64();break;default:t.skipType(7&Q)}return F},t}(),AccountID:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.shardNum=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.realmNum=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.accountNum=null,t.prototype.alias=null,Object.defineProperty(t.prototype,"account",{get:F.oneOfGetter(e=["accountNum","alias"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.shardNum&&Object.hasOwnProperty.call(t,"shardNum")&&e.uint32(8).int64(t.shardNum),null!=t.realmNum&&Object.hasOwnProperty.call(t,"realmNum")&&e.uint32(16).int64(t.realmNum),null!=t.accountNum&&Object.hasOwnProperty.call(t,"accountNum")&&e.uint32(24).int64(t.accountNum),null!=t.alias&&Object.hasOwnProperty.call(t,"alias")&&e.uint32(34).bytes(t.alias),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.AccountID;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.shardNum=t.int64();break;case 2:F.realmNum=t.int64();break;case 3:F.accountNum=t.int64();break;case 4:F.alias=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),FileID:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.shardNum=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.realmNum=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.fileNum=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.shardNum&&Object.hasOwnProperty.call(t,"shardNum")&&e.uint32(8).int64(t.shardNum),null!=t.realmNum&&Object.hasOwnProperty.call(t,"realmNum")&&e.uint32(16).int64(t.realmNum),null!=t.fileNum&&Object.hasOwnProperty.call(t,"fileNum")&&e.uint32(24).int64(t.fileNum),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FileID;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.shardNum=t.int64();break;case 2:F.realmNum=t.int64();break;case 3:F.fileNum=t.int64();break;default:t.skipType(7&Q)}return F},t}(),ContractID:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.shardNum=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.realmNum=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.contractNum=null,t.prototype.evmAddress=null,Object.defineProperty(t.prototype,"contract",{get:F.oneOfGetter(e=["contractNum","evmAddress"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.shardNum&&Object.hasOwnProperty.call(t,"shardNum")&&e.uint32(8).int64(t.shardNum),null!=t.realmNum&&Object.hasOwnProperty.call(t,"realmNum")&&e.uint32(16).int64(t.realmNum),null!=t.contractNum&&Object.hasOwnProperty.call(t,"contractNum")&&e.uint32(24).int64(t.contractNum),null!=t.evmAddress&&Object.hasOwnProperty.call(t,"evmAddress")&&e.uint32(34).bytes(t.evmAddress),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractID;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.shardNum=t.int64();break;case 2:F.realmNum=t.int64();break;case 3:F.contractNum=t.int64();break;case 4:F.evmAddress=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),TransactionID:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.transactionValidStart=null,t.prototype.accountID=null,t.prototype.scheduled=!1,t.prototype.nonce=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.transactionValidStart&&Object.hasOwnProperty.call(t,"transactionValidStart")&&U.proto.Timestamp.encode(t.transactionValidStart,e.uint32(10).fork()).ldelim(),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(18).fork()).ldelim(),null!=t.scheduled&&Object.hasOwnProperty.call(t,"scheduled")&&e.uint32(24).bool(t.scheduled),null!=t.nonce&&Object.hasOwnProperty.call(t,"nonce")&&e.uint32(32).int32(t.nonce),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransactionID;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.transactionValidStart=U.proto.Timestamp.decode(t,t.uint32());break;case 2:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.scheduled=t.bool();break;case 4:F.nonce=t.int32();break;default:t.skipType(7&Q)}return F},t}(),AccountAmount:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.accountID=null,t.prototype.amount=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.isApproval=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(10).fork()).ldelim(),null!=t.amount&&Object.hasOwnProperty.call(t,"amount")&&e.uint32(16).sint64(t.amount),null!=t.isApproval&&Object.hasOwnProperty.call(t,"isApproval")&&e.uint32(24).bool(t.isApproval),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.AccountAmount;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.amount=t.sint64();break;case 3:F.isApproval=t.bool();break;default:t.skipType(7&Q)}return F},t}(),TransferList:function(){function t(t){if(this.accountAmounts=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.accountAmounts=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.accountAmounts&&t.accountAmounts.length)for(var Q=0;Q<t.accountAmounts.length;++Q)U.proto.AccountAmount.encode(t.accountAmounts[Q],e.uint32(10).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransferList;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.accountAmounts&&F.accountAmounts.length||(F.accountAmounts=[]),F.accountAmounts.push(U.proto.AccountAmount.decode(t,t.uint32()));else t.skipType(7&Q);return F},t}(),NftTransfer:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.senderAccountID=null,t.prototype.receiverAccountID=null,t.prototype.serialNumber=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.isApproval=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.senderAccountID&&Object.hasOwnProperty.call(t,"senderAccountID")&&U.proto.AccountID.encode(t.senderAccountID,e.uint32(10).fork()).ldelim(),null!=t.receiverAccountID&&Object.hasOwnProperty.call(t,"receiverAccountID")&&U.proto.AccountID.encode(t.receiverAccountID,e.uint32(18).fork()).ldelim(),null!=t.serialNumber&&Object.hasOwnProperty.call(t,"serialNumber")&&e.uint32(24).int64(t.serialNumber),null!=t.isApproval&&Object.hasOwnProperty.call(t,"isApproval")&&e.uint32(32).bool(t.isApproval),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.NftTransfer;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.senderAccountID=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.receiverAccountID=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.serialNumber=t.int64();break;case 4:F.isApproval=t.bool();break;default:t.skipType(7&Q)}return F},t}(),TokenTransferList:function(){function t(t){if(this.transfers=[],this.nftTransfers=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.token=null,t.prototype.transfers=F.emptyArray,t.prototype.nftTransfers=F.emptyArray,t.prototype.expectedDecimals=null,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&U.proto.TokenID.encode(t.token,e.uint32(10).fork()).ldelim(),null!=t.transfers&&t.transfers.length)for(var Q=0;Q<t.transfers.length;++Q)U.proto.AccountAmount.encode(t.transfers[Q],e.uint32(18).fork()).ldelim();if(null!=t.nftTransfers&&t.nftTransfers.length)for(Q=0;Q<t.nftTransfers.length;++Q)U.proto.NftTransfer.encode(t.nftTransfers[Q],e.uint32(26).fork()).ldelim();return null!=t.expectedDecimals&&Object.hasOwnProperty.call(t,"expectedDecimals")&&U.google.protobuf.UInt32Value.encode(t.expectedDecimals,e.uint32(34).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenTransferList;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.token=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.transfers&&F.transfers.length||(F.transfers=[]),F.transfers.push(U.proto.AccountAmount.decode(t,t.uint32()));break;case 3:F.nftTransfers&&F.nftTransfers.length||(F.nftTransfers=[]),F.nftTransfers.push(U.proto.NftTransfer.decode(t,t.uint32()));break;case 4:F.expectedDecimals=U.google.protobuf.UInt32Value.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),Fraction:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.numerator=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.denominator=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.numerator&&Object.hasOwnProperty.call(t,"numerator")&&e.uint32(8).int64(t.numerator),null!=t.denominator&&Object.hasOwnProperty.call(t,"denominator")&&e.uint32(16).int64(t.denominator),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.Fraction;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.numerator=t.int64();break;case 2:F.denominator=t.int64();break;default:t.skipType(7&Q)}return F},t}(),TopicID:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.shardNum=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.realmNum=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.topicNum=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.shardNum&&Object.hasOwnProperty.call(t,"shardNum")&&e.uint32(8).int64(t.shardNum),null!=t.realmNum&&Object.hasOwnProperty.call(t,"realmNum")&&e.uint32(16).int64(t.realmNum),null!=t.topicNum&&Object.hasOwnProperty.call(t,"topicNum")&&e.uint32(24).int64(t.topicNum),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TopicID;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.shardNum=t.int64();break;case 2:F.realmNum=t.int64();break;case 3:F.topicNum=t.int64();break;default:t.skipType(7&Q)}return F},t}(),TokenID:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.shardNum=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.realmNum=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.tokenNum=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.shardNum&&Object.hasOwnProperty.call(t,"shardNum")&&e.uint32(8).int64(t.shardNum),null!=t.realmNum&&Object.hasOwnProperty.call(t,"realmNum")&&e.uint32(16).int64(t.realmNum),null!=t.tokenNum&&Object.hasOwnProperty.call(t,"tokenNum")&&e.uint32(24).int64(t.tokenNum),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenID;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.shardNum=t.int64();break;case 2:F.realmNum=t.int64();break;case 3:F.tokenNum=t.int64();break;default:t.skipType(7&Q)}return F},t}(),ScheduleID:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.shardNum=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.realmNum=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.scheduleNum=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.shardNum&&Object.hasOwnProperty.call(t,"shardNum")&&e.uint32(8).int64(t.shardNum),null!=t.realmNum&&Object.hasOwnProperty.call(t,"realmNum")&&e.uint32(16).int64(t.realmNum),null!=t.scheduleNum&&Object.hasOwnProperty.call(t,"scheduleNum")&&e.uint32(24).int64(t.scheduleNum),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ScheduleID;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.shardNum=t.int64();break;case 2:F.realmNum=t.int64();break;case 3:F.scheduleNum=t.int64();break;default:t.skipType(7&Q)}return F},t}(),TokenType:function(){const t={},e=Object.create(t);return e[t[0]="FUNGIBLE_COMMON"]=0,e[t[1]="NON_FUNGIBLE_UNIQUE"]=1,e}(),SubType:function(){const t={},e=Object.create(t);return e[t[0]="DEFAULT"]=0,e[t[1]="TOKEN_FUNGIBLE_COMMON"]=1,e[t[2]="TOKEN_NON_FUNGIBLE_UNIQUE"]=2,e[t[3]="TOKEN_FUNGIBLE_COMMON_WITH_CUSTOM_FEES"]=3,e[t[4]="TOKEN_NON_FUNGIBLE_UNIQUE_WITH_CUSTOM_FEES"]=4,e}(),TokenSupplyType:function(){const t={},e=Object.create(t);return e[t[0]="INFINITE"]=0,e[t[1]="FINITE"]=1,e}(),TokenFreezeStatus:function(){const t={},e=Object.create(t);return e[t[0]="FreezeNotApplicable"]=0,e[t[1]="Frozen"]=1,e[t[2]="Unfrozen"]=2,e}(),TokenKycStatus:function(){const t={},e=Object.create(t);return e[t[0]="KycNotApplicable"]=0,e[t[1]="Granted"]=1,e[t[2]="Revoked"]=2,e}(),TokenPauseStatus:function(){const t={},e=Object.create(t);return e[t[0]="PauseNotApplicable"]=0,e[t[1]="Paused"]=1,e[t[2]="Unpaused"]=2,e}(),Key:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.contractID=null,t.prototype.ed25519=null,t.prototype.RSA_3072=null,t.prototype.ECDSA_384=null,t.prototype.thresholdKey=null,t.prototype.keyList=null,t.prototype.ECDSASecp256k1=null,t.prototype.delegatableContractId=null,Object.defineProperty(t.prototype,"key",{get:F.oneOfGetter(e=["contractID","ed25519","RSA_3072","ECDSA_384","thresholdKey","keyList","ECDSASecp256k1","delegatableContractId"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(10).fork()).ldelim(),null!=t.ed25519&&Object.hasOwnProperty.call(t,"ed25519")&&e.uint32(18).bytes(t.ed25519),null!=t.RSA_3072&&Object.hasOwnProperty.call(t,"RSA_3072")&&e.uint32(26).bytes(t.RSA_3072),null!=t.ECDSA_384&&Object.hasOwnProperty.call(t,"ECDSA_384")&&e.uint32(34).bytes(t.ECDSA_384),null!=t.thresholdKey&&Object.hasOwnProperty.call(t,"thresholdKey")&&U.proto.ThresholdKey.encode(t.thresholdKey,e.uint32(42).fork()).ldelim(),null!=t.keyList&&Object.hasOwnProperty.call(t,"keyList")&&U.proto.KeyList.encode(t.keyList,e.uint32(50).fork()).ldelim(),null!=t.ECDSASecp256k1&&Object.hasOwnProperty.call(t,"ECDSASecp256k1")&&e.uint32(58).bytes(t.ECDSASecp256k1),null!=t.delegatableContractId&&Object.hasOwnProperty.call(t,"delegatableContractId")&&U.proto.ContractID.encode(t.delegatableContractId,e.uint32(66).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.Key;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;case 2:F.ed25519=t.bytes();break;case 3:F.RSA_3072=t.bytes();break;case 4:F.ECDSA_384=t.bytes();break;case 5:F.thresholdKey=U.proto.ThresholdKey.decode(t,t.uint32());break;case 6:F.keyList=U.proto.KeyList.decode(t,t.uint32());break;case 7:F.ECDSASecp256k1=t.bytes();break;case 8:F.delegatableContractId=U.proto.ContractID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ThresholdKey:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.threshold=0,t.prototype.keys=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.threshold&&Object.hasOwnProperty.call(t,"threshold")&&e.uint32(8).uint32(t.threshold),null!=t.keys&&Object.hasOwnProperty.call(t,"keys")&&U.proto.KeyList.encode(t.keys,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ThresholdKey;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.threshold=t.uint32();break;case 2:F.keys=U.proto.KeyList.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),KeyList:function(){function t(t){if(this.keys=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.keys=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.keys&&t.keys.length)for(var Q=0;Q<t.keys.length;++Q)U.proto.Key.encode(t.keys[Q],e.uint32(10).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.KeyList;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.keys&&F.keys.length||(F.keys=[]),F.keys.push(U.proto.Key.decode(t,t.uint32()));else t.skipType(7&Q);return F},t}(),Signature:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.contract=null,t.prototype.ed25519=null,t.prototype.RSA_3072=null,t.prototype.ECDSA_384=null,t.prototype.thresholdSignature=null,t.prototype.signatureList=null,Object.defineProperty(t.prototype,"signature",{get:F.oneOfGetter(e=["contract","ed25519","RSA_3072","ECDSA_384","thresholdSignature","signatureList"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.contract&&Object.hasOwnProperty.call(t,"contract")&&e.uint32(10).bytes(t.contract),null!=t.ed25519&&Object.hasOwnProperty.call(t,"ed25519")&&e.uint32(18).bytes(t.ed25519),null!=t.RSA_3072&&Object.hasOwnProperty.call(t,"RSA_3072")&&e.uint32(26).bytes(t.RSA_3072),null!=t.ECDSA_384&&Object.hasOwnProperty.call(t,"ECDSA_384")&&e.uint32(34).bytes(t.ECDSA_384),null!=t.thresholdSignature&&Object.hasOwnProperty.call(t,"thresholdSignature")&&U.proto.ThresholdSignature.encode(t.thresholdSignature,e.uint32(42).fork()).ldelim(),null!=t.signatureList&&Object.hasOwnProperty.call(t,"signatureList")&&U.proto.SignatureList.encode(t.signatureList,e.uint32(50).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.Signature;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.contract=t.bytes();break;case 2:F.ed25519=t.bytes();break;case 3:F.RSA_3072=t.bytes();break;case 4:F.ECDSA_384=t.bytes();break;case 5:F.thresholdSignature=U.proto.ThresholdSignature.decode(t,t.uint32());break;case 6:F.signatureList=U.proto.SignatureList.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ThresholdSignature:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.sigs=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.sigs&&Object.hasOwnProperty.call(t,"sigs")&&U.proto.SignatureList.encode(t.sigs,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ThresholdSignature;t.pos<s;)if(2==(Q=t.uint32())>>>3)F.sigs=U.proto.SignatureList.decode(t,t.uint32());else t.skipType(7&Q);return F},t}(),SignatureList:function(){function t(t){if(this.sigs=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.sigs=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.sigs&&t.sigs.length)for(var Q=0;Q<t.sigs.length;++Q)U.proto.Signature.encode(t.sigs[Q],e.uint32(18).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.SignatureList;t.pos<s;)if(2==(Q=t.uint32())>>>3)F.sigs&&F.sigs.length||(F.sigs=[]),F.sigs.push(U.proto.Signature.decode(t,t.uint32()));else t.skipType(7&Q);return F},t}(),SignaturePair:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.pubKeyPrefix=F.newBuffer([]),t.prototype.contract=null,t.prototype.ed25519=null,t.prototype.RSA_3072=null,t.prototype.ECDSA_384=null,t.prototype.ECDSASecp256k1=null,Object.defineProperty(t.prototype,"signature",{get:F.oneOfGetter(e=["contract","ed25519","RSA_3072","ECDSA_384","ECDSASecp256k1"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.pubKeyPrefix&&Object.hasOwnProperty.call(t,"pubKeyPrefix")&&e.uint32(10).bytes(t.pubKeyPrefix),null!=t.contract&&Object.hasOwnProperty.call(t,"contract")&&e.uint32(18).bytes(t.contract),null!=t.ed25519&&Object.hasOwnProperty.call(t,"ed25519")&&e.uint32(26).bytes(t.ed25519),null!=t.RSA_3072&&Object.hasOwnProperty.call(t,"RSA_3072")&&e.uint32(34).bytes(t.RSA_3072),null!=t.ECDSA_384&&Object.hasOwnProperty.call(t,"ECDSA_384")&&e.uint32(42).bytes(t.ECDSA_384),null!=t.ECDSASecp256k1&&Object.hasOwnProperty.call(t,"ECDSASecp256k1")&&e.uint32(50).bytes(t.ECDSASecp256k1),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.SignaturePair;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.pubKeyPrefix=t.bytes();break;case 2:F.contract=t.bytes();break;case 3:F.ed25519=t.bytes();break;case 4:F.RSA_3072=t.bytes();break;case 5:F.ECDSA_384=t.bytes();break;case 6:F.ECDSASecp256k1=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),SignatureMap:function(){function t(t){if(this.sigPair=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.sigPair=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.sigPair&&t.sigPair.length)for(var Q=0;Q<t.sigPair.length;++Q)U.proto.SignaturePair.encode(t.sigPair[Q],e.uint32(10).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.SignatureMap;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.sigPair&&F.sigPair.length||(F.sigPair=[]),F.sigPair.push(U.proto.SignaturePair.decode(t,t.uint32()));else t.skipType(7&Q);return F},t}(),HederaFunctionality:function(){const t={},e=Object.create(t);return e[t[0]="NONE"]=0,e[t[1]="CryptoTransfer"]=1,e[t[2]="CryptoUpdate"]=2,e[t[3]="CryptoDelete"]=3,e[t[4]="CryptoAddLiveHash"]=4,e[t[5]="CryptoDeleteLiveHash"]=5,e[t[6]="ContractCall"]=6,e[t[7]="ContractCreate"]=7,e[t[8]="ContractUpdate"]=8,e[t[9]="FileCreate"]=9,e[t[10]="FileAppend"]=10,e[t[11]="FileUpdate"]=11,e[t[12]="FileDelete"]=12,e[t[13]="CryptoGetAccountBalance"]=13,e[t[14]="CryptoGetAccountRecords"]=14,e[t[15]="CryptoGetInfo"]=15,e[t[16]="ContractCallLocal"]=16,e[t[17]="ContractGetInfo"]=17,e[t[18]="ContractGetBytecode"]=18,e[t[19]="GetBySolidityID"]=19,e[t[20]="GetByKey"]=20,e[t[21]="CryptoGetLiveHash"]=21,e[t[22]="CryptoGetStakers"]=22,e[t[23]="FileGetContents"]=23,e[t[24]="FileGetInfo"]=24,e[t[25]="TransactionGetRecord"]=25,e[t[26]="ContractGetRecords"]=26,e[t[27]="CryptoCreate"]=27,e[t[28]="SystemDelete"]=28,e[t[29]="SystemUndelete"]=29,e[t[30]="ContractDelete"]=30,e[t[31]="Freeze"]=31,e[t[32]="CreateTransactionRecord"]=32,e[t[33]="CryptoAccountAutoRenew"]=33,e[t[34]="ContractAutoRenew"]=34,e[t[35]="GetVersionInfo"]=35,e[t[36]="TransactionGetReceipt"]=36,e[t[50]="ConsensusCreateTopic"]=50,e[t[51]="ConsensusUpdateTopic"]=51,e[t[52]="ConsensusDeleteTopic"]=52,e[t[53]="ConsensusGetTopicInfo"]=53,e[t[54]="ConsensusSubmitMessage"]=54,e[t[55]="UncheckedSubmit"]=55,e[t[56]="TokenCreate"]=56,e[t[58]="TokenGetInfo"]=58,e[t[59]="TokenFreezeAccount"]=59,e[t[60]="TokenUnfreezeAccount"]=60,e[t[61]="TokenGrantKycToAccount"]=61,e[t[62]="TokenRevokeKycFromAccount"]=62,e[t[63]="TokenDelete"]=63,e[t[64]="TokenUpdate"]=64,e[t[65]="TokenMint"]=65,e[t[66]="TokenBurn"]=66,e[t[67]="TokenAccountWipe"]=67,e[t[68]="TokenAssociateToAccount"]=68,e[t[69]="TokenDissociateFromAccount"]=69,e[t[70]="ScheduleCreate"]=70,e[t[71]="ScheduleDelete"]=71,e[t[72]="ScheduleSign"]=72,e[t[73]="ScheduleGetInfo"]=73,e[t[74]="TokenGetAccountNftInfos"]=74,e[t[75]="TokenGetNftInfo"]=75,e[t[76]="TokenGetNftInfos"]=76,e[t[77]="TokenFeeScheduleUpdate"]=77,e[t[78]="NetworkGetExecutionTime"]=78,e[t[79]="TokenPause"]=79,e[t[80]="TokenUnpause"]=80,e[t[81]="CryptoApproveAllowance"]=81,e[t[82]="CryptoAdjustAllowance"]=82,e}(),FeeComponents:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.min=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.max=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.constant=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.bpt=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.vpt=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.rbh=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.sbh=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.gas=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.tv=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.bpr=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.sbpr=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.min&&Object.hasOwnProperty.call(t,"min")&&e.uint32(8).int64(t.min),null!=t.max&&Object.hasOwnProperty.call(t,"max")&&e.uint32(16).int64(t.max),null!=t.constant&&Object.hasOwnProperty.call(t,"constant")&&e.uint32(24).int64(t.constant),null!=t.bpt&&Object.hasOwnProperty.call(t,"bpt")&&e.uint32(32).int64(t.bpt),null!=t.vpt&&Object.hasOwnProperty.call(t,"vpt")&&e.uint32(40).int64(t.vpt),null!=t.rbh&&Object.hasOwnProperty.call(t,"rbh")&&e.uint32(48).int64(t.rbh),null!=t.sbh&&Object.hasOwnProperty.call(t,"sbh")&&e.uint32(56).int64(t.sbh),null!=t.gas&&Object.hasOwnProperty.call(t,"gas")&&e.uint32(64).int64(t.gas),null!=t.tv&&Object.hasOwnProperty.call(t,"tv")&&e.uint32(72).int64(t.tv),null!=t.bpr&&Object.hasOwnProperty.call(t,"bpr")&&e.uint32(80).int64(t.bpr),null!=t.sbpr&&Object.hasOwnProperty.call(t,"sbpr")&&e.uint32(88).int64(t.sbpr),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FeeComponents;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.min=t.int64();break;case 2:F.max=t.int64();break;case 3:F.constant=t.int64();break;case 4:F.bpt=t.int64();break;case 5:F.vpt=t.int64();break;case 6:F.rbh=t.int64();break;case 7:F.sbh=t.int64();break;case 8:F.gas=t.int64();break;case 9:F.tv=t.int64();break;case 10:F.bpr=t.int64();break;case 11:F.sbpr=t.int64();break;default:t.skipType(7&Q)}return F},t}(),TransactionFeeSchedule:function(){function t(t){if(this.fees=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.hederaFunctionality=0,t.prototype.feeData=null,t.prototype.fees=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.hederaFunctionality&&Object.hasOwnProperty.call(t,"hederaFunctionality")&&e.uint32(8).int32(t.hederaFunctionality),null!=t.feeData&&Object.hasOwnProperty.call(t,"feeData")&&U.proto.FeeData.encode(t.feeData,e.uint32(18).fork()).ldelim(),null!=t.fees&&t.fees.length)for(var Q=0;Q<t.fees.length;++Q)U.proto.FeeData.encode(t.fees[Q],e.uint32(26).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransactionFeeSchedule;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.hederaFunctionality=t.int32();break;case 2:F.feeData=U.proto.FeeData.decode(t,t.uint32());break;case 3:F.fees&&F.fees.length||(F.fees=[]),F.fees.push(U.proto.FeeData.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),FeeData:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.nodedata=null,t.prototype.networkdata=null,t.prototype.servicedata=null,t.prototype.subType=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.nodedata&&Object.hasOwnProperty.call(t,"nodedata")&&U.proto.FeeComponents.encode(t.nodedata,e.uint32(10).fork()).ldelim(),null!=t.networkdata&&Object.hasOwnProperty.call(t,"networkdata")&&U.proto.FeeComponents.encode(t.networkdata,e.uint32(18).fork()).ldelim(),null!=t.servicedata&&Object.hasOwnProperty.call(t,"servicedata")&&U.proto.FeeComponents.encode(t.servicedata,e.uint32(26).fork()).ldelim(),null!=t.subType&&Object.hasOwnProperty.call(t,"subType")&&e.uint32(32).int32(t.subType),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FeeData;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.nodedata=U.proto.FeeComponents.decode(t,t.uint32());break;case 2:F.networkdata=U.proto.FeeComponents.decode(t,t.uint32());break;case 3:F.servicedata=U.proto.FeeComponents.decode(t,t.uint32());break;case 4:F.subType=t.int32();break;default:t.skipType(7&Q)}return F},t}(),FeeSchedule:function(){function t(t){if(this.transactionFeeSchedule=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.transactionFeeSchedule=F.emptyArray,t.prototype.expiryTime=null,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.transactionFeeSchedule&&t.transactionFeeSchedule.length)for(var Q=0;Q<t.transactionFeeSchedule.length;++Q)U.proto.TransactionFeeSchedule.encode(t.transactionFeeSchedule[Q],e.uint32(10).fork()).ldelim();return null!=t.expiryTime&&Object.hasOwnProperty.call(t,"expiryTime")&&U.proto.TimestampSeconds.encode(t.expiryTime,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FeeSchedule;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.transactionFeeSchedule&&F.transactionFeeSchedule.length||(F.transactionFeeSchedule=[]),F.transactionFeeSchedule.push(U.proto.TransactionFeeSchedule.decode(t,t.uint32()));break;case 2:F.expiryTime=U.proto.TimestampSeconds.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),CurrentAndNextFeeSchedule:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.currentFeeSchedule=null,t.prototype.nextFeeSchedule=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.currentFeeSchedule&&Object.hasOwnProperty.call(t,"currentFeeSchedule")&&U.proto.FeeSchedule.encode(t.currentFeeSchedule,e.uint32(10).fork()).ldelim(),null!=t.nextFeeSchedule&&Object.hasOwnProperty.call(t,"nextFeeSchedule")&&U.proto.FeeSchedule.encode(t.nextFeeSchedule,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CurrentAndNextFeeSchedule;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.currentFeeSchedule=U.proto.FeeSchedule.decode(t,t.uint32());break;case 2:F.nextFeeSchedule=U.proto.FeeSchedule.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ServiceEndpoint:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.ipAddressV4=F.newBuffer([]),t.prototype.port=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.ipAddressV4&&Object.hasOwnProperty.call(t,"ipAddressV4")&&e.uint32(10).bytes(t.ipAddressV4),null!=t.port&&Object.hasOwnProperty.call(t,"port")&&e.uint32(16).int32(t.port),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ServiceEndpoint;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.ipAddressV4=t.bytes();break;case 2:F.port=t.int32();break;default:t.skipType(7&Q)}return F},t}(),NodeAddress:function(){function t(t){if(this.serviceEndpoint=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.ipAddress=F.newBuffer([]),t.prototype.portno=0,t.prototype.memo=F.newBuffer([]),t.prototype.RSA_PubKey="",t.prototype.nodeId=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.nodeAccountId=null,t.prototype.nodeCertHash=F.newBuffer([]),t.prototype.serviceEndpoint=F.emptyArray,t.prototype.description="",t.prototype.stake=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.ipAddress&&Object.hasOwnProperty.call(t,"ipAddress")&&e.uint32(10).bytes(t.ipAddress),null!=t.portno&&Object.hasOwnProperty.call(t,"portno")&&e.uint32(16).int32(t.portno),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(26).bytes(t.memo),null!=t.RSA_PubKey&&Object.hasOwnProperty.call(t,"RSA_PubKey")&&e.uint32(34).string(t.RSA_PubKey),null!=t.nodeId&&Object.hasOwnProperty.call(t,"nodeId")&&e.uint32(40).int64(t.nodeId),null!=t.nodeAccountId&&Object.hasOwnProperty.call(t,"nodeAccountId")&&U.proto.AccountID.encode(t.nodeAccountId,e.uint32(50).fork()).ldelim(),null!=t.nodeCertHash&&Object.hasOwnProperty.call(t,"nodeCertHash")&&e.uint32(58).bytes(t.nodeCertHash),null!=t.serviceEndpoint&&t.serviceEndpoint.length)for(var Q=0;Q<t.serviceEndpoint.length;++Q)U.proto.ServiceEndpoint.encode(t.serviceEndpoint[Q],e.uint32(66).fork()).ldelim();return null!=t.description&&Object.hasOwnProperty.call(t,"description")&&e.uint32(74).string(t.description),null!=t.stake&&Object.hasOwnProperty.call(t,"stake")&&e.uint32(80).int64(t.stake),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.NodeAddress;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.ipAddress=t.bytes();break;case 2:F.portno=t.int32();break;case 3:F.memo=t.bytes();break;case 4:F.RSA_PubKey=t.string();break;case 5:F.nodeId=t.int64();break;case 6:F.nodeAccountId=U.proto.AccountID.decode(t,t.uint32());break;case 7:F.nodeCertHash=t.bytes();break;case 8:F.serviceEndpoint&&F.serviceEndpoint.length||(F.serviceEndpoint=[]),F.serviceEndpoint.push(U.proto.ServiceEndpoint.decode(t,t.uint32()));break;case 9:F.description=t.string();break;case 10:F.stake=t.int64();break;default:t.skipType(7&Q)}return F},t}(),NodeAddressBook:function(){function t(t){if(this.nodeAddress=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.nodeAddress=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.nodeAddress&&t.nodeAddress.length)for(var Q=0;Q<t.nodeAddress.length;++Q)U.proto.NodeAddress.encode(t.nodeAddress[Q],e.uint32(10).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.NodeAddressBook;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.nodeAddress&&F.nodeAddress.length||(F.nodeAddress=[]),F.nodeAddress.push(U.proto.NodeAddress.decode(t,t.uint32()));else t.skipType(7&Q);return F},t}(),SemanticVersion:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.major=0,t.prototype.minor=0,t.prototype.patch=0,t.prototype.pre="",t.prototype.build="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.major&&Object.hasOwnProperty.call(t,"major")&&e.uint32(8).int32(t.major),null!=t.minor&&Object.hasOwnProperty.call(t,"minor")&&e.uint32(16).int32(t.minor),null!=t.patch&&Object.hasOwnProperty.call(t,"patch")&&e.uint32(24).int32(t.patch),null!=t.pre&&Object.hasOwnProperty.call(t,"pre")&&e.uint32(34).string(t.pre),null!=t.build&&Object.hasOwnProperty.call(t,"build")&&e.uint32(42).string(t.build),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.SemanticVersion;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.major=t.int32();break;case 2:F.minor=t.int32();break;case 3:F.patch=t.int32();break;case 4:F.pre=t.string();break;case 5:F.build=t.string();break;default:t.skipType(7&Q)}return F},t}(),Setting:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.name="",t.prototype.value="",t.prototype.data=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.name&&Object.hasOwnProperty.call(t,"name")&&e.uint32(10).string(t.name),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(18).string(t.value),null!=t.data&&Object.hasOwnProperty.call(t,"data")&&e.uint32(26).bytes(t.data),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.Setting;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.name=t.string();break;case 2:F.value=t.string();break;case 3:F.data=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),ServicesConfigurationList:function(){function t(t){if(this.nameValue=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.nameValue=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.nameValue&&t.nameValue.length)for(var Q=0;Q<t.nameValue.length;++Q)U.proto.Setting.encode(t.nameValue[Q],e.uint32(10).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ServicesConfigurationList;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.nameValue&&F.nameValue.length||(F.nameValue=[]),F.nameValue.push(U.proto.Setting.decode(t,t.uint32()));else t.skipType(7&Q);return F},t}(),TokenRelationship:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.tokenId=null,t.prototype.symbol="",t.prototype.balance=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.kycStatus=0,t.prototype.freezeStatus=0,t.prototype.decimals=0,t.prototype.automaticAssociation=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.tokenId&&Object.hasOwnProperty.call(t,"tokenId")&&U.proto.TokenID.encode(t.tokenId,e.uint32(10).fork()).ldelim(),null!=t.symbol&&Object.hasOwnProperty.call(t,"symbol")&&e.uint32(18).string(t.symbol),null!=t.balance&&Object.hasOwnProperty.call(t,"balance")&&e.uint32(24).uint64(t.balance),null!=t.kycStatus&&Object.hasOwnProperty.call(t,"kycStatus")&&e.uint32(32).int32(t.kycStatus),null!=t.freezeStatus&&Object.hasOwnProperty.call(t,"freezeStatus")&&e.uint32(40).int32(t.freezeStatus),null!=t.decimals&&Object.hasOwnProperty.call(t,"decimals")&&e.uint32(48).uint32(t.decimals),null!=t.automaticAssociation&&Object.hasOwnProperty.call(t,"automaticAssociation")&&e.uint32(56).bool(t.automaticAssociation),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenRelationship;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.tokenId=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.symbol=t.string();break;case 3:F.balance=t.uint64();break;case 4:F.kycStatus=t.int32();break;case 5:F.freezeStatus=t.int32();break;case 6:F.decimals=t.uint32();break;case 7:F.automaticAssociation=t.bool();break;default:t.skipType(7&Q)}return F},t}(),TokenBalance:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.tokenId=null,t.prototype.balance=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.decimals=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.tokenId&&Object.hasOwnProperty.call(t,"tokenId")&&U.proto.TokenID.encode(t.tokenId,e.uint32(10).fork()).ldelim(),null!=t.balance&&Object.hasOwnProperty.call(t,"balance")&&e.uint32(16).uint64(t.balance),null!=t.decimals&&Object.hasOwnProperty.call(t,"decimals")&&e.uint32(24).uint32(t.decimals),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenBalance;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.tokenId=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.balance=t.uint64();break;case 3:F.decimals=t.uint32();break;default:t.skipType(7&Q)}return F},t}(),TokenBalances:function(){function t(t){if(this.tokenBalances=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.tokenBalances=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.tokenBalances&&t.tokenBalances.length)for(var Q=0;Q<t.tokenBalances.length;++Q)U.proto.TokenBalance.encode(t.tokenBalances[Q],e.uint32(10).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenBalances;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.tokenBalances&&F.tokenBalances.length||(F.tokenBalances=[]),F.tokenBalances.push(U.proto.TokenBalance.decode(t,t.uint32()));else t.skipType(7&Q);return F},t}(),TokenAssociation:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.tokenId=null,t.prototype.accountId=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.tokenId&&Object.hasOwnProperty.call(t,"tokenId")&&U.proto.TokenID.encode(t.tokenId,e.uint32(10).fork()).ldelim(),null!=t.accountId&&Object.hasOwnProperty.call(t,"accountId")&&U.proto.AccountID.encode(t.accountId,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenAssociation;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.tokenId=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.accountId=U.proto.AccountID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),CryptoAllowance:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.owner=null,t.prototype.spender=null,t.prototype.amount=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.owner&&Object.hasOwnProperty.call(t,"owner")&&U.proto.AccountID.encode(t.owner,e.uint32(10).fork()).ldelim(),null!=t.spender&&Object.hasOwnProperty.call(t,"spender")&&U.proto.AccountID.encode(t.spender,e.uint32(18).fork()).ldelim(),null!=t.amount&&Object.hasOwnProperty.call(t,"amount")&&e.uint32(24).int64(t.amount),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoAllowance;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.owner=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.spender=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.amount=t.int64();break;default:t.skipType(7&Q)}return F},t}(),NftAllowance:function(){function t(t){if(this.serialNumbers=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.tokenId=null,t.prototype.owner=null,t.prototype.spender=null,t.prototype.serialNumbers=F.emptyArray,t.prototype.approvedForAll=null,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.tokenId&&Object.hasOwnProperty.call(t,"tokenId")&&U.proto.TokenID.encode(t.tokenId,e.uint32(10).fork()).ldelim(),null!=t.owner&&Object.hasOwnProperty.call(t,"owner")&&U.proto.AccountID.encode(t.owner,e.uint32(18).fork()).ldelim(),null!=t.spender&&Object.hasOwnProperty.call(t,"spender")&&U.proto.AccountID.encode(t.spender,e.uint32(26).fork()).ldelim(),null!=t.serialNumbers&&t.serialNumbers.length){e.uint32(34).fork();for(var Q=0;Q<t.serialNumbers.length;++Q)e.int64(t.serialNumbers[Q]);e.ldelim()}return null!=t.approvedForAll&&Object.hasOwnProperty.call(t,"approvedForAll")&&U.google.protobuf.BoolValue.encode(t.approvedForAll,e.uint32(42).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.NftAllowance;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.tokenId=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.owner=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.spender=U.proto.AccountID.decode(t,t.uint32());break;case 4:if(F.serialNumbers&&F.serialNumbers.length||(F.serialNumbers=[]),2==(7&Q))for(var n=t.uint32()+t.pos;t.pos<n;)F.serialNumbers.push(t.int64());else F.serialNumbers.push(t.int64());break;case 5:F.approvedForAll=U.google.protobuf.BoolValue.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),TokenAllowance:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.tokenId=null,t.prototype.owner=null,t.prototype.spender=null,t.prototype.amount=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.tokenId&&Object.hasOwnProperty.call(t,"tokenId")&&U.proto.TokenID.encode(t.tokenId,e.uint32(10).fork()).ldelim(),null!=t.owner&&Object.hasOwnProperty.call(t,"owner")&&U.proto.AccountID.encode(t.owner,e.uint32(18).fork()).ldelim(),null!=t.spender&&Object.hasOwnProperty.call(t,"spender")&&U.proto.AccountID.encode(t.spender,e.uint32(26).fork()).ldelim(),null!=t.amount&&Object.hasOwnProperty.call(t,"amount")&&e.uint32(32).int64(t.amount),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenAllowance;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.tokenId=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.owner=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.spender=U.proto.AccountID.decode(t,t.uint32());break;case 4:F.amount=t.int64();break;default:t.skipType(7&Q)}return F},t}(),GrantedCryptoAllowance:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.spender=null,t.prototype.amount=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.spender&&Object.hasOwnProperty.call(t,"spender")&&U.proto.AccountID.encode(t.spender,e.uint32(10).fork()).ldelim(),null!=t.amount&&Object.hasOwnProperty.call(t,"amount")&&e.uint32(16).int64(t.amount),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.GrantedCryptoAllowance;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.spender=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.amount=t.int64();break;default:t.skipType(7&Q)}return F},t}(),GrantedNftAllowance:function(){function t(t){if(this.serialNumbers=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.tokenId=null,t.prototype.spender=null,t.prototype.serialNumbers=F.emptyArray,t.prototype.approvedForAll=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.tokenId&&Object.hasOwnProperty.call(t,"tokenId")&&U.proto.TokenID.encode(t.tokenId,e.uint32(10).fork()).ldelim(),null!=t.spender&&Object.hasOwnProperty.call(t,"spender")&&U.proto.AccountID.encode(t.spender,e.uint32(18).fork()).ldelim(),null!=t.serialNumbers&&t.serialNumbers.length){e.uint32(26).fork();for(var Q=0;Q<t.serialNumbers.length;++Q)e.int64(t.serialNumbers[Q]);e.ldelim()}return null!=t.approvedForAll&&Object.hasOwnProperty.call(t,"approvedForAll")&&e.uint32(32).bool(t.approvedForAll),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.GrantedNftAllowance;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.tokenId=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.spender=U.proto.AccountID.decode(t,t.uint32());break;case 3:if(F.serialNumbers&&F.serialNumbers.length||(F.serialNumbers=[]),2==(7&Q))for(var n=t.uint32()+t.pos;t.pos<n;)F.serialNumbers.push(t.int64());else F.serialNumbers.push(t.int64());break;case 4:F.approvedForAll=t.bool();break;default:t.skipType(7&Q)}return F},t}(),GrantedTokenAllowance:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.tokenId=null,t.prototype.spender=null,t.prototype.amount=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.tokenId&&Object.hasOwnProperty.call(t,"tokenId")&&U.proto.TokenID.encode(t.tokenId,e.uint32(10).fork()).ldelim(),null!=t.spender&&Object.hasOwnProperty.call(t,"spender")&&U.proto.AccountID.encode(t.spender,e.uint32(18).fork()).ldelim(),null!=t.amount&&Object.hasOwnProperty.call(t,"amount")&&e.uint32(24).int64(t.amount),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.GrantedTokenAllowance;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.tokenId=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.spender=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.amount=t.int64();break;default:t.skipType(7&Q)}return F},t}(),Timestamp:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.seconds=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.nanos=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.seconds&&Object.hasOwnProperty.call(t,"seconds")&&e.uint32(8).int64(t.seconds),null!=t.nanos&&Object.hasOwnProperty.call(t,"nanos")&&e.uint32(16).int32(t.nanos),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.Timestamp;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.seconds=t.int64();break;case 2:F.nanos=t.int32();break;default:t.skipType(7&Q)}return F},t}(),TimestampSeconds:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.seconds=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.seconds&&Object.hasOwnProperty.call(t,"seconds")&&e.uint32(8).int64(t.seconds),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TimestampSeconds;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.seconds=t.int64();else t.skipType(7&Q);return F},t}(),ConsensusCreateTopicTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.memo="",t.prototype.adminKey=null,t.prototype.submitKey=null,t.prototype.autoRenewPeriod=null,t.prototype.autoRenewAccount=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(10).string(t.memo),null!=t.adminKey&&Object.hasOwnProperty.call(t,"adminKey")&&U.proto.Key.encode(t.adminKey,e.uint32(18).fork()).ldelim(),null!=t.submitKey&&Object.hasOwnProperty.call(t,"submitKey")&&U.proto.Key.encode(t.submitKey,e.uint32(26).fork()).ldelim(),null!=t.autoRenewPeriod&&Object.hasOwnProperty.call(t,"autoRenewPeriod")&&U.proto.Duration.encode(t.autoRenewPeriod,e.uint32(50).fork()).ldelim(),null!=t.autoRenewAccount&&Object.hasOwnProperty.call(t,"autoRenewAccount")&&U.proto.AccountID.encode(t.autoRenewAccount,e.uint32(58).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ConsensusCreateTopicTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.memo=t.string();break;case 2:F.adminKey=U.proto.Key.decode(t,t.uint32());break;case 3:F.submitKey=U.proto.Key.decode(t,t.uint32());break;case 6:F.autoRenewPeriod=U.proto.Duration.decode(t,t.uint32());break;case 7:F.autoRenewAccount=U.proto.AccountID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),Duration:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.seconds=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.seconds&&Object.hasOwnProperty.call(t,"seconds")&&e.uint32(8).int64(t.seconds),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.Duration;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.seconds=t.int64();else t.skipType(7&Q);return F},t}(),ConsensusDeleteTopicTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.topicID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.topicID&&Object.hasOwnProperty.call(t,"topicID")&&U.proto.TopicID.encode(t.topicID,e.uint32(10).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ConsensusDeleteTopicTransactionBody;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.topicID=U.proto.TopicID.decode(t,t.uint32());else t.skipType(7&Q);return F},t}(),ConsensusGetTopicInfoQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.topicID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.topicID&&Object.hasOwnProperty.call(t,"topicID")&&U.proto.TopicID.encode(t.topicID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ConsensusGetTopicInfoQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.topicID=U.proto.TopicID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ConsensusGetTopicInfoResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.topicID=null,t.prototype.topicInfo=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.topicID&&Object.hasOwnProperty.call(t,"topicID")&&U.proto.TopicID.encode(t.topicID,e.uint32(18).fork()).ldelim(),null!=t.topicInfo&&Object.hasOwnProperty.call(t,"topicInfo")&&U.proto.ConsensusTopicInfo.encode(t.topicInfo,e.uint32(42).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ConsensusGetTopicInfoResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.topicID=U.proto.TopicID.decode(t,t.uint32());break;case 5:F.topicInfo=U.proto.ConsensusTopicInfo.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ResponseType:function(){const t={},e=Object.create(t);return e[t[0]="ANSWER_ONLY"]=0,e[t[1]="ANSWER_STATE_PROOF"]=1,e[t[2]="COST_ANSWER"]=2,e[t[3]="COST_ANSWER_STATE_PROOF"]=3,e}(),QueryHeader:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.payment=null,t.prototype.responseType=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.payment&&Object.hasOwnProperty.call(t,"payment")&&U.proto.Transaction.encode(t.payment,e.uint32(10).fork()).ldelim(),null!=t.responseType&&Object.hasOwnProperty.call(t,"responseType")&&e.uint32(16).int32(t.responseType),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.QueryHeader;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.payment=U.proto.Transaction.decode(t,t.uint32());break;case 2:F.responseType=t.int32();break;default:t.skipType(7&Q)}return F},t}(),Transaction:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.body=null,t.prototype.sigs=null,t.prototype.sigMap=null,t.prototype.bodyBytes=F.newBuffer([]),t.prototype.signedTransactionBytes=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.body&&Object.hasOwnProperty.call(t,"body")&&U.proto.TransactionBody.encode(t.body,e.uint32(10).fork()).ldelim(),null!=t.sigs&&Object.hasOwnProperty.call(t,"sigs")&&U.proto.SignatureList.encode(t.sigs,e.uint32(18).fork()).ldelim(),null!=t.sigMap&&Object.hasOwnProperty.call(t,"sigMap")&&U.proto.SignatureMap.encode(t.sigMap,e.uint32(26).fork()).ldelim(),null!=t.bodyBytes&&Object.hasOwnProperty.call(t,"bodyBytes")&&e.uint32(34).bytes(t.bodyBytes),null!=t.signedTransactionBytes&&Object.hasOwnProperty.call(t,"signedTransactionBytes")&&e.uint32(42).bytes(t.signedTransactionBytes),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.Transaction;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.body=U.proto.TransactionBody.decode(t,t.uint32());break;case 2:F.sigs=U.proto.SignatureList.decode(t,t.uint32());break;case 3:F.sigMap=U.proto.SignatureMap.decode(t,t.uint32());break;case 4:F.bodyBytes=t.bytes();break;case 5:F.signedTransactionBytes=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),TransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.transactionID=null,t.prototype.nodeAccountID=null,t.prototype.transactionFee=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.transactionValidDuration=null,t.prototype.generateRecord=!1,t.prototype.memo="",t.prototype.contractCall=null,t.prototype.contractCreateInstance=null,t.prototype.contractUpdateInstance=null,t.prototype.contractDeleteInstance=null,t.prototype.cryptoAddLiveHash=null,t.prototype.cryptoAdjustAllowance=null,t.prototype.cryptoApproveAllowance=null,t.prototype.cryptoCreateAccount=null,t.prototype.cryptoDelete=null,t.prototype.cryptoDeleteLiveHash=null,t.prototype.cryptoTransfer=null,t.prototype.cryptoUpdateAccount=null,t.prototype.fileAppend=null,t.prototype.fileCreate=null,t.prototype.fileDelete=null,t.prototype.fileUpdate=null,t.prototype.systemDelete=null,t.prototype.systemUndelete=null,t.prototype.freeze=null,t.prototype.consensusCreateTopic=null,t.prototype.consensusUpdateTopic=null,t.prototype.consensusDeleteTopic=null,t.prototype.consensusSubmitMessage=null,t.prototype.uncheckedSubmit=null,t.prototype.tokenCreation=null,t.prototype.tokenFreeze=null,t.prototype.tokenUnfreeze=null,t.prototype.tokenGrantKyc=null,t.prototype.tokenRevokeKyc=null,t.prototype.tokenDeletion=null,t.prototype.tokenUpdate=null,t.prototype.tokenMint=null,t.prototype.tokenBurn=null,t.prototype.tokenWipe=null,t.prototype.tokenAssociate=null,t.prototype.tokenDissociate=null,t.prototype.tokenFeeScheduleUpdate=null,t.prototype.tokenPause=null,t.prototype.tokenUnpause=null,t.prototype.scheduleCreate=null,t.prototype.scheduleDelete=null,t.prototype.scheduleSign=null,Object.defineProperty(t.prototype,"data",{get:F.oneOfGetter(e=["contractCall","contractCreateInstance","contractUpdateInstance","contractDeleteInstance","cryptoAddLiveHash","cryptoAdjustAllowance","cryptoApproveAllowance","cryptoCreateAccount","cryptoDelete","cryptoDeleteLiveHash","cryptoTransfer","cryptoUpdateAccount","fileAppend","fileCreate","fileDelete","fileUpdate","systemDelete","systemUndelete","freeze","consensusCreateTopic","consensusUpdateTopic","consensusDeleteTopic","consensusSubmitMessage","uncheckedSubmit","tokenCreation","tokenFreeze","tokenUnfreeze","tokenGrantKyc","tokenRevokeKyc","tokenDeletion","tokenUpdate","tokenMint","tokenBurn","tokenWipe","tokenAssociate","tokenDissociate","tokenFeeScheduleUpdate","tokenPause","tokenUnpause","scheduleCreate","scheduleDelete","scheduleSign"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.transactionID&&Object.hasOwnProperty.call(t,"transactionID")&&U.proto.TransactionID.encode(t.transactionID,e.uint32(10).fork()).ldelim(),null!=t.nodeAccountID&&Object.hasOwnProperty.call(t,"nodeAccountID")&&U.proto.AccountID.encode(t.nodeAccountID,e.uint32(18).fork()).ldelim(),null!=t.transactionFee&&Object.hasOwnProperty.call(t,"transactionFee")&&e.uint32(24).uint64(t.transactionFee),null!=t.transactionValidDuration&&Object.hasOwnProperty.call(t,"transactionValidDuration")&&U.proto.Duration.encode(t.transactionValidDuration,e.uint32(34).fork()).ldelim(),null!=t.generateRecord&&Object.hasOwnProperty.call(t,"generateRecord")&&e.uint32(40).bool(t.generateRecord),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(50).string(t.memo),null!=t.contractCall&&Object.hasOwnProperty.call(t,"contractCall")&&U.proto.ContractCallTransactionBody.encode(t.contractCall,e.uint32(58).fork()).ldelim(),null!=t.contractCreateInstance&&Object.hasOwnProperty.call(t,"contractCreateInstance")&&U.proto.ContractCreateTransactionBody.encode(t.contractCreateInstance,e.uint32(66).fork()).ldelim(),null!=t.contractUpdateInstance&&Object.hasOwnProperty.call(t,"contractUpdateInstance")&&U.proto.ContractUpdateTransactionBody.encode(t.contractUpdateInstance,e.uint32(74).fork()).ldelim(),null!=t.cryptoAddLiveHash&&Object.hasOwnProperty.call(t,"cryptoAddLiveHash")&&U.proto.CryptoAddLiveHashTransactionBody.encode(t.cryptoAddLiveHash,e.uint32(82).fork()).ldelim(),null!=t.cryptoCreateAccount&&Object.hasOwnProperty.call(t,"cryptoCreateAccount")&&U.proto.CryptoCreateTransactionBody.encode(t.cryptoCreateAccount,e.uint32(90).fork()).ldelim(),null!=t.cryptoDelete&&Object.hasOwnProperty.call(t,"cryptoDelete")&&U.proto.CryptoDeleteTransactionBody.encode(t.cryptoDelete,e.uint32(98).fork()).ldelim(),null!=t.cryptoDeleteLiveHash&&Object.hasOwnProperty.call(t,"cryptoDeleteLiveHash")&&U.proto.CryptoDeleteLiveHashTransactionBody.encode(t.cryptoDeleteLiveHash,e.uint32(106).fork()).ldelim(),null!=t.cryptoTransfer&&Object.hasOwnProperty.call(t,"cryptoTransfer")&&U.proto.CryptoTransferTransactionBody.encode(t.cryptoTransfer,e.uint32(114).fork()).ldelim(),null!=t.cryptoUpdateAccount&&Object.hasOwnProperty.call(t,"cryptoUpdateAccount")&&U.proto.CryptoUpdateTransactionBody.encode(t.cryptoUpdateAccount,e.uint32(122).fork()).ldelim(),null!=t.fileAppend&&Object.hasOwnProperty.call(t,"fileAppend")&&U.proto.FileAppendTransactionBody.encode(t.fileAppend,e.uint32(130).fork()).ldelim(),null!=t.fileCreate&&Object.hasOwnProperty.call(t,"fileCreate")&&U.proto.FileCreateTransactionBody.encode(t.fileCreate,e.uint32(138).fork()).ldelim(),null!=t.fileDelete&&Object.hasOwnProperty.call(t,"fileDelete")&&U.proto.FileDeleteTransactionBody.encode(t.fileDelete,e.uint32(146).fork()).ldelim(),null!=t.fileUpdate&&Object.hasOwnProperty.call(t,"fileUpdate")&&U.proto.FileUpdateTransactionBody.encode(t.fileUpdate,e.uint32(154).fork()).ldelim(),null!=t.systemDelete&&Object.hasOwnProperty.call(t,"systemDelete")&&U.proto.SystemDeleteTransactionBody.encode(t.systemDelete,e.uint32(162).fork()).ldelim(),null!=t.systemUndelete&&Object.hasOwnProperty.call(t,"systemUndelete")&&U.proto.SystemUndeleteTransactionBody.encode(t.systemUndelete,e.uint32(170).fork()).ldelim(),null!=t.contractDeleteInstance&&Object.hasOwnProperty.call(t,"contractDeleteInstance")&&U.proto.ContractDeleteTransactionBody.encode(t.contractDeleteInstance,e.uint32(178).fork()).ldelim(),null!=t.freeze&&Object.hasOwnProperty.call(t,"freeze")&&U.proto.FreezeTransactionBody.encode(t.freeze,e.uint32(186).fork()).ldelim(),null!=t.consensusCreateTopic&&Object.hasOwnProperty.call(t,"consensusCreateTopic")&&U.proto.ConsensusCreateTopicTransactionBody.encode(t.consensusCreateTopic,e.uint32(194).fork()).ldelim(),null!=t.consensusUpdateTopic&&Object.hasOwnProperty.call(t,"consensusUpdateTopic")&&U.proto.ConsensusUpdateTopicTransactionBody.encode(t.consensusUpdateTopic,e.uint32(202).fork()).ldelim(),null!=t.consensusDeleteTopic&&Object.hasOwnProperty.call(t,"consensusDeleteTopic")&&U.proto.ConsensusDeleteTopicTransactionBody.encode(t.consensusDeleteTopic,e.uint32(210).fork()).ldelim(),null!=t.consensusSubmitMessage&&Object.hasOwnProperty.call(t,"consensusSubmitMessage")&&U.proto.ConsensusSubmitMessageTransactionBody.encode(t.consensusSubmitMessage,e.uint32(218).fork()).ldelim(),null!=t.uncheckedSubmit&&Object.hasOwnProperty.call(t,"uncheckedSubmit")&&U.proto.UncheckedSubmitBody.encode(t.uncheckedSubmit,e.uint32(226).fork()).ldelim(),null!=t.tokenCreation&&Object.hasOwnProperty.call(t,"tokenCreation")&&U.proto.TokenCreateTransactionBody.encode(t.tokenCreation,e.uint32(234).fork()).ldelim(),null!=t.tokenFreeze&&Object.hasOwnProperty.call(t,"tokenFreeze")&&U.proto.TokenFreezeAccountTransactionBody.encode(t.tokenFreeze,e.uint32(250).fork()).ldelim(),null!=t.tokenUnfreeze&&Object.hasOwnProperty.call(t,"tokenUnfreeze")&&U.proto.TokenUnfreezeAccountTransactionBody.encode(t.tokenUnfreeze,e.uint32(258).fork()).ldelim(),null!=t.tokenGrantKyc&&Object.hasOwnProperty.call(t,"tokenGrantKyc")&&U.proto.TokenGrantKycTransactionBody.encode(t.tokenGrantKyc,e.uint32(266).fork()).ldelim(),null!=t.tokenRevokeKyc&&Object.hasOwnProperty.call(t,"tokenRevokeKyc")&&U.proto.TokenRevokeKycTransactionBody.encode(t.tokenRevokeKyc,e.uint32(274).fork()).ldelim(),null!=t.tokenDeletion&&Object.hasOwnProperty.call(t,"tokenDeletion")&&U.proto.TokenDeleteTransactionBody.encode(t.tokenDeletion,e.uint32(282).fork()).ldelim(),null!=t.tokenUpdate&&Object.hasOwnProperty.call(t,"tokenUpdate")&&U.proto.TokenUpdateTransactionBody.encode(t.tokenUpdate,e.uint32(290).fork()).ldelim(),null!=t.tokenMint&&Object.hasOwnProperty.call(t,"tokenMint")&&U.proto.TokenMintTransactionBody.encode(t.tokenMint,e.uint32(298).fork()).ldelim(),null!=t.tokenBurn&&Object.hasOwnProperty.call(t,"tokenBurn")&&U.proto.TokenBurnTransactionBody.encode(t.tokenBurn,e.uint32(306).fork()).ldelim(),null!=t.tokenWipe&&Object.hasOwnProperty.call(t,"tokenWipe")&&U.proto.TokenWipeAccountTransactionBody.encode(t.tokenWipe,e.uint32(314).fork()).ldelim(),null!=t.tokenAssociate&&Object.hasOwnProperty.call(t,"tokenAssociate")&&U.proto.TokenAssociateTransactionBody.encode(t.tokenAssociate,e.uint32(322).fork()).ldelim(),null!=t.tokenDissociate&&Object.hasOwnProperty.call(t,"tokenDissociate")&&U.proto.TokenDissociateTransactionBody.encode(t.tokenDissociate,e.uint32(330).fork()).ldelim(),null!=t.scheduleCreate&&Object.hasOwnProperty.call(t,"scheduleCreate")&&U.proto.ScheduleCreateTransactionBody.encode(t.scheduleCreate,e.uint32(338).fork()).ldelim(),null!=t.scheduleDelete&&Object.hasOwnProperty.call(t,"scheduleDelete")&&U.proto.ScheduleDeleteTransactionBody.encode(t.scheduleDelete,e.uint32(346).fork()).ldelim(),null!=t.scheduleSign&&Object.hasOwnProperty.call(t,"scheduleSign")&&U.proto.ScheduleSignTransactionBody.encode(t.scheduleSign,e.uint32(354).fork()).ldelim(),null!=t.tokenFeeScheduleUpdate&&Object.hasOwnProperty.call(t,"tokenFeeScheduleUpdate")&&U.proto.TokenFeeScheduleUpdateTransactionBody.encode(t.tokenFeeScheduleUpdate,e.uint32(362).fork()).ldelim(),null!=t.tokenPause&&Object.hasOwnProperty.call(t,"tokenPause")&&U.proto.TokenPauseTransactionBody.encode(t.tokenPause,e.uint32(370).fork()).ldelim(),null!=t.tokenUnpause&&Object.hasOwnProperty.call(t,"tokenUnpause")&&U.proto.TokenUnpauseTransactionBody.encode(t.tokenUnpause,e.uint32(378).fork()).ldelim(),null!=t.cryptoAdjustAllowance&&Object.hasOwnProperty.call(t,"cryptoAdjustAllowance")&&U.proto.CryptoAdjustAllowanceTransactionBody.encode(t.cryptoAdjustAllowance,e.uint32(386).fork()).ldelim(),null!=t.cryptoApproveAllowance&&Object.hasOwnProperty.call(t,"cryptoApproveAllowance")&&U.proto.CryptoApproveAllowanceTransactionBody.encode(t.cryptoApproveAllowance,e.uint32(394).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.transactionID=U.proto.TransactionID.decode(t,t.uint32());break;case 2:F.nodeAccountID=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.transactionFee=t.uint64();break;case 4:F.transactionValidDuration=U.proto.Duration.decode(t,t.uint32());break;case 5:F.generateRecord=t.bool();break;case 6:F.memo=t.string();break;case 7:F.contractCall=U.proto.ContractCallTransactionBody.decode(t,t.uint32());break;case 8:F.contractCreateInstance=U.proto.ContractCreateTransactionBody.decode(t,t.uint32());break;case 9:F.contractUpdateInstance=U.proto.ContractUpdateTransactionBody.decode(t,t.uint32());break;case 22:F.contractDeleteInstance=U.proto.ContractDeleteTransactionBody.decode(t,t.uint32());break;case 10:F.cryptoAddLiveHash=U.proto.CryptoAddLiveHashTransactionBody.decode(t,t.uint32());break;case 48:F.cryptoAdjustAllowance=U.proto.CryptoAdjustAllowanceTransactionBody.decode(t,t.uint32());break;case 49:F.cryptoApproveAllowance=U.proto.CryptoApproveAllowanceTransactionBody.decode(t,t.uint32());break;case 11:F.cryptoCreateAccount=U.proto.CryptoCreateTransactionBody.decode(t,t.uint32());break;case 12:F.cryptoDelete=U.proto.CryptoDeleteTransactionBody.decode(t,t.uint32());break;case 13:F.cryptoDeleteLiveHash=U.proto.CryptoDeleteLiveHashTransactionBody.decode(t,t.uint32());break;case 14:F.cryptoTransfer=U.proto.CryptoTransferTransactionBody.decode(t,t.uint32());break;case 15:F.cryptoUpdateAccount=U.proto.CryptoUpdateTransactionBody.decode(t,t.uint32());break;case 16:F.fileAppend=U.proto.FileAppendTransactionBody.decode(t,t.uint32());break;case 17:F.fileCreate=U.proto.FileCreateTransactionBody.decode(t,t.uint32());break;case 18:F.fileDelete=U.proto.FileDeleteTransactionBody.decode(t,t.uint32());break;case 19:F.fileUpdate=U.proto.FileUpdateTransactionBody.decode(t,t.uint32());break;case 20:F.systemDelete=U.proto.SystemDeleteTransactionBody.decode(t,t.uint32());break;case 21:F.systemUndelete=U.proto.SystemUndeleteTransactionBody.decode(t,t.uint32());break;case 23:F.freeze=U.proto.FreezeTransactionBody.decode(t,t.uint32());break;case 24:F.consensusCreateTopic=U.proto.ConsensusCreateTopicTransactionBody.decode(t,t.uint32());break;case 25:F.consensusUpdateTopic=U.proto.ConsensusUpdateTopicTransactionBody.decode(t,t.uint32());break;case 26:F.consensusDeleteTopic=U.proto.ConsensusDeleteTopicTransactionBody.decode(t,t.uint32());break;case 27:F.consensusSubmitMessage=U.proto.ConsensusSubmitMessageTransactionBody.decode(t,t.uint32());break;case 28:F.uncheckedSubmit=U.proto.UncheckedSubmitBody.decode(t,t.uint32());break;case 29:F.tokenCreation=U.proto.TokenCreateTransactionBody.decode(t,t.uint32());break;case 31:F.tokenFreeze=U.proto.TokenFreezeAccountTransactionBody.decode(t,t.uint32());break;case 32:F.tokenUnfreeze=U.proto.TokenUnfreezeAccountTransactionBody.decode(t,t.uint32());break;case 33:F.tokenGrantKyc=U.proto.TokenGrantKycTransactionBody.decode(t,t.uint32());break;case 34:F.tokenRevokeKyc=U.proto.TokenRevokeKycTransactionBody.decode(t,t.uint32());break;case 35:F.tokenDeletion=U.proto.TokenDeleteTransactionBody.decode(t,t.uint32());break;case 36:F.tokenUpdate=U.proto.TokenUpdateTransactionBody.decode(t,t.uint32());break;case 37:F.tokenMint=U.proto.TokenMintTransactionBody.decode(t,t.uint32());break;case 38:F.tokenBurn=U.proto.TokenBurnTransactionBody.decode(t,t.uint32());break;case 39:F.tokenWipe=U.proto.TokenWipeAccountTransactionBody.decode(t,t.uint32());break;case 40:F.tokenAssociate=U.proto.TokenAssociateTransactionBody.decode(t,t.uint32());break;case 41:F.tokenDissociate=U.proto.TokenDissociateTransactionBody.decode(t,t.uint32());break;case 45:F.tokenFeeScheduleUpdate=U.proto.TokenFeeScheduleUpdateTransactionBody.decode(t,t.uint32());break;case 46:F.tokenPause=U.proto.TokenPauseTransactionBody.decode(t,t.uint32());break;case 47:F.tokenUnpause=U.proto.TokenUnpauseTransactionBody.decode(t,t.uint32());break;case 42:F.scheduleCreate=U.proto.ScheduleCreateTransactionBody.decode(t,t.uint32());break;case 43:F.scheduleDelete=U.proto.ScheduleDeleteTransactionBody.decode(t,t.uint32());break;case 44:F.scheduleSign=U.proto.ScheduleSignTransactionBody.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),SystemDeleteTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.fileID=null,t.prototype.contractID=null,t.prototype.expirationTime=null,Object.defineProperty(t.prototype,"id",{get:F.oneOfGetter(e=["fileID","contractID"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(10).fork()).ldelim(),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(18).fork()).ldelim(),null!=t.expirationTime&&Object.hasOwnProperty.call(t,"expirationTime")&&U.proto.TimestampSeconds.encode(t.expirationTime,e.uint32(26).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.SystemDeleteTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.fileID=U.proto.FileID.decode(t,t.uint32());break;case 2:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;case 3:F.expirationTime=U.proto.TimestampSeconds.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),SystemUndeleteTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.fileID=null,t.prototype.contractID=null,Object.defineProperty(t.prototype,"id",{get:F.oneOfGetter(e=["fileID","contractID"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(10).fork()).ldelim(),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.SystemUndeleteTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.fileID=U.proto.FileID.decode(t,t.uint32());break;case 2:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),FreezeTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.startHour=0,t.prototype.startMin=0,t.prototype.endHour=0,t.prototype.endMin=0,t.prototype.updateFile=null,t.prototype.fileHash=F.newBuffer([]),t.prototype.startTime=null,t.prototype.freezeType=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.startHour&&Object.hasOwnProperty.call(t,"startHour")&&e.uint32(8).int32(t.startHour),null!=t.startMin&&Object.hasOwnProperty.call(t,"startMin")&&e.uint32(16).int32(t.startMin),null!=t.endHour&&Object.hasOwnProperty.call(t,"endHour")&&e.uint32(24).int32(t.endHour),null!=t.endMin&&Object.hasOwnProperty.call(t,"endMin")&&e.uint32(32).int32(t.endMin),null!=t.updateFile&&Object.hasOwnProperty.call(t,"updateFile")&&U.proto.FileID.encode(t.updateFile,e.uint32(42).fork()).ldelim(),null!=t.fileHash&&Object.hasOwnProperty.call(t,"fileHash")&&e.uint32(50).bytes(t.fileHash),null!=t.startTime&&Object.hasOwnProperty.call(t,"startTime")&&U.proto.Timestamp.encode(t.startTime,e.uint32(58).fork()).ldelim(),null!=t.freezeType&&Object.hasOwnProperty.call(t,"freezeType")&&e.uint32(64).int32(t.freezeType),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FreezeTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.startHour=t.int32();break;case 2:F.startMin=t.int32();break;case 3:F.endHour=t.int32();break;case 4:F.endMin=t.int32();break;case 5:F.updateFile=U.proto.FileID.decode(t,t.uint32());break;case 6:F.fileHash=t.bytes();break;case 7:F.startTime=U.proto.Timestamp.decode(t,t.uint32());break;case 8:F.freezeType=t.int32();break;default:t.skipType(7&Q)}return F},t}(),FreezeType:function(){const t={},e=Object.create(t);return e[t[0]="UNKNOWN_FREEZE_TYPE"]=0,e[t[1]="FREEZE_ONLY"]=1,e[t[2]="PREPARE_UPGRADE"]=2,e[t[3]="FREEZE_UPGRADE"]=3,e[t[4]="FREEZE_ABORT"]=4,e[t[5]="TELEMETRY_UPGRADE"]=5,e}(),ContractCallTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.contractID=null,t.prototype.gas=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.amount=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.functionParameters=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(10).fork()).ldelim(),null!=t.gas&&Object.hasOwnProperty.call(t,"gas")&&e.uint32(16).int64(t.gas),null!=t.amount&&Object.hasOwnProperty.call(t,"amount")&&e.uint32(24).int64(t.amount),null!=t.functionParameters&&Object.hasOwnProperty.call(t,"functionParameters")&&e.uint32(34).bytes(t.functionParameters),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractCallTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;case 2:F.gas=t.int64();break;case 3:F.amount=t.int64();break;case 4:F.functionParameters=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),ContractCreateTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.fileID=null,t.prototype.adminKey=null,t.prototype.gas=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.initialBalance=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.proxyAccountID=null,t.prototype.autoRenewPeriod=null,t.prototype.constructorParameters=F.newBuffer([]),t.prototype.shardID=null,t.prototype.realmID=null,t.prototype.newRealmAdminKey=null,t.prototype.memo="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(10).fork()).ldelim(),null!=t.adminKey&&Object.hasOwnProperty.call(t,"adminKey")&&U.proto.Key.encode(t.adminKey,e.uint32(26).fork()).ldelim(),null!=t.gas&&Object.hasOwnProperty.call(t,"gas")&&e.uint32(32).int64(t.gas),null!=t.initialBalance&&Object.hasOwnProperty.call(t,"initialBalance")&&e.uint32(40).int64(t.initialBalance),null!=t.proxyAccountID&&Object.hasOwnProperty.call(t,"proxyAccountID")&&U.proto.AccountID.encode(t.proxyAccountID,e.uint32(50).fork()).ldelim(),null!=t.autoRenewPeriod&&Object.hasOwnProperty.call(t,"autoRenewPeriod")&&U.proto.Duration.encode(t.autoRenewPeriod,e.uint32(66).fork()).ldelim(),null!=t.constructorParameters&&Object.hasOwnProperty.call(t,"constructorParameters")&&e.uint32(74).bytes(t.constructorParameters),null!=t.shardID&&Object.hasOwnProperty.call(t,"shardID")&&U.proto.ShardID.encode(t.shardID,e.uint32(82).fork()).ldelim(),null!=t.realmID&&Object.hasOwnProperty.call(t,"realmID")&&U.proto.RealmID.encode(t.realmID,e.uint32(90).fork()).ldelim(),null!=t.newRealmAdminKey&&Object.hasOwnProperty.call(t,"newRealmAdminKey")&&U.proto.Key.encode(t.newRealmAdminKey,e.uint32(98).fork()).ldelim(),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(106).string(t.memo),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractCreateTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.fileID=U.proto.FileID.decode(t,t.uint32());break;case 3:F.adminKey=U.proto.Key.decode(t,t.uint32());break;case 4:F.gas=t.int64();break;case 5:F.initialBalance=t.int64();break;case 6:F.proxyAccountID=U.proto.AccountID.decode(t,t.uint32());break;case 8:F.autoRenewPeriod=U.proto.Duration.decode(t,t.uint32());break;case 9:F.constructorParameters=t.bytes();break;case 10:F.shardID=U.proto.ShardID.decode(t,t.uint32());break;case 11:F.realmID=U.proto.RealmID.decode(t,t.uint32());break;case 12:F.newRealmAdminKey=U.proto.Key.decode(t,t.uint32());break;case 13:F.memo=t.string();break;default:t.skipType(7&Q)}return F},t}(),ContractUpdateTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.contractID=null,t.prototype.expirationTime=null,t.prototype.adminKey=null,t.prototype.proxyAccountID=null,t.prototype.autoRenewPeriod=null,t.prototype.fileID=null,t.prototype.memo=null,t.prototype.memoWrapper=null,Object.defineProperty(t.prototype,"memoField",{get:F.oneOfGetter(e=["memo","memoWrapper"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(10).fork()).ldelim(),null!=t.expirationTime&&Object.hasOwnProperty.call(t,"expirationTime")&&U.proto.Timestamp.encode(t.expirationTime,e.uint32(18).fork()).ldelim(),null!=t.adminKey&&Object.hasOwnProperty.call(t,"adminKey")&&U.proto.Key.encode(t.adminKey,e.uint32(26).fork()).ldelim(),null!=t.proxyAccountID&&Object.hasOwnProperty.call(t,"proxyAccountID")&&U.proto.AccountID.encode(t.proxyAccountID,e.uint32(50).fork()).ldelim(),null!=t.autoRenewPeriod&&Object.hasOwnProperty.call(t,"autoRenewPeriod")&&U.proto.Duration.encode(t.autoRenewPeriod,e.uint32(58).fork()).ldelim(),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(66).fork()).ldelim(),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(74).string(t.memo),null!=t.memoWrapper&&Object.hasOwnProperty.call(t,"memoWrapper")&&U.google.protobuf.StringValue.encode(t.memoWrapper,e.uint32(82).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractUpdateTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;case 2:F.expirationTime=U.proto.Timestamp.decode(t,t.uint32());break;case 3:F.adminKey=U.proto.Key.decode(t,t.uint32());break;case 6:F.proxyAccountID=U.proto.AccountID.decode(t,t.uint32());break;case 7:F.autoRenewPeriod=U.proto.Duration.decode(t,t.uint32());break;case 8:F.fileID=U.proto.FileID.decode(t,t.uint32());break;case 9:F.memo=t.string();break;case 10:F.memoWrapper=U.google.protobuf.StringValue.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),LiveHash:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.accountId=null,t.prototype.hash=F.newBuffer([]),t.prototype.keys=null,t.prototype.duration=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.accountId&&Object.hasOwnProperty.call(t,"accountId")&&U.proto.AccountID.encode(t.accountId,e.uint32(10).fork()).ldelim(),null!=t.hash&&Object.hasOwnProperty.call(t,"hash")&&e.uint32(18).bytes(t.hash),null!=t.keys&&Object.hasOwnProperty.call(t,"keys")&&U.proto.KeyList.encode(t.keys,e.uint32(26).fork()).ldelim(),null!=t.duration&&Object.hasOwnProperty.call(t,"duration")&&U.proto.Duration.encode(t.duration,e.uint32(42).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.LiveHash;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.accountId=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.hash=t.bytes();break;case 3:F.keys=U.proto.KeyList.decode(t,t.uint32());break;case 5:F.duration=U.proto.Duration.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),CryptoAddLiveHashTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.liveHash=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.liveHash&&Object.hasOwnProperty.call(t,"liveHash")&&U.proto.LiveHash.encode(t.liveHash,e.uint32(26).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoAddLiveHashTransactionBody;t.pos<s;)if(3==(Q=t.uint32())>>>3)F.liveHash=U.proto.LiveHash.decode(t,t.uint32());else t.skipType(7&Q);return F},t}(),CryptoCreateTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.key=null,t.prototype.initialBalance=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.proxyAccountID=null,t.prototype.sendRecordThreshold=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.receiveRecordThreshold=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.receiverSigRequired=!1,t.prototype.autoRenewPeriod=null,t.prototype.shardID=null,t.prototype.realmID=null,t.prototype.newRealmAdminKey=null,t.prototype.memo="",t.prototype.maxAutomaticTokenAssociations=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&U.proto.Key.encode(t.key,e.uint32(10).fork()).ldelim(),null!=t.initialBalance&&Object.hasOwnProperty.call(t,"initialBalance")&&e.uint32(16).uint64(t.initialBalance),null!=t.proxyAccountID&&Object.hasOwnProperty.call(t,"proxyAccountID")&&U.proto.AccountID.encode(t.proxyAccountID,e.uint32(26).fork()).ldelim(),null!=t.sendRecordThreshold&&Object.hasOwnProperty.call(t,"sendRecordThreshold")&&e.uint32(48).uint64(t.sendRecordThreshold),null!=t.receiveRecordThreshold&&Object.hasOwnProperty.call(t,"receiveRecordThreshold")&&e.uint32(56).uint64(t.receiveRecordThreshold),null!=t.receiverSigRequired&&Object.hasOwnProperty.call(t,"receiverSigRequired")&&e.uint32(64).bool(t.receiverSigRequired),null!=t.autoRenewPeriod&&Object.hasOwnProperty.call(t,"autoRenewPeriod")&&U.proto.Duration.encode(t.autoRenewPeriod,e.uint32(74).fork()).ldelim(),null!=t.shardID&&Object.hasOwnProperty.call(t,"shardID")&&U.proto.ShardID.encode(t.shardID,e.uint32(82).fork()).ldelim(),null!=t.realmID&&Object.hasOwnProperty.call(t,"realmID")&&U.proto.RealmID.encode(t.realmID,e.uint32(90).fork()).ldelim(),null!=t.newRealmAdminKey&&Object.hasOwnProperty.call(t,"newRealmAdminKey")&&U.proto.Key.encode(t.newRealmAdminKey,e.uint32(98).fork()).ldelim(),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(106).string(t.memo),null!=t.maxAutomaticTokenAssociations&&Object.hasOwnProperty.call(t,"maxAutomaticTokenAssociations")&&e.uint32(112).int32(t.maxAutomaticTokenAssociations),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoCreateTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.key=U.proto.Key.decode(t,t.uint32());break;case 2:F.initialBalance=t.uint64();break;case 3:F.proxyAccountID=U.proto.AccountID.decode(t,t.uint32());break;case 6:F.sendRecordThreshold=t.uint64();break;case 7:F.receiveRecordThreshold=t.uint64();break;case 8:F.receiverSigRequired=t.bool();break;case 9:F.autoRenewPeriod=U.proto.Duration.decode(t,t.uint32());break;case 10:F.shardID=U.proto.ShardID.decode(t,t.uint32());break;case 11:F.realmID=U.proto.RealmID.decode(t,t.uint32());break;case 12:F.newRealmAdminKey=U.proto.Key.decode(t,t.uint32());break;case 13:F.memo=t.string();break;case 14:F.maxAutomaticTokenAssociations=t.int32();break;default:t.skipType(7&Q)}return F},t}(),CryptoDeleteTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.transferAccountID=null,t.prototype.deleteAccountID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.transferAccountID&&Object.hasOwnProperty.call(t,"transferAccountID")&&U.proto.AccountID.encode(t.transferAccountID,e.uint32(10).fork()).ldelim(),null!=t.deleteAccountID&&Object.hasOwnProperty.call(t,"deleteAccountID")&&U.proto.AccountID.encode(t.deleteAccountID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoDeleteTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.transferAccountID=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.deleteAccountID=U.proto.AccountID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),CryptoDeleteLiveHashTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.accountOfLiveHash=null,t.prototype.liveHashToDelete=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.accountOfLiveHash&&Object.hasOwnProperty.call(t,"accountOfLiveHash")&&U.proto.AccountID.encode(t.accountOfLiveHash,e.uint32(10).fork()).ldelim(),null!=t.liveHashToDelete&&Object.hasOwnProperty.call(t,"liveHashToDelete")&&e.uint32(18).bytes(t.liveHashToDelete),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoDeleteLiveHashTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.accountOfLiveHash=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.liveHashToDelete=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),CryptoTransferTransactionBody:function(){function t(t){if(this.tokenTransfers=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.transfers=null,t.prototype.tokenTransfers=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.transfers&&Object.hasOwnProperty.call(t,"transfers")&&U.proto.TransferList.encode(t.transfers,e.uint32(10).fork()).ldelim(),null!=t.tokenTransfers&&t.tokenTransfers.length)for(var Q=0;Q<t.tokenTransfers.length;++Q)U.proto.TokenTransferList.encode(t.tokenTransfers[Q],e.uint32(18).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoTransferTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.transfers=U.proto.TransferList.decode(t,t.uint32());break;case 2:F.tokenTransfers&&F.tokenTransfers.length||(F.tokenTransfers=[]),F.tokenTransfers.push(U.proto.TokenTransferList.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),CryptoUpdateTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.accountIDToUpdate=null,t.prototype.key=null,t.prototype.proxyAccountID=null,t.prototype.proxyFraction=0,t.prototype.sendRecordThreshold=null,t.prototype.sendRecordThresholdWrapper=null,t.prototype.receiveRecordThreshold=null,t.prototype.receiveRecordThresholdWrapper=null,t.prototype.autoRenewPeriod=null,t.prototype.expirationTime=null,t.prototype.receiverSigRequired=null,t.prototype.receiverSigRequiredWrapper=null,t.prototype.memo=null,t.prototype.maxAutomaticTokenAssociations=null,Object.defineProperty(t.prototype,"sendRecordThresholdField",{get:F.oneOfGetter(e=["sendRecordThreshold","sendRecordThresholdWrapper"]),set:F.oneOfSetter(e)}),Object.defineProperty(t.prototype,"receiveRecordThresholdField",{get:F.oneOfGetter(e=["receiveRecordThreshold","receiveRecordThresholdWrapper"]),set:F.oneOfSetter(e)}),Object.defineProperty(t.prototype,"receiverSigRequiredField",{get:F.oneOfGetter(e=["receiverSigRequired","receiverSigRequiredWrapper"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.accountIDToUpdate&&Object.hasOwnProperty.call(t,"accountIDToUpdate")&&U.proto.AccountID.encode(t.accountIDToUpdate,e.uint32(18).fork()).ldelim(),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&U.proto.Key.encode(t.key,e.uint32(26).fork()).ldelim(),null!=t.proxyAccountID&&Object.hasOwnProperty.call(t,"proxyAccountID")&&U.proto.AccountID.encode(t.proxyAccountID,e.uint32(34).fork()).ldelim(),null!=t.proxyFraction&&Object.hasOwnProperty.call(t,"proxyFraction")&&e.uint32(40).int32(t.proxyFraction),null!=t.sendRecordThreshold&&Object.hasOwnProperty.call(t,"sendRecordThreshold")&&e.uint32(48).uint64(t.sendRecordThreshold),null!=t.receiveRecordThreshold&&Object.hasOwnProperty.call(t,"receiveRecordThreshold")&&e.uint32(56).uint64(t.receiveRecordThreshold),null!=t.autoRenewPeriod&&Object.hasOwnProperty.call(t,"autoRenewPeriod")&&U.proto.Duration.encode(t.autoRenewPeriod,e.uint32(66).fork()).ldelim(),null!=t.expirationTime&&Object.hasOwnProperty.call(t,"expirationTime")&&U.proto.Timestamp.encode(t.expirationTime,e.uint32(74).fork()).ldelim(),null!=t.receiverSigRequired&&Object.hasOwnProperty.call(t,"receiverSigRequired")&&e.uint32(80).bool(t.receiverSigRequired),null!=t.sendRecordThresholdWrapper&&Object.hasOwnProperty.call(t,"sendRecordThresholdWrapper")&&U.google.protobuf.UInt64Value.encode(t.sendRecordThresholdWrapper,e.uint32(90).fork()).ldelim(),null!=t.receiveRecordThresholdWrapper&&Object.hasOwnProperty.call(t,"receiveRecordThresholdWrapper")&&U.google.protobuf.UInt64Value.encode(t.receiveRecordThresholdWrapper,e.uint32(98).fork()).ldelim(),null!=t.receiverSigRequiredWrapper&&Object.hasOwnProperty.call(t,"receiverSigRequiredWrapper")&&U.google.protobuf.BoolValue.encode(t.receiverSigRequiredWrapper,e.uint32(106).fork()).ldelim(),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&U.google.protobuf.StringValue.encode(t.memo,e.uint32(114).fork()).ldelim(),null!=t.maxAutomaticTokenAssociations&&Object.hasOwnProperty.call(t,"maxAutomaticTokenAssociations")&&U.google.protobuf.Int32Value.encode(t.maxAutomaticTokenAssociations,e.uint32(122).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoUpdateTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 2:F.accountIDToUpdate=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.key=U.proto.Key.decode(t,t.uint32());break;case 4:F.proxyAccountID=U.proto.AccountID.decode(t,t.uint32());break;case 5:F.proxyFraction=t.int32();break;case 6:F.sendRecordThreshold=t.uint64();break;case 11:F.sendRecordThresholdWrapper=U.google.protobuf.UInt64Value.decode(t,t.uint32());break;case 7:F.receiveRecordThreshold=t.uint64();break;case 12:F.receiveRecordThresholdWrapper=U.google.protobuf.UInt64Value.decode(t,t.uint32());break;case 8:F.autoRenewPeriod=U.proto.Duration.decode(t,t.uint32());break;case 9:F.expirationTime=U.proto.Timestamp.decode(t,t.uint32());break;case 10:F.receiverSigRequired=t.bool();break;case 13:F.receiverSigRequiredWrapper=U.google.protobuf.BoolValue.decode(t,t.uint32());break;case 14:F.memo=U.google.protobuf.StringValue.decode(t,t.uint32());break;case 15:F.maxAutomaticTokenAssociations=U.google.protobuf.Int32Value.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),CryptoApproveAllowanceTransactionBody:function(){function t(t){if(this.cryptoAllowances=[],this.nftAllowances=[],this.tokenAllowances=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.cryptoAllowances=F.emptyArray,t.prototype.nftAllowances=F.emptyArray,t.prototype.tokenAllowances=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.cryptoAllowances&&t.cryptoAllowances.length)for(var Q=0;Q<t.cryptoAllowances.length;++Q)U.proto.CryptoAllowance.encode(t.cryptoAllowances[Q],e.uint32(10).fork()).ldelim();if(null!=t.nftAllowances&&t.nftAllowances.length)for(Q=0;Q<t.nftAllowances.length;++Q)U.proto.NftAllowance.encode(t.nftAllowances[Q],e.uint32(18).fork()).ldelim();if(null!=t.tokenAllowances&&t.tokenAllowances.length)for(Q=0;Q<t.tokenAllowances.length;++Q)U.proto.TokenAllowance.encode(t.tokenAllowances[Q],e.uint32(26).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoApproveAllowanceTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.cryptoAllowances&&F.cryptoAllowances.length||(F.cryptoAllowances=[]),F.cryptoAllowances.push(U.proto.CryptoAllowance.decode(t,t.uint32()));break;case 2:F.nftAllowances&&F.nftAllowances.length||(F.nftAllowances=[]),F.nftAllowances.push(U.proto.NftAllowance.decode(t,t.uint32()));break;case 3:F.tokenAllowances&&F.tokenAllowances.length||(F.tokenAllowances=[]),F.tokenAllowances.push(U.proto.TokenAllowance.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),CryptoAdjustAllowanceTransactionBody:function(){function t(t){if(this.cryptoAllowances=[],this.nftAllowances=[],this.tokenAllowances=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.cryptoAllowances=F.emptyArray,t.prototype.nftAllowances=F.emptyArray,t.prototype.tokenAllowances=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.cryptoAllowances&&t.cryptoAllowances.length)for(var Q=0;Q<t.cryptoAllowances.length;++Q)U.proto.CryptoAllowance.encode(t.cryptoAllowances[Q],e.uint32(10).fork()).ldelim();if(null!=t.nftAllowances&&t.nftAllowances.length)for(Q=0;Q<t.nftAllowances.length;++Q)U.proto.NftAllowance.encode(t.nftAllowances[Q],e.uint32(18).fork()).ldelim();if(null!=t.tokenAllowances&&t.tokenAllowances.length)for(Q=0;Q<t.tokenAllowances.length;++Q)U.proto.TokenAllowance.encode(t.tokenAllowances[Q],e.uint32(26).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoAdjustAllowanceTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.cryptoAllowances&&F.cryptoAllowances.length||(F.cryptoAllowances=[]),F.cryptoAllowances.push(U.proto.CryptoAllowance.decode(t,t.uint32()));break;case 2:F.nftAllowances&&F.nftAllowances.length||(F.nftAllowances=[]),F.nftAllowances.push(U.proto.NftAllowance.decode(t,t.uint32()));break;case 3:F.tokenAllowances&&F.tokenAllowances.length||(F.tokenAllowances=[]),F.tokenAllowances.push(U.proto.TokenAllowance.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),FileAppendTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.fileID=null,t.prototype.contents=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(18).fork()).ldelim(),null!=t.contents&&Object.hasOwnProperty.call(t,"contents")&&e.uint32(34).bytes(t.contents),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FileAppendTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 2:F.fileID=U.proto.FileID.decode(t,t.uint32());break;case 4:F.contents=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),FileCreateTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.expirationTime=null,t.prototype.keys=null,t.prototype.contents=F.newBuffer([]),t.prototype.shardID=null,t.prototype.realmID=null,t.prototype.newRealmAdminKey=null,t.prototype.memo="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.expirationTime&&Object.hasOwnProperty.call(t,"expirationTime")&&U.proto.Timestamp.encode(t.expirationTime,e.uint32(18).fork()).ldelim(),null!=t.keys&&Object.hasOwnProperty.call(t,"keys")&&U.proto.KeyList.encode(t.keys,e.uint32(26).fork()).ldelim(),null!=t.contents&&Object.hasOwnProperty.call(t,"contents")&&e.uint32(34).bytes(t.contents),null!=t.shardID&&Object.hasOwnProperty.call(t,"shardID")&&U.proto.ShardID.encode(t.shardID,e.uint32(42).fork()).ldelim(),null!=t.realmID&&Object.hasOwnProperty.call(t,"realmID")&&U.proto.RealmID.encode(t.realmID,e.uint32(50).fork()).ldelim(),null!=t.newRealmAdminKey&&Object.hasOwnProperty.call(t,"newRealmAdminKey")&&U.proto.Key.encode(t.newRealmAdminKey,e.uint32(58).fork()).ldelim(),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(66).string(t.memo),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FileCreateTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 2:F.expirationTime=U.proto.Timestamp.decode(t,t.uint32());break;case 3:F.keys=U.proto.KeyList.decode(t,t.uint32());break;case 4:F.contents=t.bytes();break;case 5:F.shardID=U.proto.ShardID.decode(t,t.uint32());break;case 6:F.realmID=U.proto.RealmID.decode(t,t.uint32());break;case 7:F.newRealmAdminKey=U.proto.Key.decode(t,t.uint32());break;case 8:F.memo=t.string();break;default:t.skipType(7&Q)}return F},t}(),FileDeleteTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.fileID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FileDeleteTransactionBody;t.pos<s;)if(2==(Q=t.uint32())>>>3)F.fileID=U.proto.FileID.decode(t,t.uint32());else t.skipType(7&Q);return F},t}(),FileUpdateTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.fileID=null,t.prototype.expirationTime=null,t.prototype.keys=null,t.prototype.contents=F.newBuffer([]),t.prototype.memo=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(10).fork()).ldelim(),null!=t.expirationTime&&Object.hasOwnProperty.call(t,"expirationTime")&&U.proto.Timestamp.encode(t.expirationTime,e.uint32(18).fork()).ldelim(),null!=t.keys&&Object.hasOwnProperty.call(t,"keys")&&U.proto.KeyList.encode(t.keys,e.uint32(26).fork()).ldelim(),null!=t.contents&&Object.hasOwnProperty.call(t,"contents")&&e.uint32(34).bytes(t.contents),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&U.google.protobuf.StringValue.encode(t.memo,e.uint32(42).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FileUpdateTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.fileID=U.proto.FileID.decode(t,t.uint32());break;case 2:F.expirationTime=U.proto.Timestamp.decode(t,t.uint32());break;case 3:F.keys=U.proto.KeyList.decode(t,t.uint32());break;case 4:F.contents=t.bytes();break;case 5:F.memo=U.google.protobuf.StringValue.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ContractDeleteTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.contractID=null,t.prototype.transferAccountID=null,t.prototype.transferContractID=null,Object.defineProperty(t.prototype,"obtainers",{get:F.oneOfGetter(e=["transferAccountID","transferContractID"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(10).fork()).ldelim(),null!=t.transferAccountID&&Object.hasOwnProperty.call(t,"transferAccountID")&&U.proto.AccountID.encode(t.transferAccountID,e.uint32(18).fork()).ldelim(),null!=t.transferContractID&&Object.hasOwnProperty.call(t,"transferContractID")&&U.proto.ContractID.encode(t.transferContractID,e.uint32(26).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractDeleteTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;case 2:F.transferAccountID=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.transferContractID=U.proto.ContractID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ConsensusUpdateTopicTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.topicID=null,t.prototype.memo=null,t.prototype.expirationTime=null,t.prototype.adminKey=null,t.prototype.submitKey=null,t.prototype.autoRenewPeriod=null,t.prototype.autoRenewAccount=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.topicID&&Object.hasOwnProperty.call(t,"topicID")&&U.proto.TopicID.encode(t.topicID,e.uint32(10).fork()).ldelim(),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&U.google.protobuf.StringValue.encode(t.memo,e.uint32(18).fork()).ldelim(),null!=t.expirationTime&&Object.hasOwnProperty.call(t,"expirationTime")&&U.proto.Timestamp.encode(t.expirationTime,e.uint32(34).fork()).ldelim(),null!=t.adminKey&&Object.hasOwnProperty.call(t,"adminKey")&&U.proto.Key.encode(t.adminKey,e.uint32(50).fork()).ldelim(),null!=t.submitKey&&Object.hasOwnProperty.call(t,"submitKey")&&U.proto.Key.encode(t.submitKey,e.uint32(58).fork()).ldelim(),null!=t.autoRenewPeriod&&Object.hasOwnProperty.call(t,"autoRenewPeriod")&&U.proto.Duration.encode(t.autoRenewPeriod,e.uint32(66).fork()).ldelim(),null!=t.autoRenewAccount&&Object.hasOwnProperty.call(t,"autoRenewAccount")&&U.proto.AccountID.encode(t.autoRenewAccount,e.uint32(74).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ConsensusUpdateTopicTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.topicID=U.proto.TopicID.decode(t,t.uint32());break;case 2:F.memo=U.google.protobuf.StringValue.decode(t,t.uint32());break;case 4:F.expirationTime=U.proto.Timestamp.decode(t,t.uint32());break;case 6:F.adminKey=U.proto.Key.decode(t,t.uint32());break;case 7:F.submitKey=U.proto.Key.decode(t,t.uint32());break;case 8:F.autoRenewPeriod=U.proto.Duration.decode(t,t.uint32());break;case 9:F.autoRenewAccount=U.proto.AccountID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ConsensusMessageChunkInfo:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.initialTransactionID=null,t.prototype.total=0,t.prototype.number=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.initialTransactionID&&Object.hasOwnProperty.call(t,"initialTransactionID")&&U.proto.TransactionID.encode(t.initialTransactionID,e.uint32(10).fork()).ldelim(),null!=t.total&&Object.hasOwnProperty.call(t,"total")&&e.uint32(16).int32(t.total),null!=t.number&&Object.hasOwnProperty.call(t,"number")&&e.uint32(24).int32(t.number),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ConsensusMessageChunkInfo;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.initialTransactionID=U.proto.TransactionID.decode(t,t.uint32());break;case 2:F.total=t.int32();break;case 3:F.number=t.int32();break;default:t.skipType(7&Q)}return F},t}(),ConsensusSubmitMessageTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.topicID=null,t.prototype.message=F.newBuffer([]),t.prototype.chunkInfo=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.topicID&&Object.hasOwnProperty.call(t,"topicID")&&U.proto.TopicID.encode(t.topicID,e.uint32(10).fork()).ldelim(),null!=t.message&&Object.hasOwnProperty.call(t,"message")&&e.uint32(18).bytes(t.message),null!=t.chunkInfo&&Object.hasOwnProperty.call(t,"chunkInfo")&&U.proto.ConsensusMessageChunkInfo.encode(t.chunkInfo,e.uint32(26).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ConsensusSubmitMessageTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.topicID=U.proto.TopicID.decode(t,t.uint32());break;case 2:F.message=t.bytes();break;case 3:F.chunkInfo=U.proto.ConsensusMessageChunkInfo.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),UncheckedSubmitBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.transactionBytes=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.transactionBytes&&Object.hasOwnProperty.call(t,"transactionBytes")&&e.uint32(10).bytes(t.transactionBytes),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.UncheckedSubmitBody;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.transactionBytes=t.bytes();else t.skipType(7&Q);return F},t}(),TokenCreateTransactionBody:function(){function t(t){if(this.customFees=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.name="",t.prototype.symbol="",t.prototype.decimals=0,t.prototype.initialSupply=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.treasury=null,t.prototype.adminKey=null,t.prototype.kycKey=null,t.prototype.freezeKey=null,t.prototype.wipeKey=null,t.prototype.supplyKey=null,t.prototype.freezeDefault=!1,t.prototype.expiry=null,t.prototype.autoRenewAccount=null,t.prototype.autoRenewPeriod=null,t.prototype.memo="",t.prototype.tokenType=0,t.prototype.supplyType=0,t.prototype.maxSupply=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.feeScheduleKey=null,t.prototype.customFees=F.emptyArray,t.prototype.pauseKey=null,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.name&&Object.hasOwnProperty.call(t,"name")&&e.uint32(10).string(t.name),null!=t.symbol&&Object.hasOwnProperty.call(t,"symbol")&&e.uint32(18).string(t.symbol),null!=t.decimals&&Object.hasOwnProperty.call(t,"decimals")&&e.uint32(24).uint32(t.decimals),null!=t.initialSupply&&Object.hasOwnProperty.call(t,"initialSupply")&&e.uint32(32).uint64(t.initialSupply),null!=t.treasury&&Object.hasOwnProperty.call(t,"treasury")&&U.proto.AccountID.encode(t.treasury,e.uint32(42).fork()).ldelim(),null!=t.adminKey&&Object.hasOwnProperty.call(t,"adminKey")&&U.proto.Key.encode(t.adminKey,e.uint32(50).fork()).ldelim(),null!=t.kycKey&&Object.hasOwnProperty.call(t,"kycKey")&&U.proto.Key.encode(t.kycKey,e.uint32(58).fork()).ldelim(),null!=t.freezeKey&&Object.hasOwnProperty.call(t,"freezeKey")&&U.proto.Key.encode(t.freezeKey,e.uint32(66).fork()).ldelim(),null!=t.wipeKey&&Object.hasOwnProperty.call(t,"wipeKey")&&U.proto.Key.encode(t.wipeKey,e.uint32(74).fork()).ldelim(),null!=t.supplyKey&&Object.hasOwnProperty.call(t,"supplyKey")&&U.proto.Key.encode(t.supplyKey,e.uint32(82).fork()).ldelim(),null!=t.freezeDefault&&Object.hasOwnProperty.call(t,"freezeDefault")&&e.uint32(88).bool(t.freezeDefault),null!=t.expiry&&Object.hasOwnProperty.call(t,"expiry")&&U.proto.Timestamp.encode(t.expiry,e.uint32(106).fork()).ldelim(),null!=t.autoRenewAccount&&Object.hasOwnProperty.call(t,"autoRenewAccount")&&U.proto.AccountID.encode(t.autoRenewAccount,e.uint32(114).fork()).ldelim(),null!=t.autoRenewPeriod&&Object.hasOwnProperty.call(t,"autoRenewPeriod")&&U.proto.Duration.encode(t.autoRenewPeriod,e.uint32(122).fork()).ldelim(),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(130).string(t.memo),null!=t.tokenType&&Object.hasOwnProperty.call(t,"tokenType")&&e.uint32(136).int32(t.tokenType),null!=t.supplyType&&Object.hasOwnProperty.call(t,"supplyType")&&e.uint32(144).int32(t.supplyType),null!=t.maxSupply&&Object.hasOwnProperty.call(t,"maxSupply")&&e.uint32(152).int64(t.maxSupply),null!=t.feeScheduleKey&&Object.hasOwnProperty.call(t,"feeScheduleKey")&&U.proto.Key.encode(t.feeScheduleKey,e.uint32(162).fork()).ldelim(),null!=t.customFees&&t.customFees.length)for(var Q=0;Q<t.customFees.length;++Q)U.proto.CustomFee.encode(t.customFees[Q],e.uint32(170).fork()).ldelim();return null!=t.pauseKey&&Object.hasOwnProperty.call(t,"pauseKey")&&U.proto.Key.encode(t.pauseKey,e.uint32(178).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenCreateTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.name=t.string();break;case 2:F.symbol=t.string();break;case 3:F.decimals=t.uint32();break;case 4:F.initialSupply=t.uint64();break;case 5:F.treasury=U.proto.AccountID.decode(t,t.uint32());break;case 6:F.adminKey=U.proto.Key.decode(t,t.uint32());break;case 7:F.kycKey=U.proto.Key.decode(t,t.uint32());break;case 8:F.freezeKey=U.proto.Key.decode(t,t.uint32());break;case 9:F.wipeKey=U.proto.Key.decode(t,t.uint32());break;case 10:F.supplyKey=U.proto.Key.decode(t,t.uint32());break;case 11:F.freezeDefault=t.bool();break;case 13:F.expiry=U.proto.Timestamp.decode(t,t.uint32());break;case 14:F.autoRenewAccount=U.proto.AccountID.decode(t,t.uint32());break;case 15:F.autoRenewPeriod=U.proto.Duration.decode(t,t.uint32());break;case 16:F.memo=t.string();break;case 17:F.tokenType=t.int32();break;case 18:F.supplyType=t.int32();break;case 19:F.maxSupply=t.int64();break;case 20:F.feeScheduleKey=U.proto.Key.decode(t,t.uint32());break;case 21:F.customFees&&F.customFees.length||(F.customFees=[]),F.customFees.push(U.proto.CustomFee.decode(t,t.uint32()));break;case 22:F.pauseKey=U.proto.Key.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),FractionalFee:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.fractionalAmount=null,t.prototype.minimumAmount=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.maximumAmount=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.netOfTransfers=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.fractionalAmount&&Object.hasOwnProperty.call(t,"fractionalAmount")&&U.proto.Fraction.encode(t.fractionalAmount,e.uint32(10).fork()).ldelim(),null!=t.minimumAmount&&Object.hasOwnProperty.call(t,"minimumAmount")&&e.uint32(16).int64(t.minimumAmount),null!=t.maximumAmount&&Object.hasOwnProperty.call(t,"maximumAmount")&&e.uint32(24).int64(t.maximumAmount),null!=t.netOfTransfers&&Object.hasOwnProperty.call(t,"netOfTransfers")&&e.uint32(32).bool(t.netOfTransfers),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FractionalFee;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.fractionalAmount=U.proto.Fraction.decode(t,t.uint32());break;case 2:F.minimumAmount=t.int64();break;case 3:F.maximumAmount=t.int64();break;case 4:F.netOfTransfers=t.bool();break;default:t.skipType(7&Q)}return F},t}(),FixedFee:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.amount=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.denominatingTokenId=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.amount&&Object.hasOwnProperty.call(t,"amount")&&e.uint32(8).int64(t.amount),null!=t.denominatingTokenId&&Object.hasOwnProperty.call(t,"denominatingTokenId")&&U.proto.TokenID.encode(t.denominatingTokenId,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FixedFee;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.amount=t.int64();break;case 2:F.denominatingTokenId=U.proto.TokenID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),RoyaltyFee:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.exchangeValueFraction=null,t.prototype.fallbackFee=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.exchangeValueFraction&&Object.hasOwnProperty.call(t,"exchangeValueFraction")&&U.proto.Fraction.encode(t.exchangeValueFraction,e.uint32(10).fork()).ldelim(),null!=t.fallbackFee&&Object.hasOwnProperty.call(t,"fallbackFee")&&U.proto.FixedFee.encode(t.fallbackFee,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.RoyaltyFee;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.exchangeValueFraction=U.proto.Fraction.decode(t,t.uint32());break;case 2:F.fallbackFee=U.proto.FixedFee.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),CustomFee:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.fixedFee=null,t.prototype.fractionalFee=null,t.prototype.royaltyFee=null,t.prototype.feeCollectorAccountId=null,Object.defineProperty(t.prototype,"fee",{get:F.oneOfGetter(e=["fixedFee","fractionalFee","royaltyFee"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.fixedFee&&Object.hasOwnProperty.call(t,"fixedFee")&&U.proto.FixedFee.encode(t.fixedFee,e.uint32(10).fork()).ldelim(),null!=t.fractionalFee&&Object.hasOwnProperty.call(t,"fractionalFee")&&U.proto.FractionalFee.encode(t.fractionalFee,e.uint32(18).fork()).ldelim(),null!=t.feeCollectorAccountId&&Object.hasOwnProperty.call(t,"feeCollectorAccountId")&&U.proto.AccountID.encode(t.feeCollectorAccountId,e.uint32(26).fork()).ldelim(),null!=t.royaltyFee&&Object.hasOwnProperty.call(t,"royaltyFee")&&U.proto.RoyaltyFee.encode(t.royaltyFee,e.uint32(34).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CustomFee;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.fixedFee=U.proto.FixedFee.decode(t,t.uint32());break;case 2:F.fractionalFee=U.proto.FractionalFee.decode(t,t.uint32());break;case 4:F.royaltyFee=U.proto.RoyaltyFee.decode(t,t.uint32());break;case 3:F.feeCollectorAccountId=U.proto.AccountID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),AssessedCustomFee:function(){function t(t){if(this.effectivePayerAccountId=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.amount=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.tokenId=null,t.prototype.feeCollectorAccountId=null,t.prototype.effectivePayerAccountId=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.amount&&Object.hasOwnProperty.call(t,"amount")&&e.uint32(8).int64(t.amount),null!=t.tokenId&&Object.hasOwnProperty.call(t,"tokenId")&&U.proto.TokenID.encode(t.tokenId,e.uint32(18).fork()).ldelim(),null!=t.feeCollectorAccountId&&Object.hasOwnProperty.call(t,"feeCollectorAccountId")&&U.proto.AccountID.encode(t.feeCollectorAccountId,e.uint32(26).fork()).ldelim(),null!=t.effectivePayerAccountId&&t.effectivePayerAccountId.length)for(var Q=0;Q<t.effectivePayerAccountId.length;++Q)U.proto.AccountID.encode(t.effectivePayerAccountId[Q],e.uint32(34).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.AssessedCustomFee;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.amount=t.int64();break;case 2:F.tokenId=U.proto.TokenID.decode(t,t.uint32());break;case 3:F.feeCollectorAccountId=U.proto.AccountID.decode(t,t.uint32());break;case 4:F.effectivePayerAccountId&&F.effectivePayerAccountId.length||(F.effectivePayerAccountId=[]),F.effectivePayerAccountId.push(U.proto.AccountID.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),TokenFreezeAccountTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.token=null,t.prototype.account=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&U.proto.TokenID.encode(t.token,e.uint32(10).fork()).ldelim(),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&U.proto.AccountID.encode(t.account,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenFreezeAccountTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.token=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.account=U.proto.AccountID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),TokenUnfreezeAccountTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.token=null,t.prototype.account=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&U.proto.TokenID.encode(t.token,e.uint32(10).fork()).ldelim(),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&U.proto.AccountID.encode(t.account,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenUnfreezeAccountTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.token=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.account=U.proto.AccountID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),TokenGrantKycTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.token=null,t.prototype.account=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&U.proto.TokenID.encode(t.token,e.uint32(10).fork()).ldelim(),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&U.proto.AccountID.encode(t.account,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenGrantKycTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.token=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.account=U.proto.AccountID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),TokenRevokeKycTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.token=null,t.prototype.account=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&U.proto.TokenID.encode(t.token,e.uint32(10).fork()).ldelim(),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&U.proto.AccountID.encode(t.account,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenRevokeKycTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.token=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.account=U.proto.AccountID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),TokenDeleteTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.token=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&U.proto.TokenID.encode(t.token,e.uint32(10).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenDeleteTransactionBody;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.token=U.proto.TokenID.decode(t,t.uint32());else t.skipType(7&Q);return F},t}(),TokenUpdateTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.token=null,t.prototype.symbol="",t.prototype.name="",t.prototype.treasury=null,t.prototype.adminKey=null,t.prototype.kycKey=null,t.prototype.freezeKey=null,t.prototype.wipeKey=null,t.prototype.supplyKey=null,t.prototype.autoRenewAccount=null,t.prototype.autoRenewPeriod=null,t.prototype.expiry=null,t.prototype.memo=null,t.prototype.feeScheduleKey=null,t.prototype.pauseKey=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&U.proto.TokenID.encode(t.token,e.uint32(10).fork()).ldelim(),null!=t.symbol&&Object.hasOwnProperty.call(t,"symbol")&&e.uint32(18).string(t.symbol),null!=t.name&&Object.hasOwnProperty.call(t,"name")&&e.uint32(26).string(t.name),null!=t.treasury&&Object.hasOwnProperty.call(t,"treasury")&&U.proto.AccountID.encode(t.treasury,e.uint32(34).fork()).ldelim(),null!=t.adminKey&&Object.hasOwnProperty.call(t,"adminKey")&&U.proto.Key.encode(t.adminKey,e.uint32(42).fork()).ldelim(),null!=t.kycKey&&Object.hasOwnProperty.call(t,"kycKey")&&U.proto.Key.encode(t.kycKey,e.uint32(50).fork()).ldelim(),null!=t.freezeKey&&Object.hasOwnProperty.call(t,"freezeKey")&&U.proto.Key.encode(t.freezeKey,e.uint32(58).fork()).ldelim(),null!=t.wipeKey&&Object.hasOwnProperty.call(t,"wipeKey")&&U.proto.Key.encode(t.wipeKey,e.uint32(66).fork()).ldelim(),null!=t.supplyKey&&Object.hasOwnProperty.call(t,"supplyKey")&&U.proto.Key.encode(t.supplyKey,e.uint32(74).fork()).ldelim(),null!=t.autoRenewAccount&&Object.hasOwnProperty.call(t,"autoRenewAccount")&&U.proto.AccountID.encode(t.autoRenewAccount,e.uint32(82).fork()).ldelim(),null!=t.autoRenewPeriod&&Object.hasOwnProperty.call(t,"autoRenewPeriod")&&U.proto.Duration.encode(t.autoRenewPeriod,e.uint32(90).fork()).ldelim(),null!=t.expiry&&Object.hasOwnProperty.call(t,"expiry")&&U.proto.Timestamp.encode(t.expiry,e.uint32(98).fork()).ldelim(),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&U.google.protobuf.StringValue.encode(t.memo,e.uint32(106).fork()).ldelim(),null!=t.feeScheduleKey&&Object.hasOwnProperty.call(t,"feeScheduleKey")&&U.proto.Key.encode(t.feeScheduleKey,e.uint32(114).fork()).ldelim(),null!=t.pauseKey&&Object.hasOwnProperty.call(t,"pauseKey")&&U.proto.Key.encode(t.pauseKey,e.uint32(122).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenUpdateTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.token=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.symbol=t.string();break;case 3:F.name=t.string();break;case 4:F.treasury=U.proto.AccountID.decode(t,t.uint32());break;case 5:F.adminKey=U.proto.Key.decode(t,t.uint32());break;case 6:F.kycKey=U.proto.Key.decode(t,t.uint32());break;case 7:F.freezeKey=U.proto.Key.decode(t,t.uint32());break;case 8:F.wipeKey=U.proto.Key.decode(t,t.uint32());break;case 9:F.supplyKey=U.proto.Key.decode(t,t.uint32());break;case 10:F.autoRenewAccount=U.proto.AccountID.decode(t,t.uint32());break;case 11:F.autoRenewPeriod=U.proto.Duration.decode(t,t.uint32());break;case 12:F.expiry=U.proto.Timestamp.decode(t,t.uint32());break;case 13:F.memo=U.google.protobuf.StringValue.decode(t,t.uint32());break;case 14:F.feeScheduleKey=U.proto.Key.decode(t,t.uint32());break;case 15:F.pauseKey=U.proto.Key.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),TokenMintTransactionBody:function(){function t(t){if(this.metadata=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.token=null,t.prototype.amount=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.metadata=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&U.proto.TokenID.encode(t.token,e.uint32(10).fork()).ldelim(),null!=t.amount&&Object.hasOwnProperty.call(t,"amount")&&e.uint32(16).uint64(t.amount),null!=t.metadata&&t.metadata.length)for(var Q=0;Q<t.metadata.length;++Q)e.uint32(26).bytes(t.metadata[Q]);return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenMintTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.token=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.amount=t.uint64();break;case 3:F.metadata&&F.metadata.length||(F.metadata=[]),F.metadata.push(t.bytes());break;default:t.skipType(7&Q)}return F},t}(),TokenBurnTransactionBody:function(){function t(t){if(this.serialNumbers=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.token=null,t.prototype.amount=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.serialNumbers=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&U.proto.TokenID.encode(t.token,e.uint32(10).fork()).ldelim(),null!=t.amount&&Object.hasOwnProperty.call(t,"amount")&&e.uint32(16).uint64(t.amount),null!=t.serialNumbers&&t.serialNumbers.length){e.uint32(26).fork();for(var Q=0;Q<t.serialNumbers.length;++Q)e.int64(t.serialNumbers[Q]);e.ldelim()}return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenBurnTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.token=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.amount=t.uint64();break;case 3:if(F.serialNumbers&&F.serialNumbers.length||(F.serialNumbers=[]),2==(7&Q))for(var n=t.uint32()+t.pos;t.pos<n;)F.serialNumbers.push(t.int64());else F.serialNumbers.push(t.int64());break;default:t.skipType(7&Q)}return F},t}(),TokenWipeAccountTransactionBody:function(){function t(t){if(this.serialNumbers=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.token=null,t.prototype.account=null,t.prototype.amount=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.serialNumbers=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&U.proto.TokenID.encode(t.token,e.uint32(10).fork()).ldelim(),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&U.proto.AccountID.encode(t.account,e.uint32(18).fork()).ldelim(),null!=t.amount&&Object.hasOwnProperty.call(t,"amount")&&e.uint32(24).uint64(t.amount),null!=t.serialNumbers&&t.serialNumbers.length){e.uint32(34).fork();for(var Q=0;Q<t.serialNumbers.length;++Q)e.int64(t.serialNumbers[Q]);e.ldelim()}return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenWipeAccountTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.token=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.account=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.amount=t.uint64();break;case 4:if(F.serialNumbers&&F.serialNumbers.length||(F.serialNumbers=[]),2==(7&Q))for(var n=t.uint32()+t.pos;t.pos<n;)F.serialNumbers.push(t.int64());else F.serialNumbers.push(t.int64());break;default:t.skipType(7&Q)}return F},t}(),TokenAssociateTransactionBody:function(){function t(t){if(this.tokens=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.account=null,t.prototype.tokens=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&U.proto.AccountID.encode(t.account,e.uint32(10).fork()).ldelim(),null!=t.tokens&&t.tokens.length)for(var Q=0;Q<t.tokens.length;++Q)U.proto.TokenID.encode(t.tokens[Q],e.uint32(18).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenAssociateTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.account=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.tokens&&F.tokens.length||(F.tokens=[]),F.tokens.push(U.proto.TokenID.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),TokenDissociateTransactionBody:function(){function t(t){if(this.tokens=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.account=null,t.prototype.tokens=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&U.proto.AccountID.encode(t.account,e.uint32(10).fork()).ldelim(),null!=t.tokens&&t.tokens.length)for(var Q=0;Q<t.tokens.length;++Q)U.proto.TokenID.encode(t.tokens[Q],e.uint32(18).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenDissociateTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.account=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.tokens&&F.tokens.length||(F.tokens=[]),F.tokens.push(U.proto.TokenID.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),TokenFeeScheduleUpdateTransactionBody:function(){function t(t){if(this.customFees=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.tokenId=null,t.prototype.customFees=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.tokenId&&Object.hasOwnProperty.call(t,"tokenId")&&U.proto.TokenID.encode(t.tokenId,e.uint32(10).fork()).ldelim(),null!=t.customFees&&t.customFees.length)for(var Q=0;Q<t.customFees.length;++Q)U.proto.CustomFee.encode(t.customFees[Q],e.uint32(18).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenFeeScheduleUpdateTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.tokenId=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.customFees&&F.customFees.length||(F.customFees=[]),F.customFees.push(U.proto.CustomFee.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),TokenPauseTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.token=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&U.proto.TokenID.encode(t.token,e.uint32(10).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenPauseTransactionBody;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.token=U.proto.TokenID.decode(t,t.uint32());else t.skipType(7&Q);return F},t}(),TokenUnpauseTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.token=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&U.proto.TokenID.encode(t.token,e.uint32(10).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenUnpauseTransactionBody;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.token=U.proto.TokenID.decode(t,t.uint32());else t.skipType(7&Q);return F},t}(),ScheduleCreateTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.scheduledTransactionBody=null,t.prototype.memo="",t.prototype.adminKey=null,t.prototype.payerAccountID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.scheduledTransactionBody&&Object.hasOwnProperty.call(t,"scheduledTransactionBody")&&U.proto.SchedulableTransactionBody.encode(t.scheduledTransactionBody,e.uint32(10).fork()).ldelim(),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(18).string(t.memo),null!=t.adminKey&&Object.hasOwnProperty.call(t,"adminKey")&&U.proto.Key.encode(t.adminKey,e.uint32(26).fork()).ldelim(),null!=t.payerAccountID&&Object.hasOwnProperty.call(t,"payerAccountID")&&U.proto.AccountID.encode(t.payerAccountID,e.uint32(34).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ScheduleCreateTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.scheduledTransactionBody=U.proto.SchedulableTransactionBody.decode(t,t.uint32());break;case 2:F.memo=t.string();break;case 3:F.adminKey=U.proto.Key.decode(t,t.uint32());break;case 4:F.payerAccountID=U.proto.AccountID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),SchedulableTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.transactionFee=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.memo="",t.prototype.contractCall=null,t.prototype.contractCreateInstance=null,t.prototype.contractUpdateInstance=null,t.prototype.contractDeleteInstance=null,t.prototype.cryptoAdjustAllowance=null,t.prototype.cryptoApproveAllowance=null,t.prototype.cryptoCreateAccount=null,t.prototype.cryptoDelete=null,t.prototype.cryptoTransfer=null,t.prototype.cryptoUpdateAccount=null,t.prototype.fileAppend=null,t.prototype.fileCreate=null,t.prototype.fileDelete=null,t.prototype.fileUpdate=null,t.prototype.systemDelete=null,t.prototype.systemUndelete=null,t.prototype.freeze=null,t.prototype.consensusCreateTopic=null,t.prototype.consensusUpdateTopic=null,t.prototype.consensusDeleteTopic=null,t.prototype.consensusSubmitMessage=null,t.prototype.tokenCreation=null,t.prototype.tokenFreeze=null,t.prototype.tokenUnfreeze=null,t.prototype.tokenGrantKyc=null,t.prototype.tokenRevokeKyc=null,t.prototype.tokenDeletion=null,t.prototype.tokenUpdate=null,t.prototype.tokenMint=null,t.prototype.tokenBurn=null,t.prototype.tokenWipe=null,t.prototype.tokenAssociate=null,t.prototype.tokenDissociate=null,t.prototype.tokenFeeScheduleUpdate=null,t.prototype.tokenPause=null,t.prototype.tokenUnpause=null,t.prototype.scheduleDelete=null,Object.defineProperty(t.prototype,"data",{get:F.oneOfGetter(e=["contractCall","contractCreateInstance","contractUpdateInstance","contractDeleteInstance","cryptoAdjustAllowance","cryptoApproveAllowance","cryptoCreateAccount","cryptoDelete","cryptoTransfer","cryptoUpdateAccount","fileAppend","fileCreate","fileDelete","fileUpdate","systemDelete","systemUndelete","freeze","consensusCreateTopic","consensusUpdateTopic","consensusDeleteTopic","consensusSubmitMessage","tokenCreation","tokenFreeze","tokenUnfreeze","tokenGrantKyc","tokenRevokeKyc","tokenDeletion","tokenUpdate","tokenMint","tokenBurn","tokenWipe","tokenAssociate","tokenDissociate","tokenFeeScheduleUpdate","tokenPause","tokenUnpause","scheduleDelete"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.transactionFee&&Object.hasOwnProperty.call(t,"transactionFee")&&e.uint32(8).uint64(t.transactionFee),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(18).string(t.memo),null!=t.contractCall&&Object.hasOwnProperty.call(t,"contractCall")&&U.proto.ContractCallTransactionBody.encode(t.contractCall,e.uint32(26).fork()).ldelim(),null!=t.contractCreateInstance&&Object.hasOwnProperty.call(t,"contractCreateInstance")&&U.proto.ContractCreateTransactionBody.encode(t.contractCreateInstance,e.uint32(34).fork()).ldelim(),null!=t.contractUpdateInstance&&Object.hasOwnProperty.call(t,"contractUpdateInstance")&&U.proto.ContractUpdateTransactionBody.encode(t.contractUpdateInstance,e.uint32(42).fork()).ldelim(),null!=t.contractDeleteInstance&&Object.hasOwnProperty.call(t,"contractDeleteInstance")&&U.proto.ContractDeleteTransactionBody.encode(t.contractDeleteInstance,e.uint32(50).fork()).ldelim(),null!=t.cryptoCreateAccount&&Object.hasOwnProperty.call(t,"cryptoCreateAccount")&&U.proto.CryptoCreateTransactionBody.encode(t.cryptoCreateAccount,e.uint32(58).fork()).ldelim(),null!=t.cryptoDelete&&Object.hasOwnProperty.call(t,"cryptoDelete")&&U.proto.CryptoDeleteTransactionBody.encode(t.cryptoDelete,e.uint32(66).fork()).ldelim(),null!=t.cryptoTransfer&&Object.hasOwnProperty.call(t,"cryptoTransfer")&&U.proto.CryptoTransferTransactionBody.encode(t.cryptoTransfer,e.uint32(74).fork()).ldelim(),null!=t.cryptoUpdateAccount&&Object.hasOwnProperty.call(t,"cryptoUpdateAccount")&&U.proto.CryptoUpdateTransactionBody.encode(t.cryptoUpdateAccount,e.uint32(82).fork()).ldelim(),null!=t.fileAppend&&Object.hasOwnProperty.call(t,"fileAppend")&&U.proto.FileAppendTransactionBody.encode(t.fileAppend,e.uint32(90).fork()).ldelim(),null!=t.fileCreate&&Object.hasOwnProperty.call(t,"fileCreate")&&U.proto.FileCreateTransactionBody.encode(t.fileCreate,e.uint32(98).fork()).ldelim(),null!=t.fileDelete&&Object.hasOwnProperty.call(t,"fileDelete")&&U.proto.FileDeleteTransactionBody.encode(t.fileDelete,e.uint32(106).fork()).ldelim(),null!=t.fileUpdate&&Object.hasOwnProperty.call(t,"fileUpdate")&&U.proto.FileUpdateTransactionBody.encode(t.fileUpdate,e.uint32(114).fork()).ldelim(),null!=t.systemDelete&&Object.hasOwnProperty.call(t,"systemDelete")&&U.proto.SystemDeleteTransactionBody.encode(t.systemDelete,e.uint32(122).fork()).ldelim(),null!=t.systemUndelete&&Object.hasOwnProperty.call(t,"systemUndelete")&&U.proto.SystemUndeleteTransactionBody.encode(t.systemUndelete,e.uint32(130).fork()).ldelim(),null!=t.freeze&&Object.hasOwnProperty.call(t,"freeze")&&U.proto.FreezeTransactionBody.encode(t.freeze,e.uint32(138).fork()).ldelim(),null!=t.consensusCreateTopic&&Object.hasOwnProperty.call(t,"consensusCreateTopic")&&U.proto.ConsensusCreateTopicTransactionBody.encode(t.consensusCreateTopic,e.uint32(146).fork()).ldelim(),null!=t.consensusUpdateTopic&&Object.hasOwnProperty.call(t,"consensusUpdateTopic")&&U.proto.ConsensusUpdateTopicTransactionBody.encode(t.consensusUpdateTopic,e.uint32(154).fork()).ldelim(),null!=t.consensusDeleteTopic&&Object.hasOwnProperty.call(t,"consensusDeleteTopic")&&U.proto.ConsensusDeleteTopicTransactionBody.encode(t.consensusDeleteTopic,e.uint32(162).fork()).ldelim(),null!=t.consensusSubmitMessage&&Object.hasOwnProperty.call(t,"consensusSubmitMessage")&&U.proto.ConsensusSubmitMessageTransactionBody.encode(t.consensusSubmitMessage,e.uint32(170).fork()).ldelim(),null!=t.tokenCreation&&Object.hasOwnProperty.call(t,"tokenCreation")&&U.proto.TokenCreateTransactionBody.encode(t.tokenCreation,e.uint32(178).fork()).ldelim(),null!=t.tokenFreeze&&Object.hasOwnProperty.call(t,"tokenFreeze")&&U.proto.TokenFreezeAccountTransactionBody.encode(t.tokenFreeze,e.uint32(186).fork()).ldelim(),null!=t.tokenUnfreeze&&Object.hasOwnProperty.call(t,"tokenUnfreeze")&&U.proto.TokenUnfreezeAccountTransactionBody.encode(t.tokenUnfreeze,e.uint32(194).fork()).ldelim(),null!=t.tokenGrantKyc&&Object.hasOwnProperty.call(t,"tokenGrantKyc")&&U.proto.TokenGrantKycTransactionBody.encode(t.tokenGrantKyc,e.uint32(202).fork()).ldelim(),null!=t.tokenRevokeKyc&&Object.hasOwnProperty.call(t,"tokenRevokeKyc")&&U.proto.TokenRevokeKycTransactionBody.encode(t.tokenRevokeKyc,e.uint32(210).fork()).ldelim(),null!=t.tokenDeletion&&Object.hasOwnProperty.call(t,"tokenDeletion")&&U.proto.TokenDeleteTransactionBody.encode(t.tokenDeletion,e.uint32(218).fork()).ldelim(),null!=t.tokenUpdate&&Object.hasOwnProperty.call(t,"tokenUpdate")&&U.proto.TokenUpdateTransactionBody.encode(t.tokenUpdate,e.uint32(226).fork()).ldelim(),null!=t.tokenMint&&Object.hasOwnProperty.call(t,"tokenMint")&&U.proto.TokenMintTransactionBody.encode(t.tokenMint,e.uint32(234).fork()).ldelim(),null!=t.tokenBurn&&Object.hasOwnProperty.call(t,"tokenBurn")&&U.proto.TokenBurnTransactionBody.encode(t.tokenBurn,e.uint32(242).fork()).ldelim(),null!=t.tokenWipe&&Object.hasOwnProperty.call(t,"tokenWipe")&&U.proto.TokenWipeAccountTransactionBody.encode(t.tokenWipe,e.uint32(250).fork()).ldelim(),null!=t.tokenAssociate&&Object.hasOwnProperty.call(t,"tokenAssociate")&&U.proto.TokenAssociateTransactionBody.encode(t.tokenAssociate,e.uint32(258).fork()).ldelim(),null!=t.tokenDissociate&&Object.hasOwnProperty.call(t,"tokenDissociate")&&U.proto.TokenDissociateTransactionBody.encode(t.tokenDissociate,e.uint32(266).fork()).ldelim(),null!=t.scheduleDelete&&Object.hasOwnProperty.call(t,"scheduleDelete")&&U.proto.ScheduleDeleteTransactionBody.encode(t.scheduleDelete,e.uint32(274).fork()).ldelim(),null!=t.tokenPause&&Object.hasOwnProperty.call(t,"tokenPause")&&U.proto.TokenPauseTransactionBody.encode(t.tokenPause,e.uint32(282).fork()).ldelim(),null!=t.tokenUnpause&&Object.hasOwnProperty.call(t,"tokenUnpause")&&U.proto.TokenUnpauseTransactionBody.encode(t.tokenUnpause,e.uint32(290).fork()).ldelim(),null!=t.cryptoAdjustAllowance&&Object.hasOwnProperty.call(t,"cryptoAdjustAllowance")&&U.proto.CryptoAdjustAllowanceTransactionBody.encode(t.cryptoAdjustAllowance,e.uint32(298).fork()).ldelim(),null!=t.cryptoApproveAllowance&&Object.hasOwnProperty.call(t,"cryptoApproveAllowance")&&U.proto.CryptoApproveAllowanceTransactionBody.encode(t.cryptoApproveAllowance,e.uint32(306).fork()).ldelim(),null!=t.tokenFeeScheduleUpdate&&Object.hasOwnProperty.call(t,"tokenFeeScheduleUpdate")&&U.proto.TokenFeeScheduleUpdateTransactionBody.encode(t.tokenFeeScheduleUpdate,e.uint32(314).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.SchedulableTransactionBody;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.transactionFee=t.uint64();break;case 2:F.memo=t.string();break;case 3:F.contractCall=U.proto.ContractCallTransactionBody.decode(t,t.uint32());break;case 4:F.contractCreateInstance=U.proto.ContractCreateTransactionBody.decode(t,t.uint32());break;case 5:F.contractUpdateInstance=U.proto.ContractUpdateTransactionBody.decode(t,t.uint32());break;case 6:F.contractDeleteInstance=U.proto.ContractDeleteTransactionBody.decode(t,t.uint32());break;case 37:F.cryptoAdjustAllowance=U.proto.CryptoAdjustAllowanceTransactionBody.decode(t,t.uint32());break;case 38:F.cryptoApproveAllowance=U.proto.CryptoApproveAllowanceTransactionBody.decode(t,t.uint32());break;case 7:F.cryptoCreateAccount=U.proto.CryptoCreateTransactionBody.decode(t,t.uint32());break;case 8:F.cryptoDelete=U.proto.CryptoDeleteTransactionBody.decode(t,t.uint32());break;case 9:F.cryptoTransfer=U.proto.CryptoTransferTransactionBody.decode(t,t.uint32());break;case 10:F.cryptoUpdateAccount=U.proto.CryptoUpdateTransactionBody.decode(t,t.uint32());break;case 11:F.fileAppend=U.proto.FileAppendTransactionBody.decode(t,t.uint32());break;case 12:F.fileCreate=U.proto.FileCreateTransactionBody.decode(t,t.uint32());break;case 13:F.fileDelete=U.proto.FileDeleteTransactionBody.decode(t,t.uint32());break;case 14:F.fileUpdate=U.proto.FileUpdateTransactionBody.decode(t,t.uint32());break;case 15:F.systemDelete=U.proto.SystemDeleteTransactionBody.decode(t,t.uint32());break;case 16:F.systemUndelete=U.proto.SystemUndeleteTransactionBody.decode(t,t.uint32());break;case 17:F.freeze=U.proto.FreezeTransactionBody.decode(t,t.uint32());break;case 18:F.consensusCreateTopic=U.proto.ConsensusCreateTopicTransactionBody.decode(t,t.uint32());break;case 19:F.consensusUpdateTopic=U.proto.ConsensusUpdateTopicTransactionBody.decode(t,t.uint32());break;case 20:F.consensusDeleteTopic=U.proto.ConsensusDeleteTopicTransactionBody.decode(t,t.uint32());break;case 21:F.consensusSubmitMessage=U.proto.ConsensusSubmitMessageTransactionBody.decode(t,t.uint32());break;case 22:F.tokenCreation=U.proto.TokenCreateTransactionBody.decode(t,t.uint32());break;case 23:F.tokenFreeze=U.proto.TokenFreezeAccountTransactionBody.decode(t,t.uint32());break;case 24:F.tokenUnfreeze=U.proto.TokenUnfreezeAccountTransactionBody.decode(t,t.uint32());break;case 25:F.tokenGrantKyc=U.proto.TokenGrantKycTransactionBody.decode(t,t.uint32());break;case 26:F.tokenRevokeKyc=U.proto.TokenRevokeKycTransactionBody.decode(t,t.uint32());break;case 27:F.tokenDeletion=U.proto.TokenDeleteTransactionBody.decode(t,t.uint32());break;case 28:F.tokenUpdate=U.proto.TokenUpdateTransactionBody.decode(t,t.uint32());break;case 29:F.tokenMint=U.proto.TokenMintTransactionBody.decode(t,t.uint32());break;case 30:F.tokenBurn=U.proto.TokenBurnTransactionBody.decode(t,t.uint32());break;case 31:F.tokenWipe=U.proto.TokenWipeAccountTransactionBody.decode(t,t.uint32());break;case 32:F.tokenAssociate=U.proto.TokenAssociateTransactionBody.decode(t,t.uint32());break;case 33:F.tokenDissociate=U.proto.TokenDissociateTransactionBody.decode(t,t.uint32());break;case 39:F.tokenFeeScheduleUpdate=U.proto.TokenFeeScheduleUpdateTransactionBody.decode(t,t.uint32());break;case 35:F.tokenPause=U.proto.TokenPauseTransactionBody.decode(t,t.uint32());break;case 36:F.tokenUnpause=U.proto.TokenUnpauseTransactionBody.decode(t,t.uint32());break;case 34:F.scheduleDelete=U.proto.ScheduleDeleteTransactionBody.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ScheduleDeleteTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.scheduleID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.scheduleID&&Object.hasOwnProperty.call(t,"scheduleID")&&U.proto.ScheduleID.encode(t.scheduleID,e.uint32(10).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ScheduleDeleteTransactionBody;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.scheduleID=U.proto.ScheduleID.decode(t,t.uint32());else t.skipType(7&Q);return F},t}(),ScheduleSignTransactionBody:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.scheduleID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.scheduleID&&Object.hasOwnProperty.call(t,"scheduleID")&&U.proto.ScheduleID.encode(t.scheduleID,e.uint32(10).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ScheduleSignTransactionBody;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.scheduleID=U.proto.ScheduleID.decode(t,t.uint32());else t.skipType(7&Q);return F},t}(),ResponseHeader:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.nodeTransactionPrecheckCode=0,t.prototype.responseType=0,t.prototype.cost=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.stateProof=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.nodeTransactionPrecheckCode&&Object.hasOwnProperty.call(t,"nodeTransactionPrecheckCode")&&e.uint32(8).int32(t.nodeTransactionPrecheckCode),null!=t.responseType&&Object.hasOwnProperty.call(t,"responseType")&&e.uint32(16).int32(t.responseType),null!=t.cost&&Object.hasOwnProperty.call(t,"cost")&&e.uint32(24).uint64(t.cost),null!=t.stateProof&&Object.hasOwnProperty.call(t,"stateProof")&&e.uint32(34).bytes(t.stateProof),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ResponseHeader;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.nodeTransactionPrecheckCode=t.int32();break;case 2:F.responseType=t.int32();break;case 3:F.cost=t.uint64();break;case 4:F.stateProof=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),TransactionResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.nodeTransactionPrecheckCode=0,t.prototype.cost=F.Long?F.Long.fromBits(0,0,!0):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.nodeTransactionPrecheckCode&&Object.hasOwnProperty.call(t,"nodeTransactionPrecheckCode")&&e.uint32(8).int32(t.nodeTransactionPrecheckCode),null!=t.cost&&Object.hasOwnProperty.call(t,"cost")&&e.uint32(16).uint64(t.cost),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransactionResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.nodeTransactionPrecheckCode=t.int32();break;case 2:F.cost=t.uint64();break;default:t.skipType(7&Q)}return F},t}(),ResponseCodeEnum:function(){const t={},e=Object.create(t);return e[t[0]="OK"]=0,e[t[1]="INVALID_TRANSACTION"]=1,e[t[2]="PAYER_ACCOUNT_NOT_FOUND"]=2,e[t[3]="INVALID_NODE_ACCOUNT"]=3,e[t[4]="TRANSACTION_EXPIRED"]=4,e[t[5]="INVALID_TRANSACTION_START"]=5,e[t[6]="INVALID_TRANSACTION_DURATION"]=6,e[t[7]="INVALID_SIGNATURE"]=7,e[t[8]="MEMO_TOO_LONG"]=8,e[t[9]="INSUFFICIENT_TX_FEE"]=9,e[t[10]="INSUFFICIENT_PAYER_BALANCE"]=10,e[t[11]="DUPLICATE_TRANSACTION"]=11,e[t[12]="BUSY"]=12,e[t[13]="NOT_SUPPORTED"]=13,e[t[14]="INVALID_FILE_ID"]=14,e[t[15]="INVALID_ACCOUNT_ID"]=15,e[t[16]="INVALID_CONTRACT_ID"]=16,e[t[17]="INVALID_TRANSACTION_ID"]=17,e[t[18]="RECEIPT_NOT_FOUND"]=18,e[t[19]="RECORD_NOT_FOUND"]=19,e[t[20]="INVALID_SOLIDITY_ID"]=20,e[t[21]="UNKNOWN"]=21,e[t[22]="SUCCESS"]=22,e[t[23]="FAIL_INVALID"]=23,e[t[24]="FAIL_FEE"]=24,e[t[25]="FAIL_BALANCE"]=25,e[t[26]="KEY_REQUIRED"]=26,e[t[27]="BAD_ENCODING"]=27,e[t[28]="INSUFFICIENT_ACCOUNT_BALANCE"]=28,e[t[29]="INVALID_SOLIDITY_ADDRESS"]=29,e[t[30]="INSUFFICIENT_GAS"]=30,e[t[31]="CONTRACT_SIZE_LIMIT_EXCEEDED"]=31,e[t[32]="LOCAL_CALL_MODIFICATION_EXCEPTION"]=32,e[t[33]="CONTRACT_REVERT_EXECUTED"]=33,e[t[34]="CONTRACT_EXECUTION_EXCEPTION"]=34,e[t[35]="INVALID_RECEIVING_NODE_ACCOUNT"]=35,e[t[36]="MISSING_QUERY_HEADER"]=36,e[t[37]="ACCOUNT_UPDATE_FAILED"]=37,e[t[38]="INVALID_KEY_ENCODING"]=38,e[t[39]="NULL_SOLIDITY_ADDRESS"]=39,e[t[40]="CONTRACT_UPDATE_FAILED"]=40,e[t[41]="INVALID_QUERY_HEADER"]=41,e[t[42]="INVALID_FEE_SUBMITTED"]=42,e[t[43]="INVALID_PAYER_SIGNATURE"]=43,e[t[44]="KEY_NOT_PROVIDED"]=44,e[t[45]="INVALID_EXPIRATION_TIME"]=45,e[t[46]="NO_WACL_KEY"]=46,e[t[47]="FILE_CONTENT_EMPTY"]=47,e[t[48]="INVALID_ACCOUNT_AMOUNTS"]=48,e[t[49]="EMPTY_TRANSACTION_BODY"]=49,e[t[50]="INVALID_TRANSACTION_BODY"]=50,e[t[51]="INVALID_SIGNATURE_TYPE_MISMATCHING_KEY"]=51,e[t[52]="INVALID_SIGNATURE_COUNT_MISMATCHING_KEY"]=52,e[t[53]="EMPTY_LIVE_HASH_BODY"]=53,e[t[54]="EMPTY_LIVE_HASH"]=54,e[t[55]="EMPTY_LIVE_HASH_KEYS"]=55,e[t[56]="INVALID_LIVE_HASH_SIZE"]=56,e[t[57]="EMPTY_QUERY_BODY"]=57,e[t[58]="EMPTY_LIVE_HASH_QUERY"]=58,e[t[59]="LIVE_HASH_NOT_FOUND"]=59,e[t[60]="ACCOUNT_ID_DOES_NOT_EXIST"]=60,e[t[61]="LIVE_HASH_ALREADY_EXISTS"]=61,e[t[62]="INVALID_FILE_WACL"]=62,e[t[63]="SERIALIZATION_FAILED"]=63,e[t[64]="TRANSACTION_OVERSIZE"]=64,e[t[65]="TRANSACTION_TOO_MANY_LAYERS"]=65,e[t[66]="CONTRACT_DELETED"]=66,e[t[67]="PLATFORM_NOT_ACTIVE"]=67,e[t[68]="KEY_PREFIX_MISMATCH"]=68,e[t[69]="PLATFORM_TRANSACTION_NOT_CREATED"]=69,e[t[70]="INVALID_RENEWAL_PERIOD"]=70,e[t[71]="INVALID_PAYER_ACCOUNT_ID"]=71,e[t[72]="ACCOUNT_DELETED"]=72,e[t[73]="FILE_DELETED"]=73,e[t[74]="ACCOUNT_REPEATED_IN_ACCOUNT_AMOUNTS"]=74,e[t[75]="SETTING_NEGATIVE_ACCOUNT_BALANCE"]=75,e[t[76]="OBTAINER_REQUIRED"]=76,e[t[77]="OBTAINER_SAME_CONTRACT_ID"]=77,e[t[78]="OBTAINER_DOES_NOT_EXIST"]=78,e[t[79]="MODIFYING_IMMUTABLE_CONTRACT"]=79,e[t[80]="FILE_SYSTEM_EXCEPTION"]=80,e[t[81]="AUTORENEW_DURATION_NOT_IN_RANGE"]=81,e[t[82]="ERROR_DECODING_BYTESTRING"]=82,e[t[83]="CONTRACT_FILE_EMPTY"]=83,e[t[84]="CONTRACT_BYTECODE_EMPTY"]=84,e[t[85]="INVALID_INITIAL_BALANCE"]=85,e[t[86]="INVALID_RECEIVE_RECORD_THRESHOLD"]=86,e[t[87]="INVALID_SEND_RECORD_THRESHOLD"]=87,e[t[88]="ACCOUNT_IS_NOT_GENESIS_ACCOUNT"]=88,e[t[89]="PAYER_ACCOUNT_UNAUTHORIZED"]=89,e[t[90]="INVALID_FREEZE_TRANSACTION_BODY"]=90,e[t[91]="FREEZE_TRANSACTION_BODY_NOT_FOUND"]=91,e[t[92]="TRANSFER_LIST_SIZE_LIMIT_EXCEEDED"]=92,e[t[93]="RESULT_SIZE_LIMIT_EXCEEDED"]=93,e[t[94]="NOT_SPECIAL_ACCOUNT"]=94,e[t[95]="CONTRACT_NEGATIVE_GAS"]=95,e[t[96]="CONTRACT_NEGATIVE_VALUE"]=96,e[t[97]="INVALID_FEE_FILE"]=97,e[t[98]="INVALID_EXCHANGE_RATE_FILE"]=98,e[t[99]="INSUFFICIENT_LOCAL_CALL_GAS"]=99,e[t[100]="ENTITY_NOT_ALLOWED_TO_DELETE"]=100,e[t[101]="AUTHORIZATION_FAILED"]=101,e[t[102]="FILE_UPLOADED_PROTO_INVALID"]=102,e[t[103]="FILE_UPLOADED_PROTO_NOT_SAVED_TO_DISK"]=103,e[t[104]="FEE_SCHEDULE_FILE_PART_UPLOADED"]=104,e[t[105]="EXCHANGE_RATE_CHANGE_LIMIT_EXCEEDED"]=105,e[t[106]="MAX_CONTRACT_STORAGE_EXCEEDED"]=106,e[t[107]="TRANSFER_ACCOUNT_SAME_AS_DELETE_ACCOUNT"]=107,e[t[108]="TOTAL_LEDGER_BALANCE_INVALID"]=108,e[t[110]="EXPIRATION_REDUCTION_NOT_ALLOWED"]=110,e[t[111]="MAX_GAS_LIMIT_EXCEEDED"]=111,e[t[112]="MAX_FILE_SIZE_EXCEEDED"]=112,e[t[113]="RECEIVER_SIG_REQUIRED"]=113,e[t[150]="INVALID_TOPIC_ID"]=150,e[t[155]="INVALID_ADMIN_KEY"]=155,e[t[156]="INVALID_SUBMIT_KEY"]=156,e[t[157]="UNAUTHORIZED"]=157,e[t[158]="INVALID_TOPIC_MESSAGE"]=158,e[t[159]="INVALID_AUTORENEW_ACCOUNT"]=159,e[t[160]="AUTORENEW_ACCOUNT_NOT_ALLOWED"]=160,e[t[162]="TOPIC_EXPIRED"]=162,e[t[163]="INVALID_CHUNK_NUMBER"]=163,e[t[164]="INVALID_CHUNK_TRANSACTION_ID"]=164,e[t[165]="ACCOUNT_FROZEN_FOR_TOKEN"]=165,e[t[166]="TOKENS_PER_ACCOUNT_LIMIT_EXCEEDED"]=166,e[t[167]="INVALID_TOKEN_ID"]=167,e[t[168]="INVALID_TOKEN_DECIMALS"]=168,e[t[169]="INVALID_TOKEN_INITIAL_SUPPLY"]=169,e[t[170]="INVALID_TREASURY_ACCOUNT_FOR_TOKEN"]=170,e[t[171]="INVALID_TOKEN_SYMBOL"]=171,e[t[172]="TOKEN_HAS_NO_FREEZE_KEY"]=172,e[t[173]="TRANSFERS_NOT_ZERO_SUM_FOR_TOKEN"]=173,e[t[174]="MISSING_TOKEN_SYMBOL"]=174,e[t[175]="TOKEN_SYMBOL_TOO_LONG"]=175,e[t[176]="ACCOUNT_KYC_NOT_GRANTED_FOR_TOKEN"]=176,e[t[177]="TOKEN_HAS_NO_KYC_KEY"]=177,e[t[178]="INSUFFICIENT_TOKEN_BALANCE"]=178,e[t[179]="TOKEN_WAS_DELETED"]=179,e[t[180]="TOKEN_HAS_NO_SUPPLY_KEY"]=180,e[t[181]="TOKEN_HAS_NO_WIPE_KEY"]=181,e[t[182]="INVALID_TOKEN_MINT_AMOUNT"]=182,e[t[183]="INVALID_TOKEN_BURN_AMOUNT"]=183,e[t[184]="TOKEN_NOT_ASSOCIATED_TO_ACCOUNT"]=184,e[t[185]="CANNOT_WIPE_TOKEN_TREASURY_ACCOUNT"]=185,e[t[186]="INVALID_KYC_KEY"]=186,e[t[187]="INVALID_WIPE_KEY"]=187,e[t[188]="INVALID_FREEZE_KEY"]=188,e[t[189]="INVALID_SUPPLY_KEY"]=189,e[t[190]="MISSING_TOKEN_NAME"]=190,e[t[191]="TOKEN_NAME_TOO_LONG"]=191,e[t[192]="INVALID_WIPING_AMOUNT"]=192,e[t[193]="TOKEN_IS_IMMUTABLE"]=193,e[t[194]="TOKEN_ALREADY_ASSOCIATED_TO_ACCOUNT"]=194,e[t[195]="TRANSACTION_REQUIRES_ZERO_TOKEN_BALANCES"]=195,e[t[196]="ACCOUNT_IS_TREASURY"]=196,e[t[197]="TOKEN_ID_REPEATED_IN_TOKEN_LIST"]=197,e[t[198]="TOKEN_TRANSFER_LIST_SIZE_LIMIT_EXCEEDED"]=198,e[t[199]="EMPTY_TOKEN_TRANSFER_BODY"]=199,e[t[200]="EMPTY_TOKEN_TRANSFER_ACCOUNT_AMOUNTS"]=200,e[t[201]="INVALID_SCHEDULE_ID"]=201,e[t[202]="SCHEDULE_IS_IMMUTABLE"]=202,e[t[203]="INVALID_SCHEDULE_PAYER_ID"]=203,e[t[204]="INVALID_SCHEDULE_ACCOUNT_ID"]=204,e[t[205]="NO_NEW_VALID_SIGNATURES"]=205,e[t[206]="UNRESOLVABLE_REQUIRED_SIGNERS"]=206,e[t[207]="SCHEDULED_TRANSACTION_NOT_IN_WHITELIST"]=207,e[t[208]="SOME_SIGNATURES_WERE_INVALID"]=208,e[t[209]="TRANSACTION_ID_FIELD_NOT_ALLOWED"]=209,e[t[210]="IDENTICAL_SCHEDULE_ALREADY_CREATED"]=210,e[t[211]="INVALID_ZERO_BYTE_IN_STRING"]=211,e[t[212]="SCHEDULE_ALREADY_DELETED"]=212,e[t[213]="SCHEDULE_ALREADY_EXECUTED"]=213,e[t[214]="MESSAGE_SIZE_TOO_LARGE"]=214,e[t[215]="OPERATION_REPEATED_IN_BUCKET_GROUPS"]=215,e[t[216]="BUCKET_CAPACITY_OVERFLOW"]=216,e[t[217]="NODE_CAPACITY_NOT_SUFFICIENT_FOR_OPERATION"]=217,e[t[218]="BUCKET_HAS_NO_THROTTLE_GROUPS"]=218,e[t[219]="THROTTLE_GROUP_HAS_ZERO_OPS_PER_SEC"]=219,e[t[220]="SUCCESS_BUT_MISSING_EXPECTED_OPERATION"]=220,e[t[221]="UNPARSEABLE_THROTTLE_DEFINITIONS"]=221,e[t[222]="INVALID_THROTTLE_DEFINITIONS"]=222,e[t[223]="ACCOUNT_EXPIRED_AND_PENDING_REMOVAL"]=223,e[t[224]="INVALID_TOKEN_MAX_SUPPLY"]=224,e[t[225]="INVALID_TOKEN_NFT_SERIAL_NUMBER"]=225,e[t[226]="INVALID_NFT_ID"]=226,e[t[227]="METADATA_TOO_LONG"]=227,e[t[228]="BATCH_SIZE_LIMIT_EXCEEDED"]=228,e[t[229]="INVALID_QUERY_RANGE"]=229,e[t[230]="FRACTION_DIVIDES_BY_ZERO"]=230,e[t[231]="INSUFFICIENT_PAYER_BALANCE_FOR_CUSTOM_FEE"]=231,e[t[232]="CUSTOM_FEES_LIST_TOO_LONG"]=232,e[t[233]="INVALID_CUSTOM_FEE_COLLECTOR"]=233,e[t[234]="INVALID_TOKEN_ID_IN_CUSTOM_FEES"]=234,e[t[235]="TOKEN_NOT_ASSOCIATED_TO_FEE_COLLECTOR"]=235,e[t[236]="TOKEN_MAX_SUPPLY_REACHED"]=236,e[t[237]="SENDER_DOES_NOT_OWN_NFT_SERIAL_NO"]=237,e[t[238]="CUSTOM_FEE_NOT_FULLY_SPECIFIED"]=238,e[t[239]="CUSTOM_FEE_MUST_BE_POSITIVE"]=239,e[t[240]="TOKEN_HAS_NO_FEE_SCHEDULE_KEY"]=240,e[t[241]="CUSTOM_FEE_OUTSIDE_NUMERIC_RANGE"]=241,e[t[242]="ROYALTY_FRACTION_CANNOT_EXCEED_ONE"]=242,e[t[243]="FRACTIONAL_FEE_MAX_AMOUNT_LESS_THAN_MIN_AMOUNT"]=243,e[t[244]="CUSTOM_SCHEDULE_ALREADY_HAS_NO_FEES"]=244,e[t[245]="CUSTOM_FEE_DENOMINATION_MUST_BE_FUNGIBLE_COMMON"]=245,e[t[246]="CUSTOM_FRACTIONAL_FEE_ONLY_ALLOWED_FOR_FUNGIBLE_COMMON"]=246,e[t[247]="INVALID_CUSTOM_FEE_SCHEDULE_KEY"]=247,e[t[248]="INVALID_TOKEN_MINT_METADATA"]=248,e[t[249]="INVALID_TOKEN_BURN_METADATA"]=249,e[t[250]="CURRENT_TREASURY_STILL_OWNS_NFTS"]=250,e[t[251]="ACCOUNT_STILL_OWNS_NFTS"]=251,e[t[252]="TREASURY_MUST_OWN_BURNED_NFT"]=252,e[t[253]="ACCOUNT_DOES_NOT_OWN_WIPED_NFT"]=253,e[t[254]="ACCOUNT_AMOUNT_TRANSFERS_ONLY_ALLOWED_FOR_FUNGIBLE_COMMON"]=254,e[t[255]="MAX_NFTS_IN_PRICE_REGIME_HAVE_BEEN_MINTED"]=255,e[t[256]="PAYER_ACCOUNT_DELETED"]=256,e[t[257]="CUSTOM_FEE_CHARGING_EXCEEDED_MAX_RECURSION_DEPTH"]=257,e[t[258]="CUSTOM_FEE_CHARGING_EXCEEDED_MAX_ACCOUNT_AMOUNTS"]=258,e[t[259]="INSUFFICIENT_SENDER_ACCOUNT_BALANCE_FOR_CUSTOM_FEE"]=259,e[t[260]="SERIAL_NUMBER_LIMIT_REACHED"]=260,e[t[261]="CUSTOM_ROYALTY_FEE_ONLY_ALLOWED_FOR_NON_FUNGIBLE_UNIQUE"]=261,e[t[262]="NO_REMAINING_AUTOMATIC_ASSOCIATIONS"]=262,e[t[263]="EXISTING_AUTOMATIC_ASSOCIATIONS_EXCEED_GIVEN_LIMIT"]=263,e[t[264]="REQUESTED_NUM_AUTOMATIC_ASSOCIATIONS_EXCEEDS_ASSOCIATION_LIMIT"]=264,e[t[265]="TOKEN_IS_PAUSED"]=265,e[t[266]="TOKEN_HAS_NO_PAUSE_KEY"]=266,e[t[267]="INVALID_PAUSE_KEY"]=267,e[t[268]="FREEZE_UPDATE_FILE_DOES_NOT_EXIST"]=268,e[t[269]="FREEZE_UPDATE_FILE_HASH_DOES_NOT_MATCH"]=269,e[t[270]="NO_UPGRADE_HAS_BEEN_PREPARED"]=270,e[t[271]="NO_FREEZE_IS_SCHEDULED"]=271,e[t[272]="UPDATE_FILE_HASH_CHANGED_SINCE_PREPARE_UPGRADE"]=272,e[t[273]="FREEZE_START_TIME_MUST_BE_FUTURE"]=273,e[t[274]="PREPARED_UPDATE_FILE_IS_IMMUTABLE"]=274,e[t[275]="FREEZE_ALREADY_SCHEDULED"]=275,e[t[276]="FREEZE_UPGRADE_IN_PROGRESS"]=276,e[t[277]="UPDATE_FILE_ID_DOES_NOT_MATCH_PREPARED"]=277,e[t[278]="UPDATE_FILE_HASH_DOES_NOT_MATCH_PREPARED"]=278,e[t[279]="CONSENSUS_GAS_EXHAUSTED"]=279,e[t[280]="REVERTED_SUCCESS"]=280,e[t[281]="MAX_STORAGE_IN_PRICE_REGIME_HAS_BEEN_USED"]=281,e[t[282]="INVALID_ALIAS_KEY"]=282,e[t[283]="UNEXPECTED_TOKEN_DECIMALS"]=283,e[t[284]="INVALID_PROXY_ACCOUNT_ID"]=284,e[t[285]="INVALID_TRANSFER_ACCOUNT_ID"]=285,e[t[286]="INVALID_FEE_COLLECTOR_ACCOUNT_ID"]=286,e[t[287]="ALIAS_IS_IMMUTABLE"]=287,e[t[288]="SPENDER_ACCOUNT_SAME_AS_OWNER"]=288,e[t[289]="AMOUNT_EXCEEDS_TOKEN_MAX_SUPPLY"]=289,e[t[290]="NEGATIVE_ALLOWANCE_AMOUNT"]=290,e[t[291]="CANNOT_APPROVE_FOR_ALL_FUNGIBLE_COMMON"]=291,e[t[292]="SPENDER_DOES_NOT_HAVE_ALLOWANCE"]=292,e[t[293]="AMOUNT_EXCEEDS_ALLOWANCE"]=293,e[t[294]="MAX_ALLOWANCES_EXCEEDED"]=294,e[t[295]="EMPTY_ALLOWANCES"]=295,e[t[296]="SPENDER_ACCOUNT_REPEATED_IN_ALLOWANCES"]=296,e[t[297]="REPEATED_SERIAL_NUMS_IN_NFT_ALLOWANCES"]=297,e[t[298]="FUNGIBLE_TOKEN_IN_NFT_ALLOWANCES"]=298,e[t[299]="NFT_IN_FUNGIBLE_TOKEN_ALLOWANCES"]=299,e[t[300]="INVALID_ALLOWANCE_OWNER_ID"]=300,e[t[301]="INVALID_ALLOWANCE_SPENDER_ID"]=301,e}(),ConsensusTopicInfo:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.memo="",t.prototype.runningHash=F.newBuffer([]),t.prototype.sequenceNumber=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.expirationTime=null,t.prototype.adminKey=null,t.prototype.submitKey=null,t.prototype.autoRenewPeriod=null,t.prototype.autoRenewAccount=null,t.prototype.ledgerId=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(10).string(t.memo),null!=t.runningHash&&Object.hasOwnProperty.call(t,"runningHash")&&e.uint32(18).bytes(t.runningHash),null!=t.sequenceNumber&&Object.hasOwnProperty.call(t,"sequenceNumber")&&e.uint32(24).uint64(t.sequenceNumber),null!=t.expirationTime&&Object.hasOwnProperty.call(t,"expirationTime")&&U.proto.Timestamp.encode(t.expirationTime,e.uint32(34).fork()).ldelim(),null!=t.adminKey&&Object.hasOwnProperty.call(t,"adminKey")&&U.proto.Key.encode(t.adminKey,e.uint32(42).fork()).ldelim(),null!=t.submitKey&&Object.hasOwnProperty.call(t,"submitKey")&&U.proto.Key.encode(t.submitKey,e.uint32(50).fork()).ldelim(),null!=t.autoRenewPeriod&&Object.hasOwnProperty.call(t,"autoRenewPeriod")&&U.proto.Duration.encode(t.autoRenewPeriod,e.uint32(58).fork()).ldelim(),null!=t.autoRenewAccount&&Object.hasOwnProperty.call(t,"autoRenewAccount")&&U.proto.AccountID.encode(t.autoRenewAccount,e.uint32(66).fork()).ldelim(),null!=t.ledgerId&&Object.hasOwnProperty.call(t,"ledgerId")&&e.uint32(74).bytes(t.ledgerId),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ConsensusTopicInfo;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.memo=t.string();break;case 2:F.runningHash=t.bytes();break;case 3:F.sequenceNumber=t.uint64();break;case 4:F.expirationTime=U.proto.Timestamp.decode(t,t.uint32());break;case 5:F.adminKey=U.proto.Key.decode(t,t.uint32());break;case 6:F.submitKey=U.proto.Key.decode(t,t.uint32());break;case 7:F.autoRenewPeriod=U.proto.Duration.decode(t,t.uint32());break;case 8:F.autoRenewAccount=U.proto.AccountID.decode(t,t.uint32());break;case 9:F.ledgerId=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),ConsensusService:function(){function t(t,Q,B){e.rpc.Service.call(this,t,Q,B)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,t.create=function(t,e,Q){return new this(t,e,Q)},Object.defineProperty(t.prototype.createTopic=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"createTopic"}),Object.defineProperty(t.prototype.updateTopic=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"updateTopic"}),Object.defineProperty(t.prototype.deleteTopic=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"deleteTopic"}),Object.defineProperty(t.prototype.getTopicInfo=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getTopicInfo"}),Object.defineProperty(t.prototype.submitMessage=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"submitMessage"}),t}(),Query:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.getByKey=null,t.prototype.getBySolidityID=null,t.prototype.contractCallLocal=null,t.prototype.contractGetInfo=null,t.prototype.contractGetBytecode=null,t.prototype.ContractGetRecords=null,t.prototype.cryptogetAccountBalance=null,t.prototype.cryptoGetAccountRecords=null,t.prototype.cryptoGetInfo=null,t.prototype.cryptoGetLiveHash=null,t.prototype.cryptoGetProxyStakers=null,t.prototype.fileGetContents=null,t.prototype.fileGetInfo=null,t.prototype.transactionGetReceipt=null,t.prototype.transactionGetRecord=null,t.prototype.transactionGetFastRecord=null,t.prototype.consensusGetTopicInfo=null,t.prototype.networkGetVersionInfo=null,t.prototype.tokenGetInfo=null,t.prototype.scheduleGetInfo=null,t.prototype.tokenGetAccountNftInfos=null,t.prototype.tokenGetNftInfo=null,t.prototype.tokenGetNftInfos=null,t.prototype.networkGetExecutionTime=null,Object.defineProperty(t.prototype,"query",{get:F.oneOfGetter(e=["getByKey","getBySolidityID","contractCallLocal","contractGetInfo","contractGetBytecode","ContractGetRecords","cryptogetAccountBalance","cryptoGetAccountRecords","cryptoGetInfo","cryptoGetLiveHash","cryptoGetProxyStakers","fileGetContents","fileGetInfo","transactionGetReceipt","transactionGetRecord","transactionGetFastRecord","consensusGetTopicInfo","networkGetVersionInfo","tokenGetInfo","scheduleGetInfo","tokenGetAccountNftInfos","tokenGetNftInfo","tokenGetNftInfos","networkGetExecutionTime"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.getByKey&&Object.hasOwnProperty.call(t,"getByKey")&&U.proto.GetByKeyQuery.encode(t.getByKey,e.uint32(10).fork()).ldelim(),null!=t.getBySolidityID&&Object.hasOwnProperty.call(t,"getBySolidityID")&&U.proto.GetBySolidityIDQuery.encode(t.getBySolidityID,e.uint32(18).fork()).ldelim(),null!=t.contractCallLocal&&Object.hasOwnProperty.call(t,"contractCallLocal")&&U.proto.ContractCallLocalQuery.encode(t.contractCallLocal,e.uint32(26).fork()).ldelim(),null!=t.contractGetInfo&&Object.hasOwnProperty.call(t,"contractGetInfo")&&U.proto.ContractGetInfoQuery.encode(t.contractGetInfo,e.uint32(34).fork()).ldelim(),null!=t.contractGetBytecode&&Object.hasOwnProperty.call(t,"contractGetBytecode")&&U.proto.ContractGetBytecodeQuery.encode(t.contractGetBytecode,e.uint32(42).fork()).ldelim(),null!=t.ContractGetRecords&&Object.hasOwnProperty.call(t,"ContractGetRecords")&&U.proto.ContractGetRecordsQuery.encode(t.ContractGetRecords,e.uint32(50).fork()).ldelim(),null!=t.cryptogetAccountBalance&&Object.hasOwnProperty.call(t,"cryptogetAccountBalance")&&U.proto.CryptoGetAccountBalanceQuery.encode(t.cryptogetAccountBalance,e.uint32(58).fork()).ldelim(),null!=t.cryptoGetAccountRecords&&Object.hasOwnProperty.call(t,"cryptoGetAccountRecords")&&U.proto.CryptoGetAccountRecordsQuery.encode(t.cryptoGetAccountRecords,e.uint32(66).fork()).ldelim(),null!=t.cryptoGetInfo&&Object.hasOwnProperty.call(t,"cryptoGetInfo")&&U.proto.CryptoGetInfoQuery.encode(t.cryptoGetInfo,e.uint32(74).fork()).ldelim(),null!=t.cryptoGetLiveHash&&Object.hasOwnProperty.call(t,"cryptoGetLiveHash")&&U.proto.CryptoGetLiveHashQuery.encode(t.cryptoGetLiveHash,e.uint32(82).fork()).ldelim(),null!=t.cryptoGetProxyStakers&&Object.hasOwnProperty.call(t,"cryptoGetProxyStakers")&&U.proto.CryptoGetStakersQuery.encode(t.cryptoGetProxyStakers,e.uint32(90).fork()).ldelim(),null!=t.fileGetContents&&Object.hasOwnProperty.call(t,"fileGetContents")&&U.proto.FileGetContentsQuery.encode(t.fileGetContents,e.uint32(98).fork()).ldelim(),null!=t.fileGetInfo&&Object.hasOwnProperty.call(t,"fileGetInfo")&&U.proto.FileGetInfoQuery.encode(t.fileGetInfo,e.uint32(106).fork()).ldelim(),null!=t.transactionGetReceipt&&Object.hasOwnProperty.call(t,"transactionGetReceipt")&&U.proto.TransactionGetReceiptQuery.encode(t.transactionGetReceipt,e.uint32(114).fork()).ldelim(),null!=t.transactionGetRecord&&Object.hasOwnProperty.call(t,"transactionGetRecord")&&U.proto.TransactionGetRecordQuery.encode(t.transactionGetRecord,e.uint32(122).fork()).ldelim(),null!=t.transactionGetFastRecord&&Object.hasOwnProperty.call(t,"transactionGetFastRecord")&&U.proto.TransactionGetFastRecordQuery.encode(t.transactionGetFastRecord,e.uint32(130).fork()).ldelim(),null!=t.consensusGetTopicInfo&&Object.hasOwnProperty.call(t,"consensusGetTopicInfo")&&U.proto.ConsensusGetTopicInfoQuery.encode(t.consensusGetTopicInfo,e.uint32(402).fork()).ldelim(),null!=t.networkGetVersionInfo&&Object.hasOwnProperty.call(t,"networkGetVersionInfo")&&U.proto.NetworkGetVersionInfoQuery.encode(t.networkGetVersionInfo,e.uint32(410).fork()).ldelim(),null!=t.tokenGetInfo&&Object.hasOwnProperty.call(t,"tokenGetInfo")&&U.proto.TokenGetInfoQuery.encode(t.tokenGetInfo,e.uint32(418).fork()).ldelim(),null!=t.scheduleGetInfo&&Object.hasOwnProperty.call(t,"scheduleGetInfo")&&U.proto.ScheduleGetInfoQuery.encode(t.scheduleGetInfo,e.uint32(426).fork()).ldelim(),null!=t.tokenGetAccountNftInfos&&Object.hasOwnProperty.call(t,"tokenGetAccountNftInfos")&&U.proto.TokenGetAccountNftInfosQuery.encode(t.tokenGetAccountNftInfos,e.uint32(434).fork()).ldelim(),null!=t.tokenGetNftInfo&&Object.hasOwnProperty.call(t,"tokenGetNftInfo")&&U.proto.TokenGetNftInfoQuery.encode(t.tokenGetNftInfo,e.uint32(442).fork()).ldelim(),null!=t.tokenGetNftInfos&&Object.hasOwnProperty.call(t,"tokenGetNftInfos")&&U.proto.TokenGetNftInfosQuery.encode(t.tokenGetNftInfos,e.uint32(450).fork()).ldelim(),null!=t.networkGetExecutionTime&&Object.hasOwnProperty.call(t,"networkGetExecutionTime")&&U.proto.NetworkGetExecutionTimeQuery.encode(t.networkGetExecutionTime,e.uint32(458).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.Query;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.getByKey=U.proto.GetByKeyQuery.decode(t,t.uint32());break;case 2:F.getBySolidityID=U.proto.GetBySolidityIDQuery.decode(t,t.uint32());break;case 3:F.contractCallLocal=U.proto.ContractCallLocalQuery.decode(t,t.uint32());break;case 4:F.contractGetInfo=U.proto.ContractGetInfoQuery.decode(t,t.uint32());break;case 5:F.contractGetBytecode=U.proto.ContractGetBytecodeQuery.decode(t,t.uint32());break;case 6:F.ContractGetRecords=U.proto.ContractGetRecordsQuery.decode(t,t.uint32());break;case 7:F.cryptogetAccountBalance=U.proto.CryptoGetAccountBalanceQuery.decode(t,t.uint32());break;case 8:F.cryptoGetAccountRecords=U.proto.CryptoGetAccountRecordsQuery.decode(t,t.uint32());break;case 9:F.cryptoGetInfo=U.proto.CryptoGetInfoQuery.decode(t,t.uint32());break;case 10:F.cryptoGetLiveHash=U.proto.CryptoGetLiveHashQuery.decode(t,t.uint32());break;case 11:F.cryptoGetProxyStakers=U.proto.CryptoGetStakersQuery.decode(t,t.uint32());break;case 12:F.fileGetContents=U.proto.FileGetContentsQuery.decode(t,t.uint32());break;case 13:F.fileGetInfo=U.proto.FileGetInfoQuery.decode(t,t.uint32());break;case 14:F.transactionGetReceipt=U.proto.TransactionGetReceiptQuery.decode(t,t.uint32());break;case 15:F.transactionGetRecord=U.proto.TransactionGetRecordQuery.decode(t,t.uint32());break;case 16:F.transactionGetFastRecord=U.proto.TransactionGetFastRecordQuery.decode(t,t.uint32());break;case 50:F.consensusGetTopicInfo=U.proto.ConsensusGetTopicInfoQuery.decode(t,t.uint32());break;case 51:F.networkGetVersionInfo=U.proto.NetworkGetVersionInfoQuery.decode(t,t.uint32());break;case 52:F.tokenGetInfo=U.proto.TokenGetInfoQuery.decode(t,t.uint32());break;case 53:F.scheduleGetInfo=U.proto.ScheduleGetInfoQuery.decode(t,t.uint32());break;case 54:F.tokenGetAccountNftInfos=U.proto.TokenGetAccountNftInfosQuery.decode(t,t.uint32());break;case 55:F.tokenGetNftInfo=U.proto.TokenGetNftInfoQuery.decode(t,t.uint32());break;case 56:F.tokenGetNftInfos=U.proto.TokenGetNftInfosQuery.decode(t,t.uint32());break;case 57:F.networkGetExecutionTime=U.proto.NetworkGetExecutionTimeQuery.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),GetByKeyQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.key=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&U.proto.Key.encode(t.key,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.GetByKeyQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.key=U.proto.Key.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),EntityID:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.accountID=null,t.prototype.liveHash=null,t.prototype.fileID=null,t.prototype.contractID=null,Object.defineProperty(t.prototype,"entity",{get:F.oneOfGetter(e=["accountID","liveHash","fileID","contractID"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(10).fork()).ldelim(),null!=t.liveHash&&Object.hasOwnProperty.call(t,"liveHash")&&U.proto.LiveHash.encode(t.liveHash,e.uint32(18).fork()).ldelim(),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(26).fork()).ldelim(),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(34).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.EntityID;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.liveHash=U.proto.LiveHash.decode(t,t.uint32());break;case 3:F.fileID=U.proto.FileID.decode(t,t.uint32());break;case 4:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),GetByKeyResponse:function(){function t(t){if(this.entities=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.entities=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.entities&&t.entities.length)for(var Q=0;Q<t.entities.length;++Q)U.proto.EntityID.encode(t.entities[Q],e.uint32(18).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.GetByKeyResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.entities&&F.entities.length||(F.entities=[]),F.entities.push(U.proto.EntityID.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),GetBySolidityIDQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.solidityID="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.solidityID&&Object.hasOwnProperty.call(t,"solidityID")&&e.uint32(18).string(t.solidityID),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.GetBySolidityIDQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.solidityID=t.string();break;default:t.skipType(7&Q)}return F},t}(),GetBySolidityIDResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.accountID=null,t.prototype.fileID=null,t.prototype.contractID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(18).fork()).ldelim(),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(26).fork()).ldelim(),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(34).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.GetBySolidityIDResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.fileID=U.proto.FileID.decode(t,t.uint32());break;case 4:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ContractLoginfo:function(){function t(t){if(this.topic=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.contractID=null,t.prototype.bloom=F.newBuffer([]),t.prototype.topic=F.emptyArray,t.prototype.data=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(10).fork()).ldelim(),null!=t.bloom&&Object.hasOwnProperty.call(t,"bloom")&&e.uint32(18).bytes(t.bloom),null!=t.topic&&t.topic.length)for(var Q=0;Q<t.topic.length;++Q)e.uint32(26).bytes(t.topic[Q]);return null!=t.data&&Object.hasOwnProperty.call(t,"data")&&e.uint32(34).bytes(t.data),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractLoginfo;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;case 2:F.bloom=t.bytes();break;case 3:F.topic&&F.topic.length||(F.topic=[]),F.topic.push(t.bytes());break;case 4:F.data=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),ContractFunctionResult:function(){function t(t){if(this.logInfo=[],this.createdContractIDs=[],this.stateChanges=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.contractID=null,t.prototype.contractCallResult=F.newBuffer([]),t.prototype.errorMessage="",t.prototype.bloom=F.newBuffer([]),t.prototype.gasUsed=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.logInfo=F.emptyArray,t.prototype.createdContractIDs=F.emptyArray,t.prototype.stateChanges=F.emptyArray,t.prototype.evmAddress=null,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(10).fork()).ldelim(),null!=t.contractCallResult&&Object.hasOwnProperty.call(t,"contractCallResult")&&e.uint32(18).bytes(t.contractCallResult),null!=t.errorMessage&&Object.hasOwnProperty.call(t,"errorMessage")&&e.uint32(26).string(t.errorMessage),null!=t.bloom&&Object.hasOwnProperty.call(t,"bloom")&&e.uint32(34).bytes(t.bloom),null!=t.gasUsed&&Object.hasOwnProperty.call(t,"gasUsed")&&e.uint32(40).uint64(t.gasUsed),null!=t.logInfo&&t.logInfo.length)for(var Q=0;Q<t.logInfo.length;++Q)U.proto.ContractLoginfo.encode(t.logInfo[Q],e.uint32(50).fork()).ldelim();if(null!=t.createdContractIDs&&t.createdContractIDs.length)for(Q=0;Q<t.createdContractIDs.length;++Q)U.proto.ContractID.encode(t.createdContractIDs[Q],e.uint32(58).fork()).ldelim();if(null!=t.stateChanges&&t.stateChanges.length)for(Q=0;Q<t.stateChanges.length;++Q)U.proto.ContractStateChange.encode(t.stateChanges[Q],e.uint32(66).fork()).ldelim();return null!=t.evmAddress&&Object.hasOwnProperty.call(t,"evmAddress")&&U.google.protobuf.BytesValue.encode(t.evmAddress,e.uint32(74).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractFunctionResult;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;case 2:F.contractCallResult=t.bytes();break;case 3:F.errorMessage=t.string();break;case 4:F.bloom=t.bytes();break;case 5:F.gasUsed=t.uint64();break;case 6:F.logInfo&&F.logInfo.length||(F.logInfo=[]),F.logInfo.push(U.proto.ContractLoginfo.decode(t,t.uint32()));break;case 7:F.createdContractIDs&&F.createdContractIDs.length||(F.createdContractIDs=[]),F.createdContractIDs.push(U.proto.ContractID.decode(t,t.uint32()));break;case 8:F.stateChanges&&F.stateChanges.length||(F.stateChanges=[]),F.stateChanges.push(U.proto.ContractStateChange.decode(t,t.uint32()));break;case 9:F.evmAddress=U.google.protobuf.BytesValue.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ContractCallLocalQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.contractID=null,t.prototype.gas=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.functionParameters=F.newBuffer([]),t.prototype.maxResultSize=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(18).fork()).ldelim(),null!=t.gas&&Object.hasOwnProperty.call(t,"gas")&&e.uint32(24).int64(t.gas),null!=t.functionParameters&&Object.hasOwnProperty.call(t,"functionParameters")&&e.uint32(34).bytes(t.functionParameters),null!=t.maxResultSize&&Object.hasOwnProperty.call(t,"maxResultSize")&&e.uint32(40).int64(t.maxResultSize),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractCallLocalQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;case 3:F.gas=t.int64();break;case 4:F.functionParameters=t.bytes();break;case 5:F.maxResultSize=t.int64();break;default:t.skipType(7&Q)}return F},t}(),ContractCallLocalResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.functionResult=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.functionResult&&Object.hasOwnProperty.call(t,"functionResult")&&U.proto.ContractFunctionResult.encode(t.functionResult,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractCallLocalResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.functionResult=U.proto.ContractFunctionResult.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ContractStateChange:function(){function t(t){if(this.storageChanges=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.contractID=null,t.prototype.storageChanges=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(10).fork()).ldelim(),null!=t.storageChanges&&t.storageChanges.length)for(var Q=0;Q<t.storageChanges.length;++Q)U.proto.StorageChange.encode(t.storageChanges[Q],e.uint32(18).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractStateChange;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;case 2:F.storageChanges&&F.storageChanges.length||(F.storageChanges=[]),F.storageChanges.push(U.proto.StorageChange.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),StorageChange:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.slot=F.newBuffer([]),t.prototype.valueRead=F.newBuffer([]),t.prototype.valueWritten=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.slot&&Object.hasOwnProperty.call(t,"slot")&&e.uint32(10).bytes(t.slot),null!=t.valueRead&&Object.hasOwnProperty.call(t,"valueRead")&&e.uint32(18).bytes(t.valueRead),null!=t.valueWritten&&Object.hasOwnProperty.call(t,"valueWritten")&&U.google.protobuf.BytesValue.encode(t.valueWritten,e.uint32(26).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.StorageChange;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.slot=t.bytes();break;case 2:F.valueRead=t.bytes();break;case 3:F.valueWritten=U.google.protobuf.BytesValue.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ContractGetInfoQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.contractID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractGetInfoQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ContractGetInfoResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.contractInfo=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.contractInfo&&Object.hasOwnProperty.call(t,"contractInfo")&&U.proto.ContractGetInfoResponse.ContractInfo.encode(t.contractInfo,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractGetInfoResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.contractInfo=U.proto.ContractGetInfoResponse.ContractInfo.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t.ContractInfo=function(){function t(t){if(this.tokenRelationships=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.contractID=null,t.prototype.accountID=null,t.prototype.contractAccountID="",t.prototype.adminKey=null,t.prototype.expirationTime=null,t.prototype.autoRenewPeriod=null,t.prototype.storage=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.memo="",t.prototype.balance=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.deleted=!1,t.prototype.tokenRelationships=F.emptyArray,t.prototype.ledgerId=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(10).fork()).ldelim(),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(18).fork()).ldelim(),null!=t.contractAccountID&&Object.hasOwnProperty.call(t,"contractAccountID")&&e.uint32(26).string(t.contractAccountID),null!=t.adminKey&&Object.hasOwnProperty.call(t,"adminKey")&&U.proto.Key.encode(t.adminKey,e.uint32(34).fork()).ldelim(),null!=t.expirationTime&&Object.hasOwnProperty.call(t,"expirationTime")&&U.proto.Timestamp.encode(t.expirationTime,e.uint32(42).fork()).ldelim(),null!=t.autoRenewPeriod&&Object.hasOwnProperty.call(t,"autoRenewPeriod")&&U.proto.Duration.encode(t.autoRenewPeriod,e.uint32(50).fork()).ldelim(),null!=t.storage&&Object.hasOwnProperty.call(t,"storage")&&e.uint32(56).int64(t.storage),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(66).string(t.memo),null!=t.balance&&Object.hasOwnProperty.call(t,"balance")&&e.uint32(72).uint64(t.balance),null!=t.deleted&&Object.hasOwnProperty.call(t,"deleted")&&e.uint32(80).bool(t.deleted),null!=t.tokenRelationships&&t.tokenRelationships.length)for(var Q=0;Q<t.tokenRelationships.length;++Q)U.proto.TokenRelationship.encode(t.tokenRelationships[Q],e.uint32(90).fork()).ldelim();return null!=t.ledgerId&&Object.hasOwnProperty.call(t,"ledgerId")&&e.uint32(98).bytes(t.ledgerId),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractGetInfoResponse.ContractInfo;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;case 2:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.contractAccountID=t.string();break;case 4:F.adminKey=U.proto.Key.decode(t,t.uint32());break;case 5:F.expirationTime=U.proto.Timestamp.decode(t,t.uint32());break;case 6:F.autoRenewPeriod=U.proto.Duration.decode(t,t.uint32());break;case 7:F.storage=t.int64();break;case 8:F.memo=t.string();break;case 9:F.balance=t.uint64();break;case 10:F.deleted=t.bool();break;case 11:F.tokenRelationships&&F.tokenRelationships.length||(F.tokenRelationships=[]),F.tokenRelationships.push(U.proto.TokenRelationship.decode(t,t.uint32()));break;case 12:F.ledgerId=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),t}(),ContractGetBytecodeQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.contractID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractGetBytecodeQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ContractGetBytecodeResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.bytecode=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.bytecode&&Object.hasOwnProperty.call(t,"bytecode")&&e.uint32(50).bytes(t.bytecode),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractGetBytecodeResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 6:F.bytecode=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),ContractGetRecordsQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.contractID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractGetRecordsQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ContractGetRecordsResponse:function(){function t(t){if(this.records=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.contractID=null,t.prototype.records=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(18).fork()).ldelim(),null!=t.records&&t.records.length)for(var Q=0;Q<t.records.length;++Q)U.proto.TransactionRecord.encode(t.records[Q],e.uint32(26).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ContractGetRecordsResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;case 3:F.records&&F.records.length||(F.records=[]),F.records.push(U.proto.TransactionRecord.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),TransactionRecord:function(){function t(t){if(this.tokenTransferLists=[],this.assessedCustomFees=[],this.automaticTokenAssociations=[],this.cryptoAdjustments=[],this.nftAdjustments=[],this.tokenAdjustments=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.receipt=null,t.prototype.transactionHash=F.newBuffer([]),t.prototype.consensusTimestamp=null,t.prototype.transactionID=null,t.prototype.memo="",t.prototype.transactionFee=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.contractCallResult=null,t.prototype.contractCreateResult=null,t.prototype.transferList=null,t.prototype.tokenTransferLists=F.emptyArray,t.prototype.scheduleRef=null,t.prototype.assessedCustomFees=F.emptyArray,t.prototype.automaticTokenAssociations=F.emptyArray,t.prototype.parentConsensusTimestamp=null,t.prototype.alias=F.newBuffer([]),t.prototype.cryptoAdjustments=F.emptyArray,t.prototype.nftAdjustments=F.emptyArray,t.prototype.tokenAdjustments=F.emptyArray,Object.defineProperty(t.prototype,"body",{get:F.oneOfGetter(e=["contractCallResult","contractCreateResult"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.receipt&&Object.hasOwnProperty.call(t,"receipt")&&U.proto.TransactionReceipt.encode(t.receipt,e.uint32(10).fork()).ldelim(),null!=t.transactionHash&&Object.hasOwnProperty.call(t,"transactionHash")&&e.uint32(18).bytes(t.transactionHash),null!=t.consensusTimestamp&&Object.hasOwnProperty.call(t,"consensusTimestamp")&&U.proto.Timestamp.encode(t.consensusTimestamp,e.uint32(26).fork()).ldelim(),null!=t.transactionID&&Object.hasOwnProperty.call(t,"transactionID")&&U.proto.TransactionID.encode(t.transactionID,e.uint32(34).fork()).ldelim(),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(42).string(t.memo),null!=t.transactionFee&&Object.hasOwnProperty.call(t,"transactionFee")&&e.uint32(48).uint64(t.transactionFee),null!=t.contractCallResult&&Object.hasOwnProperty.call(t,"contractCallResult")&&U.proto.ContractFunctionResult.encode(t.contractCallResult,e.uint32(58).fork()).ldelim(),null!=t.contractCreateResult&&Object.hasOwnProperty.call(t,"contractCreateResult")&&U.proto.ContractFunctionResult.encode(t.contractCreateResult,e.uint32(66).fork()).ldelim(),null!=t.transferList&&Object.hasOwnProperty.call(t,"transferList")&&U.proto.TransferList.encode(t.transferList,e.uint32(82).fork()).ldelim(),null!=t.tokenTransferLists&&t.tokenTransferLists.length)for(var Q=0;Q<t.tokenTransferLists.length;++Q)U.proto.TokenTransferList.encode(t.tokenTransferLists[Q],e.uint32(90).fork()).ldelim();if(null!=t.scheduleRef&&Object.hasOwnProperty.call(t,"scheduleRef")&&U.proto.ScheduleID.encode(t.scheduleRef,e.uint32(98).fork()).ldelim(),null!=t.assessedCustomFees&&t.assessedCustomFees.length)for(Q=0;Q<t.assessedCustomFees.length;++Q)U.proto.AssessedCustomFee.encode(t.assessedCustomFees[Q],e.uint32(106).fork()).ldelim();if(null!=t.automaticTokenAssociations&&t.automaticTokenAssociations.length)for(Q=0;Q<t.automaticTokenAssociations.length;++Q)U.proto.TokenAssociation.encode(t.automaticTokenAssociations[Q],e.uint32(114).fork()).ldelim();if(null!=t.parentConsensusTimestamp&&Object.hasOwnProperty.call(t,"parentConsensusTimestamp")&&U.proto.Timestamp.encode(t.parentConsensusTimestamp,e.uint32(122).fork()).ldelim(),null!=t.alias&&Object.hasOwnProperty.call(t,"alias")&&e.uint32(130).bytes(t.alias),null!=t.cryptoAdjustments&&t.cryptoAdjustments.length)for(Q=0;Q<t.cryptoAdjustments.length;++Q)U.proto.CryptoAllowance.encode(t.cryptoAdjustments[Q],e.uint32(138).fork()).ldelim();if(null!=t.nftAdjustments&&t.nftAdjustments.length)for(Q=0;Q<t.nftAdjustments.length;++Q)U.proto.NftAllowance.encode(t.nftAdjustments[Q],e.uint32(146).fork()).ldelim();if(null!=t.tokenAdjustments&&t.tokenAdjustments.length)for(Q=0;Q<t.tokenAdjustments.length;++Q)U.proto.TokenAllowance.encode(t.tokenAdjustments[Q],e.uint32(154).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransactionRecord;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.receipt=U.proto.TransactionReceipt.decode(t,t.uint32());break;case 2:F.transactionHash=t.bytes();break;case 3:F.consensusTimestamp=U.proto.Timestamp.decode(t,t.uint32());break;case 4:F.transactionID=U.proto.TransactionID.decode(t,t.uint32());break;case 5:F.memo=t.string();break;case 6:F.transactionFee=t.uint64();break;case 7:F.contractCallResult=U.proto.ContractFunctionResult.decode(t,t.uint32());break;case 8:F.contractCreateResult=U.proto.ContractFunctionResult.decode(t,t.uint32());break;case 10:F.transferList=U.proto.TransferList.decode(t,t.uint32());break;case 11:F.tokenTransferLists&&F.tokenTransferLists.length||(F.tokenTransferLists=[]),F.tokenTransferLists.push(U.proto.TokenTransferList.decode(t,t.uint32()));break;case 12:F.scheduleRef=U.proto.ScheduleID.decode(t,t.uint32());break;case 13:F.assessedCustomFees&&F.assessedCustomFees.length||(F.assessedCustomFees=[]),F.assessedCustomFees.push(U.proto.AssessedCustomFee.decode(t,t.uint32()));break;case 14:F.automaticTokenAssociations&&F.automaticTokenAssociations.length||(F.automaticTokenAssociations=[]),F.automaticTokenAssociations.push(U.proto.TokenAssociation.decode(t,t.uint32()));break;case 15:F.parentConsensusTimestamp=U.proto.Timestamp.decode(t,t.uint32());break;case 16:F.alias=t.bytes();break;case 17:F.cryptoAdjustments&&F.cryptoAdjustments.length||(F.cryptoAdjustments=[]),F.cryptoAdjustments.push(U.proto.CryptoAllowance.decode(t,t.uint32()));break;case 18:F.nftAdjustments&&F.nftAdjustments.length||(F.nftAdjustments=[]),F.nftAdjustments.push(U.proto.NftAllowance.decode(t,t.uint32()));break;case 19:F.tokenAdjustments&&F.tokenAdjustments.length||(F.tokenAdjustments=[]),F.tokenAdjustments.push(U.proto.TokenAllowance.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),TransactionReceipt:function(){function t(t){if(this.serialNumbers=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.status=0,t.prototype.accountID=null,t.prototype.fileID=null,t.prototype.contractID=null,t.prototype.exchangeRate=null,t.prototype.topicID=null,t.prototype.topicSequenceNumber=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.topicRunningHash=F.newBuffer([]),t.prototype.topicRunningHashVersion=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.tokenID=null,t.prototype.newTotalSupply=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.scheduleID=null,t.prototype.scheduledTransactionID=null,t.prototype.serialNumbers=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.status&&Object.hasOwnProperty.call(t,"status")&&e.uint32(8).int32(t.status),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(18).fork()).ldelim(),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(26).fork()).ldelim(),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(34).fork()).ldelim(),null!=t.exchangeRate&&Object.hasOwnProperty.call(t,"exchangeRate")&&U.proto.ExchangeRateSet.encode(t.exchangeRate,e.uint32(42).fork()).ldelim(),null!=t.topicID&&Object.hasOwnProperty.call(t,"topicID")&&U.proto.TopicID.encode(t.topicID,e.uint32(50).fork()).ldelim(),null!=t.topicSequenceNumber&&Object.hasOwnProperty.call(t,"topicSequenceNumber")&&e.uint32(56).uint64(t.topicSequenceNumber),null!=t.topicRunningHash&&Object.hasOwnProperty.call(t,"topicRunningHash")&&e.uint32(66).bytes(t.topicRunningHash),null!=t.topicRunningHashVersion&&Object.hasOwnProperty.call(t,"topicRunningHashVersion")&&e.uint32(72).uint64(t.topicRunningHashVersion),null!=t.tokenID&&Object.hasOwnProperty.call(t,"tokenID")&&U.proto.TokenID.encode(t.tokenID,e.uint32(82).fork()).ldelim(),null!=t.newTotalSupply&&Object.hasOwnProperty.call(t,"newTotalSupply")&&e.uint32(88).uint64(t.newTotalSupply),null!=t.scheduleID&&Object.hasOwnProperty.call(t,"scheduleID")&&U.proto.ScheduleID.encode(t.scheduleID,e.uint32(98).fork()).ldelim(),null!=t.scheduledTransactionID&&Object.hasOwnProperty.call(t,"scheduledTransactionID")&&U.proto.TransactionID.encode(t.scheduledTransactionID,e.uint32(106).fork()).ldelim(),null!=t.serialNumbers&&t.serialNumbers.length){e.uint32(114).fork();for(var Q=0;Q<t.serialNumbers.length;++Q)e.int64(t.serialNumbers[Q]);e.ldelim()}return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransactionReceipt;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.status=t.int32();break;case 2:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.fileID=U.proto.FileID.decode(t,t.uint32());break;case 4:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;case 5:F.exchangeRate=U.proto.ExchangeRateSet.decode(t,t.uint32());break;case 6:F.topicID=U.proto.TopicID.decode(t,t.uint32());break;case 7:F.topicSequenceNumber=t.uint64();break;case 8:F.topicRunningHash=t.bytes();break;case 9:F.topicRunningHashVersion=t.uint64();break;case 10:F.tokenID=U.proto.TokenID.decode(t,t.uint32());break;case 11:F.newTotalSupply=t.uint64();break;case 12:F.scheduleID=U.proto.ScheduleID.decode(t,t.uint32());break;case 13:F.scheduledTransactionID=U.proto.TransactionID.decode(t,t.uint32());break;case 14:if(F.serialNumbers&&F.serialNumbers.length||(F.serialNumbers=[]),2==(7&Q))for(var n=t.uint32()+t.pos;t.pos<n;)F.serialNumbers.push(t.int64());else F.serialNumbers.push(t.int64());break;default:t.skipType(7&Q)}return F},t}(),ExchangeRate:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.hbarEquiv=0,t.prototype.centEquiv=0,t.prototype.expirationTime=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.hbarEquiv&&Object.hasOwnProperty.call(t,"hbarEquiv")&&e.uint32(8).int32(t.hbarEquiv),null!=t.centEquiv&&Object.hasOwnProperty.call(t,"centEquiv")&&e.uint32(16).int32(t.centEquiv),null!=t.expirationTime&&Object.hasOwnProperty.call(t,"expirationTime")&&U.proto.TimestampSeconds.encode(t.expirationTime,e.uint32(26).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ExchangeRate;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.hbarEquiv=t.int32();break;case 2:F.centEquiv=t.int32();break;case 3:F.expirationTime=U.proto.TimestampSeconds.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ExchangeRateSet:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.currentRate=null,t.prototype.nextRate=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.currentRate&&Object.hasOwnProperty.call(t,"currentRate")&&U.proto.ExchangeRate.encode(t.currentRate,e.uint32(10).fork()).ldelim(),null!=t.nextRate&&Object.hasOwnProperty.call(t,"nextRate")&&U.proto.ExchangeRate.encode(t.nextRate,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ExchangeRateSet;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.currentRate=U.proto.ExchangeRate.decode(t,t.uint32());break;case 2:F.nextRate=U.proto.ExchangeRate.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),CryptoGetAccountBalanceQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.header=null,t.prototype.accountID=null,t.prototype.contractID=null,Object.defineProperty(t.prototype,"balanceSource",{get:F.oneOfGetter(e=["accountID","contractID"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(18).fork()).ldelim(),null!=t.contractID&&Object.hasOwnProperty.call(t,"contractID")&&U.proto.ContractID.encode(t.contractID,e.uint32(26).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoGetAccountBalanceQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.contractID=U.proto.ContractID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),CryptoGetAccountBalanceResponse:function(){function t(t){if(this.tokenBalances=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.accountID=null,t.prototype.balance=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.tokenBalances=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(18).fork()).ldelim(),null!=t.balance&&Object.hasOwnProperty.call(t,"balance")&&e.uint32(24).uint64(t.balance),null!=t.tokenBalances&&t.tokenBalances.length)for(var Q=0;Q<t.tokenBalances.length;++Q)U.proto.TokenBalance.encode(t.tokenBalances[Q],e.uint32(34).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoGetAccountBalanceResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.balance=t.uint64();break;case 4:F.tokenBalances&&F.tokenBalances.length||(F.tokenBalances=[]),F.tokenBalances.push(U.proto.TokenBalance.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),CryptoGetAccountRecordsQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.accountID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoGetAccountRecordsQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),CryptoGetAccountRecordsResponse:function(){function t(t){if(this.records=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.accountID=null,t.prototype.records=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(18).fork()).ldelim(),null!=t.records&&t.records.length)for(var Q=0;Q<t.records.length;++Q)U.proto.TransactionRecord.encode(t.records[Q],e.uint32(26).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoGetAccountRecordsResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.records&&F.records.length||(F.records=[]),F.records.push(U.proto.TransactionRecord.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),CryptoGetInfoQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.accountID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoGetInfoQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),CryptoGetInfoResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.accountInfo=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.accountInfo&&Object.hasOwnProperty.call(t,"accountInfo")&&U.proto.CryptoGetInfoResponse.AccountInfo.encode(t.accountInfo,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoGetInfoResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.accountInfo=U.proto.CryptoGetInfoResponse.AccountInfo.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t.AccountInfo=function(){function t(t){if(this.liveHashes=[],this.tokenRelationships=[],this.grantedCryptoAllowances=[],this.grantedNftAllowances=[],this.grantedTokenAllowances=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.accountID=null,t.prototype.contractAccountID="",t.prototype.deleted=!1,t.prototype.proxyAccountID=null,t.prototype.proxyReceived=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.key=null,t.prototype.balance=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.generateSendRecordThreshold=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.generateReceiveRecordThreshold=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.receiverSigRequired=!1,t.prototype.expirationTime=null,t.prototype.autoRenewPeriod=null,t.prototype.liveHashes=F.emptyArray,t.prototype.tokenRelationships=F.emptyArray,t.prototype.memo="",t.prototype.ownedNfts=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.maxAutomaticTokenAssociations=0,t.prototype.alias=F.newBuffer([]),t.prototype.ledgerId=F.newBuffer([]),t.prototype.grantedCryptoAllowances=F.emptyArray,t.prototype.grantedNftAllowances=F.emptyArray,t.prototype.grantedTokenAllowances=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(10).fork()).ldelim(),null!=t.contractAccountID&&Object.hasOwnProperty.call(t,"contractAccountID")&&e.uint32(18).string(t.contractAccountID),null!=t.deleted&&Object.hasOwnProperty.call(t,"deleted")&&e.uint32(24).bool(t.deleted),null!=t.proxyAccountID&&Object.hasOwnProperty.call(t,"proxyAccountID")&&U.proto.AccountID.encode(t.proxyAccountID,e.uint32(34).fork()).ldelim(),null!=t.proxyReceived&&Object.hasOwnProperty.call(t,"proxyReceived")&&e.uint32(48).int64(t.proxyReceived),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&U.proto.Key.encode(t.key,e.uint32(58).fork()).ldelim(),null!=t.balance&&Object.hasOwnProperty.call(t,"balance")&&e.uint32(64).uint64(t.balance),null!=t.generateSendRecordThreshold&&Object.hasOwnProperty.call(t,"generateSendRecordThreshold")&&e.uint32(72).uint64(t.generateSendRecordThreshold),null!=t.generateReceiveRecordThreshold&&Object.hasOwnProperty.call(t,"generateReceiveRecordThreshold")&&e.uint32(80).uint64(t.generateReceiveRecordThreshold),null!=t.receiverSigRequired&&Object.hasOwnProperty.call(t,"receiverSigRequired")&&e.uint32(88).bool(t.receiverSigRequired),null!=t.expirationTime&&Object.hasOwnProperty.call(t,"expirationTime")&&U.proto.Timestamp.encode(t.expirationTime,e.uint32(98).fork()).ldelim(),null!=t.autoRenewPeriod&&Object.hasOwnProperty.call(t,"autoRenewPeriod")&&U.proto.Duration.encode(t.autoRenewPeriod,e.uint32(106).fork()).ldelim(),null!=t.liveHashes&&t.liveHashes.length)for(var Q=0;Q<t.liveHashes.length;++Q)U.proto.LiveHash.encode(t.liveHashes[Q],e.uint32(114).fork()).ldelim();if(null!=t.tokenRelationships&&t.tokenRelationships.length)for(Q=0;Q<t.tokenRelationships.length;++Q)U.proto.TokenRelationship.encode(t.tokenRelationships[Q],e.uint32(122).fork()).ldelim();if(null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(130).string(t.memo),null!=t.ownedNfts&&Object.hasOwnProperty.call(t,"ownedNfts")&&e.uint32(136).int64(t.ownedNfts),null!=t.maxAutomaticTokenAssociations&&Object.hasOwnProperty.call(t,"maxAutomaticTokenAssociations")&&e.uint32(144).int32(t.maxAutomaticTokenAssociations),null!=t.alias&&Object.hasOwnProperty.call(t,"alias")&&e.uint32(154).bytes(t.alias),null!=t.ledgerId&&Object.hasOwnProperty.call(t,"ledgerId")&&e.uint32(162).bytes(t.ledgerId),null!=t.grantedCryptoAllowances&&t.grantedCryptoAllowances.length)for(Q=0;Q<t.grantedCryptoAllowances.length;++Q)U.proto.GrantedCryptoAllowance.encode(t.grantedCryptoAllowances[Q],e.uint32(170).fork()).ldelim();if(null!=t.grantedNftAllowances&&t.grantedNftAllowances.length)for(Q=0;Q<t.grantedNftAllowances.length;++Q)U.proto.GrantedNftAllowance.encode(t.grantedNftAllowances[Q],e.uint32(178).fork()).ldelim();if(null!=t.grantedTokenAllowances&&t.grantedTokenAllowances.length)for(Q=0;Q<t.grantedTokenAllowances.length;++Q)U.proto.GrantedTokenAllowance.encode(t.grantedTokenAllowances[Q],e.uint32(186).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoGetInfoResponse.AccountInfo;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.contractAccountID=t.string();break;case 3:F.deleted=t.bool();break;case 4:F.proxyAccountID=U.proto.AccountID.decode(t,t.uint32());break;case 6:F.proxyReceived=t.int64();break;case 7:F.key=U.proto.Key.decode(t,t.uint32());break;case 8:F.balance=t.uint64();break;case 9:F.generateSendRecordThreshold=t.uint64();break;case 10:F.generateReceiveRecordThreshold=t.uint64();break;case 11:F.receiverSigRequired=t.bool();break;case 12:F.expirationTime=U.proto.Timestamp.decode(t,t.uint32());break;case 13:F.autoRenewPeriod=U.proto.Duration.decode(t,t.uint32());break;case 14:F.liveHashes&&F.liveHashes.length||(F.liveHashes=[]),F.liveHashes.push(U.proto.LiveHash.decode(t,t.uint32()));break;case 15:F.tokenRelationships&&F.tokenRelationships.length||(F.tokenRelationships=[]),F.tokenRelationships.push(U.proto.TokenRelationship.decode(t,t.uint32()));break;case 16:F.memo=t.string();break;case 17:F.ownedNfts=t.int64();break;case 18:F.maxAutomaticTokenAssociations=t.int32();break;case 19:F.alias=t.bytes();break;case 20:F.ledgerId=t.bytes();break;case 21:F.grantedCryptoAllowances&&F.grantedCryptoAllowances.length||(F.grantedCryptoAllowances=[]),F.grantedCryptoAllowances.push(U.proto.GrantedCryptoAllowance.decode(t,t.uint32()));break;case 22:F.grantedNftAllowances&&F.grantedNftAllowances.length||(F.grantedNftAllowances=[]),F.grantedNftAllowances.push(U.proto.GrantedNftAllowance.decode(t,t.uint32()));break;case 23:F.grantedTokenAllowances&&F.grantedTokenAllowances.length||(F.grantedTokenAllowances=[]),F.grantedTokenAllowances.push(U.proto.GrantedTokenAllowance.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),t}(),CryptoGetLiveHashQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.accountID=null,t.prototype.hash=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(18).fork()).ldelim(),null!=t.hash&&Object.hasOwnProperty.call(t,"hash")&&e.uint32(26).bytes(t.hash),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoGetLiveHashQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.hash=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),CryptoGetLiveHashResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.liveHash=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.liveHash&&Object.hasOwnProperty.call(t,"liveHash")&&U.proto.LiveHash.encode(t.liveHash,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoGetLiveHashResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.liveHash=U.proto.LiveHash.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),CryptoGetStakersQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.accountID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoGetStakersQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ProxyStaker:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.accountID=null,t.prototype.amount=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(10).fork()).ldelim(),null!=t.amount&&Object.hasOwnProperty.call(t,"amount")&&e.uint32(16).int64(t.amount),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ProxyStaker;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.amount=t.int64();break;default:t.skipType(7&Q)}return F},t}(),AllProxyStakers:function(){function t(t){if(this.proxyStaker=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.accountID=null,t.prototype.proxyStaker=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(10).fork()).ldelim(),null!=t.proxyStaker&&t.proxyStaker.length)for(var Q=0;Q<t.proxyStaker.length;++Q)U.proto.ProxyStaker.encode(t.proxyStaker[Q],e.uint32(18).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.AllProxyStakers;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 2:F.proxyStaker&&F.proxyStaker.length||(F.proxyStaker=[]),F.proxyStaker.push(U.proto.ProxyStaker.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),CryptoGetStakersResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.stakers=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.stakers&&Object.hasOwnProperty.call(t,"stakers")&&U.proto.AllProxyStakers.encode(t.stakers,e.uint32(26).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.CryptoGetStakersResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 3:F.stakers=U.proto.AllProxyStakers.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),FileGetContentsQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.fileID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FileGetContentsQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.fileID=U.proto.FileID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),FileGetContentsResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.fileContents=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.fileContents&&Object.hasOwnProperty.call(t,"fileContents")&&U.proto.FileGetContentsResponse.FileContents.encode(t.fileContents,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FileGetContentsResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.fileContents=U.proto.FileGetContentsResponse.FileContents.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t.FileContents=function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.fileID=null,t.prototype.contents=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(10).fork()).ldelim(),null!=t.contents&&Object.hasOwnProperty.call(t,"contents")&&e.uint32(18).bytes(t.contents),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FileGetContentsResponse.FileContents;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.fileID=U.proto.FileID.decode(t,t.uint32());break;case 2:F.contents=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),t}(),FileGetInfoQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.fileID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FileGetInfoQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.fileID=U.proto.FileID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),FileGetInfoResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.fileInfo=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.fileInfo&&Object.hasOwnProperty.call(t,"fileInfo")&&U.proto.FileGetInfoResponse.FileInfo.encode(t.fileInfo,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FileGetInfoResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.fileInfo=U.proto.FileGetInfoResponse.FileInfo.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t.FileInfo=function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.fileID=null,t.prototype.size=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.expirationTime=null,t.prototype.deleted=!1,t.prototype.keys=null,t.prototype.memo="",t.prototype.ledgerId=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.fileID&&Object.hasOwnProperty.call(t,"fileID")&&U.proto.FileID.encode(t.fileID,e.uint32(10).fork()).ldelim(),null!=t.size&&Object.hasOwnProperty.call(t,"size")&&e.uint32(16).int64(t.size),null!=t.expirationTime&&Object.hasOwnProperty.call(t,"expirationTime")&&U.proto.Timestamp.encode(t.expirationTime,e.uint32(26).fork()).ldelim(),null!=t.deleted&&Object.hasOwnProperty.call(t,"deleted")&&e.uint32(32).bool(t.deleted),null!=t.keys&&Object.hasOwnProperty.call(t,"keys")&&U.proto.KeyList.encode(t.keys,e.uint32(42).fork()).ldelim(),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(50).string(t.memo),null!=t.ledgerId&&Object.hasOwnProperty.call(t,"ledgerId")&&e.uint32(58).bytes(t.ledgerId),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FileGetInfoResponse.FileInfo;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.fileID=U.proto.FileID.decode(t,t.uint32());break;case 2:F.size=t.int64();break;case 3:F.expirationTime=U.proto.Timestamp.decode(t,t.uint32());break;case 4:F.deleted=t.bool();break;case 5:F.keys=U.proto.KeyList.decode(t,t.uint32());break;case 6:F.memo=t.string();break;case 7:F.ledgerId=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),t}(),TransactionGetReceiptQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.transactionID=null,t.prototype.includeDuplicates=!1,t.prototype.includeChildReceipts=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.transactionID&&Object.hasOwnProperty.call(t,"transactionID")&&U.proto.TransactionID.encode(t.transactionID,e.uint32(18).fork()).ldelim(),null!=t.includeDuplicates&&Object.hasOwnProperty.call(t,"includeDuplicates")&&e.uint32(24).bool(t.includeDuplicates),null!=t.includeChildReceipts&&Object.hasOwnProperty.call(t,"includeChildReceipts")&&e.uint32(32).bool(t.includeChildReceipts),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransactionGetReceiptQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.transactionID=U.proto.TransactionID.decode(t,t.uint32());break;case 3:F.includeDuplicates=t.bool();break;case 4:F.includeChildReceipts=t.bool();break;default:t.skipType(7&Q)}return F},t}(),TransactionGetReceiptResponse:function(){function t(t){if(this.duplicateTransactionReceipts=[],this.childTransactionReceipts=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.receipt=null,t.prototype.duplicateTransactionReceipts=F.emptyArray,t.prototype.childTransactionReceipts=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.receipt&&Object.hasOwnProperty.call(t,"receipt")&&U.proto.TransactionReceipt.encode(t.receipt,e.uint32(18).fork()).ldelim(),null!=t.duplicateTransactionReceipts&&t.duplicateTransactionReceipts.length)for(var Q=0;Q<t.duplicateTransactionReceipts.length;++Q)U.proto.TransactionReceipt.encode(t.duplicateTransactionReceipts[Q],e.uint32(34).fork()).ldelim();if(null!=t.childTransactionReceipts&&t.childTransactionReceipts.length)for(Q=0;Q<t.childTransactionReceipts.length;++Q)U.proto.TransactionReceipt.encode(t.childTransactionReceipts[Q],e.uint32(42).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransactionGetReceiptResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.receipt=U.proto.TransactionReceipt.decode(t,t.uint32());break;case 4:F.duplicateTransactionReceipts&&F.duplicateTransactionReceipts.length||(F.duplicateTransactionReceipts=[]),F.duplicateTransactionReceipts.push(U.proto.TransactionReceipt.decode(t,t.uint32()));break;case 5:F.childTransactionReceipts&&F.childTransactionReceipts.length||(F.childTransactionReceipts=[]),F.childTransactionReceipts.push(U.proto.TransactionReceipt.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),TransactionGetRecordQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.transactionID=null,t.prototype.includeDuplicates=!1,t.prototype.includeChildRecords=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.transactionID&&Object.hasOwnProperty.call(t,"transactionID")&&U.proto.TransactionID.encode(t.transactionID,e.uint32(18).fork()).ldelim(),null!=t.includeDuplicates&&Object.hasOwnProperty.call(t,"includeDuplicates")&&e.uint32(24).bool(t.includeDuplicates),null!=t.includeChildRecords&&Object.hasOwnProperty.call(t,"includeChildRecords")&&e.uint32(32).bool(t.includeChildRecords),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransactionGetRecordQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.transactionID=U.proto.TransactionID.decode(t,t.uint32());break;case 3:F.includeDuplicates=t.bool();break;case 4:F.includeChildRecords=t.bool();break;default:t.skipType(7&Q)}return F},t}(),TransactionGetRecordResponse:function(){function t(t){if(this.duplicateTransactionRecords=[],this.childTransactionRecords=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.transactionRecord=null,t.prototype.duplicateTransactionRecords=F.emptyArray,t.prototype.childTransactionRecords=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.transactionRecord&&Object.hasOwnProperty.call(t,"transactionRecord")&&U.proto.TransactionRecord.encode(t.transactionRecord,e.uint32(26).fork()).ldelim(),null!=t.duplicateTransactionRecords&&t.duplicateTransactionRecords.length)for(var Q=0;Q<t.duplicateTransactionRecords.length;++Q)U.proto.TransactionRecord.encode(t.duplicateTransactionRecords[Q],e.uint32(34).fork()).ldelim();if(null!=t.childTransactionRecords&&t.childTransactionRecords.length)for(Q=0;Q<t.childTransactionRecords.length;++Q)U.proto.TransactionRecord.encode(t.childTransactionRecords[Q],e.uint32(42).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransactionGetRecordResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 3:F.transactionRecord=U.proto.TransactionRecord.decode(t,t.uint32());break;case 4:F.duplicateTransactionRecords&&F.duplicateTransactionRecords.length||(F.duplicateTransactionRecords=[]),F.duplicateTransactionRecords.push(U.proto.TransactionRecord.decode(t,t.uint32()));break;case 5:F.childTransactionRecords&&F.childTransactionRecords.length||(F.childTransactionRecords=[]),F.childTransactionRecords.push(U.proto.TransactionRecord.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),TransactionGetFastRecordQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.transactionID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.transactionID&&Object.hasOwnProperty.call(t,"transactionID")&&U.proto.TransactionID.encode(t.transactionID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransactionGetFastRecordQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.transactionID=U.proto.TransactionID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),TransactionGetFastRecordResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.transactionRecord=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.transactionRecord&&Object.hasOwnProperty.call(t,"transactionRecord")&&U.proto.TransactionRecord.encode(t.transactionRecord,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransactionGetFastRecordResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.transactionRecord=U.proto.TransactionRecord.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),NetworkGetVersionInfoQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.NetworkGetVersionInfoQuery;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.header=U.proto.QueryHeader.decode(t,t.uint32());else t.skipType(7&Q);return F},t}(),NetworkGetVersionInfoResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.hapiProtoVersion=null,t.prototype.hederaServicesVersion=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.hapiProtoVersion&&Object.hasOwnProperty.call(t,"hapiProtoVersion")&&U.proto.SemanticVersion.encode(t.hapiProtoVersion,e.uint32(18).fork()).ldelim(),null!=t.hederaServicesVersion&&Object.hasOwnProperty.call(t,"hederaServicesVersion")&&U.proto.SemanticVersion.encode(t.hederaServicesVersion,e.uint32(26).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.NetworkGetVersionInfoResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.hapiProtoVersion=U.proto.SemanticVersion.decode(t,t.uint32());break;case 3:F.hederaServicesVersion=U.proto.SemanticVersion.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),NetworkGetExecutionTimeQuery:function(){function t(t){if(this.transactionIds=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.transactionIds=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.transactionIds&&t.transactionIds.length)for(var Q=0;Q<t.transactionIds.length;++Q)U.proto.TransactionID.encode(t.transactionIds[Q],e.uint32(18).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.NetworkGetExecutionTimeQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.transactionIds&&F.transactionIds.length||(F.transactionIds=[]),F.transactionIds.push(U.proto.TransactionID.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),NetworkGetExecutionTimeResponse:function(){function t(t){if(this.executionTimes=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.executionTimes=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.executionTimes&&t.executionTimes.length){e.uint32(18).fork();for(var Q=0;Q<t.executionTimes.length;++Q)e.uint64(t.executionTimes[Q]);e.ldelim()}return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.NetworkGetExecutionTimeResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:if(F.executionTimes&&F.executionTimes.length||(F.executionTimes=[]),2==(7&Q))for(var n=t.uint32()+t.pos;t.pos<n;)F.executionTimes.push(t.uint64());else F.executionTimes.push(t.uint64());break;default:t.skipType(7&Q)}return F},t}(),TokenGetInfoQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.token=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&U.proto.TokenID.encode(t.token,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenGetInfoQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.token=U.proto.TokenID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),TokenInfo:function(){function t(t){if(this.customFees=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.tokenId=null,t.prototype.name="",t.prototype.symbol="",t.prototype.decimals=0,t.prototype.totalSupply=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.treasury=null,t.prototype.adminKey=null,t.prototype.kycKey=null,t.prototype.freezeKey=null,t.prototype.wipeKey=null,t.prototype.supplyKey=null,t.prototype.defaultFreezeStatus=0,t.prototype.defaultKycStatus=0,t.prototype.deleted=!1,t.prototype.autoRenewAccount=null,t.prototype.autoRenewPeriod=null,t.prototype.expiry=null,t.prototype.memo="",t.prototype.tokenType=0,t.prototype.supplyType=0,t.prototype.maxSupply=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.feeScheduleKey=null,t.prototype.customFees=F.emptyArray,t.prototype.pauseKey=null,t.prototype.pauseStatus=0,t.prototype.ledgerId=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.tokenId&&Object.hasOwnProperty.call(t,"tokenId")&&U.proto.TokenID.encode(t.tokenId,e.uint32(10).fork()).ldelim(),null!=t.name&&Object.hasOwnProperty.call(t,"name")&&e.uint32(18).string(t.name),null!=t.symbol&&Object.hasOwnProperty.call(t,"symbol")&&e.uint32(26).string(t.symbol),null!=t.decimals&&Object.hasOwnProperty.call(t,"decimals")&&e.uint32(32).uint32(t.decimals),null!=t.totalSupply&&Object.hasOwnProperty.call(t,"totalSupply")&&e.uint32(40).uint64(t.totalSupply),null!=t.treasury&&Object.hasOwnProperty.call(t,"treasury")&&U.proto.AccountID.encode(t.treasury,e.uint32(50).fork()).ldelim(),null!=t.adminKey&&Object.hasOwnProperty.call(t,"adminKey")&&U.proto.Key.encode(t.adminKey,e.uint32(58).fork()).ldelim(),null!=t.kycKey&&Object.hasOwnProperty.call(t,"kycKey")&&U.proto.Key.encode(t.kycKey,e.uint32(66).fork()).ldelim(),null!=t.freezeKey&&Object.hasOwnProperty.call(t,"freezeKey")&&U.proto.Key.encode(t.freezeKey,e.uint32(74).fork()).ldelim(),null!=t.wipeKey&&Object.hasOwnProperty.call(t,"wipeKey")&&U.proto.Key.encode(t.wipeKey,e.uint32(82).fork()).ldelim(),null!=t.supplyKey&&Object.hasOwnProperty.call(t,"supplyKey")&&U.proto.Key.encode(t.supplyKey,e.uint32(90).fork()).ldelim(),null!=t.defaultFreezeStatus&&Object.hasOwnProperty.call(t,"defaultFreezeStatus")&&e.uint32(96).int32(t.defaultFreezeStatus),null!=t.defaultKycStatus&&Object.hasOwnProperty.call(t,"defaultKycStatus")&&e.uint32(104).int32(t.defaultKycStatus),null!=t.deleted&&Object.hasOwnProperty.call(t,"deleted")&&e.uint32(112).bool(t.deleted),null!=t.autoRenewAccount&&Object.hasOwnProperty.call(t,"autoRenewAccount")&&U.proto.AccountID.encode(t.autoRenewAccount,e.uint32(122).fork()).ldelim(),null!=t.autoRenewPeriod&&Object.hasOwnProperty.call(t,"autoRenewPeriod")&&U.proto.Duration.encode(t.autoRenewPeriod,e.uint32(130).fork()).ldelim(),null!=t.expiry&&Object.hasOwnProperty.call(t,"expiry")&&U.proto.Timestamp.encode(t.expiry,e.uint32(138).fork()).ldelim(),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(146).string(t.memo),null!=t.tokenType&&Object.hasOwnProperty.call(t,"tokenType")&&e.uint32(152).int32(t.tokenType),null!=t.supplyType&&Object.hasOwnProperty.call(t,"supplyType")&&e.uint32(160).int32(t.supplyType),null!=t.maxSupply&&Object.hasOwnProperty.call(t,"maxSupply")&&e.uint32(168).int64(t.maxSupply),null!=t.feeScheduleKey&&Object.hasOwnProperty.call(t,"feeScheduleKey")&&U.proto.Key.encode(t.feeScheduleKey,e.uint32(178).fork()).ldelim(),null!=t.customFees&&t.customFees.length)for(var Q=0;Q<t.customFees.length;++Q)U.proto.CustomFee.encode(t.customFees[Q],e.uint32(186).fork()).ldelim();return null!=t.pauseKey&&Object.hasOwnProperty.call(t,"pauseKey")&&U.proto.Key.encode(t.pauseKey,e.uint32(194).fork()).ldelim(),null!=t.pauseStatus&&Object.hasOwnProperty.call(t,"pauseStatus")&&e.uint32(200).int32(t.pauseStatus),null!=t.ledgerId&&Object.hasOwnProperty.call(t,"ledgerId")&&e.uint32(210).bytes(t.ledgerId),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenInfo;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.tokenId=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.name=t.string();break;case 3:F.symbol=t.string();break;case 4:F.decimals=t.uint32();break;case 5:F.totalSupply=t.uint64();break;case 6:F.treasury=U.proto.AccountID.decode(t,t.uint32());break;case 7:F.adminKey=U.proto.Key.decode(t,t.uint32());break;case 8:F.kycKey=U.proto.Key.decode(t,t.uint32());break;case 9:F.freezeKey=U.proto.Key.decode(t,t.uint32());break;case 10:F.wipeKey=U.proto.Key.decode(t,t.uint32());break;case 11:F.supplyKey=U.proto.Key.decode(t,t.uint32());break;case 12:F.defaultFreezeStatus=t.int32();break;case 13:F.defaultKycStatus=t.int32();break;case 14:F.deleted=t.bool();break;case 15:F.autoRenewAccount=U.proto.AccountID.decode(t,t.uint32());break;case 16:F.autoRenewPeriod=U.proto.Duration.decode(t,t.uint32());break;case 17:F.expiry=U.proto.Timestamp.decode(t,t.uint32());break;case 18:F.memo=t.string();break;case 19:F.tokenType=t.int32();break;case 20:F.supplyType=t.int32();break;case 21:F.maxSupply=t.int64();break;case 22:F.feeScheduleKey=U.proto.Key.decode(t,t.uint32());break;case 23:F.customFees&&F.customFees.length||(F.customFees=[]),F.customFees.push(U.proto.CustomFee.decode(t,t.uint32()));break;case 24:F.pauseKey=U.proto.Key.decode(t,t.uint32());break;case 25:F.pauseStatus=t.int32();break;case 26:F.ledgerId=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),TokenGetInfoResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.tokenInfo=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.tokenInfo&&Object.hasOwnProperty.call(t,"tokenInfo")&&U.proto.TokenInfo.encode(t.tokenInfo,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenGetInfoResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.tokenInfo=U.proto.TokenInfo.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ScheduleGetInfoQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.scheduleID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.scheduleID&&Object.hasOwnProperty.call(t,"scheduleID")&&U.proto.ScheduleID.encode(t.scheduleID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ScheduleGetInfoQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.scheduleID=U.proto.ScheduleID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),ScheduleInfo:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.scheduleID=null,t.prototype.deletionTime=null,t.prototype.executionTime=null,t.prototype.expirationTime=null,t.prototype.scheduledTransactionBody=null,t.prototype.memo="",t.prototype.adminKey=null,t.prototype.signers=null,t.prototype.creatorAccountID=null,t.prototype.payerAccountID=null,t.prototype.scheduledTransactionID=null,t.prototype.ledgerId=F.newBuffer([]),Object.defineProperty(t.prototype,"data",{get:F.oneOfGetter(e=["deletionTime","executionTime"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.scheduleID&&Object.hasOwnProperty.call(t,"scheduleID")&&U.proto.ScheduleID.encode(t.scheduleID,e.uint32(10).fork()).ldelim(),null!=t.deletionTime&&Object.hasOwnProperty.call(t,"deletionTime")&&U.proto.Timestamp.encode(t.deletionTime,e.uint32(18).fork()).ldelim(),null!=t.executionTime&&Object.hasOwnProperty.call(t,"executionTime")&&U.proto.Timestamp.encode(t.executionTime,e.uint32(26).fork()).ldelim(),null!=t.expirationTime&&Object.hasOwnProperty.call(t,"expirationTime")&&U.proto.Timestamp.encode(t.expirationTime,e.uint32(34).fork()).ldelim(),null!=t.scheduledTransactionBody&&Object.hasOwnProperty.call(t,"scheduledTransactionBody")&&U.proto.SchedulableTransactionBody.encode(t.scheduledTransactionBody,e.uint32(42).fork()).ldelim(),null!=t.memo&&Object.hasOwnProperty.call(t,"memo")&&e.uint32(50).string(t.memo),null!=t.adminKey&&Object.hasOwnProperty.call(t,"adminKey")&&U.proto.Key.encode(t.adminKey,e.uint32(58).fork()).ldelim(),null!=t.signers&&Object.hasOwnProperty.call(t,"signers")&&U.proto.KeyList.encode(t.signers,e.uint32(66).fork()).ldelim(),null!=t.creatorAccountID&&Object.hasOwnProperty.call(t,"creatorAccountID")&&U.proto.AccountID.encode(t.creatorAccountID,e.uint32(74).fork()).ldelim(),null!=t.payerAccountID&&Object.hasOwnProperty.call(t,"payerAccountID")&&U.proto.AccountID.encode(t.payerAccountID,e.uint32(82).fork()).ldelim(),null!=t.scheduledTransactionID&&Object.hasOwnProperty.call(t,"scheduledTransactionID")&&U.proto.TransactionID.encode(t.scheduledTransactionID,e.uint32(90).fork()).ldelim(),null!=t.ledgerId&&Object.hasOwnProperty.call(t,"ledgerId")&&e.uint32(98).bytes(t.ledgerId),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ScheduleInfo;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.scheduleID=U.proto.ScheduleID.decode(t,t.uint32());break;case 2:F.deletionTime=U.proto.Timestamp.decode(t,t.uint32());break;case 3:F.executionTime=U.proto.Timestamp.decode(t,t.uint32());break;case 4:F.expirationTime=U.proto.Timestamp.decode(t,t.uint32());break;case 5:F.scheduledTransactionBody=U.proto.SchedulableTransactionBody.decode(t,t.uint32());break;case 6:F.memo=t.string();break;case 7:F.adminKey=U.proto.Key.decode(t,t.uint32());break;case 8:F.signers=U.proto.KeyList.decode(t,t.uint32());break;case 9:F.creatorAccountID=U.proto.AccountID.decode(t,t.uint32());break;case 10:F.payerAccountID=U.proto.AccountID.decode(t,t.uint32());break;case 11:F.scheduledTransactionID=U.proto.TransactionID.decode(t,t.uint32());break;case 12:F.ledgerId=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),ScheduleGetInfoResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.scheduleInfo=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.scheduleInfo&&Object.hasOwnProperty.call(t,"scheduleInfo")&&U.proto.ScheduleInfo.encode(t.scheduleInfo,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ScheduleGetInfoResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.scheduleInfo=U.proto.ScheduleInfo.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),TokenGetAccountNftInfosQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.accountID=null,t.prototype.start=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.end=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(18).fork()).ldelim(),null!=t.start&&Object.hasOwnProperty.call(t,"start")&&e.uint32(24).int64(t.start),null!=t.end&&Object.hasOwnProperty.call(t,"end")&&e.uint32(32).int64(t.end),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenGetAccountNftInfosQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.start=t.int64();break;case 4:F.end=t.int64();break;default:t.skipType(7&Q)}return F},t}(),TokenGetAccountNftInfosResponse:function(){function t(t){if(this.nfts=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.nfts=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.nfts&&t.nfts.length)for(var Q=0;Q<t.nfts.length;++Q)U.proto.TokenNftInfo.encode(t.nfts[Q],e.uint32(18).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenGetAccountNftInfosResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.nfts&&F.nfts.length||(F.nfts=[]),F.nfts.push(U.proto.TokenNftInfo.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),NftID:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.tokenID=null,t.prototype.serialNumber=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.tokenID&&Object.hasOwnProperty.call(t,"tokenID")&&U.proto.TokenID.encode(t.tokenID,e.uint32(10).fork()).ldelim(),null!=t.serialNumber&&Object.hasOwnProperty.call(t,"serialNumber")&&e.uint32(16).int64(t.serialNumber),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.NftID;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.tokenID=U.proto.TokenID.decode(t,t.uint32());break;case 2:F.serialNumber=t.int64();break;default:t.skipType(7&Q)}return F},t}(),TokenGetNftInfoQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.nftID=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.nftID&&Object.hasOwnProperty.call(t,"nftID")&&U.proto.NftID.encode(t.nftID,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenGetNftInfoQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.nftID=U.proto.NftID.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),TokenNftInfo:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.nftID=null,t.prototype.accountID=null,t.prototype.creationTime=null,t.prototype.metadata=F.newBuffer([]),t.prototype.ledgerId=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.nftID&&Object.hasOwnProperty.call(t,"nftID")&&U.proto.NftID.encode(t.nftID,e.uint32(10).fork()).ldelim(),null!=t.accountID&&Object.hasOwnProperty.call(t,"accountID")&&U.proto.AccountID.encode(t.accountID,e.uint32(18).fork()).ldelim(),null!=t.creationTime&&Object.hasOwnProperty.call(t,"creationTime")&&U.proto.Timestamp.encode(t.creationTime,e.uint32(26).fork()).ldelim(),null!=t.metadata&&Object.hasOwnProperty.call(t,"metadata")&&e.uint32(34).bytes(t.metadata),null!=t.ledgerId&&Object.hasOwnProperty.call(t,"ledgerId")&&e.uint32(42).bytes(t.ledgerId),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenNftInfo;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.nftID=U.proto.NftID.decode(t,t.uint32());break;case 2:F.accountID=U.proto.AccountID.decode(t,t.uint32());break;case 3:F.creationTime=U.proto.Timestamp.decode(t,t.uint32());break;case 4:F.metadata=t.bytes();break;case 5:F.ledgerId=t.bytes();break;default:t.skipType(7&Q)}return F},t}(),TokenGetNftInfoResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.nft=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.nft&&Object.hasOwnProperty.call(t,"nft")&&U.proto.TokenNftInfo.encode(t.nft,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenGetNftInfoResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.nft=U.proto.TokenNftInfo.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),TokenGetNftInfosQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.tokenID=null,t.prototype.start=F.Long?F.Long.fromBits(0,0,!1):0,t.prototype.end=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.QueryHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.tokenID&&Object.hasOwnProperty.call(t,"tokenID")&&U.proto.TokenID.encode(t.tokenID,e.uint32(18).fork()).ldelim(),null!=t.start&&Object.hasOwnProperty.call(t,"start")&&e.uint32(24).int64(t.start),null!=t.end&&Object.hasOwnProperty.call(t,"end")&&e.uint32(32).int64(t.end),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenGetNftInfosQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.QueryHeader.decode(t,t.uint32());break;case 2:F.tokenID=U.proto.TokenID.decode(t,t.uint32());break;case 3:F.start=t.int64();break;case 4:F.end=t.int64();break;default:t.skipType(7&Q)}return F},t}(),TokenGetNftInfosResponse:function(){function t(t){if(this.nfts=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.header=null,t.prototype.tokenID=null,t.prototype.nfts=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&U.proto.ResponseHeader.encode(t.header,e.uint32(10).fork()).ldelim(),null!=t.tokenID&&Object.hasOwnProperty.call(t,"tokenID")&&U.proto.TokenID.encode(t.tokenID,e.uint32(18).fork()).ldelim(),null!=t.nfts&&t.nfts.length)for(var Q=0;Q<t.nfts.length;++Q)U.proto.TokenNftInfo.encode(t.nfts[Q],e.uint32(26).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TokenGetNftInfosResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.header=U.proto.ResponseHeader.decode(t,t.uint32());break;case 2:F.tokenID=U.proto.TokenID.decode(t,t.uint32());break;case 3:F.nfts&&F.nfts.length||(F.nfts=[]),F.nfts.push(U.proto.TokenNftInfo.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),Response:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}let e;return t.prototype.getByKey=null,t.prototype.getBySolidityID=null,t.prototype.contractCallLocal=null,t.prototype.contractGetBytecodeResponse=null,t.prototype.contractGetInfo=null,t.prototype.contractGetRecordsResponse=null,t.prototype.cryptogetAccountBalance=null,t.prototype.cryptoGetAccountRecords=null,t.prototype.cryptoGetInfo=null,t.prototype.cryptoGetLiveHash=null,t.prototype.cryptoGetProxyStakers=null,t.prototype.fileGetContents=null,t.prototype.fileGetInfo=null,t.prototype.transactionGetReceipt=null,t.prototype.transactionGetRecord=null,t.prototype.transactionGetFastRecord=null,t.prototype.consensusGetTopicInfo=null,t.prototype.networkGetVersionInfo=null,t.prototype.tokenGetInfo=null,t.prototype.scheduleGetInfo=null,t.prototype.tokenGetAccountNftInfos=null,t.prototype.tokenGetNftInfo=null,t.prototype.tokenGetNftInfos=null,t.prototype.networkGetExecutionTime=null,Object.defineProperty(t.prototype,"response",{get:F.oneOfGetter(e=["getByKey","getBySolidityID","contractCallLocal","contractGetBytecodeResponse","contractGetInfo","contractGetRecordsResponse","cryptogetAccountBalance","cryptoGetAccountRecords","cryptoGetInfo","cryptoGetLiveHash","cryptoGetProxyStakers","fileGetContents","fileGetInfo","transactionGetReceipt","transactionGetRecord","transactionGetFastRecord","consensusGetTopicInfo","networkGetVersionInfo","tokenGetInfo","scheduleGetInfo","tokenGetAccountNftInfos","tokenGetNftInfo","tokenGetNftInfos","networkGetExecutionTime"]),set:F.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.getByKey&&Object.hasOwnProperty.call(t,"getByKey")&&U.proto.GetByKeyResponse.encode(t.getByKey,e.uint32(10).fork()).ldelim(),null!=t.getBySolidityID&&Object.hasOwnProperty.call(t,"getBySolidityID")&&U.proto.GetBySolidityIDResponse.encode(t.getBySolidityID,e.uint32(18).fork()).ldelim(),null!=t.contractCallLocal&&Object.hasOwnProperty.call(t,"contractCallLocal")&&U.proto.ContractCallLocalResponse.encode(t.contractCallLocal,e.uint32(26).fork()).ldelim(),null!=t.contractGetInfo&&Object.hasOwnProperty.call(t,"contractGetInfo")&&U.proto.ContractGetInfoResponse.encode(t.contractGetInfo,e.uint32(34).fork()).ldelim(),null!=t.contractGetBytecodeResponse&&Object.hasOwnProperty.call(t,"contractGetBytecodeResponse")&&U.proto.ContractGetBytecodeResponse.encode(t.contractGetBytecodeResponse,e.uint32(42).fork()).ldelim(),null!=t.contractGetRecordsResponse&&Object.hasOwnProperty.call(t,"contractGetRecordsResponse")&&U.proto.ContractGetRecordsResponse.encode(t.contractGetRecordsResponse,e.uint32(50).fork()).ldelim(),null!=t.cryptogetAccountBalance&&Object.hasOwnProperty.call(t,"cryptogetAccountBalance")&&U.proto.CryptoGetAccountBalanceResponse.encode(t.cryptogetAccountBalance,e.uint32(58).fork()).ldelim(),null!=t.cryptoGetAccountRecords&&Object.hasOwnProperty.call(t,"cryptoGetAccountRecords")&&U.proto.CryptoGetAccountRecordsResponse.encode(t.cryptoGetAccountRecords,e.uint32(66).fork()).ldelim(),null!=t.cryptoGetInfo&&Object.hasOwnProperty.call(t,"cryptoGetInfo")&&U.proto.CryptoGetInfoResponse.encode(t.cryptoGetInfo,e.uint32(74).fork()).ldelim(),null!=t.cryptoGetLiveHash&&Object.hasOwnProperty.call(t,"cryptoGetLiveHash")&&U.proto.CryptoGetLiveHashResponse.encode(t.cryptoGetLiveHash,e.uint32(82).fork()).ldelim(),null!=t.cryptoGetProxyStakers&&Object.hasOwnProperty.call(t,"cryptoGetProxyStakers")&&U.proto.CryptoGetStakersResponse.encode(t.cryptoGetProxyStakers,e.uint32(90).fork()).ldelim(),null!=t.fileGetContents&&Object.hasOwnProperty.call(t,"fileGetContents")&&U.proto.FileGetContentsResponse.encode(t.fileGetContents,e.uint32(98).fork()).ldelim(),null!=t.fileGetInfo&&Object.hasOwnProperty.call(t,"fileGetInfo")&&U.proto.FileGetInfoResponse.encode(t.fileGetInfo,e.uint32(106).fork()).ldelim(),null!=t.transactionGetReceipt&&Object.hasOwnProperty.call(t,"transactionGetReceipt")&&U.proto.TransactionGetReceiptResponse.encode(t.transactionGetReceipt,e.uint32(114).fork()).ldelim(),null!=t.transactionGetRecord&&Object.hasOwnProperty.call(t,"transactionGetRecord")&&U.proto.TransactionGetRecordResponse.encode(t.transactionGetRecord,e.uint32(122).fork()).ldelim(),null!=t.transactionGetFastRecord&&Object.hasOwnProperty.call(t,"transactionGetFastRecord")&&U.proto.TransactionGetFastRecordResponse.encode(t.transactionGetFastRecord,e.uint32(130).fork()).ldelim(),null!=t.consensusGetTopicInfo&&Object.hasOwnProperty.call(t,"consensusGetTopicInfo")&&U.proto.ConsensusGetTopicInfoResponse.encode(t.consensusGetTopicInfo,e.uint32(1202).fork()).ldelim(),null!=t.networkGetVersionInfo&&Object.hasOwnProperty.call(t,"networkGetVersionInfo")&&U.proto.NetworkGetVersionInfoResponse.encode(t.networkGetVersionInfo,e.uint32(1210).fork()).ldelim(),null!=t.tokenGetInfo&&Object.hasOwnProperty.call(t,"tokenGetInfo")&&U.proto.TokenGetInfoResponse.encode(t.tokenGetInfo,e.uint32(1218).fork()).ldelim(),null!=t.scheduleGetInfo&&Object.hasOwnProperty.call(t,"scheduleGetInfo")&&U.proto.ScheduleGetInfoResponse.encode(t.scheduleGetInfo,e.uint32(1226).fork()).ldelim(),null!=t.tokenGetAccountNftInfos&&Object.hasOwnProperty.call(t,"tokenGetAccountNftInfos")&&U.proto.TokenGetAccountNftInfosResponse.encode(t.tokenGetAccountNftInfos,e.uint32(1234).fork()).ldelim(),null!=t.tokenGetNftInfo&&Object.hasOwnProperty.call(t,"tokenGetNftInfo")&&U.proto.TokenGetNftInfoResponse.encode(t.tokenGetNftInfo,e.uint32(1242).fork()).ldelim(),null!=t.tokenGetNftInfos&&Object.hasOwnProperty.call(t,"tokenGetNftInfos")&&U.proto.TokenGetNftInfosResponse.encode(t.tokenGetNftInfos,e.uint32(1250).fork()).ldelim(),null!=t.networkGetExecutionTime&&Object.hasOwnProperty.call(t,"networkGetExecutionTime")&&U.proto.NetworkGetExecutionTimeResponse.encode(t.networkGetExecutionTime,e.uint32(1258).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.Response;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.getByKey=U.proto.GetByKeyResponse.decode(t,t.uint32());break;case 2:F.getBySolidityID=U.proto.GetBySolidityIDResponse.decode(t,t.uint32());break;case 3:F.contractCallLocal=U.proto.ContractCallLocalResponse.decode(t,t.uint32());break;case 5:F.contractGetBytecodeResponse=U.proto.ContractGetBytecodeResponse.decode(t,t.uint32());break;case 4:F.contractGetInfo=U.proto.ContractGetInfoResponse.decode(t,t.uint32());break;case 6:F.contractGetRecordsResponse=U.proto.ContractGetRecordsResponse.decode(t,t.uint32());break;case 7:F.cryptogetAccountBalance=U.proto.CryptoGetAccountBalanceResponse.decode(t,t.uint32());break;case 8:F.cryptoGetAccountRecords=U.proto.CryptoGetAccountRecordsResponse.decode(t,t.uint32());break;case 9:F.cryptoGetInfo=U.proto.CryptoGetInfoResponse.decode(t,t.uint32());break;case 10:F.cryptoGetLiveHash=U.proto.CryptoGetLiveHashResponse.decode(t,t.uint32());break;case 11:F.cryptoGetProxyStakers=U.proto.CryptoGetStakersResponse.decode(t,t.uint32());break;case 12:F.fileGetContents=U.proto.FileGetContentsResponse.decode(t,t.uint32());break;case 13:F.fileGetInfo=U.proto.FileGetInfoResponse.decode(t,t.uint32());break;case 14:F.transactionGetReceipt=U.proto.TransactionGetReceiptResponse.decode(t,t.uint32());break;case 15:F.transactionGetRecord=U.proto.TransactionGetRecordResponse.decode(t,t.uint32());break;case 16:F.transactionGetFastRecord=U.proto.TransactionGetFastRecordResponse.decode(t,t.uint32());break;case 150:F.consensusGetTopicInfo=U.proto.ConsensusGetTopicInfoResponse.decode(t,t.uint32());break;case 151:F.networkGetVersionInfo=U.proto.NetworkGetVersionInfoResponse.decode(t,t.uint32());break;case 152:F.tokenGetInfo=U.proto.TokenGetInfoResponse.decode(t,t.uint32());break;case 153:F.scheduleGetInfo=U.proto.ScheduleGetInfoResponse.decode(t,t.uint32());break;case 154:F.tokenGetAccountNftInfos=U.proto.TokenGetAccountNftInfosResponse.decode(t,t.uint32());break;case 155:F.tokenGetNftInfo=U.proto.TokenGetNftInfoResponse.decode(t,t.uint32());break;case 156:F.tokenGetNftInfos=U.proto.TokenGetNftInfosResponse.decode(t,t.uint32());break;case 157:F.networkGetExecutionTime=U.proto.NetworkGetExecutionTimeResponse.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),CryptoService:function(){function t(t,Q,B){e.rpc.Service.call(this,t,Q,B)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,t.create=function(t,e,Q){return new this(t,e,Q)},Object.defineProperty(t.prototype.createAccount=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"createAccount"}),Object.defineProperty(t.prototype.updateAccount=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"updateAccount"}),Object.defineProperty(t.prototype.cryptoTransfer=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"cryptoTransfer"}),Object.defineProperty(t.prototype.cryptoDelete=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"cryptoDelete"}),Object.defineProperty(t.prototype.approveAllowances=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"approveAllowances"}),Object.defineProperty(t.prototype.adjustAllowance=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"adjustAllowance"}),Object.defineProperty(t.prototype.addLiveHash=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"addLiveHash"}),Object.defineProperty(t.prototype.deleteLiveHash=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"deleteLiveHash"}),Object.defineProperty(t.prototype.getLiveHash=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getLiveHash"}),Object.defineProperty(t.prototype.getAccountRecords=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getAccountRecords"}),Object.defineProperty(t.prototype.cryptoGetBalance=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"cryptoGetBalance"}),Object.defineProperty(t.prototype.getAccountInfo=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getAccountInfo"}),Object.defineProperty(t.prototype.getTransactionReceipts=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getTransactionReceipts"}),Object.defineProperty(t.prototype.getFastTransactionRecord=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getFastTransactionRecord"}),Object.defineProperty(t.prototype.getTxRecordByTxID=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getTxRecordByTxID"}),Object.defineProperty(t.prototype.getStakersByAccountID=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getStakersByAccountID"}),t}(),FileService:function(){function t(t,Q,B){e.rpc.Service.call(this,t,Q,B)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,t.create=function(t,e,Q){return new this(t,e,Q)},Object.defineProperty(t.prototype.createFile=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"createFile"}),Object.defineProperty(t.prototype.updateFile=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"updateFile"}),Object.defineProperty(t.prototype.deleteFile=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"deleteFile"}),Object.defineProperty(t.prototype.appendContent=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"appendContent"}),Object.defineProperty(t.prototype.getFileContent=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getFileContent"}),Object.defineProperty(t.prototype.getFileInfo=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getFileInfo"}),Object.defineProperty(t.prototype.systemDelete=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"systemDelete"}),Object.defineProperty(t.prototype.systemUndelete=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"systemUndelete"}),t}(),FreezeService:function(){function t(t,Q,B){e.rpc.Service.call(this,t,Q,B)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,t.create=function(t,e,Q){return new this(t,e,Q)},Object.defineProperty(t.prototype.freeze=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"freeze"}),t}(),ConsensusTopicQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.topicID=null,t.prototype.consensusStartTime=null,t.prototype.consensusEndTime=null,t.prototype.limit=F.Long?F.Long.fromBits(0,0,!0):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.topicID&&Object.hasOwnProperty.call(t,"topicID")&&U.proto.TopicID.encode(t.topicID,e.uint32(10).fork()).ldelim(),null!=t.consensusStartTime&&Object.hasOwnProperty.call(t,"consensusStartTime")&&U.proto.Timestamp.encode(t.consensusStartTime,e.uint32(18).fork()).ldelim(),null!=t.consensusEndTime&&Object.hasOwnProperty.call(t,"consensusEndTime")&&U.proto.Timestamp.encode(t.consensusEndTime,e.uint32(26).fork()).ldelim(),null!=t.limit&&Object.hasOwnProperty.call(t,"limit")&&e.uint32(32).uint64(t.limit),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ConsensusTopicQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.topicID=U.proto.TopicID.decode(t,t.uint32());break;case 2:F.consensusStartTime=U.proto.Timestamp.decode(t,t.uint32());break;case 3:F.consensusEndTime=U.proto.Timestamp.decode(t,t.uint32());break;case 4:F.limit=t.uint64();break;default:t.skipType(7&Q)}return F},t}(),ConsensusTopicResponse:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.consensusTimestamp=null,t.prototype.message=F.newBuffer([]),t.prototype.runningHash=F.newBuffer([]),t.prototype.sequenceNumber=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.runningHashVersion=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.chunkInfo=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.consensusTimestamp&&Object.hasOwnProperty.call(t,"consensusTimestamp")&&U.proto.Timestamp.encode(t.consensusTimestamp,e.uint32(10).fork()).ldelim(),null!=t.message&&Object.hasOwnProperty.call(t,"message")&&e.uint32(18).bytes(t.message),null!=t.runningHash&&Object.hasOwnProperty.call(t,"runningHash")&&e.uint32(26).bytes(t.runningHash),null!=t.sequenceNumber&&Object.hasOwnProperty.call(t,"sequenceNumber")&&e.uint32(32).uint64(t.sequenceNumber),null!=t.runningHashVersion&&Object.hasOwnProperty.call(t,"runningHashVersion")&&e.uint32(40).uint64(t.runningHashVersion),null!=t.chunkInfo&&Object.hasOwnProperty.call(t,"chunkInfo")&&U.proto.ConsensusMessageChunkInfo.encode(t.chunkInfo,e.uint32(50).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ConsensusTopicResponse;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.consensusTimestamp=U.proto.Timestamp.decode(t,t.uint32());break;case 2:F.message=t.bytes();break;case 3:F.runningHash=t.bytes();break;case 4:F.sequenceNumber=t.uint64();break;case 5:F.runningHashVersion=t.uint64();break;case 6:F.chunkInfo=U.proto.ConsensusMessageChunkInfo.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),MirrorConsensusService:function(){function t(t,Q,B){e.rpc.Service.call(this,t,Q,B)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,t.create=function(t,e,Q){return new this(t,e,Q)},Object.defineProperty(t.prototype.subscribeTopic=function t(e,Q){return this.rpcCall(t,U.proto.ConsensusTopicQuery,U.proto.ConsensusTopicResponse,e,Q)},"name",{value:"subscribeTopic"}),t}(),AddressBookQuery:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.fileId=null,t.prototype.limit=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.fileId&&Object.hasOwnProperty.call(t,"fileId")&&U.proto.FileID.encode(t.fileId,e.uint32(10).fork()).ldelim(),null!=t.limit&&Object.hasOwnProperty.call(t,"limit")&&e.uint32(16).int32(t.limit),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.AddressBookQuery;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.fileId=U.proto.FileID.decode(t,t.uint32());break;case 2:F.limit=t.int32();break;default:t.skipType(7&Q)}return F},t}(),MirrorNetworkService:function(){function t(t,Q,B){e.rpc.Service.call(this,t,Q,B)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,t.create=function(t,e,Q){return new this(t,e,Q)},Object.defineProperty(t.prototype.getNodes=function t(e,Q){return this.rpcCall(t,U.proto.AddressBookQuery,U.proto.NodeAddress,e,Q)},"name",{value:"getNodes"}),t}(),NetworkService:function(){function t(t,Q,B){e.rpc.Service.call(this,t,Q,B)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,t.create=function(t,e,Q){return new this(t,e,Q)},Object.defineProperty(t.prototype.getVersionInfo=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getVersionInfo"}),Object.defineProperty(t.prototype.getExecutionTime=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getExecutionTime"}),Object.defineProperty(t.prototype.uncheckedSubmit=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"uncheckedSubmit"}),t}(),ScheduleService:function(){function t(t,Q,B){e.rpc.Service.call(this,t,Q,B)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,t.create=function(t,e,Q){return new this(t,e,Q)},Object.defineProperty(t.prototype.createSchedule=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"createSchedule"}),Object.defineProperty(t.prototype.signSchedule=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"signSchedule"}),Object.defineProperty(t.prototype.deleteSchedule=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"deleteSchedule"}),Object.defineProperty(t.prototype.getScheduleInfo=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getScheduleInfo"}),t}(),SmartContractService:function(){function t(t,Q,B){e.rpc.Service.call(this,t,Q,B)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,t.create=function(t,e,Q){return new this(t,e,Q)},Object.defineProperty(t.prototype.createContract=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"createContract"}),Object.defineProperty(t.prototype.updateContract=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"updateContract"}),Object.defineProperty(t.prototype.contractCallMethod=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"contractCallMethod"}),Object.defineProperty(t.prototype.getContractInfo=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getContractInfo"}),Object.defineProperty(t.prototype.contractCallLocalMethod=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"contractCallLocalMethod"}),Object.defineProperty(t.prototype.contractGetBytecode=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"ContractGetBytecode"}),Object.defineProperty(t.prototype.getBySolidityID=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getBySolidityID"}),Object.defineProperty(t.prototype.getTxRecordByContractID=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getTxRecordByContractID"}),Object.defineProperty(t.prototype.deleteContract=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"deleteContract"}),Object.defineProperty(t.prototype.systemDelete=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"systemDelete"}),Object.defineProperty(t.prototype.systemUndelete=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"systemUndelete"}),t}(),ThrottleGroup:function(){function t(t){if(this.operations=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.operations=F.emptyArray,t.prototype.milliOpsPerSec=F.Long?F.Long.fromBits(0,0,!0):0,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.operations&&t.operations.length){e.uint32(10).fork();for(var Q=0;Q<t.operations.length;++Q)e.int32(t.operations[Q]);e.ldelim()}return null!=t.milliOpsPerSec&&Object.hasOwnProperty.call(t,"milliOpsPerSec")&&e.uint32(16).uint64(t.milliOpsPerSec),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ThrottleGroup;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:if(F.operations&&F.operations.length||(F.operations=[]),2==(7&Q))for(var n=t.uint32()+t.pos;t.pos<n;)F.operations.push(t.int32());else F.operations.push(t.int32());break;case 2:F.milliOpsPerSec=t.uint64();break;default:t.skipType(7&Q)}return F},t}(),ThrottleBucket:function(){function t(t){if(this.throttleGroups=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.name="",t.prototype.burstPeriodMs=F.Long?F.Long.fromBits(0,0,!0):0,t.prototype.throttleGroups=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.name&&Object.hasOwnProperty.call(t,"name")&&e.uint32(10).string(t.name),null!=t.burstPeriodMs&&Object.hasOwnProperty.call(t,"burstPeriodMs")&&e.uint32(16).uint64(t.burstPeriodMs),null!=t.throttleGroups&&t.throttleGroups.length)for(var Q=0;Q<t.throttleGroups.length;++Q)U.proto.ThrottleGroup.encode(t.throttleGroups[Q],e.uint32(26).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ThrottleBucket;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.name=t.string();break;case 2:F.burstPeriodMs=t.uint64();break;case 3:F.throttleGroups&&F.throttleGroups.length||(F.throttleGroups=[]),F.throttleGroups.push(U.proto.ThrottleGroup.decode(t,t.uint32()));break;default:t.skipType(7&Q)}return F},t}(),ThrottleDefinitions:function(){function t(t){if(this.throttleBuckets=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.throttleBuckets=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.throttleBuckets&&t.throttleBuckets.length)for(var Q=0;Q<t.throttleBuckets.length;++Q)U.proto.ThrottleBucket.encode(t.throttleBuckets[Q],e.uint32(10).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.ThrottleDefinitions;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.throttleBuckets&&F.throttleBuckets.length||(F.throttleBuckets=[]),F.throttleBuckets.push(U.proto.ThrottleBucket.decode(t,t.uint32()));else t.skipType(7&Q);return F},t}(),TokenService:function(){function t(t,Q,B){e.rpc.Service.call(this,t,Q,B)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,t.create=function(t,e,Q){return new this(t,e,Q)},Object.defineProperty(t.prototype.createToken=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"createToken"}),Object.defineProperty(t.prototype.updateToken=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"updateToken"}),Object.defineProperty(t.prototype.mintToken=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"mintToken"}),Object.defineProperty(t.prototype.burnToken=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"burnToken"}),Object.defineProperty(t.prototype.deleteToken=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"deleteToken"}),Object.defineProperty(t.prototype.wipeTokenAccount=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"wipeTokenAccount"}),Object.defineProperty(t.prototype.freezeTokenAccount=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"freezeTokenAccount"}),Object.defineProperty(t.prototype.unfreezeTokenAccount=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"unfreezeTokenAccount"}),Object.defineProperty(t.prototype.grantKycToTokenAccount=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"grantKycToTokenAccount"}),Object.defineProperty(t.prototype.revokeKycFromTokenAccount=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"revokeKycFromTokenAccount"}),Object.defineProperty(t.prototype.associateTokens=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"associateTokens"}),Object.defineProperty(t.prototype.dissociateTokens=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"dissociateTokens"}),Object.defineProperty(t.prototype.updateTokenFeeSchedule=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"updateTokenFeeSchedule"}),Object.defineProperty(t.prototype.getTokenInfo=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getTokenInfo"}),Object.defineProperty(t.prototype.getAccountNftInfos=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getAccountNftInfos"}),Object.defineProperty(t.prototype.getTokenNftInfo=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getTokenNftInfo"}),Object.defineProperty(t.prototype.getTokenNftInfos=function t(e,Q){return this.rpcCall(t,U.proto.Query,U.proto.Response,e,Q)},"name",{value:"getTokenNftInfos"}),Object.defineProperty(t.prototype.pauseToken=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"pauseToken"}),Object.defineProperty(t.prototype.unpauseToken=function t(e,Q){return this.rpcCall(t,U.proto.Transaction,U.proto.TransactionResponse,e,Q)},"name",{value:"unpauseToken"}),t}(),SignedTransaction:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.bodyBytes=F.newBuffer([]),t.prototype.sigMap=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.bodyBytes&&Object.hasOwnProperty.call(t,"bodyBytes")&&e.uint32(10).bytes(t.bodyBytes),null!=t.sigMap&&Object.hasOwnProperty.call(t,"sigMap")&&U.proto.SignatureMap.encode(t.sigMap,e.uint32(18).fork()).ldelim(),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.SignedTransaction;t.pos<s;)switch(Q=t.uint32(),Q>>>3){case 1:F.bodyBytes=t.bytes();break;case 2:F.sigMap=U.proto.SignatureMap.decode(t,t.uint32());break;default:t.skipType(7&Q)}return F},t}(),TransactionList:function(){function t(t){if(this.transactionList=[],t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.transactionList=F.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=s.create()),null!=t.transactionList&&t.transactionList.length)for(var Q=0;Q<t.transactionList.length;++Q)U.proto.Transaction.encode(t.transactionList[Q],e.uint32(10).fork()).ldelim();return e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.TransactionList;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.transactionList&&F.transactionList.length||(F.transactionList=[]),F.transactionList.push(U.proto.Transaction.decode(t,t.uint32()));else t.skipType(7&Q);return F},t}(),DoubleValue:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(9).double(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.DoubleValue;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.double();else t.skipType(7&Q);return F},t}(),FloatValue:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(13).float(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.FloatValue;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.float();else t.skipType(7&Q);return F},t}(),Int64Value:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(8).int64(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.Int64Value;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.int64();else t.skipType(7&Q);return F},t}(),UInt64Value:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=F.Long?F.Long.fromBits(0,0,!0):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(8).uint64(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.UInt64Value;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.uint64();else t.skipType(7&Q);return F},t}(),Int32Value:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(8).int32(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.Int32Value;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.int32();else t.skipType(7&Q);return F},t}(),UInt32Value:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(8).uint32(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.UInt32Value;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.uint32();else t.skipType(7&Q);return F},t}(),BoolValue:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(8).bool(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.BoolValue;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.bool();else t.skipType(7&Q);return F},t}(),StringValue:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(10).string(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.StringValue;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.string();else t.skipType(7&Q);return F},t}(),BytesValue:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(10).bytes(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.proto.BytesValue;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.bytes();else t.skipType(7&Q);return F},t}()};return t})();t.proto=n;const c=U.google=(()=>{const t={protobuf:function(){const t={DoubleValue:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(9).double(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.google.protobuf.DoubleValue;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.double();else t.skipType(7&Q);return F},t}(),FloatValue:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(13).float(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.google.protobuf.FloatValue;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.float();else t.skipType(7&Q);return F},t}(),Int64Value:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=F.Long?F.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(8).int64(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.google.protobuf.Int64Value;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.int64();else t.skipType(7&Q);return F},t}(),UInt64Value:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=F.Long?F.Long.fromBits(0,0,!0):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(8).uint64(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.google.protobuf.UInt64Value;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.uint64();else t.skipType(7&Q);return F},t}(),Int32Value:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(8).int32(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.google.protobuf.Int32Value;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.int32();else t.skipType(7&Q);return F},t}(),UInt32Value:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(8).uint32(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.google.protobuf.UInt32Value;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.uint32();else t.skipType(7&Q);return F},t}(),BoolValue:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(8).bool(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.google.protobuf.BoolValue;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.bool();else t.skipType(7&Q);return F},t}(),StringValue:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(10).string(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.google.protobuf.StringValue;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.string();else t.skipType(7&Q);return F},t}(),BytesValue:function(){function t(t){if(t)for(var e=Object.keys(t),Q=0;Q<e.length;++Q)null!=t[e[Q]]&&(this[e[Q]]=t[e[Q]])}return t.prototype.value=F.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=s.create()),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(10).bytes(t.value),e},t.decode=function(t,e){t instanceof B||(t=B.create(t));for(var Q,s=void 0===e?t.len:t.pos+e,F=new U.google.protobuf.BytesValue;t.pos<s;)if(1==(Q=t.uint32())>>>3)F.value=t.bytes();else t.skipType(7&Q);return F},t}()};return t}()};return t})();t.google=c}(proto),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkGetVersionInfoQuery=t.MirrorNetworkService=t.MirrorConsensusService=t.LiveHash=t.KeyList=t.Key=t.HederaFunctionality=t.GrantedTokenAllowance=t.GrantedNftAllowance=t.GrantedCryptoAllowance=t.GetBySolidityIDResponse=t.GetBySolidityIDQuery=t.GetByKeyResponse=t.GetByKeyQuery=t.FreezeType=t.FreezeTransactionBody=t.FreezeService=t.FractionalFee=t.Fraction=t.FloatValue=t.FixedFee=t.FileUpdateTransactionBody=t.FileService=t.FileInfo=t.FileID=t.FileGetInfoResponse=t.FileGetInfoQuery=t.FileGetContentsResponse=t.FileGetContentsQuery=t.FileDeleteTransactionBody=t.FileCreateTransactionBody=t.FileContents=t.FileAppendTransactionBody=t.FeeSchedule=t.FeeData=t.FeeComponents=t.ExchangeRateSet=t.ExchangeRate=t.EntityID=t.Duration=t.DoubleValue=t.CustomFee=t.CurrentAndNextFeeSchedule=t.CryptoUpdateTransactionBody=t.CryptoTransferTransactionBody=t.CryptoService=t.CryptoGetStakersResponse=t.CryptoGetStakersQuery=t.CryptoGetLiveHashResponse=t.CryptoGetLiveHashQuery=t.CryptoGetInfoResponse=t.CryptoGetInfoQuery=t.CryptoGetAccountRecordsResponse=t.CryptoGetAccountRecordsQuery=t.CryptoGetAccountBalanceResponse=t.CryptoGetAccountBalanceQuery=t.CryptoDeleteTransactionBody=t.CryptoDeleteLiveHashTransactionBody=t.CryptoCreateTransactionBody=t.CryptoApproveAllowanceTransactionBody=t.CryptoAllowance=t.CryptoAdjustAllowanceTransactionBody=t.CryptoAddLiveHashTransactionBody=t.ContractUpdateTransactionBody=t.ContractStateChange=t.ContractLoginfo=t.ContractInfo=t.ContractID=t.ContractGetRecordsResponse=t.ContractGetRecordsQuery=t.ContractGetInfoResponse=t.ContractGetInfoQuery=t.ContractGetBytecodeResponse=t.ContractGetBytecodeQuery=t.ContractFunctionResult=t.ContractDeleteTransactionBody=t.ContractCreateTransactionBody=t.ContractCallTransactionBody=t.ContractCallLocalResponse=t.ContractCallLocalQuery=t.ConsensusUpdateTopicTransactionBody=t.ConsensusTopicResponse=t.ConsensusTopicQuery=t.ConsensusTopicInfo=t.ConsensusSubmitMessageTransactionBody=t.ConsensusService=t.ConsensusMessageChunkInfo=t.ConsensusGetTopicInfoResponse=t.ConsensusGetTopicInfoQuery=t.ConsensusDeleteTopicTransactionBody=t.ConsensusCreateTopicTransactionBody=t.BytesValue=t.BoolValue=t.AssessedCustomFee=t.AllProxyStakers=t.AllAccountBalances=t.AddressBookQuery=t.AccountInfo=t.AccountID=t.AccountAmount=void 0,t.TransactionList=t.TransactionID=t.TransactionGetRecordResponse=t.TransactionGetRecordQuery=t.TransactionGetReceiptResponse=t.TransactionGetReceiptQuery=t.TransactionGetFastRecordResponse=t.TransactionGetFastRecordQuery=t.TransactionFeeSchedule=t.TransactionBody=t.Transaction=t.TopicID=t.TokenWipeAccountTransactionBody=t.TokenUpdateTransactionBody=t.TokenUnpauseTransactionBody=t.TokenUnitBalance=t.TokenUnfreezeAccountTransactionBody=t.TokenType=t.TokenTransferList=t.TokenSupplyType=t.TokenService=t.TokenRevokeKycTransactionBody=t.TokenRelationship=t.TokenPauseTransactionBody=t.TokenPauseStatus=t.TokenNftInfo=t.TokenMintTransactionBody=t.TokenKycStatus=t.TokenInfo=t.TokenID=t.TokenGrantKycTransactionBody=t.TokenGetNftInfosResponse=t.TokenGetNftInfosQuery=t.TokenGetNftInfoResponse=t.TokenGetNftInfoQuery=t.TokenGetInfoResponse=t.TokenGetInfoQuery=t.TokenGetAccountNftInfosResponse=t.TokenGetAccountNftInfosQuery=t.TokenFreezeStatus=t.TokenFreezeAccountTransactionBody=t.TokenFeeScheduleUpdateTransactionBody=t.TokenDissociateTransactionBody=t.TokenDeleteTransactionBody=t.TokenCreateTransactionBody=t.TokenBurnTransactionBody=t.TokenBalances=t.TokenBalance=t.TokenAssociateTransactionBody=t.TokenAllowance=t.TimestampSeconds=t.Timestamp=t.ThrottleGroup=t.ThrottleDefinitions=t.ThrottleBucket=t.ThresholdSignature=t.ThresholdKey=t.SystemUndeleteTransactionBody=t.SystemDeleteTransactionBody=t.SubType=t.StringValue=t.StorageChange=t.SmartContractService=t.SingleAccountBalances=t.SignedTransaction=t.SignaturePair=t.SignatureMap=t.SignatureList=t.Signature=t.ShardID=t.Setting=t.ServicesConfigurationList=t.ServiceEndpoint=t.SemanticVersion=t.ScheduleSignTransactionBody=t.ScheduleService=t.ScheduleInfo=t.ScheduleID=t.ScheduleGetInfoResponse=t.ScheduleGetInfoQuery=t.ScheduleDeleteTransactionBody=t.ScheduleCreateTransactionBody=t.SchedulableTransactionBody=t.RoyaltyFee=t.ResponseType=t.ResponseHeader=t.ResponseCodeEnum=t.Response=t.RealmID=t.Reader=t.QueryHeader=t.Query=t.ProxyStaker=t.NodeAddressBook=t.NodeAddress=t.NftTransfer=t.NftID=t.NftAllowance=t.NetworkService=t.NetworkGetVersionInfoResponse=t.NetworkGetVersionInfoQuery=t.MirrorNetworkService=t.MirrorConsensusService=t.LiveHash=t.KeyList=t.Key=t.HederaFunctionality=t.GrantedTokenAllowance=t.GrantedNftAllowance=t.GrantedCryptoAllowance=t.GetBySolidityIDResponse=t.GetBySolidityIDQuery=t.GetByKeyResponse=t.GetByKeyQuery=t.FreezeType=t.FreezeTransactionBody=t.FreezeService=t.FractionalFee=t.Fraction=t.FloatValue=t.FixedFee=t.FileUpdateTransactionBody=t.FileService=t.FileInfo=t.FileID=t.FileGetInfoResponse=t.FileGetInfoQuery=t.FileGetContentsResponse=t.FileGetContentsQuery=t.FileDeleteTransactionBody=t.FileCreateTransactionBody=t.FileContents=t.FileAppendTransactionBody=t.FeeSchedule=t.FeeData=t.FeeComponents=t.ExchangeRateSet=t.ExchangeRate=t.EntityID=t.Duration=t.DoubleValue=t.CustomFee=t.CurrentAndNextFeeSchedule=t.CryptoUpdateTransactionBody=t.CryptoTransferTransactionBody=t.CryptoService=t.CryptoGetStakersResponse=t.CryptoGetStakersQuery=t.CryptoGetLiveHashResponse=t.CryptoGetLiveHashQuery=t.CryptoGetInfoResponse=t.CryptoGetInfoQuery=t.CryptoGetAccountRecordsResponse=t.CryptoGetAccountRecordsQuery=t.CryptoGetAccountBalanceResponse=t.CryptoGetAccountBalanceQuery=t.CryptoDeleteTransactionBody=t.CryptoDeleteLiveHashTransactionBody=t.CryptoCreateTransactionBody=t.CryptoApproveAllowanceTransactionBody=t.CryptoAllowance=t.CryptoAdjustAllowanceTransactionBody=t.CryptoAddLiveHashTransactionBody=t.ContractUpdateTransactionBody=t.ContractStateChange=t.ContractLoginfo=t.ContractInfo=t.ContractID=t.ContractGetRecordsResponse=t.ContractGetRecordsQuery=t.ContractGetInfoResponse=t.ContractGetInfoQuery=t.ContractGetBytecodeResponse=t.ContractGetBytecodeQuery=t.ContractFunctionResult=t.ContractDeleteTransactionBody=t.ContractCreateTransactionBody=t.ContractCallTransactionBody=t.ContractCallLocalResponse=t.ContractCallLocalQuery=t.ConsensusUpdateTopicTransactionBody=t.ConsensusTopicResponse=t.ConsensusTopicQuery=t.ConsensusTopicInfo=t.ConsensusSubmitMessageTransactionBody=t.ConsensusService=t.ConsensusMessageChunkInfo=t.ConsensusGetTopicInfoResponse=t.ConsensusGetTopicInfoQuery=t.ConsensusDeleteTopicTransactionBody=t.ConsensusCreateTopicTransactionBody=t.BytesValue=t.BoolValue=t.AssessedCustomFee=t.AllProxyStakers=t.AllAccountBalances=t.AddressBookQuery=t.AccountInfo=t.AccountID=t.AccountAmount=void 0,t.Writer=t.UncheckedSubmitBody=t.UInt64Value=t.UInt32Value=t.TransferList=t.TransactionResponse=t.TransactionRecord=t.TransactionReceipt=t.TransactionList=t.TransactionID=t.TransactionGetRecordResponse=t.TransactionGetRecordQuery=t.TransactionGetReceiptResponse=t.TransactionGetReceiptQuery=t.TransactionGetFastRecordResponse=t.TransactionGetFastRecordQuery=t.TransactionFeeSchedule=t.TransactionBody=t.Transaction=t.TopicID=t.TokenWipeAccountTransactionBody=t.TokenUpdateTransactionBody=t.TokenUnpauseTransactionBody=t.TokenUnitBalance=t.TokenUnfreezeAccountTransactionBody=t.TokenType=t.TokenTransferList=t.TokenSupplyType=t.TokenService=t.TokenRevokeKycTransactionBody=t.TokenRelationship=t.TokenPauseTransactionBody=t.TokenPauseStatus=t.TokenNftInfo=t.TokenMintTransactionBody=t.TokenKycStatus=t.TokenInfo=t.TokenID=t.TokenGrantKycTransactionBody=t.TokenGetNftInfosResponse=t.TokenGetNftInfosQuery=t.TokenGetNftInfoResponse=t.TokenGetNftInfoQuery=t.TokenGetInfoResponse=t.TokenGetInfoQuery=t.TokenGetAccountNftInfosResponse=t.TokenGetAccountNftInfosQuery=t.TokenFreezeStatus=t.TokenFreezeAccountTransactionBody=t.TokenFeeScheduleUpdateTransactionBody=t.TokenDissociateTransactionBody=t.TokenDeleteTransactionBody=t.TokenCreateTransactionBody=t.TokenBurnTransactionBody=t.TokenBalances=t.TokenBalance=t.TokenAssociateTransactionBody=t.TokenAllowance=t.TimestampSeconds=t.Timestamp=t.ThrottleGroup=t.ThrottleDefinitions=t.ThrottleBucket=t.ThresholdSignature=t.ThresholdKey=t.SystemUndeleteTransactionBody=t.SystemDeleteTransactionBody=t.SubType=t.StringValue=t.StorageChange=t.SmartContractService=t.SingleAccountBalances=t.SignedTransaction=t.SignaturePair=t.SignatureMap=t.SignatureList=t.Signature=t.ShardID=t.Setting=t.ServicesConfigurationList=t.ServiceEndpoint=t.SemanticVersion=t.ScheduleSignTransactionBody=t.ScheduleService=t.ScheduleInfo=t.ScheduleID=t.ScheduleGetInfoResponse=t.ScheduleGetInfoQuery=t.ScheduleDeleteTransactionBody=t.ScheduleCreateTransactionBody=t.SchedulableTransactionBody=t.RoyaltyFee=t.ResponseType=t.ResponseHeader=t.ResponseCodeEnum=t.Response=t.RealmID=t.Reader=t.QueryHeader=t.Query=t.ProxyStaker=t.NodeAddressBook=t.NodeAddress=t.NftTransfer=t.NftID=t.NftAllowance=t.NetworkService=t.NetworkGetVersionInfoResponse=t.NetworkGetVersionInfoQuery=t.MirrorNetworkService=t.MirrorConsensusService=t.LiveHash=t.KeyList=t.Key=t.HederaFunctionality=t.GrantedTokenAllowance=t.GrantedNftAllowance=t.GrantedCryptoAllowance=t.GetBySolidityIDResponse=t.GetBySolidityIDQuery=t.GetByKeyResponse=t.GetByKeyQuery=t.FreezeType=t.FreezeTransactionBody=t.FreezeService=t.FractionalFee=t.Fraction=t.FloatValue=t.FixedFee=t.FileUpdateTransactionBody=t.FileService=t.FileInfo=t.FileID=t.FileGetInfoResponse=t.FileGetInfoQuery=t.FileGetContentsResponse=t.FileGetContentsQuery=t.FileDeleteTransactionBody=t.FileCreateTransactionBody=t.FileContents=t.FileAppendTransactionBody=t.FeeSchedule=t.FeeData=t.FeeComponents=t.ExchangeRateSet=t.ExchangeRate=t.EntityID=t.Duration=t.DoubleValue=t.CustomFee=t.CurrentAndNextFeeSchedule=t.CryptoUpdateTransactionBody=t.CryptoTransferTransactionBody=t.CryptoService=t.CryptoGetStakersResponse=t.CryptoGetStakersQuery=t.CryptoGetLiveHashResponse=t.CryptoGetLiveHashQuery=t.CryptoGetInfoResponse=t.CryptoGetInfoQuery=t.CryptoGetAccountRecordsResponse=t.CryptoGetAccountRecordsQuery=t.CryptoGetAccountBalanceResponse=t.CryptoGetAccountBalanceQuery=t.CryptoDeleteTransactionBody=t.CryptoDeleteLiveHashTransactionBody=t.CryptoCreateTransactionBody=t.CryptoApproveAllowanceTransactionBody=t.CryptoAllowance=t.CryptoAdjustAllowanceTransactionBody=t.CryptoAddLiveHashTransactionBody=t.ContractUpdateTransactionBody=t.ContractStateChange=t.ContractLoginfo=t.ContractInfo=t.ContractID=t.ContractGetRecordsResponse=t.ContractGetRecordsQuery=t.ContractGetInfoResponse=t.ContractGetInfoQuery=t.ContractGetBytecodeResponse=t.ContractGetBytecodeQuery=t.ContractFunctionResult=t.ContractDeleteTransactionBody=t.ContractCreateTransactionBody=t.ContractCallTransactionBody=t.ContractCallLocalResponse=t.ContractCallLocalQuery=t.ConsensusUpdateTopicTransactionBody=t.ConsensusTopicResponse=t.ConsensusTopicQuery=t.ConsensusTopicInfo=t.ConsensusSubmitMessageTransactionBody=t.ConsensusService=t.ConsensusMessageChunkInfo=t.ConsensusGetTopicInfoResponse=t.ConsensusGetTopicInfoQuery=t.ConsensusDeleteTopicTransactionBody=t.ConsensusCreateTopicTransactionBody=t.BytesValue=t.BoolValue=t.AssessedCustomFee=t.AllProxyStakers=t.AllAccountBalances=t.AddressBookQuery=t.AccountInfo=t.AccountID=t.AccountAmount=void 0;var e,Q=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var Q=F(e);if(Q&&Q.has(t))return Q.get(t);var B={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in t)if("default"!=U&&Object.prototype.hasOwnProperty.call(t,U)){var n=s?Object.getOwnPropertyDescriptor(t,U):null;n&&(n.get||n.set)?Object.defineProperty(B,U,n):B[U]=t[U]}return B.default=t,Q&&Q.set(t,B),B}(minimal),B=proto,s=(e=long)&&e.__esModule?e:{default:e};function F(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,Q=new WeakMap;return(F=function(t){return t?Q:e})(t)}(()=>{var t=Q.util;null==t.Long&&(console.log("Patching Protobuf Long.js instance..."),t.Long=s.default,null!=Q.Reader._configure&&Q.Reader._configure(Q.BufferReader))})();const U=Q.Reader;t.Reader=U;const n=Q.Writer;t.Writer=n;const c=B.proto.TokenUnitBalance;t.TokenUnitBalance=c;const o=B.proto.SingleAccountBalances;t.SingleAccountBalances=o;const g=B.proto.AllAccountBalances;t.AllAccountBalances=g;const l=B.proto.ShardID;t.ShardID=l;const I=B.proto.RealmID;t.RealmID=I;const r=B.proto.AccountID;t.AccountID=r;const i=B.proto.FileID;t.FileID=i;const a=B.proto.ContractID;t.ContractID=a;const d=B.proto.TransactionID;t.TransactionID=d;const u=B.proto.AccountAmount;t.AccountAmount=u;const C=B.proto.TransferList;t.TransferList=C;const y=B.proto.NftTransfer;t.NftTransfer=y;const S=B.proto.TokenTransferList;t.TokenTransferList=S;const b=B.proto.Fraction;t.Fraction=b;const m=B.proto.TopicID;t.TopicID=m;const G=B.proto.TokenID;t.TokenID=G;const x=B.proto.ScheduleID;t.ScheduleID=x;const L=B.proto.TokenType;t.TokenType=L;const Z=B.proto.SubType;t.SubType=Z;const A=B.proto.TokenSupplyType;t.TokenSupplyType=A;const h=B.proto.TokenFreezeStatus;t.TokenFreezeStatus=h;const N=B.proto.TokenKycStatus;t.TokenKycStatus=N;const R=B.proto.Key;t.Key=R;const V=B.proto.ThresholdKey;t.ThresholdKey=V;const E=B.proto.KeyList;t.KeyList=E;const p=B.proto.Signature;t.Signature=p;const D=B.proto.ThresholdSignature;t.ThresholdSignature=D;const J=B.proto.SignatureList;t.SignatureList=J;const X=B.proto.SignaturePair;t.SignaturePair=X;const H=B.proto.SignatureMap;t.SignatureMap=H;const W=B.proto.HederaFunctionality;t.HederaFunctionality=W;const k=B.proto.FeeComponents;t.FeeComponents=k;const T=B.proto.TransactionFeeSchedule;t.TransactionFeeSchedule=T;const f=B.proto.FeeData;t.FeeData=f;const Y=B.proto.FeeSchedule;t.FeeSchedule=Y;const w=B.proto.CurrentAndNextFeeSchedule;t.CurrentAndNextFeeSchedule=w;const M=B.proto.ServiceEndpoint;t.ServiceEndpoint=M;const v=B.proto.NodeAddress;t.NodeAddress=v;const z=B.proto.NodeAddressBook;t.NodeAddressBook=z;const K=B.proto.SemanticVersion;t.SemanticVersion=K;const O=B.proto.Setting;t.Setting=O;const P=B.proto.ServicesConfigurationList;t.ServicesConfigurationList=P;const j=B.proto.TokenRelationship;t.TokenRelationship=j;const _=B.proto.TokenBalance;t.TokenBalance=_;const q=B.proto.TokenBalances;t.TokenBalances=q;const $=B.proto.Timestamp;t.Timestamp=$;const tt=B.proto.TimestampSeconds;t.TimestampSeconds=tt;const et=B.proto.ConsensusCreateTopicTransactionBody;t.ConsensusCreateTopicTransactionBody=et;const Qt=B.proto.Duration;t.Duration=Qt;const Bt=B.proto.ConsensusDeleteTopicTransactionBody;t.ConsensusDeleteTopicTransactionBody=Bt;const st=B.proto.ConsensusGetTopicInfoQuery;t.ConsensusGetTopicInfoQuery=st;const Ft=B.proto.ConsensusGetTopicInfoResponse;t.ConsensusGetTopicInfoResponse=Ft;const Ut=B.proto.ResponseType;t.ResponseType=Ut;const nt=B.proto.QueryHeader;t.QueryHeader=nt;const ct=B.proto.Transaction;t.Transaction=ct;const ot=B.proto.TransactionBody;t.TransactionBody=ot;const gt=B.proto.SystemDeleteTransactionBody;t.SystemDeleteTransactionBody=gt;const lt=B.proto.SystemUndeleteTransactionBody;t.SystemUndeleteTransactionBody=lt;const It=B.proto.FreezeTransactionBody;t.FreezeTransactionBody=It;const rt=B.proto.ContractCallTransactionBody;t.ContractCallTransactionBody=rt;const it=B.proto.ContractCreateTransactionBody;t.ContractCreateTransactionBody=it;const at=B.proto.ContractUpdateTransactionBody;t.ContractUpdateTransactionBody=at;const dt=B.proto.LiveHash;t.LiveHash=dt;const ut=B.proto.CryptoAddLiveHashTransactionBody;t.CryptoAddLiveHashTransactionBody=ut;const Ct=B.proto.CryptoCreateTransactionBody;t.CryptoCreateTransactionBody=Ct;const yt=B.proto.CryptoDeleteTransactionBody;t.CryptoDeleteTransactionBody=yt;const St=B.proto.CryptoDeleteLiveHashTransactionBody;t.CryptoDeleteLiveHashTransactionBody=St;const bt=B.proto.CryptoTransferTransactionBody;t.CryptoTransferTransactionBody=bt;const mt=B.proto.CryptoUpdateTransactionBody;t.CryptoUpdateTransactionBody=mt;const Gt=B.proto.CryptoApproveAllowanceTransactionBody;t.CryptoApproveAllowanceTransactionBody=Gt;const xt=B.proto.CryptoAdjustAllowanceTransactionBody;t.CryptoAdjustAllowanceTransactionBody=xt;const Lt=B.proto.FileAppendTransactionBody;t.FileAppendTransactionBody=Lt;const Zt=B.proto.FileCreateTransactionBody;t.FileCreateTransactionBody=Zt;const At=B.proto.FileDeleteTransactionBody;t.FileDeleteTransactionBody=At;const ht=B.proto.FileUpdateTransactionBody;t.FileUpdateTransactionBody=ht;const Nt=B.proto.ContractDeleteTransactionBody;t.ContractDeleteTransactionBody=Nt;const Rt=B.proto.ConsensusUpdateTopicTransactionBody;t.ConsensusUpdateTopicTransactionBody=Rt;const Vt=B.proto.ConsensusMessageChunkInfo;t.ConsensusMessageChunkInfo=Vt;const Et=B.proto.ConsensusSubmitMessageTransactionBody;t.ConsensusSubmitMessageTransactionBody=Et;const pt=B.proto.UncheckedSubmitBody;t.UncheckedSubmitBody=pt;const Dt=B.proto.TokenCreateTransactionBody;t.TokenCreateTransactionBody=Dt;const Jt=B.proto.FractionalFee;t.FractionalFee=Jt;const Xt=B.proto.FixedFee;t.FixedFee=Xt;const Ht=B.proto.CustomFee;t.CustomFee=Ht;const Wt=B.proto.AssessedCustomFee;t.AssessedCustomFee=Wt;const kt=B.proto.RoyaltyFee;t.RoyaltyFee=kt;const Tt=B.proto.TokenFreezeAccountTransactionBody;t.TokenFreezeAccountTransactionBody=Tt;const ft=B.proto.TokenUnfreezeAccountTransactionBody;t.TokenUnfreezeAccountTransactionBody=ft;const Yt=B.proto.TokenGrantKycTransactionBody;t.TokenGrantKycTransactionBody=Yt;const wt=B.proto.TokenRevokeKycTransactionBody;t.TokenRevokeKycTransactionBody=wt;const Mt=B.proto.TokenDeleteTransactionBody;t.TokenDeleteTransactionBody=Mt;const vt=B.proto.TokenUpdateTransactionBody;t.TokenUpdateTransactionBody=vt;const zt=B.proto.TokenMintTransactionBody;t.TokenMintTransactionBody=zt;const Kt=B.proto.TokenBurnTransactionBody;t.TokenBurnTransactionBody=Kt;const Ot=B.proto.TokenWipeAccountTransactionBody;t.TokenWipeAccountTransactionBody=Ot;const Pt=B.proto.TokenAssociateTransactionBody;t.TokenAssociateTransactionBody=Pt;const jt=B.proto.TokenDissociateTransactionBody;t.TokenDissociateTransactionBody=jt;const _t=B.proto.TokenFeeScheduleUpdateTransactionBody;t.TokenFeeScheduleUpdateTransactionBody=_t;const qt=B.proto.ScheduleCreateTransactionBody;t.ScheduleCreateTransactionBody=qt;const $t=B.proto.SchedulableTransactionBody;t.SchedulableTransactionBody=$t;const te=B.proto.ScheduleDeleteTransactionBody;t.ScheduleDeleteTransactionBody=te;const ee=B.proto.ScheduleSignTransactionBody;t.ScheduleSignTransactionBody=ee;const Qe=B.proto.ResponseHeader;t.ResponseHeader=Qe;const Be=B.proto.TransactionResponse;t.TransactionResponse=Be;const se=B.proto.ResponseCodeEnum;t.ResponseCodeEnum=se;const Fe=B.proto.ConsensusTopicInfo;t.ConsensusTopicInfo=Fe;const Ue=B.proto.ConsensusService;t.ConsensusService=Ue;const ne=B.proto.Query;t.Query=ne;const ce=B.proto.GetByKeyQuery;t.GetByKeyQuery=ce;const oe=B.proto.EntityID;t.EntityID=oe;const ge=B.proto.GetByKeyResponse;t.GetByKeyResponse=ge;const le=B.proto.GetBySolidityIDQuery;t.GetBySolidityIDQuery=le;const Ie=B.proto.GetBySolidityIDResponse;t.GetBySolidityIDResponse=Ie;const re=B.proto.ContractLoginfo;t.ContractLoginfo=re;const ie=B.proto.ContractFunctionResult;t.ContractFunctionResult=ie;const ae=B.proto.ContractCallLocalQuery;t.ContractCallLocalQuery=ae;const de=B.proto.ContractCallLocalResponse;t.ContractCallLocalResponse=de;const ue=B.proto.ContractGetInfoQuery;t.ContractGetInfoQuery=ue;const Ce=B.proto.ContractGetInfoResponse;t.ContractGetInfoResponse=Ce;const ye=B.proto.ContractGetInfoResponse.ContractInfo;t.ContractInfo=ye;const Se=B.proto.ContractGetBytecodeQuery;t.ContractGetBytecodeQuery=Se;const be=B.proto.ContractGetBytecodeResponse;t.ContractGetBytecodeResponse=be;const me=B.proto.ContractGetRecordsQuery;t.ContractGetRecordsQuery=me;const Ge=B.proto.ContractGetRecordsResponse;t.ContractGetRecordsResponse=Ge;const xe=B.proto.ContractStateChange;t.ContractStateChange=xe;const Le=B.proto.StorageChange;t.StorageChange=Le;const Ze=B.proto.TransactionRecord;t.TransactionRecord=Ze;const Ae=B.proto.TransactionReceipt;t.TransactionReceipt=Ae;const he=B.proto.ExchangeRate;t.ExchangeRate=he;const Ne=B.proto.ExchangeRateSet;t.ExchangeRateSet=Ne;const Re=B.proto.CryptoGetAccountBalanceQuery;t.CryptoGetAccountBalanceQuery=Re;const Ve=B.proto.CryptoGetAccountBalanceResponse;t.CryptoGetAccountBalanceResponse=Ve;const Ee=B.proto.CryptoGetAccountRecordsQuery;t.CryptoGetAccountRecordsQuery=Ee;const pe=B.proto.CryptoGetAccountRecordsResponse;t.CryptoGetAccountRecordsResponse=pe;const De=B.proto.CryptoGetInfoQuery;t.CryptoGetInfoQuery=De;const Je=B.proto.CryptoGetInfoResponse;t.CryptoGetInfoResponse=Je;const Xe=B.proto.CryptoGetInfoResponse.AccountInfo;t.AccountInfo=Xe;const He=B.proto.CryptoAllowance;t.CryptoAllowance=He;const We=B.proto.TokenAllowance;t.TokenAllowance=We;const ke=B.proto.NftAllowance;t.NftAllowance=ke;const Te=B.proto.GrantedCryptoAllowance;t.GrantedCryptoAllowance=Te;const fe=B.proto.GrantedTokenAllowance;t.GrantedTokenAllowance=fe;const Ye=B.proto.GrantedNftAllowance;t.GrantedNftAllowance=Ye;const we=B.proto.CryptoGetLiveHashQuery;t.CryptoGetLiveHashQuery=we;const Me=B.proto.CryptoGetLiveHashResponse;t.CryptoGetLiveHashResponse=Me;const ve=B.proto.CryptoGetStakersQuery;t.CryptoGetStakersQuery=ve;const ze=B.proto.ProxyStaker;t.ProxyStaker=ze;const Ke=B.proto.AllProxyStakers;t.AllProxyStakers=Ke;const Oe=B.proto.CryptoGetStakersResponse;t.CryptoGetStakersResponse=Oe;const Pe=B.proto.FileGetContentsQuery;t.FileGetContentsQuery=Pe;const je=B.proto.FileGetContentsResponse;t.FileGetContentsResponse=je;const _e=B.proto.FileGetContentsResponse.FileContents;t.FileContents=_e;const qe=B.proto.FileGetInfoQuery;t.FileGetInfoQuery=qe;const $e=B.proto.FileGetInfoResponse;t.FileGetInfoResponse=$e;const tQ=B.proto.FileGetInfoResponse.FileInfo;t.FileInfo=tQ;const eQ=B.proto.TransactionGetReceiptQuery;t.TransactionGetReceiptQuery=eQ;const QQ=B.proto.TransactionGetReceiptResponse;t.TransactionGetReceiptResponse=QQ;const BQ=B.proto.TransactionGetRecordQuery;t.TransactionGetRecordQuery=BQ;const sQ=B.proto.TransactionGetRecordResponse;t.TransactionGetRecordResponse=sQ;const FQ=B.proto.TransactionGetFastRecordQuery;t.TransactionGetFastRecordQuery=FQ;const UQ=B.proto.TransactionGetFastRecordResponse;t.TransactionGetFastRecordResponse=UQ;const nQ=B.proto.NetworkGetVersionInfoQuery;t.NetworkGetVersionInfoQuery=nQ;const cQ=B.proto.NetworkGetVersionInfoResponse;t.NetworkGetVersionInfoResponse=cQ;const oQ=B.proto.TokenGetInfoQuery;t.TokenGetInfoQuery=oQ;const gQ=B.proto.TokenInfo;t.TokenInfo=gQ;const lQ=B.proto.TokenGetInfoResponse;t.TokenGetInfoResponse=lQ;const IQ=B.proto.ScheduleGetInfoQuery;t.ScheduleGetInfoQuery=IQ;const rQ=B.proto.ScheduleInfo;t.ScheduleInfo=rQ;const iQ=B.proto.ScheduleGetInfoResponse;t.ScheduleGetInfoResponse=iQ;const aQ=B.proto.TokenGetAccountNftInfosQuery;t.TokenGetAccountNftInfosQuery=aQ;const dQ=B.proto.TokenGetAccountNftInfosResponse;t.TokenGetAccountNftInfosResponse=dQ;const uQ=B.proto.NftID;t.NftID=uQ;const CQ=B.proto.TokenGetNftInfoQuery;t.TokenGetNftInfoQuery=CQ;const yQ=B.proto.TokenNftInfo;t.TokenNftInfo=yQ;const SQ=B.proto.TokenGetNftInfoResponse;t.TokenGetNftInfoResponse=SQ;const bQ=B.proto.TokenGetNftInfosQuery;t.TokenGetNftInfosQuery=bQ;const mQ=B.proto.TokenGetNftInfosResponse;t.TokenGetNftInfosResponse=mQ;const GQ=B.proto.Response;t.Response=GQ;const xQ=B.proto.CryptoService;t.CryptoService=xQ;const LQ=B.proto.FileService;t.FileService=LQ;const ZQ=B.proto.FreezeService;t.FreezeService=ZQ;const AQ=B.proto.ConsensusTopicQuery;t.ConsensusTopicQuery=AQ;const hQ=B.proto.ConsensusTopicResponse;t.ConsensusTopicResponse=hQ;const NQ=B.proto.MirrorConsensusService;t.MirrorConsensusService=NQ;const RQ=B.proto.NetworkService;t.NetworkService=RQ;const VQ=B.proto.ScheduleService;t.ScheduleService=VQ;const EQ=B.proto.SmartContractService;t.SmartContractService=EQ;const pQ=B.proto.ThrottleGroup;t.ThrottleGroup=pQ;const DQ=B.proto.ThrottleBucket;t.ThrottleBucket=DQ;const JQ=B.proto.ThrottleDefinitions;t.ThrottleDefinitions=JQ;const XQ=B.proto.TokenService;t.TokenService=XQ;const HQ=B.proto.SignedTransaction;t.SignedTransaction=HQ;const WQ=B.proto.TransactionList;t.TransactionList=WQ;const kQ=B.proto.DoubleValue;t.DoubleValue=kQ;const TQ=B.proto.FloatValue;t.FloatValue=TQ;const fQ=B.proto.UInt64Value;t.UInt64Value=fQ;const YQ=B.proto.UInt32Value;t.UInt32Value=YQ;const wQ=B.proto.BoolValue;t.BoolValue=wQ;const MQ=B.proto.StringValue;t.StringValue=MQ;const vQ=B.proto.BytesValue;t.BytesValue=vQ;const zQ=B.proto.TokenPauseTransactionBody;t.TokenPauseTransactionBody=zQ;const KQ=B.proto.TokenUnpauseTransactionBody;t.TokenUnpauseTransactionBody=KQ;const OQ=B.proto.TokenPauseStatus;t.TokenPauseStatus=OQ;const PQ=B.proto.FreezeType;t.FreezeType=PQ;const jQ=B.proto.AddressBookQuery;t.AddressBookQuery=jQ;const _Q=B.proto.MirrorNetworkService;t.MirrorNetworkService=_Q}(lib);class AccountId{constructor(t,e,Q,B){const s=constructor(t,e,Q);this.shard=s.shard,this.realm=s.realm,this.num=s.num,this.aliasKey=null!=B?B:null,this._checksum=null}static fromString(t){const e=fromStringSplitter(t);if(Number.isNaN(e.shard)||Number.isNaN(e.realm))throw new Error("invalid format for entity ID");const Q=null!=e.shard?long.fromString(e.shard):long.ZERO,B=null!=e.realm?long.fromString(e.realm):long.ZERO,[s,F]=e.numOrHex.length<20?[long.fromString(e.numOrHex),void 0]:[long.ZERO,PublicKey.fromString(e.numOrHex)];return new AccountId(Q,B,s,F)}static _fromProtobuf(t){let e=null!=t.alias&&t.alias.length>0?Key._fromProtobufKey(lib.Key.decode(t.alias)):void 0;return e instanceof PublicKey||(e=void 0),new AccountId(null!=t.shardNum?t.shardNum:0,null!=t.realmNum?t.realmNum:0,null!=t.accountNum?t.accountNum:0,e)}get checksum(){return this._checksum}validate(t){console.warn("Deprecated: Use `validateChecksum` instead"),this.validateChecksum(t)}validateChecksum(t){if(null!=this.aliasKey)throw new Error("cannot calculate checksum with an account ID that has a aliasKey");validateChecksum(this.shard,this.realm,this.num,this._checksum,t)}static fromBytes(t){return AccountId._fromProtobuf(lib.AccountID.decode(t))}static fromSolidityAddress(t){return new AccountId(...fromSolidityAddress(t))}toSolidityAddress(){return toSolidityAddress([this.shard,this.realm,this.num])}_toProtobuf(){return{alias:null!=this.aliasKey?lib.Key.encode(this.aliasKey._toProtobufKey()).finish():null,accountNum:this.num,shardNum:this.shard,realmNum:this.realm}}toBytes(){return lib.AccountID.encode(this._toProtobuf()).finish()}toString(){const t=null!=this.aliasKey?this.aliasKey.toString():this.num.toString();return`${this.shard.toString()}.${this.realm.toString()}.${t}`}toStringWithChecksum(t){if(null!=this.aliasKey)throw new Error("cannot calculate checksum with an account ID that has a aliasKey");return toStringWithChecksum(this.toString(),t)}equals(t){let e=!1;return null!=this.aliasKey&&null!=t.aliasKey?e=this.aliasKey.equals(t.aliasKey):null==this.aliasKey&&null==t.aliasKey&&(e=this.num.eq(t.num)),this.shard.eq(t.shard)&&this.realm.eq(t.realm)&&e}clone(){const t=new AccountId(this);return t._checksum=this._checksum,t}compare(t){let e=this.shard.compare(t.shard);if(0!=e)return e;if(e=this.realm.compare(t.realm),0!=e)return e;if(null!=this.aliasKey&&null!=t.aliasKey){const e=this.aliasKey.toString(),Q=t.aliasKey.toString();return e>Q?1:e<Q?-1:0}return null==this.aliasKey&&null==t.aliasKey?this.num.compare(t.num):0}}CACHE.accountIdConstructor=(t,e,Q)=>new AccountId(t,e,long.ZERO,Q);class GrpcStatus{constructor(t){this._code=t,Object.freeze(this)}static _fromValue(t){switch(t){case 0:return GrpcStatus.Ok;case 1:return GrpcStatus.Cancelled;case 2:return GrpcStatus.Unknown;case 3:return GrpcStatus.InvalidArgument;case 4:return GrpcStatus.DeadlineExceeded;case 5:return GrpcStatus.NotFound;case 6:return GrpcStatus.AlreadyExists;case 7:return GrpcStatus.PermissionDenied;case 16:return GrpcStatus.Unauthenticated;case 8:return GrpcStatus.ResourceExhausted;case 9:return GrpcStatus.FailedPrecondition;case 10:return GrpcStatus.Aborted;case 11:return GrpcStatus.OutOfRange;case 12:return GrpcStatus.Unimplemented;case 13:return GrpcStatus.Internal;case 14:return GrpcStatus.Unavailable;case 15:return GrpcStatus.DataLoss;default:throw new Error("(BUG) non-exhaustive GrpcStatus switch statement")}}toString(){switch(this){case GrpcStatus.Ok:return"OK";case GrpcStatus.Cancelled:return"CANCELLED";case GrpcStatus.Unknown:return"UNKNOWN";case GrpcStatus.InvalidArgument:return"INVALID_ARGUMENT";case GrpcStatus.DeadlineExceeded:return"DEADLINE_EXCEEDED";case GrpcStatus.NotFound:return"NOT_FOUND";case GrpcStatus.AlreadyExists:return"ALREADY_EXISTS";case GrpcStatus.PermissionDenied:return"PERMISSION_DENIED";case GrpcStatus.Unauthenticated:return"UNAUTHENTICATED";case GrpcStatus.ResourceExhausted:return"RESOURCE_EXHAUSTED";case GrpcStatus.FailedPrecondition:return"FAILED_PRECONDITION";case GrpcStatus.Aborted:return"ABORTED";case GrpcStatus.OutOfRange:return"OUT_OF_RANGE";case GrpcStatus.Unimplemented:return"UNIMPLEMENTED";case GrpcStatus.Internal:return"INTERNAL";case GrpcStatus.Unavailable:return"UNAVAILABLE";case GrpcStatus.DataLoss:return"DATA_LOSS";default:return`UNKNOWN (${this._code})`}}valueOf(){return this._code}}GrpcStatus.Ok=new GrpcStatus(0),GrpcStatus.Cancelled=new GrpcStatus(1),GrpcStatus.Unknown=new GrpcStatus(2),GrpcStatus.InvalidArgument=new GrpcStatus(3),GrpcStatus.DeadlineExceeded=new GrpcStatus(4),GrpcStatus.NotFound=new GrpcStatus(5),GrpcStatus.AlreadyExists=new GrpcStatus(6),GrpcStatus.PermissionDenied=new GrpcStatus(7),GrpcStatus.Unauthenticated=new GrpcStatus(16),GrpcStatus.ResourceExhausted=new GrpcStatus(8),GrpcStatus.FailedPrecondition=new GrpcStatus(9),GrpcStatus.Aborted=new GrpcStatus(10),GrpcStatus.OutOfRange=new GrpcStatus(11),GrpcStatus.Unimplemented=new GrpcStatus(12),GrpcStatus.Internal=new GrpcStatus(13),GrpcStatus.Unavailable=new GrpcStatus(14),GrpcStatus.DataLoss=new GrpcStatus(15);class GrpcServiceError extends Error{constructor(t){super(`gRPC service failed with status: ${t.toString()}`),this.status=t,this.name="GrpcServiceError",void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,GrpcServiceError)}static _fromResponse(t){if(null!=t.code&&null!=t.details){const e=GrpcStatus._fromValue(t.code),Q=new GrpcServiceError(e);return Q.message=t.details,Q}return t}}class List{constructor(){this.list=[],this.locked=!1,this.index=0}setList(t){if(this.locked)throw new Error("list is locked");return this.list=t,this.index=0,this}push(...t){if(this.locked)throw new Error("list is locked");return this.list.push(...t),this}setLocked(){return this.locked=!0,this}clear(){if(this.locked)throw new Error("list is locked");this.list=[],this.index=0}get(t){return this.list[t]}set(t,e){if(this.locked)throw new Error("list is locked");return t===this.length?this.list.push(e):this.list[t]=e,this}setIfAbsent(t,e){return t!=this.length&&null!=this.list[t]||this.set(t,e()),this}get next(){return this.get(this.advance())}get current(){return this.get(this.index)}advance(){const t=this.index;return this.index=(this.index+1)%this.list.length,t}get isEmpty(){return 0===this.length}get length(){return this.list.length}}var logger$a={exports:{}};
/*!
 * js-logger - http://github.com/jonnyreeves/js-logger
 * Jonny Reeves, http://jonnyreeves.co.uk/
 * js-logger may be freely distributed under the MIT license.
 */!function(t){!function(e){var Q,B={};B.VERSION="1.6.1";var s={},F=function(t,e){return function(){return e.apply(t,arguments)}},U=function(){var t,e,Q=arguments,B=Q[0];for(e=1;e<Q.length;e++)for(t in Q[e])!(t in B)&&Q[e].hasOwnProperty(t)&&(B[t]=Q[e][t]);return B},n=function(t,e){return{value:t,name:e}};B.TRACE=n(1,"TRACE"),B.DEBUG=n(2,"DEBUG"),B.INFO=n(3,"INFO"),B.TIME=n(4,"TIME"),B.WARN=n(5,"WARN"),B.ERROR=n(8,"ERROR"),B.OFF=n(99,"OFF");var c=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};c.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var e=this.context.filterLevel;return t.value>=e.value},trace:function(){this.invoke(B.TRACE,arguments)},debug:function(){this.invoke(B.DEBUG,arguments)},info:function(){this.invoke(B.INFO,arguments)},warn:function(){this.invoke(B.WARN,arguments)},error:function(){this.invoke(B.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(B.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(B.TIME,[t,"end"])},invoke:function(t,e){Q&&this.enabledFor(t)&&Q(e,U({level:t},this.context))}};var o,g=new c({filterLevel:B.OFF});(o=B).enabledFor=F(g,g.enabledFor),o.trace=F(g,g.trace),o.debug=F(g,g.debug),o.time=F(g,g.time),o.timeEnd=F(g,g.timeEnd),o.info=F(g,g.info),o.warn=F(g,g.warn),o.error=F(g,g.error),o.log=o.info,B.setHandler=function(t){Q=t},B.setLevel=function(t){for(var e in g.setLevel(t),s)s.hasOwnProperty(e)&&s[e].setLevel(t)},B.getLevel=function(){return g.getLevel()},B.get=function(t){return s[t]||(s[t]=new c(U({name:t},g.context)))},B.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,e){e.name&&t.unshift("["+e.name+"]")};var e={},Q=function(t,e){Function.prototype.apply.call(t,console,e)};return"undefined"==typeof console?function(){}:function(s,F){s=Array.prototype.slice.call(s);var U,n=console.log;F.level===B.TIME?(U=(F.name?"["+F.name+"] ":"")+s[0],"start"===s[1]?console.time?console.time(U):e[U]=(new Date).getTime():console.timeEnd?console.timeEnd(U):Q(n,[U+": "+((new Date).getTime()-e[U])+"ms"])):(F.level===B.WARN&&console.warn?n=console.warn:F.level===B.ERROR&&console.error?n=console.error:F.level===B.INFO&&console.info?n=console.info:F.level===B.DEBUG&&console.debug?n=console.debug:F.level===B.TRACE&&console.trace&&(n=console.trace),t.formatter(s,F),Q(n,s))}},B.useDefaults=function(t){B.setLevel(t&&t.defaultLevel||B.DEBUG),B.setHandler(B.createDefaultHandler(t))},B.setDefaults=B.useDefaults,t.exports?t.exports=B:(B._prevLogger=e.Logger,B.noConflict=function(){return e.Logger=B._prevLogger,B},e.Logger=B)}(commonjsGlobal)}(logger$a);var Logger$1=logger$a.exports;const ExecutionState={Finished:"Finished",Retry:"Retry",Error:"Error"},RST_STREAM=/\brst[^0-9a-zA-Z]stream\b/i;class Executable{constructor(){this._maxAttempts=10,this._nextNodeAccountIdIndex=0,this._nodeAccountIds=new List,this._signOnDemand=!1,this._minBackoff=null,this._maxBackoff=null,this._operator=null,this._requestTimeout=null,this._grpcDeadline=null}get nodeAccountIds(){return this._nodeAccountIds.isEmpty?null:this._nodeAccountIds.list}setNodeAccountIds(t){return this._nodeAccountIds.setList(t).setLocked(),this}get maxRetries(){return console.warn("Deprecated: use maxAttempts instead"),this.maxAttempts}setMaxRetries(t){return console.warn("Deprecated: use setMaxAttempts() instead"),this.setMaxAttempts(t)}get maxAttempts(){return this._maxAttempts}setMaxAttempts(t){return this._maxAttempts=t,this}get grpcDeadline(){return this._grpcDeadline}setGrpcDeadline(t){return this._grpcDeadline=t,this}setMinBackoff(t){if(null==t)throw new Error("minBackoff cannot be null.");if(null!=this._maxBackoff&&t>this._maxBackoff)throw new Error("minBackoff cannot be larger than maxBackoff.");return this._minBackoff=t,this}get minBackoff(){return this._minBackoff}setMaxBackoff(t){if(null==t)throw new Error("maxBackoff cannot be null.");if(null!=this._minBackoff&&t<this._minBackoff)throw new Error("maxBackoff cannot be smaller than minBackoff.");return this._maxBackoff=t,this}get maxBackoff(){return this._maxBackoff}_beforeExecute(t){throw new Error("not implemented")}_makeRequestAsync(){throw new Error("not implemented")}_mapStatusError(t,e){throw new Error("not implemented")}_mapResponse(t,e,Q){throw new Error("not implemented")}_execute(t,e){throw new Error("not implemented")}_getNodeAccountId(){throw new Error("not implemented")}_getTransactionId(){throw new Error("not implemented")}_getLogId(){throw new Error("not implemented")}_advanceRequest(){this._nextNodeAccountIdIndex=(this._nextNodeAccountIdIndex+1)%this._nodeAccountIds.length}_shouldRetry(t,e){throw new Error("not implemented")}_shouldRetryExceptionally(t){return t.status._code===GrpcStatus.Unavailable._code||t.status._code===GrpcStatus.ResourceExhausted._code||t.status._code===GrpcStatus.Internal._code&&RST_STREAM.test(t.message)}_setOperatorWith(t,e,Q){return this._operator={transactionSigner:Q,accountId:t,publicKey:e},this}async executeWithSigner(t){return t.sendRequest(this)}async execute(t,e){null==this._requestTimeout&&(this._requestTimeout=null!=e?e:t.requestTimeout),await this._beforeExecute(t),null==this._maxBackoff&&(this._maxBackoff=t.maxBackoff),null==this._minBackoff&&(this._minBackoff=t.minBackoff);const Q=null!=t._maxAttempts?t._maxAttempts:this._maxAttempts,B=Date.now();for(let e=1;;e+=1){if(null!=this._requestTimeout&&B+this._requestTimeout>Date.now())throw new Error("timeout exceeded");const s=this._getNodeAccountId(),F=t._network.getNode(s);if(null==F)throw new Error(`NodeAccountId not recognized: ${s.toString()}`);const U=this._getLogId();Logger$1.debug(`[${U}] Node AccountID: ${F.accountId.toString()}, IP: ${F.address.toString()}`);const n=F.getChannel(),c=await this._makeRequestAsync();let o;this._advanceRequest(),F.isHealthy()||(Logger$1.debug(`[${U}] node is not healthy, waiting ${F.getRemainingTime()}`),await F.wait());try{const t=[];null!=this._grpcDeadline&&t.push(new Promise(((t,e)=>setTimeout((()=>e(new Error("grpc deadline exceeded"))),this._grpcDeadline)))),t.push(this._execute(n,c)),o=await Promise.race(t)}catch(t){const B=GrpcServiceError._fromResponse(t);if(Logger$1.debug(`[${U}] received gRPC error ${JSON.stringify(B)}`),B instanceof GrpcServiceError&&this._shouldRetryExceptionally(B)&&e<=Q){F.increaseDelay();continue}throw t}switch(F.decreaseDelay(),this._shouldRetry(c,o)){case ExecutionState.Retry:await delayForAttempt(e,this._minBackoff,this._maxBackoff);continue;case ExecutionState.Finished:return this._mapResponse(o,s,c);case ExecutionState.Error:throw this._mapStatusError(c,o);default:throw new Error("(BUG) non-exhuastive switch statement for `ExecutionState`")}}}}function delayForAttempt(t,e,Q){const B=Math.min(Math.floor(e*Math.pow(2,t)),Q);return new Promise((t=>setTimeout(t,B)))}const MAX_NS=long.fromNumber(1e9);class Timestamp{constructor(t,e){this.seconds=t instanceof long?t:long.fromNumber(t),this.nanos=e instanceof long?e:long.fromNumber(e),Object.freeze(this)}static generate(){const t=Math.floor(5e3*Math.random())+8e3,e=Date.now()-t,Q=Math.floor(e/1e3),B=1e6*Math.floor(e%1e3)+Math.floor(1e6*Math.random());return new Timestamp(Q,B)}static fromDate(t){let e;if("number"==typeof t)e=long.fromNumber(t);else if("string"==typeof t)e=long.fromNumber(Date.parse(t)).mul(1e6);else{if(!(t instanceof Date))throw new TypeError(`invalid type '${typeof t}' for 'data', expected 'Date'`);e=long.fromNumber(t.getTime()).mul(1e6)}return new Timestamp(0,0).plusNanos(e)}toDate(){return new Date(1e3*this.seconds.toInt()+Math.floor(this.nanos.toInt()/1e6))}plusNanos(t){const e=this.nanos.add(t);return new Timestamp(this.seconds.add(e.div(MAX_NS)),e.mod(MAX_NS))}_toProtobuf(){return{seconds:this.seconds,nanos:this.nanos.toInt()}}static _fromProtobuf(t){return new Timestamp(t.seconds instanceof long?t.seconds.toInt():null!=t.seconds?t.seconds:0,null!=t.nanos?t.nanos:0)}toString(){return`${this.seconds.toString()}.${this.nanos.toString()}`}compare(t){const e=this.seconds.compare(t.seconds);return 0!=e?e:this.nanos.compare(t.nanos)}}class TransactionId{constructor(t,e,Q=!1,B=null){this.accountId=t,this.validStart=e,this.scheduled=Q,this.nonce=null,null!=B&&0!=B&&this.setNonce(B),Object.freeze(this)}setNonce(t){return this.nonce="number"==typeof t?long.fromNumber(t):t,this}static withValidStart(t,e){return new TransactionId(t,e)}static generate(t){return new TransactionId("string"==typeof t?AccountId.fromString(t):new AccountId(t),Timestamp.generate())}static fromString(t){let e,Q,B,s,F,U;return[e,U]=t.split("@"),[Q,U]=U.split("."),U.includes("?")?([B,U]=U.split("?scheduled"),s=!0,F=U.includes("/")?U.replace("/",""):null):U.includes("/")?([B,F]=U.split("/"),s=!1):B=U,new TransactionId(AccountId.fromString(e),new Timestamp(long.fromValue(Q),long.fromValue(B)),s,null!=F?long.fromString(F):null)}setScheduled(t){return this.scheduled=t,this}toString(){if(null!=this.accountId&&null!=this.validStart){const t=null!=this.nonce?"/".concat(this.nonce.toString()):"",e=this.scheduled?"?scheduled":"";return`${this.accountId.toString()}@${this.validStart.seconds.toString()}.${this.validStart.nanos.toString()}${e}${t}`}throw new Error("neither `accountId` nor `validStart` are set")}static _fromProtobuf(t){if(null!=t.accountID&&null!=t.transactionValidStart)return new TransactionId(AccountId._fromProtobuf(t.accountID),Timestamp._fromProtobuf(t.transactionValidStart),null!=t.scheduled?t.scheduled:void 0,null!=t.nonce?t.nonce:void 0);throw new Error("Neither `nonce` or `accountID` and `transactionValidStart` are set")}_toProtobuf(){return{accountID:null!=this.accountId?this.accountId._toProtobuf():null,transactionValidStart:null!=this.validStart?this.validStart._toProtobuf():null,scheduled:this.scheduled,nonce:null!=this.nonce?this.nonce.toInt():null}}static fromBytes(t){return TransactionId._fromProtobuf(lib.TransactionID.decode(t))}toBytes(){return lib.TransactionID.encode(this._toProtobuf()).finish()}clone(){return new TransactionId(this.accountId,this.validStart,this.scheduled,this.nonce)}compare(t){const e=this.accountId.compare(t.accountId);return 0!=e?e:this.validStart.compare(t.validStart)}}class PrecheckStatusError extends StatusError{constructor(t){super(t,`transaction ${t.transactionId.toString()} failed precheck with status ${t.status.toString()}`)}}class MaxQueryPaymentExceeded extends Error{constructor(t,e){super(),this.message=`query cost of ${t.toString()} HBAR exceeds max set on client: ${e.toString()} HBAR`,this.name="MaxQueryPaymentExceededError",this.queryCost=t,this.maxQueryPayment=e}}const QUERY_REGISTRY=new Map;class Query extends Executable{constructor(){super(),this._paymentTransactionId=null,this._paymentTransactions=[],this._queryPayment=null,this._maxQueryPayment=null,this._timestamp=Date.now()}static fromBytes(t){const e=lib.Query.decode(t);if(null==e.query)throw new Error("(BUG) query.query was not set in the protobuf");const Q=QUERY_REGISTRY.get(e.query);if(null==Q)throw new Error(`(BUG) Query.fromBytes() not implemented for type ${e.query}`);return Q(e)}toBytes(){return lib.Query.encode(this._makeRequest()).finish()}setQueryPayment(t){return this._queryPayment=t,this}setMaxQueryPayment(t){return this._maxQueryPayment=t,this}getCost(t){if(this._nodeAccountIds.isEmpty&&this._nodeAccountIds.setList(t._network.getNodeAccountIdsForExecute()),1!=COST_QUERY.length)throw new Error("CostQuery has not been loaded yet");return this._timestamp=Date.now(),COST_QUERY[0](this).execute(t)}setPaymentTransactionId(t){return this._paymentTransactionId=t,this}get paymentTransactionId(){return this._paymentTransactionId}_getTransactionId(){if(null==this._paymentTransactionId)throw new Error("Query.PaymentTransactionId was not set duration execution");return this._paymentTransactionId}_isPaymentRequired(){return!0}_validateChecksums(t){}async _beforeExecute(t){if(this._paymentTransactions.length>0)return;t.isAutoValidateChecksumsEnabled()&&this._validateChecksums(t),this._nodeAccountIds.isEmpty&&this._nodeAccountIds.setList(t._network.getNodeAccountIdsForExecute());const e=null!=this._operator?this._operator:t._operator;if(null==this._paymentTransactionId)if(this._isPaymentRequired()){if(null==e)throw new Error("`client` must have an `operator` or an explicit payment transaction must be provided");this._paymentTransactionId=TransactionId.generate(e.accountId)}else this._paymentTransactionId=TransactionId.generate(new AccountId(0));let Q=null!=this._queryPayment?this._queryPayment:t.maxQueryPayment;if(0===this._paymentTransactions.length&&this._isPaymentRequired()){if(null==this._queryPayment){const e=await this.getCost(t);if(Q.toTinybars().toInt()<e.toTinybars().toInt())throw new MaxQueryPaymentExceeded(Q,e);Q=e}}else Q=new Hbar(0);for(const t of this._nodeAccountIds.list)this._paymentTransactions.push(await _makePaymentTransaction(this._paymentTransactionId,t,this._isPaymentRequired()?e:null,Q));this._timestamp=Date.now()}_mapResponseHeader(t){throw new Error("not implemented")}_makeRequestHeader(){let t={};return this._isPaymentRequired()&&this._paymentTransactions.length>0&&(t={responseType:lib.ResponseType.ANSWER_ONLY,payment:this._paymentTransactions[this._nextNodeAccountIdIndex]}),t}_onMakeRequest(t){throw new Error("not implemented")}_makeRequest(){let t={};return this._isPaymentRequired()&&null!=this._paymentTransactions&&(t={payment:this._paymentTransactions[this._nextNodeAccountIdIndex],responseType:lib.ResponseType.ANSWER_ONLY}),this._onMakeRequest(t)}_makeRequestAsync(){return Promise.resolve(this._makeRequest())}_shouldRetry(t,e){const{nodeTransactionPrecheckCode:Q}=this._mapResponseHeader(e),B=Status._fromCode(null!=Q?Q:lib.ResponseCodeEnum.OK);switch(Logger$1.debug(`[${this._getLogId()}] received status ${B.toString()}`),B){case Status.Busy:case Status.Unknown:case Status.PlatformTransactionNotCreated:return ExecutionState.Retry;case Status.Ok:return ExecutionState.Finished;default:return ExecutionState.Error}}_mapStatusError(t,e){const{nodeTransactionPrecheckCode:Q}=this._mapResponseHeader(e),B=Status._fromCode(null!=Q?Q:lib.ResponseCodeEnum.OK);return new PrecheckStatusError({status:B,transactionId:this._getTransactionId()})}_getNodeAccountId(){if(this._nodeAccountIds.isEmpty)throw new Error("(BUG) nodeAccountIds were not set for query before executing");return this._nodeAccountIds.list[this._nextNodeAccountIdIndex]}_advanceRequest(){this._isPaymentRequired()&&this._paymentTransactions.length>0?super._nextNodeAccountIdIndex=(this._nextNodeAccountIdIndex+1)%this._paymentTransactions.length:super._advanceRequest()}}async function _makePaymentTransaction(t,e,Q,B){const s=[];null!=Q?(s.push({accountID:Q.accountId._toProtobuf(),amount:B.negated().toTinybars()}),s.push({accountID:e._toProtobuf(),amount:B.toTinybars()})):(s.push({accountID:new AccountId(0)._toProtobuf(),amount:B.negated().toTinybars()}),s.push({accountID:e._toProtobuf(),amount:B.toTinybars()}));const F={transactionID:t._toProtobuf(),nodeAccountID:e._toProtobuf(),transactionFee:new Hbar(1).toTinybars(),transactionValidDuration:{seconds:long.fromNumber(120)},cryptoTransfer:{transfers:{accountAmounts:s}}},U={bodyBytes:lib.TransactionBody.encode(F).finish()};if(null!=Q){const t=await Q.transactionSigner(U.bodyBytes);U.sigMap={sigPair:[Q.publicKey._toProtobufSignature(t)]}}return{signedTransactionBytes:lib.SignedTransaction.encode(U).finish()}}const COST_QUERY=[];class ContractId extends Key{constructor(t,e,Q,B){super();const s=constructor(t,e,Q);this.shard=s.shard,this.realm=s.realm,this.num=s.num,this.evmAddress=null!=B?B:null,this._checksum=null}static fromEvmAddress(t,e,Q){return new ContractId(t,e,0,decode$1(Q))}static fromString(t){const e=fromStringSplitter(t);if(Number.isNaN(e.shard)||Number.isNaN(e.realm))throw new Error("invalid format for entity ID");const Q=null!=e.shard?long.fromString(e.shard):long.ZERO,B=null!=e.realm?long.fromString(e.realm):long.ZERO,[s,F]=e.numOrHex.length<40?[long.fromString(e.numOrHex),void 0]:[long.ZERO,decode$1(e.numOrHex)];return new ContractId(Q,B,s,F)}static _fromProtobuf(t){return new ContractId(null!=t.shardNum?t.shardNum:0,null!=t.realmNum?t.realmNum:0,null!=t.contractNum?t.contractNum:0)}get checksum(){return this._checksum}validate(t){console.warn("Deprecated: Use `validateChecksum` instead"),this.validateChecksum(t)}validateChecksum(t){validateChecksum(this.shard,this.realm,this.num,this._checksum,t)}static fromBytes(t){return ContractId._fromProtobuf(lib.ContractID.decode(t))}static fromSolidityAddress(t){console.warn("Deprecated: use `ContractId.fromEvmAdress()` instead");const[e,Q,B]=fromSolidityAddress(t);return new ContractId(e,Q,B)}toSolidityAddress(){return null!=this.evmAddress?encode$1(this.evmAddress):toSolidityAddress([this.shard,this.realm,this.num])}_toProtobuf(){return{contractNum:this.num,shardNum:this.shard,realmNum:this.realm,evmAddress:this.evmAddress}}toString(){return null!=this.evmAddress?`${this.shard.toString()}.${this.realm.toString()}.${encode$1(this.evmAddress)}`:`${this.shard.toString()}.${this.realm.toString()}.${this.num.toString()}`}toStringWithChecksum(t){return toStringWithChecksum(this.toString(),t)}toBytes(){return lib.ContractID.encode(this._toProtobuf()).finish()}clone(){const t=new ContractId(this);return t._checksum=this._checksum,t.evmAddress=this.evmAddress,t}compare(t){return compare([this.shard,this.realm,this.num],[t.shard,t.realm,t.num])}_toProtobufKey(){return{contractID:this._toProtobuf()}}static __fromProtobufKey(t){return ContractId._fromProtobuf(t)}}CACHE.contractId=t=>ContractId.__fromProtobufKey(t);class FileId{constructor(t,e,Q){const B=constructor(t,e,Q);this.shard=B.shard,this.realm=B.realm,this.num=B.num,this._checksum=null}static fromString(t){const e=fromString(t),Q=new FileId(e);return Q._checksum=e.checksum,Q}static _fromProtobuf(t){return new FileId(null!=t.shardNum?t.shardNum:0,null!=t.realmNum?t.realmNum:0,null!=t.fileNum?t.fileNum:0)}get checksum(){return this._checksum}validate(t){console.warn("Deprecated: Use `validateChecksum` instead"),this.validateChecksum(t)}validateChecksum(t){validateChecksum(this.shard,this.realm,this.num,this._checksum,t)}static fromBytes(t){return FileId._fromProtobuf(lib.FileID.decode(t))}static fromSolidityAddress(t){const[e,Q,B]=fromSolidityAddress(t);return new FileId(e,Q,B)}toSolidityAddress(){return toSolidityAddress([this.shard,this.realm,this.num])}_toProtobuf(){return{fileNum:this.num,shardNum:this.shard,realmNum:this.realm}}toString(){return`${this.shard.toString()}.${this.realm.toString()}.${this.num.toString()}`}toStringWithChecksum(t){return toStringWithChecksum(this.toString(),t)}toBytes(){return lib.FileID.encode(this._toProtobuf()).finish()}clone(){const t=new FileId(this);return t._checksum=this._checksum,t}compare(t){return compare([this.shard,this.realm,this.num],[t.shard,t.realm,t.num])}}class TopicId{constructor(t,e,Q){const B=constructor(t,e,Q);this.shard=B.shard,this.realm=B.realm,this.num=B.num,this._checksum=null}static fromString(t){const e=fromString(t),Q=new TopicId(e);return Q._checksum=e.checksum,Q}static _fromProtobuf(t){return new TopicId(null!=t.shardNum?t.shardNum:0,null!=t.realmNum?t.realmNum:0,null!=t.topicNum?t.topicNum:0)}get checksum(){return this._checksum}validate(t){console.warn("Deprecated: Use `validateChecksum` instead"),this.validateChecksum(t)}validateChecksum(t){validateChecksum(this.shard,this.realm,this.num,this._checksum,t)}static fromBytes(t){return TopicId._fromProtobuf(lib.TopicID.decode(t))}static fromSolidityAddress(t){const[e,Q,B]=fromSolidityAddress(t);return new TopicId(e,Q,B)}toSolidityAddress(){return toSolidityAddress([this.shard,this.realm,this.num])}_toProtobuf(){return{topicNum:this.num,shardNum:this.shard,realmNum:this.realm}}toString(){return`${this.shard.toString()}.${this.realm.toString()}.${this.num.toString()}`}toStringWithChecksum(t){return toStringWithChecksum(this.toString(),t)}toBytes(){return lib.TopicID.encode(this._toProtobuf()).finish()}clone(){const t=new TopicId(this);return t._checksum=this._checksum,t}compare(t){return compare([this.shard,this.realm,this.num],[t.shard,t.realm,t.num])}}class TokenId{constructor(t,e,Q){const B=constructor(t,e,Q);this.shard=B.shard,this.realm=B.realm,this.num=B.num,this._checksum=null}static fromString(t){const e=fromString(t),Q=new TokenId(e);return Q._checksum=e.checksum,Q}static _fromProtobuf(t){return new TokenId(null!=t.shardNum?t.shardNum:0,null!=t.realmNum?t.realmNum:0,null!=t.tokenNum?t.tokenNum:0)}get checksum(){return this._checksum}validate(t){console.warn("Deprecated: Use `validateChecksum` instead"),this.validateChecksum(t)}validateChecksum(t){validateChecksum(this.shard,this.realm,this.num,this._checksum,t)}static fromBytes(t){return TokenId._fromProtobuf(lib.TokenID.decode(t))}static fromSolidityAddress(t){return new TokenId(...fromSolidityAddress(t))}toSolidityAddress(){return toSolidityAddress([this.shard,this.realm,this.num])}_toProtobuf(){return{tokenNum:this.num,shardNum:this.shard,realmNum:this.realm}}toString(){return`${this.shard.toString()}.${this.realm.toString()}.${this.num.toString()}`}toStringWithChecksum(t){return toStringWithChecksum(this.toString(),t)}toBytes(){return lib.TokenID.encode(this._toProtobuf()).finish()}clone(){const t=new TokenId(this);return t._checksum=this._checksum,t}compare(t){return compare([this.shard,this.realm,this.num],[t.shard,t.realm,t.num])}}class ScheduleId{constructor(t,e,Q){const B=constructor(t,e,Q);this.shard=B.shard,this.realm=B.realm,this.num=B.num,this._checksum=null}static fromString(t){const e=fromString(t),Q=new ScheduleId(e);return Q._checksum=e.checksum,Q}static _fromProtobuf(t){return new ScheduleId(null!=t.shardNum?t.shardNum:0,null!=t.realmNum?t.realmNum:0,null!=t.scheduleNum?t.scheduleNum:0)}get checksum(){return this._checksum}validate(t){console.warn("Deprecated: Use `validateChecksum` instead"),this.validateChecksum(t)}validateChecksum(t){validateChecksum(this.shard,this.realm,this.num,this._checksum,t)}static fromBytes(t){return ScheduleId._fromProtobuf(lib.ScheduleID.decode(t))}static fromSolidityAddress(t){return new ScheduleId(...fromSolidityAddress(t))}toSolidityAddress(){return toSolidityAddress([this.shard,this.realm,this.num])}_toProtobuf(){return{scheduleNum:this.num,shardNum:this.shard,realmNum:this.realm}}toString(){return`${this.shard.toString()}.${this.realm.toString()}.${this.num.toString()}`}toStringWithChecksum(t){return toStringWithChecksum(this.toString(),t)}toBytes(){return lib.ScheduleID.encode(this._toProtobuf()).finish()}clone(){const t=new ScheduleId(this);return t._checksum=this._checksum,t}compare(t){return compare([this.shard,this.realm,this.num],[t.shard,t.realm,t.num])}}class ExchangeRate{constructor(t){this.hbars=t.hbars,this.cents=t.cents,this.expirationTime=t.expirationTime,this.exchangeRateInCents=t.cents/t.hbars,Object.freeze(this)}static _fromProtobuf(t){return new ExchangeRate({hbars:t.hbarEquiv,cents:t.centEquiv,expirationTime:new Date(null!=t.expirationTime&&null!=t.expirationTime.seconds?long.isLong(t.expirationTime.seconds)?t.expirationTime.seconds.toInt():t.expirationTime.seconds:0)})}_toProtobuf(){return{hbarEquiv:this.hbars,centEquiv:this.cents,expirationTime:{seconds:long.fromNumber(this.expirationTime.getSeconds())}}}}class TransactionReceipt{constructor(t){this.status=t.status,this.accountId=t.accountId,this.fileId=t.fileId,this.contractId=t.contractId,this.topicId=t.topicId,this.tokenId=t.tokenId,this.scheduleId=t.scheduleId,this.exchangeRate=t.exchangeRate,this.topicSequenceNumber=t.topicSequenceNumber,this.topicRunningHash=t.topicRunningHash,this.totalSupply=t.totalSupply,this.scheduledTransactionId=t.scheduledTransactionId,this.serials=t.serials,this.duplicates=t.duplicates,this.children=t.children,Object.freeze(this)}_toProtobuf(){return{duplicateTransactionReceipts:this.duplicates.map((t=>t._toProtobuf().receipt)),childTransactionReceipts:this.children.map((t=>t._toProtobuf().receipt)),receipt:{status:this.status.valueOf(),accountID:null!=this.accountId?this.accountId._toProtobuf():null,fileID:null!=this.fileId?this.fileId._toProtobuf():null,contractID:null!=this.contractId?this.contractId._toProtobuf():null,topicID:null!=this.topicId?this.topicId._toProtobuf():null,tokenID:null!=this.tokenId?this.tokenId._toProtobuf():null,scheduleID:null!=this.scheduleId?this.scheduleId._toProtobuf():null,topicRunningHash:null==this.topicRunningHash?null:this.topicRunningHash,topicSequenceNumber:this.topicSequenceNumber,exchangeRate:{nextRate:null,currentRate:null!=this.exchangeRate?this.exchangeRate._toProtobuf():null},scheduledTransactionID:null!=this.scheduledTransactionId?this.scheduledTransactionId._toProtobuf():null,serialNumbers:this.serials,newTotalSupply:this.totalSupply}}}static _fromProtobuf(t){const e=t.receipt,Q=e.exchangeRate,B=null!=t.childTransactionReceipts?t.childTransactionReceipts.map((t=>TransactionReceipt._fromProtobuf({receipt:t}))):[],s=null!=t.duplicateTransactionReceipts?t.duplicateTransactionReceipts.map((t=>TransactionReceipt._fromProtobuf({receipt:t}))):[];return new TransactionReceipt({status:Status._fromCode(null!=e.status?e.status:0),accountId:null!=e.accountID?AccountId._fromProtobuf(e.accountID):null,fileId:null!=e.fileID?FileId._fromProtobuf(e.fileID):null,contractId:null!=e.contractID?ContractId._fromProtobuf(e.contractID):null,topicId:null!=e.topicID?TopicId._fromProtobuf(e.topicID):null,tokenId:null!=e.tokenID?TokenId._fromProtobuf(e.tokenID):null,scheduleId:null!=e.scheduleID?ScheduleId._fromProtobuf(e.scheduleID):null,exchangeRate:null!=e.exchangeRate?ExchangeRate._fromProtobuf(Q.currentRate):null,topicSequenceNumber:null==e.topicSequenceNumber?null:long.fromString(e.topicSequenceNumber.toString()),topicRunningHash:null!=e.topicRunningHash?new Uint8Array(e.topicRunningHash):null,totalSupply:null!=e.newTotalSupply?long.fromString(e.newTotalSupply.toString()):null,scheduledTransactionId:null!=e.scheduledTransactionID?TransactionId._fromProtobuf(e.scheduledTransactionID):null,serials:null!=e.serialNumbers?e.serialNumbers.map((t=>long.fromValue(t))):[],children:B,duplicates:s})}static fromBytes(t){return TransactionReceipt._fromProtobuf(lib.TransactionGetReceiptResponse.decode(t))}toBytes(){return lib.TransactionGetReceiptResponse.encode(this._toProtobuf()).finish()}}class TransactionReceiptQuery extends Query{constructor(t={}){super(),this._transactionId=null,this._includeChildren=null,this._includeDuplicates=null,null!=t.transactionId&&this.setTransactionId(t.transactionId),null!=t.includeChildren&&this.setIncludeChildren(t.includeChildren),null!=t.includeDuplicates&&this.setIncludeDuplicates(t.includeDuplicates)}static _fromProtobuf(t){const e=t.transactionGetReceipt;return new TransactionReceiptQuery({transactionId:e.transactionID?TransactionId._fromProtobuf(e.transactionID):void 0,includeDuplicates:null!=e.includeDuplicates?e.includeDuplicates:void 0,includeChildren:null!=e.includeChildReceipts?e.includeChildReceipts:void 0})}get transactionId(){return this._transactionId}setTransactionId(t){return this._transactionId="string"==typeof t?TransactionId.fromString(t):t.clone(),this}setIncludeDuplicates(t){return this._includeDuplicates=t,this}get includeDuplicates(){return null!=this._includeDuplicates&&this._includeDuplicates}setIncludeChildren(t){return this._includeChildren=t,this}get includeChildren(){return null!=this._includeChildren&&this._includeChildren}_isPaymentRequired(){return!1}_shouldRetry(t,e){const{nodeTransactionPrecheckCode:Q}=this._mapResponseHeader(e);let B=Status._fromCode(null!=Q?Q:lib.ResponseCodeEnum.OK);switch(Logger$1.debug(`[${this._getLogId()}] received node precheck status ${B.toString()}`),B){case Status.Busy:case Status.Unknown:case Status.ReceiptNotFound:return ExecutionState.Retry;case Status.Ok:break;default:return ExecutionState.Error}const s=e.transactionGetReceipt.receipt.status;switch(B=Status._fromCode(s),Logger$1.debug(`[${this._getLogId()}] received receipt status ${B.toString()}`),B){case Status.Busy:case Status.Unknown:case Status.ReceiptNotFound:return ExecutionState.Retry;case Status.Success:return ExecutionState.Finished;default:return ExecutionState.Error}}_mapStatusError(t,e){const{nodeTransactionPrecheckCode:Q}=this._mapResponseHeader(e);let B=Status._fromCode(null!=Q?Q:lib.ResponseCodeEnum.OK);if(B!==Status.Ok)return new PrecheckStatusError({status:B,transactionId:this._getTransactionId()});const s=e.transactionGetReceipt,F=s.receipt.status;return B=Status._fromCode(F),new ReceiptStatusError({status:B,transactionId:this._getTransactionId(),transactionReceipt:TransactionReceipt._fromProtobuf(s)})}_validateChecksums(t){null!=this._transactionId&&null!=this._transactionId.accountId&&this._transactionId.accountId.validateChecksum(t)}_execute(t,e){return t.crypto.getTransactionReceipts(e)}_mapResponseHeader(t){return t.transactionGetReceipt.header}_mapResponse(t,e,Q){const B=t.transactionGetReceipt;return Promise.resolve(TransactionReceipt._fromProtobuf(B))}_onMakeRequest(t){return{transactionGetReceipt:{header:t,transactionID:null!=this._transactionId?this._transactionId._toProtobuf():null,includeDuplicates:this._includeDuplicates,includeChildReceipts:this._includeChildren}}}_getLogId(){return`TransactionReceiptQuery:${this._timestamp.toString()}`}}QUERY_REGISTRY.set("transactionGetReceipt",TransactionReceiptQuery._fromProtobuf);class Transfer{constructor(t){this.accountId=t.accountId instanceof AccountId?t.accountId:AccountId.fromString(t.accountId),this.amount=t.amount instanceof Hbar?t.amount:new Hbar(t.amount),this.isApproved=t.isApproved}static _fromProtobuf(t){const e=[];for(const Q of t)e.push(new Transfer({accountId:AccountId._fromProtobuf(Q.accountID),amount:Hbar.fromTinybars(null!=Q.amount?Q.amount:0),isApproved:Q.isApproval}));return e}_toProtobuf(){return{accountID:this.accountId._toProtobuf(),amount:this.amount.toTinybars(),isApproval:this.isApproved}}}class ContractLogInfo{constructor(t){this.contractId=t.contractId,this.bloom=t.bloom,this.topics=t.topics,this.data=t.data,Object.freeze(this)}static _fromProtobuf(t){return new ContractLogInfo({contractId:ContractId._fromProtobuf(t.contractID),bloom:null!=t.bloom?t.bloom:new Uint8Array,topics:null!=t.topic?t.topic:[],data:null!=t.data?t.data:new Uint8Array})}_toProtobuf(){return{contractID:this.contractId._toProtobuf(),bloom:this.bloom,topic:this.topics,data:this.data}}}function decode(t){return(new TextDecoder).decode(t)}function encode(t){return(new TextEncoder).encode(t)}class StorageChange{constructor(t){this.slot=t.slot,this.valueRead=t.valueRead,this.valueWritten=t.valueWritten}static _fromProtobuf(t){return new StorageChange({slot:t.slot,valueRead:t.valueRead,valueWritten:null!=t.valueWritten&&null!=t.valueWritten.value?t.valueWritten.value:null})}static fromBytes(t){return StorageChange._fromProtobuf(lib.StorageChange.decode(t))}_toProtobuf(){return{slot:this.slot,valueRead:this.valueRead,valueWritten:null!=this.valueWritten?{value:this.valueWritten}:null}}toBytes(){return lib.StorageChange.encode(this._toProtobuf()).finish()}}class ContractStateChange{constructor(t){this.contractId=t.contractId,this.storageChanges=t.storageChanges,Object.freeze(this)}static _fromProtobuf(t){return new ContractStateChange({contractId:ContractId._fromProtobuf(t.contractID),storageChanges:(null!=t.storageChanges?t.storageChanges:[]).map((t=>StorageChange._fromProtobuf(t)))})}static fromBytes(t){return ContractStateChange._fromProtobuf(lib.ContractStateChange.decode(t))}_toProtobuf(){const t=this.storageChanges.map((t=>t._toProtobuf()));return{contractID:this.contractId._toProtobuf(),storageChanges:t}}toBytes(){return lib.ContractStateChange.encode(this._toProtobuf()).finish()}}class ContractFunctionResult{constructor(t){this.contractId=t.contractId,this.bytes=t.bytes,this.errorMessage=t.errorMessage,this.bloom=t.bloom,this.gasUsed=t.gasUsed,this.logs=t.logs,this.createdContractIds=t.createdContractIds,this.evmAddress=t.evmAddress,this.stateChanges=t.stateChanges}static _fromProtobuf(t){const e=t.contractID,Q=t.gasUsed;return new ContractFunctionResult({bytes:t.contractCallResult,contractId:null!=e?ContractId._fromProtobuf(e):null,errorMessage:null!=t.errorMessage?t.errorMessage:null,bloom:t.bloom,gasUsed:Q instanceof long?Q:long.fromValue(Q),logs:(null!=t.logInfo?t.logInfo:[]).map((t=>ContractLogInfo._fromProtobuf(t))),createdContractIds:(null!=t.createdContractIDs?t.createdContractIDs:[]).map((t=>ContractId._fromProtobuf(t))),evmAddress:null!=t.evmAddress&&null!=t.evmAddress.value?t.evmAddress.value:null,stateChanges:(null!=t.stateChanges?t.stateChanges:[]).map((t=>ContractStateChange._fromProtobuf(t)))})}asBytes(){return this.bytes}getString(t){return decode(this.getBytes(t))}getBytes(t){const e=this.getInt32(t),Q=safeView(this.bytes).getInt32(e+28);return this.bytes.subarray(e+32,e+32+Q)}getBytes32(t){return this.bytes.subarray(32*(null!=t?t:0),32*(null!=t?t:0)+32)}getBool(t){return 0!==this.bytes[32*(null!=t?t:0)+31]}getInt8(t){return this.bytes[32*(null!=t?t:0)+31]}getInt32(t){const e=32*(null!=t?t:0)+28;return safeView(this.bytes).getInt32(e)}getInt64(t){return new BigNumber$1(encode$1(this._getBytes32(null!=t?t:0).subarray(24,32)),16)}getInt256(t){return new BigNumber$1(encode$1(this._getBytes32(null!=t?t:0)),16)}getUint8(t){return this.bytes[32*(null!=t?t:0)+31]}getUint32(t){const e=32*(null!=t?t:0)+28;return safeView(this.bytes).getUint32(e)}getUint64(t){return new BigNumber$1(encode$1(this._getBytes32(t).subarray(24,32)),16)}getUint256(t){return new BigNumber$1(encode$1(this._getBytes32(t)),16)}getAddress(t){return encode$1(this.bytes.subarray(32*(null!=t?t:0)+12,32*(null!=t?t:0)+32))}_getBytes32(t){return this.bytes.subarray(32*(null!=t?t:0),32*(null!=t?t:0)+32)}}class ObjectMap{constructor(t){this._map=new Map,this.__map=new Map,this._fromString=t}get(t){const e="string"==typeof t?t:t.toString(),Q=this._map.get(e);return null!=Q?Q:null}_set(t,e){const Q="string"==typeof t?t:t.toString();this._map.set(Q,e),this.__map.set(t,e)}values(){return this._map.values()}get size(){return this._map.size}keys(){return this.__map.keys()}[Symbol.iterator](){return this.__map[Symbol.iterator]()}toString(){const t={};for(const[e,Q]of this._map)t[e]=Q;return JSON.stringify(t)}}class TokenTransferAccountMap extends ObjectMap{constructor(){super((t=>AccountId.fromString(t)))}}class TokenTransferMap extends ObjectMap{constructor(){super((t=>TokenId.fromString(t)))}__set(t,e,Q){const B=t.toString();let s=this._map.get(B);null==s&&(s=new TokenTransferAccountMap,this._map.set(B,s),this.__map.set(t,s)),s._set(e,Q)}static _fromProtobuf(t){const e=new TokenTransferMap;for(const Q of t){const t=TokenId._fromProtobuf(Q.token);for(const B of null!=Q.transfers?Q.transfers:[]){const Q=AccountId._fromProtobuf(B.accountID);e.__set(t,Q,B.amount)}}return e}_toProtobuf(){const t=[];for(const[e,Q]of this){const B=[];for(const[t,e]of Q)B.push({accountID:t._toProtobuf(),amount:e});t.push({token:e._toProtobuf(),transfers:B})}return t}}class TokenNftTransferMap extends ObjectMap{constructor(){super((t=>TokenId.fromString(t)))}__set(t,e){const Q=t.toString();let B=this._map.get(Q);null==B&&(B=[],this._map.set(Q,B),this.__map.set(t,B)),B.push(e)}static _fromProtobuf(t){const e=new TokenNftTransferMap;for(const Q of t){const t=TokenId._fromProtobuf(Q.token);for(const B of null!=Q.nftTransfers?Q.nftTransfers:[]){const Q=AccountId._fromProtobuf(B.senderAccountID),s=AccountId._fromProtobuf(B.receiverAccountID);e.__set(t,{sender:Q,recipient:s,serial:long.fromValue(B.serialNumber),isApproved:!1})}}return e}_toProtobuf(){const t=[];for(const[e,Q]of this){const B=[];for(const t of Q)B.push({senderAccountID:t.sender._toProtobuf(),receiverAccountID:t.recipient._toProtobuf(),serialNumber:t.serial});t.push({token:e._toProtobuf(),nftTransfers:B})}return t}}class AssessedCustomFee{constructor(t={}){this._feeCollectorAccountId,null!=t.feeCollectorAccountId&&this.setFeeCollectorAccountId(t.feeCollectorAccountId),this._tokenId,null!=t.tokenId&&this.setTokenId(t.tokenId),this._amount,null!=t.amount&&this.setAmount(t.amount),this._payerAccountIds,null!=t.payerAccountIds&&this.setPayerAccountIds(t.payerAccountIds)}get feeCollectorAccountId(){return this._feeCollectorAccountId}setFeeCollectorAccountId(t){return this._feeCollectorAccountId="string"==typeof t?AccountId.fromString(t):t,this}get tokenId(){return this._tokenId}setTokenId(t){return this._tokenId="string"==typeof t?TokenId.fromString(t):t,this}get amount(){return this._amount}setAmount(t){return this._amount="number"==typeof t?long.fromNumber(t):t,this}get payerAccountIds(){return this._payerAccountIds}setPayerAccountIds(t){return this._payerAccountIds=t,this}static _fromProtobuf(t){return new AssessedCustomFee({feeCollectorAccountId:null!=t.feeCollectorAccountId?AccountId._fromProtobuf(t.feeCollectorAccountId):void 0,tokenId:null!=t.tokenId?TokenId._fromProtobuf(t.tokenId):void 0,amount:null!=t.amount?t.amount:void 0,payerAccountIds:null!=t.effectivePayerAccountId?t.effectivePayerAccountId.map((t=>AccountId._fromProtobuf(t))):void 0})}_toProtobuf(){return{feeCollectorAccountId:null!=this.feeCollectorAccountId?this.feeCollectorAccountId._toProtobuf():null,tokenId:null!=this._tokenId?this._tokenId._toProtobuf():null,amount:this._amount,effectivePayerAccountId:null!=this._payerAccountIds?this._payerAccountIds.map((t=>t._toProtobuf())):null}}}class TokenAssociation{constructor(t={}){this._accountId,null!=t.accountId&&this.setAccountId(t.accountId),this._tokenId,null!=t.tokenId&&this.setTokenId(t.tokenId),this._defaultMaxTransactionFee=new Hbar(5)}get accountId(){return this._accountId}setAccountId(t){return this._accountId="string"==typeof t?AccountId.fromString(t):t,this}get tokenId(){return this._tokenId}setTokenId(t){return this._tokenId="string"==typeof t?TokenId.fromString(t):t,this}static _fromProtobuf(t){return new TokenAssociation({accountId:null!=t.accountId?AccountId._fromProtobuf(t.accountId):void 0,tokenId:null!=t.tokenId?TokenId._fromProtobuf(t.tokenId):void 0})}_toProtobuf(){return{accountId:null!=this._accountId?this._accountId._toProtobuf():void 0,tokenId:null!=this._tokenId?this._tokenId._toProtobuf():void 0}}}class TokenTransfer{constructor(t){this.tokenId=t.tokenId instanceof TokenId?t.tokenId:TokenId.fromString(t.tokenId),this.accountId=t.accountId instanceof AccountId?t.accountId:AccountId.fromString(t.accountId),this.expectedDecimals=t.expectedDecimals,this.amount=long.fromValue(t.amount),this.isApproved=t.isApproved}static _fromProtobuf(t){const e=[];for(const Q of t){const t=TokenId._fromProtobuf(Q.token),B=null!=Q.expectedDecimals?Q.expectedDecimals.value:null;for(const s of null!=Q.transfers?Q.transfers:[])e.push(new TokenTransfer({tokenId:t,accountId:AccountId._fromProtobuf(s.accountID),expectedDecimals:B,amount:null!=s.amount?s.amount:long.ZERO,isApproved:1==s.isApproval}))}return e}_toProtobuf(){return{accountID:this.accountId._toProtobuf(),amount:this.amount,isApproval:this.isApproved}}}class HbarAllowance{constructor(t){this.spenderAccountId=t.spenderAccountId,this.ownerAccountId=t.ownerAccountId,this.amount=t.amount,Object.freeze(this)}static _fromProtobuf(t){return new HbarAllowance({spenderAccountId:AccountId._fromProtobuf(t.spender),ownerAccountId:null!=t.owner?AccountId._fromProtobuf(t.owner):null,amount:Hbar.fromTinybars(null!=t.amount?t.amount:0)})}static _fromGrantedProtobuf(t){return new HbarAllowance({spenderAccountId:AccountId._fromProtobuf(t.spender),ownerAccountId:null,amount:Hbar.fromTinybars(null!=t.amount?t.amount:0)})}_toProtobuf(){return{spender:this.spenderAccountId._toProtobuf(),owner:null!=this.ownerAccountId?this.ownerAccountId._toProtobuf():null,amount:this.amount.toTinybars()}}}class TokenAllowance{constructor(t){this.tokenId=t.tokenId,this.spenderAccountId=t.spenderAccountId,this.ownerAccountId=t.ownerAccountId,this.amount=t.amount,Object.freeze(this)}static _fromProtobuf(t){return new TokenAllowance({tokenId:TokenId._fromProtobuf(t.tokenId),spenderAccountId:AccountId._fromProtobuf(t.spender),ownerAccountId:null!=t.owner?AccountId._fromProtobuf(t.owner):null,amount:null!=t.amount?long.fromValue(t.amount):null})}static _fromGrantedProtobuf(t){return new TokenAllowance({tokenId:TokenId._fromProtobuf(t.tokenId),spenderAccountId:AccountId._fromProtobuf(t.spender),ownerAccountId:null,amount:null!=t.amount?long.fromValue(t.amount):null})}_toProtobuf(){return{tokenId:this.tokenId._toProtobuf(),spender:this.spenderAccountId._toProtobuf(),owner:null!=this.ownerAccountId?this.ownerAccountId._toProtobuf():null,amount:this.amount}}}class TokenNftAllowance{constructor(t){this.tokenId=t.tokenId,this.spenderAccountId=t.spenderAccountId,this.ownerAccountId=t.ownerAccountId,this.serialNumbers=t.serialNumbers,this.allSerials=t.allSerials,Object.freeze(this)}static _fromProtobuf(t){const e=null!=t.approvedForAll&&1==t.approvedForAll.value;return new TokenNftAllowance({tokenId:TokenId._fromProtobuf(t.tokenId),spenderAccountId:AccountId._fromProtobuf(t.spender),ownerAccountId:null!=t.owner?AccountId._fromProtobuf(t.owner):null,serialNumbers:e?null:null!=t.serialNumbers?t.serialNumbers.map((t=>long.fromValue(t))):[],allSerials:e})}static _fromGrantedProtobuf(t){return new TokenNftAllowance({tokenId:TokenId._fromProtobuf(t.tokenId),spenderAccountId:AccountId._fromProtobuf(t.spender),ownerAccountId:null,serialNumbers:null!=t.approvedForAll&&t.approvedForAll?null:null!=t.serialNumbers?t.serialNumbers.map((t=>long.fromValue(t))):[],allSerials:null!=t.approvedForAll&&t.approvedForAll})}_toProtobuf(){return{tokenId:this.tokenId._toProtobuf(),spender:this.spenderAccountId._toProtobuf(),owner:null!=this.ownerAccountId?this.ownerAccountId._toProtobuf():null,approvedForAll:null==this.serialNumbers?{value:this.allSerials}:null,serialNumbers:this.serialNumbers}}}class TransactionRecord{constructor(t){this.receipt=t.receipt,this.transactionHash=t.transactionHash,this.consensusTimestamp=t.consensusTimestamp,this.transactionId=t.transactionId,this.transactionMemo=t.transactionMemo,this.transactionFee=t.transactionFee,this.transfers=t.transfers,this.contractFunctionResult=null!=t.contractFunctionResult?t.contractFunctionResult:null,this.tokenTransfers=t.tokenTransfers,this.tokenTransfersList=t.tokenTransfersList,this.scheduleRef=t.scheduleRef,this.assessedCustomFees=t.assessedCustomFees,this.nftTransfers=t.nftTransfers,this.automaticTokenAssociations=t.automaticTokenAssociations,this.parentConsensusTimestamp=t.parentConsensusTimestamp,this.aliasKey=t.aliasKey,this.duplicates=t.duplicates,this.children=t.children,this.hbarAllowanceAdjustments=t.hbarAllowanceAdjustments,this.tokenAllowanceAdjustments=t.tokenAllowanceAdjustments,this.nftAllowanceAdjustments=t.nftAllowanceAdjustments,Object.freeze(this)}_toProtobuf(){const t=this.tokenTransfers._toProtobuf(),e=this.nftTransfers._toProtobuf(),Q=[];for(const B of t)for(const t of e)null!=B.token&&null!=t.token&&B.token.shardNum===t.token.shardNum&&B.token.realmNum===t.token.realmNum&&B.token.tokenNum===t.token.tokenNum?Q.push({token:B.token,transfers:B.transfers,nftTransfers:B.nftTransfers}):(Q.push(B),Q.push(t));return{duplicateTransactionRecords:this.duplicates.map((t=>t._toProtobuf().transactionRecord)),childTransactionRecords:this.children.map((t=>t._toProtobuf().transactionRecord)),transactionRecord:{receipt:this.receipt._toProtobuf().receipt,transactionHash:null!=this.transactionHash?this.transactionHash:null,consensusTimestamp:null!=this.consensusTimestamp?this.consensusTimestamp._toProtobuf():null,transactionID:null!=this.transactionId?this.transactionId._toProtobuf():null,memo:null!=this.transactionMemo?this.transactionMemo:null,transactionFee:null!=this.transactionFee?this.transactionFee.toTinybars():null,transferList:null!=this.transfers?{accountAmounts:this.transfers.map((t=>t._toProtobuf()))}:null,tokenTransferLists:Q,scheduleRef:null!=this.scheduleRef?this.scheduleRef._toProtobuf():null,assessedCustomFees:this.assessedCustomFees.map((t=>t._toProtobuf())),automaticTokenAssociations:this.automaticTokenAssociations.map((t=>t._toProtobuf())),parentConsensusTimestamp:null!=this.parentConsensusTimestamp?this.parentConsensusTimestamp._toProtobuf():null,alias:null!=this.aliasKey?lib.Key.encode(this.aliasKey._toProtobufKey()).finish():null,cryptoAdjustments:this.hbarAllowanceAdjustments.map((t=>t._toProtobuf())),tokenAdjustments:this.tokenAllowanceAdjustments.map((t=>t._toProtobuf())),nftAdjustments:this.nftAllowanceAdjustments.map((t=>t._toProtobuf()))}}}static _fromProtobuf(t){const e=t.transactionRecord;let Q=null!=e.alias&&e.alias.length>0?Key._fromProtobufKey(lib.Key.decode(e.alias)):null;Q instanceof PublicKey||(Q=null);const B=null!=t.childTransactionRecords?t.childTransactionRecords.map((t=>TransactionRecord._fromProtobuf({transactionRecord:t}))):[],s=null!=t.duplicateTransactionRecords?t.duplicateTransactionRecords.map((t=>TransactionRecord._fromProtobuf({transactionRecord:t}))):[],F=null!=e.contractCallResult?ContractFunctionResult._fromProtobuf(e.contractCallResult):null!=e.contractCreateResult?ContractFunctionResult._fromProtobuf(e.contractCreateResult):void 0;return new TransactionRecord({receipt:TransactionReceipt._fromProtobuf({receipt:e.receipt}),transactionHash:null!=e.transactionHash?e.transactionHash:new Uint8Array,consensusTimestamp:Timestamp._fromProtobuf(e.consensusTimestamp),transactionId:TransactionId._fromProtobuf(e.transactionID),transactionMemo:null!=e.memo?e.memo:"",transactionFee:Hbar.fromTinybars(null!=e.transactionFee?e.transactionFee:0),transfers:Transfer._fromProtobuf(null!=e.transferList&&null!=e.transferList.accountAmounts?e.transferList.accountAmounts:[]),contractFunctionResult:F,tokenTransfers:TokenTransferMap._fromProtobuf(null!=e.tokenTransferLists?e.tokenTransferLists:[]),tokenTransfersList:TokenTransfer._fromProtobuf(null!=e.tokenTransferLists?e.tokenTransferLists:[]),scheduleRef:null!=e.scheduleRef?ScheduleId._fromProtobuf(e.scheduleRef):null,assessedCustomFees:null!=e.assessedCustomFees?e.assessedCustomFees.map((t=>AssessedCustomFee._fromProtobuf(t))):[],nftTransfers:TokenNftTransferMap._fromProtobuf(null!=e.tokenTransferLists?e.tokenTransferLists:[]),automaticTokenAssociations:null!=e.automaticTokenAssociations?e.automaticTokenAssociations.map((t=>TokenAssociation._fromProtobuf(t))):[],parentConsensusTimestamp:null!=e.parentConsensusTimestamp?Timestamp._fromProtobuf(e.parentConsensusTimestamp):null,aliasKey:Q,duplicates:s,children:B,hbarAllowanceAdjustments:(null!=e.cryptoAdjustments?e.cryptoAdjustments:[]).map((t=>HbarAllowance._fromProtobuf(t))),tokenAllowanceAdjustments:(null!=e.tokenAdjustments?e.tokenAdjustments:[]).map((t=>TokenAllowance._fromProtobuf(t))),nftAllowanceAdjustments:(null!=e.nftAdjustments?e.nftAdjustments:[]).map((t=>TokenNftAllowance._fromProtobuf(t)))})}static fromBytes(t){return TransactionRecord._fromProtobuf(lib.TransactionGetRecordResponse.decode(t))}toBytes(){return lib.TransactionGetRecordResponse.encode(this._toProtobuf()).finish()}}class TransactionRecordQuery extends Query{constructor(t={}){super(),this._transactionId=null,this._includeChildren=null,this._includeDuplicates=null,null!=t.transactionId&&this.setTransactionId(t.transactionId),null!=t.includeChildren&&this.setIncludeChildren(t.includeChildren),null!=t.includeDuplicates&&this.setIncludeDuplicates(t.includeDuplicates)}get transactionId(){return this._transactionId}static _fromProtobuf(t){const e=t.transactionGetRecord;return new TransactionRecordQuery({transactionId:e.transactionID?TransactionId._fromProtobuf(e.transactionID):void 0,includeChildren:null!=e.includeChildRecords?e.includeChildRecords:void 0,includeDuplicates:null!=e.includeDuplicates?e.includeDuplicates:void 0})}setTransactionId(t){return this._transactionId="string"==typeof t?TransactionId.fromString(t):t.clone(),this}setIncludeChildren(t){return this._includeChildren=t,this}get includeChildren(){return null!=this._includeChildren&&this._includeChildren}setIncludeDuplicates(t){return this._duplicates=t,this}get includeDuplicates(){return null!=this._duplicates&&this._duplicates}_shouldRetry(t,e){const{nodeTransactionPrecheckCode:Q}=this._mapResponseHeader(e);let B=Status._fromCode(null!=Q?Q:lib.ResponseCodeEnum.OK);switch(Logger$1.debug(`[${this._getLogId()}] received node precheck status ${B.toString()}`),B){case Status.Busy:case Status.Unknown:case Status.ReceiptNotFound:case Status.RecordNotFound:return ExecutionState.Retry;case Status.Ok:break;default:return ExecutionState.Error}const s=e.transactionGetRecord;if(s.header.responseType===lib.ResponseType.COST_ANSWER)return ExecutionState.Finished;const F=s.transactionRecord.receipt.status;switch(B=Status._fromCode(F),Logger$1.debug(`[${this._getLogId()}] received record's receipt ${B.toString()}`),B){case Status.Ok:case Status.Busy:case Status.Unknown:case Status.ReceiptNotFound:case Status.RecordNotFound:return ExecutionState.Retry;case Status.Success:return ExecutionState.Finished;default:return ExecutionState.Error}}_mapStatusError(t,e){const{nodeTransactionPrecheckCode:Q}=this._mapResponseHeader(e);let B=Status._fromCode(null!=Q?Q:lib.ResponseCodeEnum.OK);if(B!==Status.Ok)return new PrecheckStatusError({status:B,transactionId:this._getTransactionId()});const s=e.transactionGetRecord.transactionRecord.receipt,F=s.status;return B=Status._fromCode(F),new ReceiptStatusError({status:B,transactionId:this._getTransactionId(),transactionReceipt:TransactionReceipt._fromProtobuf({receipt:s})})}_validateChecksums(t){null!=this._transactionId&&null!=this._transactionId.accountId&&this._transactionId.accountId.validateChecksum(t)}_execute(t,e){return t.crypto.getTxRecordByTxID(e)}_mapResponseHeader(t){return t.transactionGetRecord.header}_mapResponse(t,e,Q){const B=t.transactionGetRecord;return Promise.resolve(TransactionRecord._fromProtobuf(B))}_onMakeRequest(t){return{transactionGetRecord:{header:t,transactionID:null!=this._transactionId?this._transactionId._toProtobuf():null,includeChildRecords:this._includeChildren,includeDuplicates:this._includeDuplicates}}}_getLogId(){return`TransactionRecordQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("transactionGetRecord",TransactionRecordQuery._fromProtobuf);class TransactionResponse{constructor(t){this.nodeId=t.nodeId,this.transactionHash=t.transactionHash,this.transactionId=t.transactionId,Object.freeze(this)}async getReceipt(t){const e=await(new TransactionReceiptQuery).setTransactionId(this.transactionId).setNodeAccountIds([this.nodeId]).execute(t);if(e.status!==Status.Success)throw new ReceiptStatusError({transactionReceipt:e,status:e.status,transactionId:this.transactionId});return e}async getRecord(t){return await this.getReceipt(t),(new TransactionRecordQuery).setTransactionId(this.transactionId).setNodeAccountIds([this.nodeId]).execute(t)}}async function digest(t){return new Uint8Array(await window.crypto.subtle.digest("SHA-384",t))}class TransactionHashMap extends ObjectMap{constructor(){super((t=>AccountId.fromString(t)))}static async _fromTransaction(t){const e=new TransactionHashMap;for(let Q=0;Q<t._nodeAccountIds.length;Q++){const B=t._nodeAccountIds.list[Q],s=t._transactions.get(Q),F=await digest(s.signedTransactionBytes);e._set(B,F)}return e}}class NodeAccountIdSignatureMap extends ObjectMap{constructor(){super((t=>PublicKey.fromString(t)))}static _fromTransactionSigMap(t){const e=new NodeAccountIdSignatureMap,Q=null!=t.sigPair?t.sigPair:[];for(const t of Q)null!=t.pubKeyPrefix&&(null!=t.ed25519?e._set(PublicKey.fromBytesED25519(t.pubKeyPrefix),t.ed25519):null!=t.ECDSASecp256k1&&e._set(PublicKey.fromBytesECDSA(t.pubKeyPrefix),t.ECDSASecp256k1));return e}}class SignatureMap extends ObjectMap{constructor(){super((t=>AccountId.fromString(t)))}static _fromTransaction(t){const e=new SignatureMap;for(let Q=0;Q<t._nodeAccountIds.length;Q++){const B=t._signedTransactions.get(Q).sigMap;null!=B&&e._set(t._nodeAccountIds.list[Q],NodeAccountIdSignatureMap._fromTransactionSigMap(B))}return e}}const DEFAULT_AUTO_RENEW_PERIOD=long.fromValue(7776e3),DEFAULT_RECORD_THRESHOLD=Hbar.fromTinybars(long.fromString("9223372036854775807")),DEFAULT_TRANSACTION_VALID_DURATION=120,CHUNK_SIZE=1024,TRANSACTION_REGISTRY=new Map;class Transaction extends Executable{constructor(){super(),this._transactions=new List,this._signedTransactions=new List,this._signerPublicKeys=new Set,this._transactionValidDuration=DEFAULT_TRANSACTION_VALID_DURATION,this._defaultMaxTransactionFee=new Hbar(2),this._maxTransactionFee=null,this._transactionMemo="",this._transactionIds=new List,this._operatorAccountId=null,this._publicKeys=[],this._transactionSigners=[],this._regenerateTransactionId=null}static fromBytes(t){const e=[],Q=[],B=[],s=[],F=[],U=[],n=lib.TransactionList.decode(t).transactionList;if(0===n.length){const e=lib.Transaction.decode(t);0!==e.signedTransactionBytes.length?n.push(e):n.push({signedTransactionBytes:lib.SignedTransaction.encode({bodyBytes:e.bodyBytes,sigMap:e.sigMap}).finish()})}for(const t of n){if(null==t.signedTransactionBytes)throw new Error("Transaction.signedTransactionBytes are null");const n=lib.SignedTransaction.decode(t.signedTransactionBytes);e.push(n);const c=lib.TransactionBody.decode(n.bodyBytes);if(null==c.data)throw new Error("(BUG) body.data was not set in the protobuf");if(U.push(c),null!=c.transactionID){const t=TransactionId._fromProtobuf(c.transactionID);s.includes(t.toString())||(Q.push(t),s.push(t.toString()))}if(null!=c.nodeAccountID){const t=AccountId._fromProtobuf(c.nodeAccountID);F.includes(t.toString())||(B.push(t),F.push(t.toString()))}}const c=U[0];if(null==c||null==c.data)throw new Error("No transaction found in bytes or failed to decode TransactionBody");const o=TRANSACTION_REGISTRY.get(c.data);if(null==o)throw new Error(`(BUG) Transaction.fromBytes() not implemented for type ${c.data}`);return o(n,e,Q,B,U)}schedule(){if(this._requireNotFrozen(),1!=SCHEDULE_CREATE_TRANSACTION.length)throw new Error("ScheduleCreateTransaction has not been loaded yet");return SCHEDULE_CREATE_TRANSACTION[0]()._setScheduledTransaction(this)}static _fromProtobufTransactions(t,e,Q,B,s,F){const U=F[0],n=new AccountId(0);for(let t=0;t<s.length;t++)s[t].equals(n)&&s.splice(t--,1);t._transactions.setList(e),t._signedTransactions.setList(Q).setLocked(),t._transactionIds.setList(B).setLocked(),t._nodeAccountIds.setList(s).setLocked(),t._nextNodeAccountIdIndex=0,t._transactionValidDuration=null!=U.transactionValidDuration&&null!=U.transactionValidDuration.seconds?long.fromValue(U.transactionValidDuration.seconds).toInt():DEFAULT_TRANSACTION_VALID_DURATION,t._maxTransactionFee=null!=U.transactionFee?Hbar.fromTinybars(U.transactionFee):new Hbar(0),t._transactionMemo=null!=U.memo?U.memo:"";for(let e=0;e<s.length;e++){const B=Q[e];if(null!=B.sigMap&&null!=B.sigMap.sigPair)for(const e of B.sigMap.sigPair)t._signerPublicKeys.add(encode$1(e.pubKeyPrefix)),t._publicKeys.push(PublicKey.fromBytes(e.pubKeyPrefix)),t._transactionSigners.push(null)}return t}setNodeAccountIds(t){return this._requireNotFrozen(),super.setNodeAccountIds(t),this}get transactionValidDuration(){return this._transactionValidDuration}setTransactionValidDuration(t){return this._requireNotFrozen(),this._transactionValidDuration=t,this}get maxTransactionFee(){return this._maxTransactionFee}setMaxTransactionFee(t){return this._requireNotFrozen(),this._maxTransactionFee=t instanceof Hbar?t:new Hbar(t),this}get regenerateTransactionId(){return this._regenerateTransactionId}setRegenerateTransactionId(t){return this._requireNotFrozen(),this._regenerateTransactionId=t,this}get transactionMemo(){return this._transactionMemo}setTransactionMemo(t){return this._requireNotFrozen(),this._transactionMemo=t,this}get transactionId(){if(this._transactionIds.setLocked(),this._transactionIds.isEmpty)throw new Error("transaction must have been frozen before getting the transaction ID, try calling `freeze`");return this._transactionIds.current}setTransactionId(t){return this._requireNotFrozen(),this._transactionIds.setList([t]).setLocked(),this}sign(t){return this.signWith(t.publicKey,(e=>Promise.resolve(t.sign(e))))}async signWith(t,e){this._signOnDemand||this._requireFrozen();const Q=encode$1(t.toBytesRaw());if(this._signerPublicKeys.has(Q))return this;if(this._transactions.clear(),this._signerPublicKeys.add(Q),this._signOnDemand)return this._publicKeys.push(t),this._transactionSigners.push(e),this;for(const Q of this._signedTransactions.list){const B=Q.bodyBytes,s=await e(B);null==Q.sigMap&&(Q.sigMap={}),null==Q.sigMap.sigPair&&(Q.sigMap.sigPair=[]),Q.sigMap.sigPair.push(t._toProtobufSignature(s))}return this}signWithOperator(t){const e=t._operator;if(null==e)throw new Error("`client` must have an operator to sign with the operator");return this._isFrozen()||this.freezeWith(t),this.signWith(e.publicKey,e.transactionSigner)}addSignature(t,e){this._requireOneNodeAccountId(),this.isFrozen()||this.freeze();const Q=encode$1(t.toBytesRaw());if(this._signerPublicKeys.has(Q))return this;this._transactions.clear(),this._transactionIds.setLocked(),this._nodeAccountIds.setLocked(),this._signedTransactions.setLocked();for(const Q of this._signedTransactions.list)null==Q.sigMap&&(Q.sigMap={}),null==Q.sigMap.sigPair&&(Q.sigMap.sigPair=[]),Q.sigMap.sigPair.push(t._toProtobufSignature(e));return this._signerPublicKeys.add(Q),this._publicKeys.push(t),this._transactionSigners.push(null),this}getSignatures(){return this._requireFrozen(),this._requireNotSignOnDemand(),this._buildAllTransactions(),this._transactionIds.setLocked(),this._nodeAccountIds.setLocked(),SignatureMap._fromTransaction(this)}async getSignaturesAsync(){return this._transactionIds.isEmpty||this._transactionIds.setLocked(),this._nodeAccountIds.isEmpty||this._nodeAccountIds.setLocked(),await this._buildAllTransactionsAsync(),this._transactions.setLocked(),this._signedTransactions.setLocked(),SignatureMap._fromTransaction(this)}_setTransactionId(){if(null==this._operator&&this._transactionIds.isEmpty)throw new Error("`transactionId` must be set or `client` must be provided with `freezeWith`")}_setNodeAccountIds(t){if(this._nodeAccountIds.isEmpty){if(null==t)throw new Error("`nodeAccountId` must be set or `client` must be provided with `freezeWith`");this._nodeAccountIds.setList(t._network.getNodeAccountIdsForExecute())}}_buildSignedTransactions(){this._signedTransactions.locked||this._signedTransactions.setList(this._nodeAccountIds.list.map((t=>this._makeSignedTransaction(t))))}freeze(){return this.freezeWith(null)}freezeWith(t){if(this._signOnDemand=null!=t&&t._signOnDemand,this._operator=null!=t?t._operator:null,this._maxTransactionFee=null==this._maxTransactionFee?null!=t&&null!=t.defaultMaxTransactionFee?t.defaultMaxTransactionFee:this._defaultMaxTransactionFee:this._maxTransactionFee,this._regenerateTransactionId=null!=t&&null==this._regenerateTransactionId?t.defaultRegenerateTransactionId:this._regenerateTransactionId,this._setNodeAccountIds(t),this._setTransactionId(),null!=t)for(const e of this._transactionIds.list)null!=e.accountId&&e.accountId.validateChecksum(t);return this._buildNewTransactionIdList(),this._signOnDemand||this._buildSignedTransactions(),this}async signWithSigner(t){return await t.signTransaction(this),this}async freezeWithSigner(t){return await t.populateTransaction(this),await this.signWithSigner(t),this}toBytes(){return this._requireFrozen(),this._requireNotSignOnDemand(),this._transactionIds.setLocked(),this._nodeAccountIds.setLocked(),this._buildAllTransactions(),lib.TransactionList.encode({transactionList:this._transactions.list}).finish()}async toBytesAsync(){return this._requireFrozen(),this._transactionIds.setLocked(),this._nodeAccountIds.setLocked(),await this._buildAllTransactionsAsync(),this._transactions.setLocked(),this._signedTransactions.setLocked(),lib.TransactionList.encode({transactionList:this._transactions.list}).finish()}async getTransactionHash(){return this._requireFrozen(),this._transactionIds.isEmpty||this._transactionIds.setLocked(),this._nodeAccountIds.isEmpty||this._nodeAccountIds.setLocked(),await this._buildAllTransactionsAsync(),this._transactions.setLocked(),this._signedTransactions.setLocked(),digest(this._transactions.get(0).signedTransactionBytes)}async getTransactionHashPerNode(){return this._requireFrozen(),this._transactionIds.isEmpty||this._transactionIds.setLocked(),this._nodeAccountIds.isEmpty||this._nodeAccountIds.setLocked(),await this._buildAllTransactionsAsync(),await TransactionHashMap._fromTransaction(this)}isFrozen(){return this._signedTransactions.length>0}_getTransactionId(){return this.transactionId}_validateChecksums(t){}async _beforeExecute(t){this._isFrozen()||this.freezeWith(t),t.isAutoValidateChecksumsEnabled()&&this._validateChecksums(t),this._operator=null!=t?t._operator:null,null!=this._operator&&await this.signWith(this._operator.publicKey,this._operator.transactionSigner)}async _makeRequestAsync(){const t=this._transactionIds.index*this._nodeAccountIds.length+this._nodeAccountIds.index;return this._signOnDemand?await this._buildTransactionAsync():(this._buildTransaction(t),this._transactions.get(t))}async _signTransaction(){const t=this._makeSignedTransaction(this._nodeAccountIds.next),e=t.bodyBytes;for(let Q=0;Q<this._publicKeys.length;Q++){const B=this._publicKeys[Q],s=this._transactionSigners[Q];if(null==s)continue;const F=await s(e);null==t.sigMap&&(t.sigMap={}),null==t.sigMap.sigPair&&(t.sigMap.sigPair=[]),t.sigMap.sigPair.push(B._toProtobufSignature(F))}return t}_buildNewTransactionIdList(){if(this._transactionIds.locked||null==this._operator)return;const t=TransactionId.withValidStart(this._operator.accountId,Timestamp.generate());this._transactionIds.set(this._transactionIds.index,t)}_buildAllTransactions(){for(let t=0;t<this._signedTransactions.length;t++)this._buildTransaction(t)}async _buildAllTransactionsAsync(){if(this._signOnDemand){if(this._buildSignedTransactions(),!this._transactions.locked)for(let t=0;t<this._signedTransactions.length;t++)this._transactions.push(await this._buildTransactionAsync())}else this._buildAllTransactions()}_buildTransaction(t){if(this._transactions.length<t)for(let e=this._transactions.length;e<t;e++)this._transactions.push(null);this._transactions.setIfAbsent(t,(()=>({signedTransactionBytes:lib.SignedTransaction.encode(this._signedTransactions.get(t)).finish()})))}async _buildTransactionAsync(){return{signedTransactionBytes:lib.SignedTransaction.encode(await this._signTransaction()).finish()}}_shouldRetry(t,e){const{nodeTransactionPrecheckCode:Q}=e,B=Status._fromCode(null!=Q?Q:lib.ResponseCodeEnum.OK);switch(Logger$1.debug(`[${this._getLogId()}] received status ${B.toString()}`),B){case Status.Busy:case Status.Unknown:case Status.PlatformTransactionNotCreated:return ExecutionState.Retry;case Status.Ok:return ExecutionState.Finished;case Status.TransactionExpired:return null==this._regenerateTransactionId||this._regenerateTransactionId?(this._buildNewTransactionIdList(),ExecutionState.Retry):ExecutionState.Error;default:return ExecutionState.Error}}_mapStatusError(t,e){const{nodeTransactionPrecheckCode:Q}=e,B=Status._fromCode(null!=Q?Q:lib.ResponseCodeEnum.OK);return new PrecheckStatusError({status:B,transactionId:this._getTransactionId()})}async _mapResponse(t,e,Q){const B=await digest(Q.signedTransactionBytes),s=this.transactionId;return this._transactionIds.advance(),new TransactionResponse({nodeId:e,transactionHash:B,transactionId:s})}_getNodeAccountId(){if(this._nodeAccountIds.isEmpty)throw new Error("(BUG) Transaction::_getNodeAccountId called before transaction has been frozen");return this._nodeAccountIds.current}_makeSignedTransaction(t){const e=this._makeTransactionBody(t);return{bodyBytes:lib.TransactionBody.encode(e).finish(),sigMap:{sigPair:[]}}}_makeTransactionBody(t){return{[this._getTransactionDataCase()]:this._makeTransactionData(),transactionFee:null!=this._maxTransactionFee?this._maxTransactionFee.toTinybars():null,memo:this._transactionMemo,transactionID:this._transactionIds.current._toProtobuf(),nodeAccountID:null!=t?t._toProtobuf():null,transactionValidDuration:{seconds:long.fromNumber(this._transactionValidDuration)}}}_getTransactionDataCase(){throw new Error("not implemented")}_getScheduledTransactionBody(){return{memo:this.transactionMemo,transactionFee:null==this._maxTransactionFee?this._defaultMaxTransactionFee.toTinybars():this._maxTransactionFee.toTinybars(),[this._getTransactionDataCase()]:this._makeTransactionData()}}_makeTransactionData(){throw new Error("not implemented")}_isFrozen(){return this._signOnDemand||this._signedTransactions.length>0||this._transactions.length>0}_requireNotFrozen(){if(this._isFrozen())throw new Error("transaction is immutable; it has at least one signature or has been explicitly frozen")}_requireNotSignOnDemand(){if(this._signOnDemand)throw new Error("Please use `toBytesAsync()` if `signOnDemand` is enabled")}_requireFrozen(){if(!this._isFrozen())throw new Error("transaction must have been frozen before calculating the hash will be stable, try calling `freeze`")}_requireOneNodeAccountId(){if(1!=this._nodeAccountIds.length)throw"transaction did not have exactly one node ID set"}}const SCHEDULE_CREATE_TRANSACTION=[];class NftId{constructor(t,e){this.tokenId=t,this.serial="number"==typeof e?long.fromNumber(e):e,Object.freeze(this)}static fromString(t){const e=t.split("/").length>1?t.split("/"):t.split("@");for(const t of e)if(""===t)throw new Error("invalid format for NftId: use [token]/[serial] or [token]@[serial]");const Q=TokenId.fromString(e[0]),B=long.fromString(e[1]);return new NftId(Q,B)}static _fromProtobuf(t){return new NftId(TokenId._fromProtobuf(t.tokenID),null!=t.serialNumber?t.serialNumber:long.ZERO)}static fromBytes(t){return NftId._fromProtobuf(lib.NftID.decode(t))}_toProtobuf(){return{tokenID:this.tokenId._toProtobuf(),serialNumber:long.fromValue(void 0!==this.serial?this.serial:0)}}toString(){return`${this.serial.toString()}@${this.tokenId.toString()}`}toBytes(){return lib.NftID.encode(this._toProtobuf()).finish()}}class AccountAllowanceAdjustTransaction extends Transaction{constructor(t={}){super(),this._hbarAllowances=null!=t.hbarAllowances?t.hbarAllowances:[],this._tokenAllowances=null!=t.tokenAllowances?t.tokenAllowances:[],this._nftAllowances=null!=t.nftAllowances?t.nftAllowances:[]}static _fromProtobuf(t,e,Q,B,s){const F=s[0].cryptoAdjustAllowance;return Transaction._fromProtobufTransactions(new AccountAllowanceAdjustTransaction({hbarAllowances:(null!=F.cryptoAllowances?F.cryptoAllowances:[]).map((t=>HbarAllowance._fromProtobuf(t))),tokenAllowances:(null!=F.tokenAllowances?F.tokenAllowances:[]).map((t=>TokenAllowance._fromProtobuf(t))),nftAllowances:(null!=F.nftAllowances?F.nftAllowances:[]).map((t=>TokenNftAllowance._fromProtobuf(t)))}),t,e,Q,B,s)}get hbarAllowances(){return this._hbarAllowances}addHbarAllowance(t,e){const Q=e instanceof Hbar?e:new Hbar(e);return this._adjustHbarAllowance(null,t,requireNotNegative(Q))}_adjustHbarAllowance(t,e,Q){return this._requireNotFrozen(),this._hbarAllowances.push(new HbarAllowance({spenderAccountId:"string"==typeof e?AccountId.fromString(e):e,ownerAccountId:"string"==typeof t?AccountId.fromString(t):t,amount:Q})),this}grantHbarAllowance(t,e,Q){const B=Q instanceof Hbar?Q:new Hbar(Q);return this._adjustHbarAllowance(t,e,requireNotNegative(B))}revokeHbarAllowance(t,e,Q){const B=Q instanceof Hbar?Q:new Hbar(Q);return this._adjustHbarAllowance(t,e,requireNotNegative(B).negated())}get tokenAllowances(){return this._tokenAllowances}addTokenAllowance(t,e,Q){return this._adjustTokenAllowance(t,null,e,requireNotNegative(long.fromValue(Q)))}_adjustTokenAllowance(t,e,Q,B){return this._requireNotFrozen(),this._tokenAllowances.push(new TokenAllowance({tokenId:"string"==typeof t?TokenId.fromString(t):t,spenderAccountId:"string"==typeof Q?AccountId.fromString(Q):Q,ownerAccountId:"string"==typeof e?AccountId.fromString(e):e,amount:"number"==typeof B?long.fromNumber(B):B})),this}grantTokenAllowance(t,e,Q,B){return this._adjustTokenAllowance(t,e,Q,requireNotNegative(long.fromValue(B)))}revokeTokenAllowance(t,e,Q,B){return this._adjustTokenAllowance(t,e,Q,requireNotNegative(long.fromValue(B)))}addTokenNftAllowance(t,e){const Q="string"==typeof t?NftId.fromString(t):t;return this._adjustTokenNftAllowance(Q,null,e)}_adjustTokenNftAllowance(t,e,Q){this._requireNotFrozen();const B="string"==typeof Q?AccountId.fromString(Q):Q,s="string"==typeof e?AccountId.fromString(e):e;let F=!1;for(const e of this._nftAllowances)if(0===e.tokenId.compare(t.tokenId)&&0===e.spenderAccountId.compare(B)){null!=e.serialNumbers&&e.serialNumbers.push(t.serial),F=!0;break}return F||this._nftAllowances.push(new TokenNftAllowance({tokenId:t.tokenId,spenderAccountId:B,serialNumbers:[t.serial],ownerAccountId:s,allSerials:!1})),this}grantTokenNftAllowance(t,e,Q){const B="string"==typeof t?NftId.fromString(t):t;return requireNotNegative(B.serial),this._adjustTokenNftAllowance(B,e,Q)}revokeTokenNftAllowance(t,e,Q){const B="string"==typeof t?NftId.fromString(t):t;return requireNotNegative(B.serial),B.serial=B.serial.negate(),this._adjustTokenNftAllowance(B,e,Q)}addAllTokenNftAllowance(t,e){return this._adjustTokenNftAllowanceAllSerials(t,null,e,!0)}grantTokenNftAllowanceAllSerials(t,e,Q){return this._adjustTokenNftAllowanceAllSerials(t,e,Q,!0)}revokeTokenNftAllowanceAllSerials(t,e,Q){return this._adjustTokenNftAllowanceAllSerials(t,e,Q,!1)}_adjustTokenNftAllowanceAllSerials(t,e,Q,B){return this._requireNotFrozen(),this._nftAllowances.push(new TokenNftAllowance({tokenId:"string"==typeof t?TokenId.fromString(t):t,ownerAccountId:null!=e?"string"==typeof e?AccountId.fromString(e):e:null,spenderAccountId:"string"==typeof Q?AccountId.fromString(Q):Q,serialNumbers:null,allSerials:B})),this}_validateChecksums(t){this._hbarAllowances.map((e=>e.spenderAccountId.validateChecksum(t))),this._tokenAllowances.map((e=>{e.tokenId.validateChecksum(t),e.spenderAccountId.validateChecksum(t)})),this._nftAllowances.map((e=>{e.tokenId.validateChecksum(t),e.spenderAccountId.validateChecksum(t),null!=e.ownerAccountId&&e.ownerAccountId.validateChecksum(t)}))}_execute(t,e){return t.crypto.adjustAllowance(e)}_getTransactionDataCase(){return"cryptoAdjustAllowance"}_makeTransactionData(){return{cryptoAllowances:this._hbarAllowances.map((t=>t._toProtobuf())),tokenAllowances:this._tokenAllowances.map((t=>t._toProtobuf())),nftAllowances:this._nftAllowances.map((t=>t._toProtobuf()))}}_getLogId(){return`AccountAllowanceAdjustTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("cryptoAdjustAllowance",AccountAllowanceAdjustTransaction._fromProtobuf);class AccountAllowanceApproveTransaction extends Transaction{constructor(t={}){super(),this._hbarApprovals=null!=t.hbarApprovals?t.hbarApprovals:[],this._tokenApprovals=null!=t.tokenApprovals?t.tokenApprovals:[],this._nftApprovals=null!=t.nftApprovals?t.nftApprovals:[]}static _fromProtobuf(t,e,Q,B,s){const F=s[0].cryptoApproveAllowance;return Transaction._fromProtobufTransactions(new AccountAllowanceApproveTransaction({hbarApprovals:(null!=F.cryptoAllowances?F.cryptoAllowances:[]).map((t=>HbarAllowance._fromProtobuf(t))),tokenApprovals:(null!=F.tokenAllowances?F.tokenAllowances:[]).map((t=>TokenAllowance._fromProtobuf(t))),nftApprovals:(null!=F.nftAllowances?F.nftAllowances:[]).map((t=>TokenNftAllowance._fromProtobuf(t)))}),t,e,Q,B,s)}get hbarApprovals(){return this._hbarApprovals}approveHbarAllowance(t,e,Q){return this._requireNotFrozen(),this._hbarApprovals.push(new HbarAllowance({spenderAccountId:"string"==typeof e?AccountId.fromString(e):e,ownerAccountId:"string"==typeof t?AccountId.fromString(t):t,amount:Q instanceof Hbar?Q:new Hbar(Q)})),this}addHbarAllowance(t,e){return this._requireNotFrozen(),this._hbarApprovals.push(new HbarAllowance({spenderAccountId:"string"==typeof t?AccountId.fromString(t):t,amount:e instanceof Hbar?e:new Hbar(e),ownerAccountId:null})),this}get tokenApprovals(){return this._tokenApprovals}approveTokenAllowance(t,e,Q,B){return this._requireNotFrozen(),this._tokenApprovals.push(new TokenAllowance({tokenId:"string"==typeof t?TokenId.fromString(t):t,spenderAccountId:"string"==typeof Q?AccountId.fromString(Q):Q,ownerAccountId:"string"==typeof e?AccountId.fromString(e):e,amount:"number"==typeof B?long.fromNumber(B):B})),this}addTokenAllowance(t,e,Q){return this._requireNotFrozen(),this._tokenApprovals.push(new TokenAllowance({tokenId:"string"==typeof t?TokenId.fromString(t):t,spenderAccountId:"string"==typeof e?AccountId.fromString(e):e,amount:"number"==typeof Q?long.fromNumber(Q):Q,ownerAccountId:null})),this}addTokenNftAllowance(t,e){return this._approveTokenNftAllowance(t,null,e)}_approveTokenNftAllowance(t,e,Q){this._requireNotFrozen();const B="string"==typeof t?NftId.fromString(t):t,s="string"==typeof Q?AccountId.fromString(Q):Q;let F=!1;for(const t of this._nftApprovals)if(0===t.tokenId.compare(B.tokenId)&&0===t.spenderAccountId.compare(s)){null!=t.serialNumbers&&t.serialNumbers.push(B.serial),F=!0;break}return F||this._nftApprovals.push(new TokenNftAllowance({tokenId:B.tokenId,spenderAccountId:"string"==typeof Q?AccountId.fromString(Q):Q,ownerAccountId:"string"==typeof e?AccountId.fromString(e):e,serialNumbers:[B.serial],allSerials:!1})),this}approveTokenNftAllowance(t,e,Q){return this._approveTokenNftAllowance(t,e,Q)}_approveAllTokenNftAllowance(t,e,Q,B){return this._requireNotFrozen(),this._nftApprovals.push(new TokenNftAllowance({tokenId:"string"==typeof t?TokenId.fromString(t):t,spenderAccountId:"string"==typeof Q?AccountId.fromString(Q):Q,ownerAccountId:"string"==typeof e?AccountId.fromString(e):e,serialNumbers:null,allSerials:B})),this}addAllTokenNftAllowance(t,e,Q){return this._approveAllTokenNftAllowance(t,e,Q,!0)}approveTokenNftAllowanceAllSerials(t,e,Q){return this._approveAllTokenNftAllowance(t,e,Q,!0)}_validateChecksums(t){this._hbarApprovals.map((e=>e.spenderAccountId.validateChecksum(t))),this._tokenApprovals.map((e=>{e.tokenId.validateChecksum(t),e.spenderAccountId.validateChecksum(t)})),this._nftApprovals.map((e=>{e.tokenId.validateChecksum(t),e.spenderAccountId.validateChecksum(t),null!=e.ownerAccountId&&e.ownerAccountId.validateChecksum(t)}))}_execute(t,e){return t.crypto.approveAllowances(e)}_getTransactionDataCase(){return"cryptoApproveAllowance"}_makeTransactionData(){return{cryptoAllowances:this._hbarApprovals.map((t=>t._toProtobuf())),tokenAllowances:this._tokenApprovals.map((t=>t._toProtobuf())),nftAllowances:this._nftApprovals.map((t=>t._toProtobuf()))}}_getLogId(){return`AccountAllowanceApproveTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("cryptoApproveAllowance",AccountAllowanceApproveTransaction._fromProtobuf);class TokenBalanceMap extends ObjectMap{constructor(){super((t=>TokenId.fromString(t)))}}class TokenDecimalMap extends ObjectMap{constructor(){super((t=>TokenId.fromString(t)))}}class AccountBalance{constructor(t){this.hbars=t.hbars,this.tokens=t.tokens,this.tokenDecimals=t.tokenDecimals,Object.freeze(this)}static _fromProtobuf(t){const e=new TokenBalanceMap,Q=new TokenDecimalMap;if(null!=t.tokenBalances)for(const B of t.tokenBalances){const t=TokenId._fromProtobuf(B.tokenId);Q._set(t,null!=B.decimals?B.decimals:0),e._set(t,long.fromValue(B.balance))}return new AccountBalance({hbars:Hbar.fromTinybars(t.balance),tokens:e,tokenDecimals:Q})}_toProtobuf(){const t=[];for(const[e,Q]of null!=this.tokens?this.tokens:[])t.push({tokenId:e._toProtobuf(),balance:Q,decimals:null!=this.tokenDecimals?this.tokenDecimals.get(e):null});return{balance:this.hbars.toTinybars(),tokenBalances:t}}toString(){return JSON.stringify(this.toJSON())}toJSON(){const t=[];for(const[e,Q]of null!=this.tokens?this.tokens:[]){const B=null!=this.tokenDecimals?this.tokenDecimals.get(e):null;t.push({tokenId:e.toString(),balance:Q.toString(),decimals:null!=B?B:0})}return{hbars:this.hbars.toString(),tokens:t}}}class AccountBalanceQuery extends Query{constructor(t={}){super(),this._accountId=null,this._contractId=null,null!=t.accountId&&this.setAccountId(t.accountId),null!=t.contractId&&this.setContractId(t.contractId)}static _fromProtobuf(t){const e=t.cryptogetAccountBalance;return new AccountBalanceQuery({accountId:null!=e.accountID?AccountId._fromProtobuf(e.accountID):void 0,contractId:null!=e.contractID?ContractId._fromProtobuf(e.contractID):void 0})}get accountId(){return this._accountId}setAccountId(t){return this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}get contractId(){return this._contractId}setContractId(t){return this._contractId="string"==typeof t?ContractId.fromString(t):t.clone(),this}_isPaymentRequired(){return!1}_validateChecksums(t){null!=this._accountId&&this._accountId.validateChecksum(t),null!=this._contractId&&this._contractId.validateChecksum(t)}_execute(t,e){return t.crypto.cryptoGetBalance(e)}_mapResponseHeader(t){return t.cryptogetAccountBalance.header}_mapResponse(t,e,Q){const B=t.cryptogetAccountBalance;return Promise.resolve(AccountBalance._fromProtobuf(B))}_onMakeRequest(t){return{cryptogetAccountBalance:{header:t,accountID:null!=this._accountId?this._accountId._toProtobuf():null,contractID:null!=this._contractId?this._contractId._toProtobuf():null}}}_getLogId(){return`AccountBalanceQuery:${this._timestamp.toString()}`}}QUERY_REGISTRY.set("cryptogetAccountBalance",AccountBalanceQuery._fromProtobuf);class Duration{constructor(t){this.seconds=t instanceof long?t:long.fromNumber(t),Object.freeze(this)}_toProtobuf(){return{seconds:this.seconds}}static _fromProtobuf(t){return new Duration(t.seconds)}}class AccountCreateTransaction extends Transaction{constructor(t={}){super(),this._key=null,this._initialBalance=null,this._sendRecordThreshold=DEFAULT_RECORD_THRESHOLD,this._receiveRecordThreshold=DEFAULT_RECORD_THRESHOLD,this._receiverSignatureRequired=!1,this._proxyAccountId=null,this._autoRenewPeriod=new Duration(DEFAULT_AUTO_RENEW_PERIOD),this._accountMemo=null,this._maxAutomaticTokenAssociations=null,null!=t.key&&this.setKey(t.key),null!=t.receiverSignatureRequired&&this.setReceiverSignatureRequired(t.receiverSignatureRequired),null!=t.initialBalance&&this.setInitialBalance(t.initialBalance),null!=t.proxyAccountId&&this.setProxyAccountId(t.proxyAccountId),null!=t.autoRenewPeriod&&this.setAutoRenewPeriod(t.autoRenewPeriod),null!=t.accountMemo&&this.setAccountMemo(t.accountMemo),null!=t.maxAutomaticTokenAssociations&&this.setMaxAutomaticTokenAssociations(t.maxAutomaticTokenAssociations)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].cryptoCreateAccount;return Transaction._fromProtobufTransactions(new AccountCreateTransaction({key:null!=F.key?Key._fromProtobufKey(F.key):void 0,initialBalance:null!=F.initialBalance?F.initialBalance:void 0,receiverSignatureRequired:null!=F.receiverSigRequired?F.receiverSigRequired:void 0,proxyAccountId:null!=F.proxyAccountID?AccountId._fromProtobuf(F.proxyAccountID):void 0,autoRenewPeriod:null!=F.autoRenewPeriod&&null!=F.autoRenewPeriod.seconds?F.autoRenewPeriod.seconds:void 0,accountMemo:null!=F.memo?F.memo:void 0,maxAutomaticTokenAssociations:null!=F.maxAutomaticTokenAssociations?F.maxAutomaticTokenAssociations:void 0}),t,e,Q,B,s)}get key(){return this._key}setKey(t){return this._requireNotFrozen(),this._key=t,this}get initialBalance(){return this._initialBalance}setInitialBalance(t){return this._requireNotFrozen(),this._initialBalance=t instanceof Hbar?t:new Hbar(t),this}get receiverSignatureRequired(){return this._receiverSignatureRequired}setReceiverSignatureRequired(t){return this._requireNotFrozen(),this._receiverSignatureRequired=t,this}get proxyAccountId(){return this._proxyAccountId}setProxyAccountId(t){return this._requireNotFrozen(),this._proxyAccountId=t,this}get autoRenewPeriod(){return this._autoRenewPeriod}setAutoRenewPeriod(t){return this._requireNotFrozen(),this._autoRenewPeriod=t instanceof Duration?t:new Duration(t),this}get accountMemo(){return this._accountMemo}setAccountMemo(t){return this._requireNotFrozen(),this._accountMemo=t,this}get maxAutomaticTokenAssociations(){return this._maxAutomaticTokenAssociations}setMaxAutomaticTokenAssociations(t){return this._requireNotFrozen(),this._maxAutomaticTokenAssociations="number"==typeof t?long.fromNumber(t):t,this}_validateChecksums(t){null!=this._proxyAccountId&&this._proxyAccountId.validateChecksum(t)}_execute(t,e){return t.crypto.createAccount(e)}_getTransactionDataCase(){return"cryptoCreateAccount"}_makeTransactionData(){return{key:null!=this._key?this._key._toProtobufKey():null,initialBalance:null!=this._initialBalance?this._initialBalance.toTinybars():null,autoRenewPeriod:this._autoRenewPeriod._toProtobuf(),proxyAccountID:null!=this._proxyAccountId?this._proxyAccountId._toProtobuf():null,receiveRecordThreshold:this._receiveRecordThreshold.toTinybars(),sendRecordThreshold:this._sendRecordThreshold.toTinybars(),receiverSigRequired:this._receiverSignatureRequired,memo:this._accountMemo,maxAutomaticTokenAssociations:null!=this._maxAutomaticTokenAssociations?this._maxAutomaticTokenAssociations.toInt():null}}_getLogId(){return`AccountCreateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("cryptoCreateAccount",AccountCreateTransaction._fromProtobuf);class AccountDeleteTransaction extends Transaction{constructor(t={}){super(),this._accountId=null,this._transferAccountId=null,null!=t.accountId&&this.setAccountId(t.accountId),null!=t.transferAccountId&&this.setTransferAccountId(t.transferAccountId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].cryptoDelete;return Transaction._fromProtobufTransactions(new AccountDeleteTransaction({accountId:null!=F.deleteAccountID?AccountId._fromProtobuf(F.deleteAccountID):void 0,transferAccountId:null!=F.transferAccountID?AccountId._fromProtobuf(F.transferAccountID):void 0}),t,e,Q,B,s)}get accountId(){return this._accountId}setAccountId(t){return this._requireNotFrozen(),this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}get transferAccountId(){return this._transferAccountId}setTransferAccountId(t){return this._requireNotFrozen(),this._transferAccountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._accountId&&this._accountId.validateChecksum(t),null!=this._transferAccountId&&this._transferAccountId.validateChecksum(t)}_execute(t,e){return t.crypto.cryptoDelete(e)}_getTransactionDataCase(){return"cryptoDelete"}_makeTransactionData(){return{deleteAccountID:null!=this._accountId?this._accountId._toProtobuf():null,transferAccountID:null!=this._transferAccountId?this._transferAccountId._toProtobuf():null}}_getLogId(){return`AccountDeleteTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("cryptoDelete",AccountDeleteTransaction._fromProtobuf);class LiveHash{constructor(t){this.accountId=t.accountId,this.hash=t.hash,this.keys=t.keys,this.duration=t.duration,Object.freeze(this)}static _fromProtobuf(t){const e=t;return new LiveHash({accountId:AccountId._fromProtobuf(e.accountId),hash:null!=e.hash?e.hash:new Uint8Array,keys:null!=e.keys?KeyList.__fromProtobufKeyList(e.keys):new KeyList,duration:Duration._fromProtobuf(e.duration)})}_toProtobuf(){return{accountId:this.accountId._toProtobuf(),hash:this.hash,keys:this.keys._toProtobufKey().keyList,duration:this.duration._toProtobuf()}}}class TokenRelationship{constructor(t){this.tokenId=t.tokenId,this.symbol=t.symbol,this.balance=t.balance,this.isKycGranted=t.isKycGranted,this.isFrozen=t.isFrozen,this.automaticAssociation=t.automaticAssociation,Object.freeze(this)}static _fromProtobuf(t){const e=TokenId._fromProtobuf(t.tokenId),Q=null==t.kycStatus||0===t.kycStatus?null:1===t.kycStatus,B=null==t.freezeStatus||0===t.freezeStatus?null:1===t.freezeStatus;return new TokenRelationship({tokenId:e,symbol:t.symbol,balance:null!=t.balance?t.balance instanceof long?t.balance:long.fromValue(t.balance):long.ZERO,isKycGranted:Q,isFrozen:B,automaticAssociation:null!=t.automaticAssociation?t.automaticAssociation:null})}_toProtobuf(){return{tokenId:this.tokenId._toProtobuf(),symbol:this.symbol,balance:this.balance,kycStatus:null==this.isKycGranted?0:this.isKycGranted?1:2,freezeStatus:null==this.isFrozen?0:this.isFrozen?1:2,automaticAssociation:this.automaticAssociation}}}class TokenRelationshipMap extends ObjectMap{constructor(){super((t=>TokenId.fromString(t)))}static _fromProtobuf(t){const e=new TokenRelationshipMap;for(const Q of t){const t=TokenId._fromProtobuf(Q.tokenId);e._set(t,TokenRelationship._fromProtobuf(Q))}return e}_toProtobuf(){const t=[];for(const[e,Q]of this)t.push(Q._toProtobuf());return t}}class LedgerId{constructor(t){this._ledgerId=t,Object.freeze(this)}static fromString(t){switch(t){case NETNAMES[0]:case"0":return LedgerId.MAINNET;case NETNAMES[1]:case"1":return LedgerId.TESTNET;case NETNAMES[2]:case"2":return LedgerId.PREVIEWNET;default:{let e=decode$1(t);if(0==e.length&&0!=t.length)throw new Error("Default reached for fromString");return new LedgerId(e)}}}toString(){if(1!=this._ledgerId.length)return encode$1(this._ledgerId);switch(this._ledgerId[0]){case 0:return NETNAMES[0];case 1:return NETNAMES[1];case 2:return NETNAMES[2];default:return encode$1(this._ledgerId)}}_toStringForChecksum(){if(1!=this._ledgerId.length)return encode$1(this._ledgerId);switch(this._ledgerId[0]){case 0:return"0";case 1:return"1";case 2:return"2";default:return encode$1(this._ledgerId)}}static fromBytes(t){return new LedgerId(t)}toBytes(){return this._ledgerId}isMainnet(){return this.toString()==NETNAMES[0]}isTestnet(){return this.toString()==NETNAMES[1]}isPreviewnet(){return this.toString()==NETNAMES[2]}}const NETNAMES=["mainnet","testnet","previewnet"];LedgerId.MAINNET=new LedgerId(new Uint8Array([0])),LedgerId.TESTNET=new LedgerId(new Uint8Array([1])),LedgerId.PREVIEWNET=new LedgerId(new Uint8Array([2]));class AccountInfo{constructor(t){this.accountId=t.accountId,this.contractAccountId=t.contractAccountId,this.isDeleted=t.isDeleted,this.proxyAccountId=t.proxyAccountId,this.proxyReceived=t.proxyReceived,this.key=t.key,this.balance=t.balance,this.sendRecordThreshold=t.sendRecordThreshold,this.receiveRecordThreshold=t.receiveRecordThreshold,this.isReceiverSignatureRequired=t.isReceiverSignatureRequired,this.expirationTime=t.expirationTime,this.autoRenewPeriod=t.autoRenewPeriod,this.liveHashes=t.liveHashes,this.tokenRelationships=t.tokenRelationships,this.accountMemo=t.accountMemo,this.ownedNfts=t.ownedNfts,this.maxAutomaticTokenAssociations=t.maxAutomaticTokenAssociations,this.aliasKey=t.aliasKey,this.ledgerId=t.ledgerId,this.hbarAllowances=t.hbarAllowances,this.tokenAllowances=t.tokenAllowances,this.nftAllowances=t.nftAllowances,Object.freeze(this)}static _fromProtobuf(t){let e=null!=t.alias&&t.alias.length>0?Key._fromProtobufKey(lib.Key.decode(t.alias)):null;return e instanceof PublicKey||(e=null),new AccountInfo({accountId:AccountId._fromProtobuf(t.accountID),contractAccountId:null!=t.contractAccountID?t.contractAccountID:null,isDeleted:null!=t.deleted&&t.deleted,key:Key._fromProtobufKey(t.key),balance:Hbar.fromTinybars(null!=t.balance?t.balance:0),sendRecordThreshold:Hbar.fromTinybars(null!=t.generateSendRecordThreshold?t.generateSendRecordThreshold:0),receiveRecordThreshold:Hbar.fromTinybars(null!=t.generateReceiveRecordThreshold?t.generateReceiveRecordThreshold:0),isReceiverSignatureRequired:null!=t.receiverSigRequired&&t.receiverSigRequired,expirationTime:Timestamp._fromProtobuf(t.expirationTime),autoRenewPeriod:null!=t.autoRenewPeriod?new Duration(t.autoRenewPeriod.seconds):new Duration(0),proxyAccountId:null!=t.proxyAccountID&&0!==long.fromValue(t.proxyAccountID.shardNum).toInt()&&0!==long.fromValue(t.proxyAccountID.realmNum).toInt()&&0!==long.fromValue(t.proxyAccountID.accountNum).toInt()?AccountId._fromProtobuf(t.proxyAccountID):null,proxyReceived:Hbar.fromTinybars(null!=t.proxyReceived?t.proxyReceived:0),liveHashes:(null!=t.liveHashes?t.liveHashes:[]).map((t=>LiveHash._fromProtobuf(t))),tokenRelationships:TokenRelationshipMap._fromProtobuf(null!=t.tokenRelationships?t.tokenRelationships:[]),accountMemo:null!=t.memo?t.memo:"",ownedNfts:t.ownedNfts?t.ownedNfts:long.ZERO,maxAutomaticTokenAssociations:t.maxAutomaticTokenAssociations?long.fromNumber(t.maxAutomaticTokenAssociations):long.ZERO,aliasKey:e,ledgerId:null!=t.ledgerId?LedgerId.fromBytes(t.ledgerId):null,hbarAllowances:(null!=t.grantedCryptoAllowances?t.grantedCryptoAllowances:[]).map((t=>HbarAllowance._fromGrantedProtobuf(t))),tokenAllowances:(null!=t.grantedTokenAllowances?t.grantedTokenAllowances:[]).map((t=>TokenAllowance._fromGrantedProtobuf(t))),nftAllowances:(null!=t.grantedNftAllowances?t.grantedNftAllowances:[]).map((t=>TokenNftAllowance._fromGrantedProtobuf(t)))})}_toProtobuf(){return{accountID:this.accountId._toProtobuf(),contractAccountID:this.contractAccountId,deleted:this.isDeleted,proxyAccountID:null!=this.proxyAccountId?this.proxyAccountId._toProtobuf():null,proxyReceived:this.proxyReceived.toTinybars(),key:this.key._toProtobufKey(),balance:this.balance.toTinybars(),generateSendRecordThreshold:this.sendRecordThreshold.toTinybars(),generateReceiveRecordThreshold:this.receiveRecordThreshold.toTinybars(),receiverSigRequired:this.isReceiverSignatureRequired,expirationTime:this.expirationTime._toProtobuf(),autoRenewPeriod:this.autoRenewPeriod._toProtobuf(),liveHashes:this.liveHashes.map((t=>t._toProtobuf())),tokenRelationships:null!=this.tokenRelationships?this.tokenRelationships._toProtobuf():null,memo:this.accountMemo,ownedNfts:this.ownedNfts,maxAutomaticTokenAssociations:this.maxAutomaticTokenAssociations.toInt(),alias:null!=this.aliasKey?lib.Key.encode(this.aliasKey._toProtobufKey()).finish():null,ledgerId:null!=this.ledgerId?this.ledgerId.toBytes():null}}static fromBytes(t){return AccountInfo._fromProtobuf(lib.CryptoGetInfoResponse.AccountInfo.decode(t))}toBytes(){return lib.CryptoGetInfoResponse.AccountInfo.encode(this._toProtobuf()).finish()}}class AccountInfoQuery extends Query{constructor(t={}){super(),this._accountId=null,null!=t.accountId&&this.setAccountId(t.accountId)}static _fromProtobuf(t){const e=t.cryptoGetInfo;return new AccountInfoQuery({accountId:null!=e.accountID?AccountId._fromProtobuf(e.accountID):void 0})}get accountId(){return this._accountId}setAccountId(t){return this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._accountId&&this._accountId.validateChecksum(t)}_execute(t,e){return t.crypto.getAccountInfo(e)}async getCost(t){let e=await super.getCost(t);return e.toTinybars().greaterThan(25)?e:Hbar.fromTinybars(25)}_mapResponseHeader(t){return t.cryptoGetInfo.header}_mapResponse(t,e,Q){const B=t.cryptoGetInfo;return Promise.resolve(AccountInfo._fromProtobuf(B.accountInfo))}_onMakeRequest(t){return{cryptoGetInfo:{header:t,accountID:null!=this._accountId?this._accountId._toProtobuf():null}}}_getLogId(){return`AccountInfoQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("cryptoGetInfo",AccountInfoQuery._fromProtobuf);class AccountRecordsQuery extends Query{constructor(t={}){super(),this._accountId=null,null!=t.accountId&&this.setAccountId(t.accountId)}static _fromProtobuf(t){const e=t.cryptoGetAccountRecords;return new AccountRecordsQuery({accountId:null!=e.accountID?AccountId._fromProtobuf(e.accountID):void 0})}get accountId(){return this._accountId}setAccountId(t){return this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._accountId&&this._accountId.validateChecksum(t)}_execute(t,e){return t.crypto.getAccountRecords(e)}_mapResponseHeader(t){return t.cryptoGetAccountRecords.header}_mapResponse(t,e,Q){const B=t.cryptoGetAccountRecords.records;return Promise.resolve(B.map((t=>TransactionRecord._fromProtobuf({transactionRecord:t}))))}_onMakeRequest(t){return{cryptoGetAccountRecords:{header:t,accountID:null!=this._accountId?this._accountId._toProtobuf():null}}}_getLogId(){return`AccountRecordsQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("cryptoGetAccountRecords",AccountRecordsQuery._fromProtobuf);class ProxyStaker{constructor(t){this.accountId=t.accountId,this.amount=t.amount instanceof Hbar?t.amount:new Hbar(t.amount),Object.freeze(this)}static _fromProtobuf(t){return new ProxyStaker({accountId:AccountId._fromProtobuf(t.accountID),amount:Hbar.fromTinybars(null!=t.amount?t.amount:0)})}_toProtobuf(){return{accountID:this.accountId._toProtobuf(),amount:this.amount.toTinybars()}}}class AccountStakersQuery extends Query{constructor(t={}){super(),this._accountId=null,null!=t.accountId&&this.setAccountId(t.accountId)}static _fromProtobuf(t){const e=t.cryptoGetProxyStakers;return new AccountStakersQuery({accountId:null!=e.accountID?AccountId._fromProtobuf(e.accountID):void 0})}get accountId(){return this._accountId}setAccountId(t){return this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._accountId&&this._accountId.validateChecksum(t)}_execute(t,e){return t.crypto.getStakersByAccountID(e)}_mapResponseHeader(t){return t.cryptoGetProxyStakers.header}_mapResponse(t){const e=t.cryptoGetProxyStakers.stakers;return Promise.resolve((null!=e.proxyStaker?e.proxyStaker:[]).map((t=>ProxyStaker._fromProtobuf(t))))}_onMakeRequest(t){return{cryptoGetProxyStakers:{header:t,accountID:null!=this._accountId?this._accountId._toProtobuf():null}}}_getLogId(){return`AccountStakersQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("cryptoGetProxyStakers",AccountStakersQuery._fromProtobuf);class AccountUpdateTransaction extends Transaction{constructor(t={}){super(),this._accountId=null,this._key=null,this._receiverSignatureRequired=!1,this._proxyAccountId=null,this._autoRenewPeriod=null,this._expirationTime=null,this._accountMemo=null,this._maxAutomaticTokenAssociations=null,this._aliasKey=null,null!=t.accountId&&this.setAccountId(t.accountId),null!=t.key&&this.setKey(t.key),null!=t.receiverSignatureRequired&&this.setReceiverSignatureRequired(t.receiverSignatureRequired),null!=t.proxyAccountId&&this.setProxyAccountId(t.proxyAccountId),null!=t.autoRenewPeriod&&this.setAutoRenewPeriod(t.autoRenewPeriod),null!=t.expirationTime&&this.setExpirationTime(t.expirationTime),null!=t.accountMemo&&this.setAccountMemo(t.accountMemo),null!=t.maxAutomaticTokenAssociations&&this.setMaxAutomaticTokenAssociations(t.maxAutomaticTokenAssociations)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].cryptoUpdateAccount;return Transaction._fromProtobufTransactions(new AccountUpdateTransaction({accountId:null!=F.accountIDToUpdate?AccountId._fromProtobuf(F.accountIDToUpdate):void 0,key:null!=F.key?Key._fromProtobufKey(F.key):void 0,receiverSignatureRequired:null!=F.receiverSigRequired?F.receiverSigRequired:void 0,proxyAccountId:null!=F.proxyAccountID?AccountId._fromProtobuf(F.proxyAccountID):void 0,autoRenewPeriod:null!=F.autoRenewPeriod&&null!=F.autoRenewPeriod.seconds?F.autoRenewPeriod.seconds:void 0,expirationTime:null!=F.expirationTime?Timestamp._fromProtobuf(F.expirationTime):void 0,accountMemo:null!=F.memo&&null!=F.memo.value?F.memo.value:void 0,maxAutomaticTokenAssociations:null!=F.maxAutomaticTokenAssociations&&null!=F.maxAutomaticTokenAssociations.value?long.fromNumber(F.maxAutomaticTokenAssociations.value):void 0}),t,e,Q,B,s)}get accountId(){return this._accountId}setAccountId(t){return this._requireNotFrozen(),this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}get key(){return this._key}setKey(t){return this._requireNotFrozen(),this._key=t,this}get receiverSignatureRequired(){return this._receiverSignatureRequired}setReceiverSignatureRequired(t){return this._requireNotFrozen(),this._receiverSignatureRequired=t,this}get proxyAccountId(){return this._proxyAccountId}setProxyAccountId(t){return this._requireNotFrozen(),this._proxyAccountId=t,this}get autoRenewPeriod(){return this._autoRenewPeriod}setAutoRenewPeriod(t){return this._requireNotFrozen(),this._autoRenewPeriod=t instanceof Duration?t:new Duration(t),this}get expirationTime(){return this._expirationTime}setExpirationTime(t){return this._requireNotFrozen(),this._expirationTime=t instanceof Date?Timestamp.fromDate(t):t,this}get accountMemo(){return this._accountMemo}setAccountMemo(t){return this._requireNotFrozen(),this._accountMemo=t,this}clearAccountMemo(){return this._requireNotFrozen(),this._accountMemo=null,this}get maxAutomaticTokenAssociations(){return this._maxAutomaticTokenAssociations}setMaxAutomaticTokenAssociations(t){return this._requireNotFrozen(),this._maxAutomaticTokenAssociations="number"==typeof t?long.fromNumber(t):t,this}get aliasKey(){return null}setAliasKey(t){return this}_validateChecksums(t){null!=this._accountId&&this._accountId.validateChecksum(t),null!=this._proxyAccountId&&this._proxyAccountId.validateChecksum(t)}_execute(t,e){return t.crypto.updateAccount(e)}_getTransactionDataCase(){return"cryptoUpdateAccount"}_makeTransactionData(){return{accountIDToUpdate:null!=this._accountId?this._accountId._toProtobuf():null,key:null!=this._key?this._key._toProtobufKey():null,expirationTime:null!=this._expirationTime?this._expirationTime._toProtobuf():null,proxyAccountID:null!=this._proxyAccountId?this._proxyAccountId._toProtobuf():null,autoRenewPeriod:null!=this._autoRenewPeriod?this._autoRenewPeriod._toProtobuf():null,receiverSigRequiredWrapper:null==this._receiverSignatureRequired?null:{value:this._receiverSignatureRequired},memo:null!=this._accountMemo?{value:this._accountMemo}:null,maxAutomaticTokenAssociations:null!=this._maxAutomaticTokenAssociations?{value:this._maxAutomaticTokenAssociations.toInt()}:null}}_getLogId(){return`AccountUpdateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("cryptoUpdateAccount",AccountUpdateTransaction._fromProtobuf);class IPv4AddressPart{constructor(t={}){this._left=null,null!=t.left&&this.setLeft(t.left),this._right=null,null!=t.right&&this.setRight(t.right)}get left(){return this._left}setLeft(t){return this._left=t,this}get right(){return this._right}setRight(t){return this._right=t,this}toString(){return null!=this._left&&null!=this._right?`${this._left.toString()}.${this._right.toString()}`:""}}class IPv4Address{constructor(t={}){this._network=null,null!=t.network&&this.setNetwork(t.network),this._host=null,null!=t.host&&this.setHost(t.host)}get newtork(){return this._network}setNetwork(t){return this._network=t,this}get host(){return this._host}setHost(t){return this._host=t,this}static _fromProtobuf(t){return new IPv4Address({network:(new IPv4AddressPart).setLeft(t[0]).setRight(t[1]),host:(new IPv4AddressPart).setLeft(t[2]).setRight(t[3])})}_toProtobuf(){return Uint8Array.of(null!=this._network&&null!=this._network._left?this._network._left:0,null!=this._network&&null!=this._network.right?this._network.right:0,null!=this._host&&null!=this._host.left?this._host.left:0,null!=this._host&&null!=this._host.right?this._host.right:0)}toString(){return null!=this._network&&null!=this._host?`${this._network.toString()}.${this._host.toString()}`:""}}class EndPoint{constructor(t={}){this._address=null,null!=t.address&&this.setAddress(t.address),this._port=null,null!=t.port&&this.setPort(t.port)}get address(){return this.address}setAddress(t){return this._address=t,this}get port(){return this._port}setPort(t){return this._port=t,this}static _fromProtobuf(t){return new EndPoint({address:null!=t.ipAddressV4?IPv4Address._fromProtobuf(t.ipAddressV4):void 0,port:null!=t.port?t.port:void 0})}_toProtobuf(){return{ipAddressV4:null!=this._address?this._address._toProtobuf():null,port:this._port}}toString(){return JSON.stringify(this.toJSON())}toJSON(){return{address:null!=this._address?this._address.toString():null,port:null!=this._port?this._port.toString():null}}}class NodeAddress{constructor(t={}){this._publicKey=null,null!=t.publicKey&&this.setPublicKey(t.publicKey),this._nodeId=null,null!=t.nodeId&&this.setNodeId(t.nodeId),this._accountId=null,null!=t.accountId&&this.setAccountId(t.accountId),this._certHash=null,null!=t.certHash&&this.setCertHash(t.certHash),this._addresses=[],null!=t.addresses&&this.setAddresses(t.addresses),this._description=null,null!=t.description&&this.setDescription(t.description),this._stake=null,null!=t.stake&&this.setStake(t.stake)}get publicKey(){return this._publicKey}setPublicKey(t){return this._publicKey=t,this}get nodeId(){return this._nodeId}setNodeId(t){return this._nodeId=t,this}get accountId(){return this._accountId}setAccountId(t){return this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}get certHash(){return this._certHash}setCertHash(t){return this._certHash=t,this}get addresses(){return this._addresses}setAddresses(t){return this._addresses=t,this}get description(){return this._description}setDescription(t){return this._description=t,this}get stake(){return this._stake}setStake(t){return this._stake=t,this}static _fromProtobuf(t){return new NodeAddress({publicKey:null!=t.RSA_PubKey?t.RSA_PubKey:void 0,nodeId:null!=t.nodeId?t.nodeId:void 0,accountId:null!=t.nodeAccountId?AccountId._fromProtobuf(t.nodeAccountId):void 0,certHash:null!=t.nodeCertHash?t.nodeCertHash:void 0,addresses:null!=t.serviceEndpoint?t.serviceEndpoint.map((t=>EndPoint._fromProtobuf(t))):void 0,description:null!=t.description?t.description:void 0,stake:null!=t.stake?t.stake:void 0})}_toProtobuf(){return{RSA_PubKey:this._publicKey,nodeId:this._nodeId,nodeAccountId:null!=this._accountId?this._accountId._toProtobuf():null,nodeCertHash:this._certHash,serviceEndpoint:this._addresses.map((t=>t._toProtobuf())),description:this._description,stake:this._stake}}toString(){return JSON.stringify(this.toJSON())}toJSON(){return{publicKey:this._publicKey,nodeId:null!=this._nodeId?this._nodeId.toString():null,accountId:null!=this._accountId?this._accountId.toString():null,certHash:null!=this._certHash?decode(this._certHash):null,addresses:this._addresses.map((t=>t.toJSON())),description:this._description,stake:null!=this._stake?this._stake.toString():null}}}class NodeAddressBook{constructor(t={}){this._nodeAddresses=[],null!=t.nodeAddresses&&this.setNodeAddresses(t.nodeAddresses)}get nodeAddresses(){return this._nodeAddresses}setNodeAddresses(t){return this._nodeAddresses=t,this}static _fromProtobuf(t){return new NodeAddressBook({nodeAddresses:null!=t.nodeAddress?t.nodeAddress.map((t=>NodeAddress._fromProtobuf(t))):void 0})}_toProtobuf(){return{nodeAddress:this._nodeAddresses.map((t=>t._toProtobuf()))}}toString(){return JSON.stringify(this.toJSON())}toJSON(){return{nodeAddresses:this._nodeAddresses.map((t=>t.toJSON()))}}}class ContractByteCodeQuery extends Query{constructor(t={}){super(),this._contractId=null,null!=t.contractId&&this.setContractId(t.contractId)}static _fromProtobuf(t){const e=t.contractGetBytecode;return new ContractByteCodeQuery({contractId:null!=e.contractID?ContractId._fromProtobuf(e.contractID):void 0})}get contractId(){return this._contractId}setContractId(t){return this._contractId="string"==typeof t?ContractId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._contractId&&this._contractId.validateChecksum(t)}_execute(t,e){return t.smartContract.contractGetBytecode(e)}_mapResponseHeader(t){return t.contractGetBytecodeResponse.header}_mapResponse(t){const e=t.contractGetBytecodeResponse;return Promise.resolve(null!=e.bytecode?e.bytecode:new Uint8Array)}_onMakeRequest(t){return{contractGetBytecode:{header:t,contractID:null!=this._contractId?this._contractId._toProtobuf():null}}}_getLogId(){return`ContractByteCodeQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("contractGetBytecode",ContractByteCodeQuery._fromProtobuf);const HEX_CHARS="0123456789abcdef".split(""),KECCAK_PADDING=[1,256,65536,16777216],SHIFT=[0,8,16,24],RC=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Keccak=t=>({blocks:[],reset:!0,block:0,start:0,blockCount:1600-(t<<1)>>5,outputBlocks:t>>5,s:(t=>[].concat(t,t,t,t,t))([0,0,0,0,0,0,0,0,0,0])}),update=(t,e)=>{for(var Q,B,s=e.length,F=t.blocks,U=t.blockCount<<2,n=t.blockCount,c=t.outputBlocks,o=t.s,g=0;g<s;){if(t.reset)for(t.reset=!1,F[0]=t.block,Q=1;Q<n+1;++Q)F[Q]=0;if("string"!=typeof e)for(Q=t.start;g<s&&Q<U;++g)F[Q>>2]|=e[g]<<SHIFT[3&Q++];else for(Q=t.start;g<s&&Q<U;++g)(B=e.charCodeAt(g))<128?F[Q>>2]|=B<<SHIFT[3&Q++]:B<2048?(F[Q>>2]|=(192|B>>6)<<SHIFT[3&Q++],F[Q>>2]|=(128|63&B)<<SHIFT[3&Q++]):B<55296||B>=57344?(F[Q>>2]|=(224|B>>12)<<SHIFT[3&Q++],F[Q>>2]|=(128|B>>6&63)<<SHIFT[3&Q++],F[Q>>2]|=(128|63&B)<<SHIFT[3&Q++]):(B=65536+((1023&B)<<10|1023&e.charCodeAt(++g)),F[Q>>2]|=(240|B>>18)<<SHIFT[3&Q++],F[Q>>2]|=(128|B>>12&63)<<SHIFT[3&Q++],F[Q>>2]|=(128|B>>6&63)<<SHIFT[3&Q++],F[Q>>2]|=(128|63&B)<<SHIFT[3&Q++]);if(t.lastByteIndex=Q,Q>=U){for(t.start=Q-U,t.block=F[n],Q=0;Q<n;++Q)o[Q]^=F[Q];f$1(o),t.reset=!0}else t.start=Q}if(F[(Q=t.lastByteIndex)>>2]|=KECCAK_PADDING[3&Q],t.lastByteIndex===U)for(F[0]=F[n],Q=1;Q<n+1;++Q)F[Q]=0;for(F[n-1]|=2147483648,Q=0;Q<n;++Q)o[Q]^=F[Q];f$1(o);var l,I="",r=0;for(Q=0;r<c;){for(Q=0;Q<n&&r<c;++Q,++r)l=o[Q],I+=HEX_CHARS[l>>4&15]+HEX_CHARS[15&l]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15];r%n==0&&(f$1(o),Q=0)}return"0x"+I},f$1=t=>{var e,Q,B,s,F,U,n,c,o,g,l,I,r,i,a,d,u,C,y,S,b,m,G,x,L,Z,A,h,N,R,V,E,p,D,J,X,H,W,k,T,f,Y,w,M,v,z,K,O,P,j,_,q,$,tt,et,Qt,Bt,st,Ft,Ut,nt,ct,ot;for(B=0;B<48;B+=2)s=t[0]^t[10]^t[20]^t[30]^t[40],F=t[1]^t[11]^t[21]^t[31]^t[41],U=t[2]^t[12]^t[22]^t[32]^t[42],n=t[3]^t[13]^t[23]^t[33]^t[43],c=t[4]^t[14]^t[24]^t[34]^t[44],o=t[5]^t[15]^t[25]^t[35]^t[45],g=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(I=t[8]^t[18]^t[28]^t[38]^t[48])^(U<<1|n>>>31),Q=(r=t[9]^t[19]^t[29]^t[39]^t[49])^(n<<1|U>>>31),t[0]^=e,t[1]^=Q,t[10]^=e,t[11]^=Q,t[20]^=e,t[21]^=Q,t[30]^=e,t[31]^=Q,t[40]^=e,t[41]^=Q,e=s^(c<<1|o>>>31),Q=F^(o<<1|c>>>31),t[2]^=e,t[3]^=Q,t[12]^=e,t[13]^=Q,t[22]^=e,t[23]^=Q,t[32]^=e,t[33]^=Q,t[42]^=e,t[43]^=Q,e=U^(g<<1|l>>>31),Q=n^(l<<1|g>>>31),t[4]^=e,t[5]^=Q,t[14]^=e,t[15]^=Q,t[24]^=e,t[25]^=Q,t[34]^=e,t[35]^=Q,t[44]^=e,t[45]^=Q,e=c^(I<<1|r>>>31),Q=o^(r<<1|I>>>31),t[6]^=e,t[7]^=Q,t[16]^=e,t[17]^=Q,t[26]^=e,t[27]^=Q,t[36]^=e,t[37]^=Q,t[46]^=e,t[47]^=Q,e=g^(s<<1|F>>>31),Q=l^(F<<1|s>>>31),t[8]^=e,t[9]^=Q,t[18]^=e,t[19]^=Q,t[28]^=e,t[29]^=Q,t[38]^=e,t[39]^=Q,t[48]^=e,t[49]^=Q,i=t[0],a=t[1],z=t[11]<<4|t[10]>>>28,K=t[10]<<4|t[11]>>>28,h=t[20]<<3|t[21]>>>29,N=t[21]<<3|t[20]>>>29,Ut=t[31]<<9|t[30]>>>23,nt=t[30]<<9|t[31]>>>23,Y=t[40]<<18|t[41]>>>14,w=t[41]<<18|t[40]>>>14,D=t[2]<<1|t[3]>>>31,J=t[3]<<1|t[2]>>>31,d=t[13]<<12|t[12]>>>20,u=t[12]<<12|t[13]>>>20,O=t[22]<<10|t[23]>>>22,P=t[23]<<10|t[22]>>>22,R=t[33]<<13|t[32]>>>19,V=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,ot=t[43]<<2|t[42]>>>30,tt=t[5]<<30|t[4]>>>2,et=t[4]<<30|t[5]>>>2,X=t[14]<<6|t[15]>>>26,H=t[15]<<6|t[14]>>>26,C=t[25]<<11|t[24]>>>21,y=t[24]<<11|t[25]>>>21,j=t[34]<<15|t[35]>>>17,_=t[35]<<15|t[34]>>>17,E=t[45]<<29|t[44]>>>3,p=t[44]<<29|t[45]>>>3,x=t[6]<<28|t[7]>>>4,L=t[7]<<28|t[6]>>>4,Qt=t[17]<<23|t[16]>>>9,Bt=t[16]<<23|t[17]>>>9,W=t[26]<<25|t[27]>>>7,k=t[27]<<25|t[26]>>>7,S=t[36]<<21|t[37]>>>11,b=t[37]<<21|t[36]>>>11,q=t[47]<<24|t[46]>>>8,$=t[46]<<24|t[47]>>>8,M=t[8]<<27|t[9]>>>5,v=t[9]<<27|t[8]>>>5,Z=t[18]<<20|t[19]>>>12,A=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,Ft=t[28]<<7|t[29]>>>25,T=t[38]<<8|t[39]>>>24,f=t[39]<<8|t[38]>>>24,m=t[48]<<14|t[49]>>>18,G=t[49]<<14|t[48]>>>18,t[0]=i^~d&C,t[1]=a^~u&y,t[10]=x^~Z&h,t[11]=L^~A&N,t[20]=D^~X&W,t[21]=J^~H&k,t[30]=M^~z&O,t[31]=v^~K&P,t[40]=tt^~Qt&st,t[41]=et^~Bt&Ft,t[2]=d^~C&S,t[3]=u^~y&b,t[12]=Z^~h&R,t[13]=A^~N&V,t[22]=X^~W&T,t[23]=H^~k&f,t[32]=z^~O&j,t[33]=K^~P&_,t[42]=Qt^~st&Ut,t[43]=Bt^~Ft&nt,t[4]=C^~S&m,t[5]=y^~b&G,t[14]=h^~R&E,t[15]=N^~V&p,t[24]=W^~T&Y,t[25]=k^~f&w,t[34]=O^~j&q,t[35]=P^~_&$,t[44]=st^~Ut&ct,t[45]=Ft^~nt&ot,t[6]=S^~m&i,t[7]=b^~G&a,t[16]=R^~E&x,t[17]=V^~p&L,t[26]=T^~Y&D,t[27]=f^~w&J,t[36]=j^~q&M,t[37]=_^~$&v,t[46]=Ut^~ct&tt,t[47]=nt^~ot&et,t[8]=m^~i&d,t[9]=G^~a&u,t[18]=E^~x&Z,t[19]=p^~L&A,t[28]=Y^~D&X,t[29]=w^~J&H,t[38]=q^~M&z,t[39]=$^~v&K,t[48]=ct^~tt&Qt,t[49]=ot^~et&Bt,t[0]^=RC[B],t[1]^=RC[B+1]},keccak=t=>e=>{var Q;if("0x"===e.slice(0,2)){Q=[];for(var B=2,s=e.length;B<s;B+=2)Q.push(parseInt(e.slice(B,B+2),16))}else Q=e;return update(Keccak(t),Q)},keccak256$1=keccak(256),ArgumentType={uint8:0,int8:1,uint16:2,int16:3,uint32:4,int32:5,uint64:6,int64:7,uint256:8,int256:9,string:10,bool:11,bytes:12,bytes32:13,address:14,func:15};class ContractFunctionSelector{constructor(t){this.name=null,this._params="",this._paramTypes=[],null!=t&&(this._name=t)}addString(){return this._addParam({ty:ArgumentType.string,array:!1})}addStringArray(){return this._addParam({ty:ArgumentType.string,array:!0})}addBytes(){return this._addParam({ty:ArgumentType.bytes,array:!1})}addBytes32(){return this._addParam({ty:ArgumentType.bytes32,array:!1})}addBytesArray(){return this._addParam({ty:ArgumentType.bytes,array:!0})}addBytes32Array(){return this._addParam({ty:ArgumentType.bytes32,array:!0})}addInt8(){return this._addParam({ty:ArgumentType.int8,array:!1})}addInt32(){return this._addParam({ty:ArgumentType.int32,array:!1})}addInt64(){return this._addParam({ty:ArgumentType.int64,array:!1})}addInt256(){return this._addParam({ty:ArgumentType.int256,array:!1})}addInt8Array(){return this._addParam({ty:ArgumentType.int8,array:!0})}addInt32Array(){return this._addParam({ty:ArgumentType.int32,array:!0})}addInt64Array(){return this._addParam({ty:ArgumentType.int64,array:!0})}addInt256Array(){return this._addParam({ty:ArgumentType.int256,array:!0})}addUint8(){return this._addParam({ty:ArgumentType.uint8,array:!1})}addUint32(){return this._addParam({ty:ArgumentType.uint32,array:!1})}addUint64(){return this._addParam({ty:ArgumentType.uint64,array:!1})}addUint256(){return this._addParam({ty:ArgumentType.uint256,array:!1})}addUint8Array(){return this._addParam({ty:ArgumentType.uint8,array:!0})}addUint32Array(){return this._addParam({ty:ArgumentType.uint32,array:!0})}addUint64Array(){return this._addParam({ty:ArgumentType.uint64,array:!0})}addUint256Array(){return this._addParam({ty:ArgumentType.uint256,array:!0})}addBool(){return this._addParam({ty:ArgumentType.bool,array:!1})}addAddress(){return this._addParam({ty:ArgumentType.address,array:!1})}addAddressArray(){return this._addParam({ty:ArgumentType.address,array:!0})}addFunction(){return this._addParam({ty:ArgumentType.func,array:!1})}_addParam(t){return this._paramTypes.length>0&&(this._params+=","),this._params+=solidityTypeToString(t),this._paramTypes.push(t),this}_build(t){if(null!=t)this._name=t;else if(null==this._name)throw new Error("`name` required for ContractFunctionSelector");const e=encode$1(encode(this.toString()));return decode$1(keccak256$1(`0x${e}`)).slice(0,4)}toString(){return`${null!=this._name?this._name.toString():""}(${this._params})`}}function solidityTypeToString(t){let e="";switch(t.ty){case ArgumentType.uint8:e="uint8";break;case ArgumentType.int8:e="int8";break;case ArgumentType.uint16:e="uint16";break;case ArgumentType.int16:e="int16";break;case ArgumentType.uint32:e="uint32";break;case ArgumentType.int32:e="int32";break;case ArgumentType.uint64:e="uint64";break;case ArgumentType.int64:e="int64";break;case ArgumentType.uint256:e="uint256";break;case ArgumentType.int256:e="int256";break;case ArgumentType.string:e="string";break;case ArgumentType.bool:e="bool";break;case ArgumentType.bytes:e="bytes";break;case ArgumentType.bytes32:e="bytes32";break;case ArgumentType.address:e="address";break;case ArgumentType.func:e="function";break;default:e=""}return t.array&&(e+="[]"),e}class ContractFunctionParameters$1{constructor(){this._selector=new ContractFunctionSelector,this._arguments=[]}addString(t){return this._selector.addString(),this._addParam(t,!0)}addStringArray(t){return this._selector.addStringArray(),this._addParam(t,!0)}addBytes(t){return this._selector.addBytes(),this._addParam(t,!0)}addBytes32(t){if(32!==t.length)throw new Error(`addBytes32 expected array to be of length 32, but received ${t.length}`);return this._selector.addBytes32(),this._addParam(t,!1)}addBytesArray(t){return this._selector.addBytesArray(),this._addParam(t,!0)}addBytes32Array(t){for(const[e,Q]of t.entries())if(32!==Q.length)throw new Error(`addBytes32 expected array to be of length 32, but received ${Q.length}`);return this._selector.addBytes32Array(),this._addParam(t,!0)}addBool(t){return this._selector.addBool(),this._addParam(t,!1)}addInt8(t){return this._selector.addInt8(),this._addParam(convertToBigNumber(t),!1)}addInt32(t){return this._selector.addInt32(),this._addParam(convertToBigNumber(t),!1)}addInt64(t){return this._selector.addInt64(),this._addParam(convertToBigNumber(t),!1)}addInt256(t){return this._selector.addInt256(),this._addParam(convertToBigNumber(t),!1)}addInt8Array(t){return this._selector.addInt8Array(),this._addParam(convertToBigNumberArray(t),!0)}addInt32Array(t){return this._selector.addInt32Array(),this._addParam(convertToBigNumberArray(t),!0)}addInt64Array(t){return this._selector.addInt64Array(),this._addParam(convertToBigNumberArray(t),!0)}addInt256Array(t){return this._selector.addInt256Array(),this._addParam(convertToBigNumberArray(t),!0)}addUint8(t){return this._selector.addUint8(),this._addParam(convertToBigNumber(t),!1)}addUint32(t){return this._selector.addUint32(),this._addParam(convertToBigNumber(t),!1)}addUint64(t){return this._selector.addUint64(),this._addParam(convertToBigNumber(t),!1)}addUint256(t){return this._selector.addUint256(),this._addParam(convertToBigNumber(t),!1)}addUint8Array(t){return this._selector.addUint8Array(),this._addParam(convertToBigNumberArray(t),!0)}addUint32Array(t){return this._selector.addUint32Array(),this._addParam(convertToBigNumberArray(t),!0)}addUint64Array(t){return this._selector.addUint64Array(),this._addParam(convertToBigNumberArray(t),!0)}addUint256Array(t){return this._selector.addUint256Array(),this._addParam(convertToBigNumberArray(t),!0)}addAddress(t){if(40!==t.length&&42!==t.length)throw new Error("`address` type requires parameter to be 40 or 42 characters");const e=40===t.length?decode$1(t):decode$1(t.substring(2));return this._selector.addAddress(),this._addParam(e,!1)}addAddressArray(t){const e=[];for(const[Q,B]of t.entries()){if(40!==B.length&&42!==B.length)throw new Error("`address` type requires parameter to be 40 or 42 characters");const t=40===B.length?decode$1(B):decode$1(B.substring(2));e.push(t)}return this._selector.addAddressArray(),this._addParam(e,!0)}addFunction(t,e){const Q=decode$1(t),B=e._build();if(20!==Q.length)throw new Error("`function` type requires parameter `address` to be exactly 20 bytes");this._selector.addFunction();const s=new Uint8Array(24);return s.set(Q,0),s.set(B,20),this._addParam(s,!1)}_addParam(t,e){const Q=this._selector._paramTypes.length-1,B=argumentToBytes(t,this._selector._paramTypes[Q]);return this._arguments.push({dynamic:e,value:B}),this}_build(t){const e=null!=t,Q=e?4:0,B=0===this._arguments.length?Q:32*this._arguments.length+this._arguments.map((t=>t.dynamic?t.value.length:0)).reduce(((t,e)=>t+e))+Q,s=new Uint8Array(B);e&&s.set(this._selector._build(t),0);let F=32*this._arguments.length;for(const[t,{dynamic:e,value:B}]of this._arguments.entries())if(e){const e=safeView(s,Q+32*t+28);e.setUint32(0,F),s.set(B,e.getUint32(0)+Q),F+=B.length}else s.set(B,Q+32*t);return s}}function argumentToBytes(t,e){let Q,B=new Uint8Array(32),s=safeView(B);if(e.array){if(!Array.isArray(t))throw new TypeError("SolidityType indicates type is array, but parameter is not an array");const Q=[];for(const[B,s]of t.entries()){const t=argumentToBytes(s,{ty:e.ty,array:!1});Q.push(t)}const F=Q.map((t=>t.length)).reduce(((t,e)=>t+e));switch(e.ty){case ArgumentType.uint8:case ArgumentType.int8:case ArgumentType.uint16:case ArgumentType.int16:case ArgumentType.uint32:case ArgumentType.int32:case ArgumentType.uint64:case ArgumentType.int64:case ArgumentType.uint256:case ArgumentType.int256:case ArgumentType.bool:case ArgumentType.bytes32:case ArgumentType.address:case ArgumentType.func:B=new Uint8Array(F+32);break;case ArgumentType.bytes:case ArgumentType.string:B=new Uint8Array(32*Q.length+F+32);break;default:throw new TypeError(`Expected param type to be ArgumentType, but received ${e.ty}`)}s=safeView(B,28),s.setUint32(0,Q.length);let U=32*Q.length;for(const[t,s]of Q.entries())switch(e.ty){case ArgumentType.uint8:case ArgumentType.int8:case ArgumentType.uint16:case ArgumentType.int16:case ArgumentType.uint32:case ArgumentType.int32:case ArgumentType.uint64:case ArgumentType.int64:case ArgumentType.uint256:case ArgumentType.int256:case ArgumentType.bool:case ArgumentType.bytes32:case ArgumentType.address:case ArgumentType.func:B.set(s,32*t+32);break;case ArgumentType.bytes:case ArgumentType.string:const Q=safeView(B,32*(t+1)+28);Q.setUint32(0,U),B.set(s,Q.getUint32(0)+32),U+=s.length;break;default:throw new TypeError(`Expected param type to be ArgumentType, but received ${e.ty}`)}return B}switch(e.ty){case ArgumentType.uint8:return numberToBytes(t,31,s.setUint8.bind(s)),B;case ArgumentType.int8:return numberToBytes(t,31,s.setInt8.bind(s)),B;case ArgumentType.uint16:return numberToBytes(t,30,s.setUint16.bind(s)),B;case ArgumentType.int16:return numberToBytes(t,30,s.setInt16.bind(s)),B;case ArgumentType.uint32:return numberToBytes(t,28,s.setUint32.bind(s)),B;case ArgumentType.int32:return numberToBytes(t,28,s.setInt32.bind(s)),B;case ArgumentType.uint64:case ArgumentType.int64:if(BigNumber$1.isBigNumber(t)){let e=t.toString(16);if(e.length>16)throw new TypeError("uint64/int64 requires BigNumber to be less than or equal to 8 bytes");if(!t.isInteger())throw new TypeError("uint64/int64 requires BigNumber to be an integer");e.length%2==1&&(e=`0${e}`);const Q=decode$1(e);B.set(Q,32-Q.length)}return B;case ArgumentType.int256:case ArgumentType.uint256:if(BigNumber$1.isBigNumber(t)){let e=t.toString(16);e.length%2==1&&(e=`0${e}`);const Q=decode$1(e);B.set(Q,32-Q.length)}return B;case ArgumentType.address:return B.set(t,12),B;case ArgumentType.bool:return B[31]=t?1:0,B;case ArgumentType.func:return B.set(t,8),B;case ArgumentType.bytes32:return B.set(t,0),B;case ArgumentType.bytes:case ArgumentType.string:return Q=t instanceof Uint8Array?t:encode(t),B=Math.floor(Q.length/32)>=0&&0!==Math.floor(Q.length%32)?new Uint8Array(32*(Math.floor(Q.length/32)+1)+32):new Uint8Array(64),B.set(Q,32),s=safeView(B,28),s.setUint32(0,Q.length),B;default:throw new Error(`Unsupported argument type: ${e.toString()}`)}}function numberToBytes(t,e,Q){Q(e,BigNumber$1.isBigNumber(t)?t.toNumber():t)}class ContractCallQuery extends Query{constructor(t={}){super(),this._contractId=null,null!=t.contractId&&this.setContractId(t.contractId),this._gas=null,null!=t.gas&&this.setGas(t.gas),this._functionParameters=null,null!=t.functionParameters&&(t.functionParameters instanceof Uint8Array?this.setFunctionParameters(t.functionParameters):this.setFunction(t.functionParameters.name,t.functionParameters.parameters)),this._maxResultSize=null,null!=t.maxResultSize&&this.setMaxResultSize(t.maxResultSize)}static _fromProtobuf(t){const e=t.contractCallLocal;return new ContractCallQuery({contractId:null!=e.contractID?ContractId._fromProtobuf(e.contractID):void 0,gas:null!=e.gas?e.gas:void 0,functionParameters:null!=e.functionParameters?e.functionParameters:void 0,maxResultSize:null!=e.maxResultSize?e.maxResultSize:void 0})}get contractId(){return this._contractId}setContractId(t){return this._contractId="string"==typeof t?ContractId.fromString(t):t.clone(),this}get gas(){return this._gas}setGas(t){return this._gas=t instanceof long?t:long.fromValue(t),this}get functionParameters(){return this._functionParameters}setFunctionParameters(t){return this._functionParameters=t,this}setFunction(t,e){return this._functionParameters=(null!=e?e:new ContractFunctionParameters$1)._build(t),this}setMaxResultSize(t){return this._maxResultSize=t instanceof long?t:long.fromValue(t),this}_validateChecksums(t){null!=this._contractId&&this._contractId.validateChecksum(t)}_execute(t,e){return t.smartContract.contractCallLocalMethod(e)}_mapResponseHeader(t){return t.contractCallLocal.header}_mapResponse(t){const e=t.contractCallLocal;return Promise.resolve(ContractFunctionResult._fromProtobuf(e.functionResult))}_onMakeRequest(t){return{contractCallLocal:{header:t,contractID:null!=this._contractId?this._contractId._toProtobuf():null,gas:this._gas,maxResultSize:this._maxResultSize,functionParameters:this._functionParameters}}}_getLogId(){return`ContractCallQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("contractCallLocal",ContractCallQuery._fromProtobuf);class FileCreateTransaction extends Transaction{constructor(t={}){super(),this._keys=null,this._expirationTime=new Timestamp(0,0).plusNanos(long.fromNumber(Date.now()).mul(1e6).add(DEFAULT_AUTO_RENEW_PERIOD.mul(1e9))),this._contents=null,this._fileMemo=null,this._defaultMaxTransactionFee=new Hbar(5),null!=t.keys&&this.setKeys(t.keys),null!=t.expirationTime&&this.setExpirationTime(t.expirationTime),null!=t.contents&&this.setContents(t.contents),null!=t.fileMemo&&this.setFileMemo(t.fileMemo)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].fileCreate;return Transaction._fromProtobufTransactions(new FileCreateTransaction({keys:null!=F.keys&&null!=F.keys.keys?F.keys.keys.map((t=>Key._fromProtobufKey(t))):void 0,expirationTime:null!=F.expirationTime?Timestamp._fromProtobuf(F.expirationTime):void 0,contents:null!=F.contents?F.contents:void 0,fileMemo:null!=F.memo?F.memo:void 0}),t,e,Q,B,s)}get keys(){return this._keys}setKeys(t){if(this._requireNotFrozen(),t instanceof KeyList&&null!=t.threshold)throw new Error("Cannot set threshold key as file key");return this._keys=t instanceof KeyList?t.toArray():t,this}get expirationTime(){return this._expirationTime}setExpirationTime(t){return this._requireNotFrozen(),this._expirationTime=t instanceof Timestamp?t:Timestamp.fromDate(t),this}get contents(){return this._contents}setContents(t){return this._requireNotFrozen(),this._contents=t instanceof Uint8Array?t:encode(t),this}get fileMemo(){return this._fileMemo}setFileMemo(t){return this._requireNotFrozen(),this._fileMemo=t,this}_execute(t,e){return t.file.createFile(e)}_getTransactionDataCase(){return"fileCreate"}_makeTransactionData(){return{keys:null!=this._keys?{keys:this._keys.map((t=>t._toProtobufKey()))}:null,expirationTime:this._expirationTime._toProtobuf(),contents:this._contents,memo:this._fileMemo}}_getLogId(){return`FileCreateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("fileCreate",FileCreateTransaction._fromProtobuf);class FileAppendTransaction extends Transaction{constructor(t={}){super(),this._fileId=null,this._contents=null,this._maxChunks=20,this._chunkSize=2048,this._defaultMaxTransactionFee=new Hbar(5),null!=t.fileId&&this.setFileId(t.fileId),null!=t.contents&&this.setContents(t.contents),null!=t.maxChunks&&this.setMaxChunks(t.maxChunks),null!=t.chunkSize&&this.setChunkSize(t.chunkSize),this._transactionIds=new List}static _fromProtobuf(t,e,Q,B,s){const F=s[0].fileAppend;let U;for(let t=0;t<s.length;t+=B.length){const e=s[t].fileAppend;if(null==e.contents)break;if(null==U){U=new Uint8Array(e.contents);continue}const Q=new Uint8Array(U.length+e.contents.length);Q.set(U,0),Q.set(e.contents,U.length),U=Q}return Transaction._fromProtobufTransactions(new FileAppendTransaction({fileId:null!=F.fileID?FileId._fromProtobuf(F.fileID):void 0,contents:U}),t,e,Q,B,s)}setTransactionId(t){if(this._requireNotFrozen(),null==t.accountId||null==t.validStart)throw new Error("`FileAppendTransaction` does not support `TransactionId` built from `nonce`");return this._transactionIds.setList([t]),this}get fileId(){return this._fileId}setFileId(t){return this._requireNotFrozen(),this._fileId="string"==typeof t?FileId.fromString(t):t.clone(),this}get contents(){return this._contents}setContents(t){return this._requireNotFrozen(),this._contents=t instanceof Uint8Array?t:encode(t),this}get maxChunks(){return this._maxChunks}setMaxChunks(t){return this._requireNotFrozen(),this._maxChunks=t,this}get chunkSize(){return this._chunkSize}setChunkSize(t){return this._chunkSize=t,this}freezeWith(t){if(super.freezeWith(t),null==this._contents)return this;const e=Math.floor((this._contents.length+(this._chunkSize-1))/this._chunkSize);if(e>this._maxChunks)throw new Error(`Contents with size ${this._contents.length} too long for ${this._maxChunks} chunks`);let Q=this.transactionId;this._transactionIds.locked=!1,this._transactions.clear(),this._transactionIds.clear(),this._signedTransactions.clear();for(let t=0;t<e;t++){this._transactionIds.push(Q),this._transactionIds.advance();for(const t of this._nodeAccountIds.list)this._signedTransactions.push(this._makeSignedTransaction(t));Q=new TransactionId(Q.accountId,new Timestamp(Q.validStart.seconds,Q.validStart.nanos.add(1)))}return this._transactionIds.advance(),this._transactionIds.setLocked(),this}schedule(){if(this._requireNotFrozen(),null!=this._contents&&this._contents.length>this._chunkSize)throw new Error(`cannot schedule \`FileAppendTransaction\` with message over ${this._chunkSize} bytes`);return super.schedule()}async execute(t,e){return(await this.executeAll(t,e))[0]}async executeAll(t,e){super._isFrozen()||this.freezeWith(t);const Q=this.transactionId,B=t.operatorAccountId;null!=B&&B.equals(Q.accountId)&&await super.signWithOperator(t);const s=[];let F=e;for(let e=0;e<this._transactionIds.length;e++){const e=Date.now(),Q=await super.execute(t,F);null!=F&&(F=Date.now()-e),await Q.getReceipt(t),s.push(Q)}return s}_validateChecksums(t){null!=this._fileId&&this._fileId.validateChecksum(t)}_execute(t,e){return t.file.appendContent(e)}_getTransactionDataCase(){return"fileAppend"}_makeTransactionData(){const t=null!=this._contents?this._contents.length:0,e=this._transactionIds.index*this._chunkSize,Q=Math.min(e+this._chunkSize,t);return{fileID:null!=this._fileId?this._fileId._toProtobuf():null,contents:null!=this._contents?this._contents.slice(e,Q):null}}_getLogId(){return`FileAppendTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("fileAppend",FileAppendTransaction._fromProtobuf);class FileDeleteTransaction extends Transaction{constructor(t={}){super(),this._fileId=null,null!=t.fileId&&this.setFileId(t.fileId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].fileDelete;return Transaction._fromProtobufTransactions(new FileDeleteTransaction({fileId:null!=F.fileID?FileId._fromProtobuf(F.fileID):void 0}),t,e,Q,B,s)}get fileId(){return this._fileId}setFileId(t){return this._requireNotFrozen(),this._fileId="string"==typeof t?FileId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._fileId&&this._fileId.validateChecksum(t)}_execute(t,e){return t.file.deleteFile(e)}_getTransactionDataCase(){return"fileDelete"}_makeTransactionData(){return{fileID:null!=this._fileId?this._fileId._toProtobuf():null}}_getLogId(){return`FileDeleteTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("fileDelete",FileDeleteTransaction._fromProtobuf);class ContractCreateTransaction extends Transaction{constructor(t={}){super(),this._bytecodeFileId=null,this._adminKey=null,this._gas=null,this._initialBalance=null,this._proxyAccountId=null,this._autoRenewPeriod=new Duration(DEFAULT_AUTO_RENEW_PERIOD),this._constructorParameters=null,this._contractMemo=null,this._defaultMaxTransactionFee=new Hbar(20),null!=t.bytecodeFileId&&this.setBytecodeFileId(t.bytecodeFileId),null!=t.adminKey&&this.setAdminKey(t.adminKey),null!=t.gas&&this.setGas(t.gas),null!=t.initialBalance&&this.setInitialBalance(t.initialBalance),null!=t.proxyAccountId&&this.setProxyAccountId(t.proxyAccountId),null!=t.autoRenewPeriod&&this.setAutoRenewPeriod(t.autoRenewPeriod),null!=t.constructorParameters&&this.setConstructorParameters(t.constructorParameters),null!=t.contractMemo&&this.setContractMemo(t.contractMemo)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].contractCreateInstance;return Transaction._fromProtobufTransactions(new ContractCreateTransaction({bytecodeFileId:null!=F.fileID?FileId._fromProtobuf(F.fileID):void 0,adminKey:null!=F.adminKey?Key._fromProtobufKey(F.adminKey):void 0,gas:null!=F.gas?F.gas:void 0,initialBalance:null!=F.initialBalance?F.initialBalance:void 0,proxyAccountId:null!=F.proxyAccountID?AccountId._fromProtobuf(F.proxyAccountID):void 0,autoRenewPeriod:null!=F.autoRenewPeriod&&null!=F.autoRenewPeriod.seconds?F.autoRenewPeriod.seconds:void 0,constructorParameters:null!=F.constructorParameters?F.constructorParameters:void 0,contractMemo:null!=F.memo?F.memo:void 0}),t,e,Q,B,s)}get bytecodeFileId(){return this._bytecodeFileId}setBytecodeFileId(t){return this._requireNotFrozen(),this._bytecodeFileId="string"==typeof t?FileId.fromString(t):t.clone(),this}get adminKey(){return this._adminKey}setAdminKey(t){return this._requireNotFrozen(),this._adminKey=t,this}get gas(){return this._gas}setGas(t){return this._requireNotFrozen(),this._gas=t instanceof long?t:long.fromValue(t),this}get initialBalance(){return this._initialBalance}setInitialBalance(t){return this._requireNotFrozen(),this._initialBalance=t instanceof Hbar?t:new Hbar(t),this}get proxyAccountId(){return this._proxyAccountId}setProxyAccountId(t){return this._requireNotFrozen(),this._proxyAccountId=t instanceof AccountId?t:AccountId.fromString(t),this}get autoRenewPeriod(){return this._autoRenewPeriod}setAutoRenewPeriod(t){return this._requireNotFrozen(),this._autoRenewPeriod=t instanceof Duration?t:new Duration(t),this}get constructorParameters(){return this._constructorParameters}setConstructorParameters(t){return this._requireNotFrozen(),this._constructorParameters=t instanceof ContractFunctionParameters$1?t._build():t,this}get contractMemo(){return this._contractMemo}setContractMemo(t){return this._requireNotFrozen(),this._contractMemo=t,this}_validateChecksums(t){null!=this._bytecodeFileId&&this._bytecodeFileId.validateChecksum(t),null!=this._proxyAccountId&&this._proxyAccountId.validateChecksum(t)}_execute(t,e){return t.smartContract.createContract(e)}_getTransactionDataCase(){return"contractCreateInstance"}_makeTransactionData(){return{fileID:null!=this._bytecodeFileId?this._bytecodeFileId._toProtobuf():null,adminKey:null!=this._adminKey?this._adminKey._toProtobufKey():null,gas:this._gas,initialBalance:null!=this._initialBalance?this._initialBalance.toTinybars():null,proxyAccountID:null!=this._proxyAccountId?this._proxyAccountId._toProtobuf():null,autoRenewPeriod:this._autoRenewPeriod._toProtobuf(),constructorParameters:this._constructorParameters,memo:this._contractMemo}}_getLogId(){return`ContractCreateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("contractCreateInstance",ContractCreateTransaction._fromProtobuf);class ContractDeleteTransaction extends Transaction{constructor(t={}){super(),this._contractId=null,this._transferAccountId=null,this._transferContractId=null,null!=t.contractId&&this.setContractId(t.contractId),null!=t.transferAccountId&&this.setTransferAccountId(t.transferAccountId),null!=t.transferContractId&&this.setTransferContractId(t.transferContractId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].contractDeleteInstance;return Transaction._fromProtobufTransactions(new ContractDeleteTransaction({contractId:null!=F.contractID?ContractId._fromProtobuf(F.contractID):void 0,transferAccountId:null!=F.transferAccountID?AccountId._fromProtobuf(F.transferAccountID):void 0,transferContractId:null!=F.transferContractID?ContractId._fromProtobuf(F.transferContractID):void 0}),t,e,Q,B,s)}get contractId(){return this._contractId}setContractId(t){return this._requireNotFrozen(),this._contractId="string"==typeof t?ContractId.fromString(t):t.clone(),this}get transferContractId(){return this._transferContractId}setTransferContractId(t){return this._requireNotFrozen(),this._transferContractId=t instanceof ContractId?t:ContractId.fromString(t),this}get transferAccountId(){return this._transferAccountId}setTransferAccountId(t){return this._requireNotFrozen(),this._transferAccountId=t instanceof AccountId?t:AccountId.fromString(t),this}_validateChecksums(t){null!=this._contractId&&this._contractId.validateChecksum(t),null!=this._transferAccountId&&this._transferAccountId.validateChecksum(t),null!=this._transferContractId&&this._transferContractId.validateChecksum(t)}_execute(t,e){return t.smartContract.deleteContract(e)}_getTransactionDataCase(){return"contractDeleteInstance"}_makeTransactionData(){return{contractID:null!=this._contractId?this._contractId._toProtobuf():null,transferAccountID:this._transferAccountId?this._transferAccountId._toProtobuf():null,transferContractID:null!=this._transferContractId?this._transferContractId._toProtobuf():null}}_getLogId(){return`ContractDeleteTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("contractDeleteInstance",ContractDeleteTransaction._fromProtobuf);class ContractExecuteTransaction extends Transaction{constructor(t={}){super(),this._contractId=null,this._gas=null,this._amount=null,this._functionParameters=null,null!=t.contractId&&this.setContractId(t.contractId),null!=t.gas&&this.setGas(t.gas),null!=t.amount&&this.setPayableAmount(t.amount),null!=t.functionParameters?this.setFunctionParameters(t.functionParameters):null!=t.function&&this.setFunction(t.function.name,t.function.parameters)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].contractCall;return Transaction._fromProtobufTransactions(new ContractExecuteTransaction({contractId:null!=F.contractID?ContractId._fromProtobuf(F.contractID):void 0,gas:null!=F.gas?F.gas:void 0,amount:F.amount?F.amount:void 0,functionParameters:null!=F.functionParameters?F.functionParameters:void 0}),t,e,Q,B,s)}get contractId(){return this._contractId}setContractId(t){return this._requireNotFrozen(),this._contractId="string"==typeof t?ContractId.fromString(t):t.clone(),this}get gas(){return this._gas}setGas(t){return this._requireNotFrozen(),this._gas=t instanceof long?t:long.fromValue(t),this}get payableAmount(){return this._amount}setPayableAmount(t){return this._requireNotFrozen(),this._amount=t instanceof Hbar?t:new Hbar(t),this}get functionParameters(){return this._functionParameters}setFunctionParameters(t){return this._requireNotFrozen(),this._functionParameters=t,this}setFunction(t,e){return this._requireNotFrozen(),this._functionParameters=null!=e?e._build(t):(new ContractFunctionParameters$1)._build(t),this}_validateChecksums(t){null!=this._contractId&&this._contractId.validateChecksum(t)}_execute(t,e){return t.smartContract.contractCallMethod(e)}_getTransactionDataCase(){return"contractCall"}_makeTransactionData(){return{contractID:null!=this._contractId?this._contractId._toProtobuf():null,gas:this._gas,amount:null!=this._amount?this._amount.toTinybars():null,functionParameters:this._functionParameters}}_getLogId(){return`ContractExecuteTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("contractCall",ContractExecuteTransaction._fromProtobuf);class ContractInfo{constructor(t){this.contractId=t.contractId,this.accountId=t.accountId,this.contractAccountId=t.contractAccountId,this.adminKey=null!=t.adminKey?t.adminKey:null,this.expirationTime=t.expirationTime,this.autoRenewPeriod=t.autoRenewPeriod,this.storage=t.storage,this.contractMemo=t.contractMemo,this.balance=t.balance,this.isDeleted=t.isDeleted,this.tokenRelationships=t.tokenRelationships,this.ledgerId=t.ledgerId,Object.freeze(this)}static _fromProtobuf(t){const e=t.autoRenewPeriod.seconds;return new ContractInfo({contractId:ContractId._fromProtobuf(t.contractID),accountId:AccountId._fromProtobuf(t.accountID),contractAccountId:null!=t.contractAccountID?t.contractAccountID:"",adminKey:null!=t.adminKey?Key._fromProtobufKey(t.adminKey):null,expirationTime:Timestamp._fromProtobuf(t.expirationTime),autoRenewPeriod:new Duration(e),storage:null!=t.storage?t.storage instanceof long?t.storage:long.fromValue(t.storage):long.ZERO,contractMemo:null!=t.memo?t.memo:"",balance:Hbar.fromTinybars(null!=t.balance?t.balance:0),isDeleted:t.deleted,tokenRelationships:TokenRelationshipMap._fromProtobuf(null!=t.tokenRelationships?t.tokenRelationships:[]),ledgerId:null!=t.ledgerId?LedgerId.fromBytes(t.ledgerId):null})}_toProtobuf(){return{contractID:this.contractId._toProtobuf(),accountID:this.accountId._toProtobuf(),contractAccountID:this.contractAccountId,adminKey:null!=this.adminKey?this.adminKey._toProtobufKey():null,expirationTime:this.expirationTime._toProtobuf(),autoRenewPeriod:null!=this.autoRenewPeriod?this.autoRenewPeriod._toProtobuf():null,storage:this.storage,memo:this.contractMemo,balance:this.balance.toTinybars(),deleted:this.isDeleted,tokenRelationships:null!=this.tokenRelationships?this.tokenRelationships._toProtobuf():null,ledgerId:null!=this.ledgerId?this.ledgerId.toBytes():null}}static fromBytes(t){return ContractInfo._fromProtobuf(lib.ContractGetInfoResponse.ContractInfo.decode(t))}toBytes(){return lib.ContractGetInfoResponse.ContractInfo.encode(this._toProtobuf()).finish()}}class ContractInfoQuery extends Query{constructor(t={}){super(),this._contractId=null,null!=t.contractId&&this.setContractId(t.contractId)}static _fromProtobuf(t){const e=t.contractGetInfo;return new ContractInfoQuery({contractId:null!=e.contractID?ContractId._fromProtobuf(e.contractID):void 0})}get contractId(){return this._contractId}setContractId(t){return this._contractId="string"==typeof t?ContractId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._contractId&&this._contractId.validateChecksum(t)}_execute(t,e){return t.smartContract.getContractInfo(e)}async getCost(t){let e=await super.getCost(t);return e.toTinybars().greaterThan(25)?e:Hbar.fromTinybars(25)}_mapResponseHeader(t){return t.contractGetInfo.header}_mapResponse(t,e,Q){const B=t.contractGetInfo;return Promise.resolve(ContractInfo._fromProtobuf(B.contractInfo))}_onMakeRequest(t){return{contractGetInfo:{header:t,contractID:null!=this._contractId?this._contractId._toProtobuf():null}}}_getLogId(){return`ContractInfoQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("contractGetInfo",ContractInfoQuery._fromProtobuf);class ContractUpdateTransaction extends Transaction{constructor(t={}){super(),this._contractId=null,this._expirationTime=null,this._adminKey=null,this._proxyAccountId=null,this._autoRenewPeriod=null,this._bytecodeFileId=null,this._contractMemo=null,null!=t.contractId&&this.setContractId(t.contractId),null!=t.expirationTime&&this.setExpirationTime(t.expirationTime),null!=t.adminKey&&this.setAdminKey(t.adminKey),null!=t.proxyAccountId&&this.setProxyAccountId(t.proxyAccountId),null!=t.autoRenewPeriod&&this.setAutoRenewPeriod(t.autoRenewPeriod),null!=t.bytecodeFileId&&this.setBytecodeFileId(t.bytecodeFileId),null!=t.contractMemo&&this.setContractMemo(t.contractMemo)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].contractUpdateInstance;let U,n;return null!=F.autoRenewPeriod&&null!=F.autoRenewPeriod.seconds&&(U=F.autoRenewPeriod.seconds),null!=F.memoWrapper&&null!=F.memoWrapper.value&&(n=F.memoWrapper.value),Transaction._fromProtobufTransactions(new ContractUpdateTransaction({contractId:null!=F.contractID?ContractId._fromProtobuf(F.contractID):void 0,bytecodeFileId:null!=F.fileID?FileId._fromProtobuf(F.fileID):void 0,expirationTime:null!=F.expirationTime?Timestamp._fromProtobuf(F.expirationTime):void 0,adminKey:null!=F.adminKey?Key._fromProtobufKey(F.adminKey):void 0,proxyAccountId:null!=F.proxyAccountID?AccountId._fromProtobuf(F.proxyAccountID):void 0,autoRenewPeriod:U,contractMemo:n}),t,e,Q,B,s)}get contractId(){return this._contractId}setContractId(t){return this._requireNotFrozen(),this._contractId="string"==typeof t?ContractId.fromString(t):t.clone(),this}get expirationTime(){return this._expirationTime}setExpirationTime(t){return this._requireNotFrozen(),this._expirationTime=t instanceof Timestamp?t:Timestamp.fromDate(t),this}get adminKey(){return this._adminKey}setAdminKey(t){return this._requireNotFrozen(),this._adminKey=t,this}get proxyAccountId(){return this._proxyAccountId}setProxyAccountId(t){return this._requireNotFrozen(),this._proxyAccountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}get autoRenewPeriod(){return this._autoRenewPeriod}setAutoRenewPeriod(t){return this._requireNotFrozen(),this._autoRenewPeriod=t instanceof Duration?t:new Duration(t),this}get bytecodeFileId(){return this._bytecodeFileId}setBytecodeFileId(t){return console.warn("Deprecated: there is no replacement"),this._requireNotFrozen(),this._bytecodeFileId="string"==typeof t?FileId.fromString(t):t.clone(),this}get contractMemo(){return this._contractMemo}setContractMemo(t){return this._requireNotFrozen(),this._contractMemo=t,this}clearContractMemo(){return this._requireNotFrozen(),this._contractMemo=null,this}_validateChecksums(t){null!=this._contractId&&this._contractId.validateChecksum(t),null!=this._bytecodeFileId&&this._bytecodeFileId.validateChecksum(t),null!=this._proxyAccountId&&this._proxyAccountId.validateChecksum(t)}_execute(t,e){return t.smartContract.updateContract(e)}_getTransactionDataCase(){return"contractUpdateInstance"}_makeTransactionData(){return{contractID:null!=this._contractId?this._contractId._toProtobuf():null,expirationTime:null!=this._expirationTime?this._expirationTime._toProtobuf():null,adminKey:null!=this._adminKey?this._adminKey._toProtobufKey():null,proxyAccountID:null!=this._proxyAccountId?this._proxyAccountId._toProtobuf():null,autoRenewPeriod:null!=this._autoRenewPeriod?this._autoRenewPeriod._toProtobuf():null,fileID:this._bytecodeFileId?this._bytecodeFileId._toProtobuf():null,memoWrapper:null!=this._contractMemo?{value:this._contractMemo}:null}}_getLogId(){return`ContractUpdateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("contractUpdateInstance",ContractUpdateTransaction._fromProtobuf);class CustomFee{constructor(t={}){this._feeCollectorAccountId,null!=t.feeCollectorAccountId&&this.setFeeCollectorAccountId(t.feeCollectorAccountId)}get feeCollectorAccountId(){return this._feeCollectorAccountId}setFeeCollectorAccountId(t){return this._feeCollectorAccountId="string"==typeof t?AccountId.fromString(t):t,this}static _fromProtobuf(t){throw new Error("not implemented")}_toProtobuf(){throw new Error("not implemented")}}class CustomFixedFee extends CustomFee{constructor(t={}){super(t),this._denominatingTokenId,null!=t.denominatingTokenId&&this.setDenominatingTokenId(t.denominatingTokenId),this._amount,null!=t.amount&&this.setAmount(t.amount)}setHbarAmount(t){return this._amount=t.toTinybars(),this._denominatingTokenId=null,this}get hbarAmount(){return null!=this._denominatingTokenId?null:Hbar.fromTinybars(null!=this._amount?this._amount:0)}setDenominatingTokenToSameToken(){return this._denominatingTokenId=new TokenId(0,0,0),this}get denominatingTokenId(){return this._denominatingTokenId}setDenominatingTokenId(t){return this._denominatingTokenId="string"==typeof t?TokenId.fromString(t):t,this}get amount(){return this._amount}setAmount(t){return this._amount="number"==typeof t?long.fromNumber(t):t,this}static _fromProtobuf(t){const e=t.fixedFee;return new CustomFixedFee({feeCollectorAccountId:null!=t.feeCollectorAccountId?AccountId._fromProtobuf(t.feeCollectorAccountId):void 0,denominatingTokenId:null!=e.denominatingTokenId?TokenId._fromProtobuf(e.denominatingTokenId):void 0,amount:null!=e.amount?e.amount:void 0})}_toProtobuf(){return{feeCollectorAccountId:null!=this.feeCollectorAccountId?this.feeCollectorAccountId._toProtobuf():null,fixedFee:{denominatingTokenId:null!=this._denominatingTokenId?this._denominatingTokenId._toProtobuf():null,amount:this._amount}}}}class CustomFractionalFee extends CustomFee{constructor(t={}){super(t),this._numerator,null!=t.numerator&&this.setNumerator(t.numerator),this._denominator,null!=t.denominator&&this.setDenominator(t.denominator),this._min,null!=t.min&&this.setMin(t.min),this._max,null!=t.max&&this.setMax(t.max),this._assessmentMethod,null!=t.assessmentMethod&&this.setAssessmentMethod(t.assessmentMethod)}get numerator(){return this._numerator}setNumerator(t){return this._numerator="number"==typeof t?long.fromNumber(t):t,this}get denominator(){return this._denominator}setDenominator(t){return this._denominator="number"==typeof t?long.fromNumber(t):t,this}get min(){return this._min}setMin(t){return this._min="number"==typeof t?long.fromNumber(t):t,this}get max(){return this._max}setMax(t){return this._max="number"==typeof t?long.fromNumber(t):t,this}get assessmentMethod(){return this._assessmentMethod}setAssessmentMethod(t){return this._assessmentMethod=t,this}static _fromProtobuf(t){const e=t.fractionalFee,Q=e.fractionalAmount;return new CustomFractionalFee({feeCollectorAccountId:null!=t.feeCollectorAccountId?AccountId._fromProtobuf(t.feeCollectorAccountId):void 0,numerator:null!=Q.numerator?Q.numerator:void 0,denominator:null!=Q.denominator?Q.denominator:void 0,min:null!=e.minimumAmount?e.minimumAmount:void 0,max:null!=e.maximumAmount?e.maximumAmount:void 0})}_toProtobuf(){return{feeCollectorAccountId:null!=this.feeCollectorAccountId?this.feeCollectorAccountId._toProtobuf():null,fractionalFee:{fractionalAmount:{numerator:this._numerator,denominator:this._denominator},minimumAmount:this._min,maximumAmount:this._max}}}}class CustomRoyalyFee extends CustomFee{constructor(t={}){super(t),this._fallbackFee,null!=t.fallbackFee&&this.setFallbackFee(t.fallbackFee),this._numerator,null!=t.numerator&&this.setNumerator(t.numerator),this._denominator,null!=t.denominator&&this.setDenominator(t.denominator)}get fallbackFee(){return this._fallbackFee}setFallbackFee(t){return this._fallbackFee=t,this}get numerator(){return this._numerator}setNumerator(t){return this._numerator="number"==typeof t?long.fromNumber(t):t,this}get denominator(){return this._denominator}setDenominator(t){return this._denominator="number"==typeof t?long.fromNumber(t):t,this}static _fromProtobuf(t){const e=t.royaltyFee,Q=e.exchangeValueFraction;return new CustomRoyalyFee({feeCollectorAccountId:null!=t.feeCollectorAccountId?AccountId._fromProtobuf(t.feeCollectorAccountId):void 0,fallbackFee:null!=e.fallbackFee?CustomFixedFee._fromProtobuf({fixedFee:e.fallbackFee}):void 0,numerator:null!=Q.numerator?Q.numerator:void 0,denominator:null!=Q.denominator?Q.denominator:void 0})}_toProtobuf(){return{feeCollectorAccountId:null!=this.feeCollectorAccountId?this.feeCollectorAccountId._toProtobuf():null,royaltyFee:{exchangeValueFraction:{numerator:this._numerator,denominator:this._denominator},fallbackFee:null!=this._fallbackFee?this._fallbackFee._toProtobuf().fixedFee:null}}}}class DelegateContractId extends ContractId{constructor(t,e,Q,B){super(t,e,Q,B)}static fromEvmAddress(t,e,Q){return new DelegateContractId(t,e,0,decode$1(Q))}static fromString(t){return new DelegateContractId(ContractId.fromString(t))}static _fromProtobuf(t){return new DelegateContractId(ContractId._fromProtobuf(t))}static fromBytes(t){return new DelegateContractId(ContractId.fromBytes(t))}static fromSolidityAddress(t){return new DelegateContractId(ContractId.fromSolidityAddress(t))}clone(){const t=new DelegateContractId(this);return t._checksum=this._checksum,t}_toProtobufKey(){return{delegatableContractId:this._toProtobuf()}}static __fromProtobufKey(t){return DelegateContractId._fromProtobuf(t)}}CACHE.delegateContractId=t=>DelegateContractId.__fromProtobufKey(t);class FileContentsQuery extends Query{constructor(t={}){super(),this._fileId=null,null!=t.fileId&&this.setFileId(t.fileId)}static _fromProtobuf(t){const e=t.fileGetContents;return new FileContentsQuery({fileId:null!=e.fileID?FileId._fromProtobuf(e.fileID):void 0})}_validateChecksums(t){null!=this._fileId&&this._fileId.validateChecksum(t)}_execute(t,e){return t.file.getFileContent(e)}get fileId(){return this._fileId}setFileId(t){return this._fileId="string"==typeof t?FileId.fromString(t):t.clone(),this}_mapResponseHeader(t){return t.fileGetContents.header}_mapResponse(t){const e=t.fileGetContents.fileContents.contents;return Promise.resolve(e)}_onMakeRequest(t){return{fileGetContents:{header:t,fileID:null!=this._fileId?this._fileId._toProtobuf():null}}}_getLogId(){return`FileContentsQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("fileGetContents",FileContentsQuery._fromProtobuf);class FileInfo{constructor(t){this.fileId=t.fileId,this.size=t.size,this.expirationTime=t.expirationTime,this.isDeleted=t.isDeleted,this.keys=t.keys,this.fileMemo=t.fileMemo,this.ledgerId=t.ledgerId,Object.freeze(this)}static _fromProtobuf(t){const e=t.size;return new FileInfo({fileId:FileId._fromProtobuf(t.fileID),size:e instanceof long?e:long.fromValue(e),expirationTime:Timestamp._fromProtobuf(t.expirationTime),isDeleted:t.deleted,keys:null!=t.keys?KeyList.__fromProtobufKeyList(t.keys):new KeyList,fileMemo:null!=t.memo?t.memo:"",ledgerId:null!=t.ledgerId?LedgerId.fromBytes(t.ledgerId):null})}_toProtobuf(){return{fileID:this.fileId._toProtobuf(),size:this.size,expirationTime:this.expirationTime._toProtobuf(),deleted:this.isDeleted,keys:this.keys._toProtobufKey().keyList,memo:this.fileMemo,ledgerId:null!=this.ledgerId?this.ledgerId.toBytes():null}}static fromBytes(t){return FileInfo._fromProtobuf(lib.FileGetInfoResponse.FileInfo.decode(t))}toBytes(){return lib.FileGetInfoResponse.FileInfo.encode(this._toProtobuf()).finish()}}class FileInfoQuery extends Query{constructor(t={}){super(),this._fileId=null,null!=t.fileId&&this.setFileId(t.fileId)}static _fromProtobuf(t){const e=t.fileGetInfo;return new FileInfoQuery({fileId:null!=e.fileID?FileId._fromProtobuf(e.fileID):void 0})}get fileId(){return this._fileId}setFileId(t){return this._fileId="string"==typeof t?FileId.fromString(t):t.clone(),this}async getCost(t){let e=await super.getCost(t);return e.toTinybars().greaterThan(25)?e:Hbar.fromTinybars(25)}_validateChecksums(t){null!=this._fileId&&this._fileId.validateChecksum(t)}_execute(t,e){return t.file.getFileInfo(e)}_mapResponseHeader(t){return t.fileGetInfo.header}_mapResponse(t,e,Q){const B=t.fileGetInfo;return Promise.resolve(FileInfo._fromProtobuf(B.fileInfo))}_onMakeRequest(t){return{fileGetInfo:{header:t,fileID:null!=this._fileId?this._fileId._toProtobuf():null}}}_getLogId(){return`FileInfoQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("fileGetInfo",FileInfoQuery._fromProtobuf);class FileUpdateTransaction extends Transaction{constructor(t={}){super(),this._fileId=null,this._keys=null,this._expirationTime=null,this._contents=null,this._fileMemo=null,null!=t.fileId&&this.setFileId(t.fileId),null!=t.keys&&this.setKeys(t.keys),null!=t.expirationTime&&this.setExpirationTime(t.expirationTime),null!=t.contents&&this.setContents(t.contents),null!=t.fileMemo&&this.setFileMemo(t.fileMemo)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].fileUpdate;return Transaction._fromProtobufTransactions(new FileUpdateTransaction({fileId:null!=F.fileID?FileId._fromProtobuf(F.fileID):void 0,keys:null!=F.keys&&null!=F.keys.keys?F.keys.keys.map((t=>Key._fromProtobufKey(t))):void 0,expirationTime:null!=F.expirationTime?Timestamp._fromProtobuf(F.expirationTime):void 0,contents:null!=F.contents?F.contents:void 0,fileMemo:null!=F.memo&&null!=F.memo.value?F.memo.value:void 0}),t,e,Q,B,s)}get fileId(){return this._fileId}setFileId(t){return this._requireNotFrozen(),this._fileId="string"==typeof t?FileId.fromString(t):t.clone(),this}get keys(){return this._keys}setKeys(t){if(this._requireNotFrozen(),t instanceof KeyList&&null!=t.threshold)throw new Error("Cannot set threshold key as file key");return this._keys=t instanceof KeyList?t.toArray():t,this}get expirationTime(){return this._expirationTime}setExpirationTime(t){return this._requireNotFrozen(),this._expirationTime=t instanceof Timestamp?t:Timestamp.fromDate(t),this}get contents(){return this._contents}setContents(t){return this._requireNotFrozen(),this._contents=t instanceof Uint8Array?t:encode(t),this}get fileMemo(){return this._fileMemo}setFileMemo(t){return this._requireNotFrozen(),this._fileMemo=t,this}clearFileMemo(){return this._requireNotFrozen(),this._fileMemo=null,this}_validateChecksums(t){null!=this._fileId&&this._fileId.validateChecksum(t)}_execute(t,e){return t.file.updateFile(e)}_getTransactionDataCase(){return"fileUpdate"}_makeTransactionData(){return{fileID:null!=this._fileId?this._fileId._toProtobuf():null,keys:null!=this._keys?{keys:this._keys.map((t=>t._toProtobufKey()))}:null,expirationTime:null!=this._expirationTime?this._expirationTime._toProtobuf():null,contents:this._contents,memo:null!=this._fileMemo?{value:this._fileMemo}:null}}_getLogId(){return`FileUpdateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("fileUpdate",FileUpdateTransaction._fromProtobuf);class FreezeType{constructor(t){this._code=t,Object.freeze(this)}toString(){switch(this){case FreezeType.UnknownFreezeType:return"UNKNOWN_FREEZE_TYPE";case FreezeType.FreezeOnly:return"FREEZE_ONLY";case FreezeType.PrepareUpgrade:return"PREPARE_UPGRADE";case FreezeType.FreezeUpgrade:return"FREEZE_UPGRADE";case FreezeType.FreezeAbort:return"FREEZE_ABORT";case FreezeType.TelemetryUpgrade:return"TELEMETRY_UPGRADE";default:return`UNKNOWN (${this._code})`}}static _fromCode(t){switch(t){case 0:return FreezeType.UnknownFreezeType;case 1:return FreezeType.FreezeOnly;case 2:return FreezeType.PrepareUpgrade;case 3:return FreezeType.FreezeUpgrade;case 4:return FreezeType.FreezeAbort;case 5:return FreezeType.TelemetryUpgrade;default:throw new Error(`(BUG) Status.fromCode() does not handle code: ${t}`)}}valueOf(){return this._code}}FreezeType.UnknownFreezeType=new FreezeType(0),FreezeType.FreezeOnly=new FreezeType(1),FreezeType.PrepareUpgrade=new FreezeType(2),FreezeType.FreezeUpgrade=new FreezeType(3),FreezeType.FreezeAbort=new FreezeType(4),FreezeType.TelemetryUpgrade=new FreezeType(5);class FreezeTransaction extends Transaction{constructor(t={}){super(),this._startTime=null,this._startTimestamp=null,this._endTime=null,this._fileId=null,this._fileHash=null,this._freezeType=null,null!=t.startTime&&this.setStartTime(t.startTime.hour,t.startTime.minute),null!=t.endTime&&this.setEndTime(t.endTime.hour,t.endTime.minute),null!=t.startTimestamp&&this.setStartTimestamp(t.startTimestamp),null!=t.updateFileId&&this.setUpdateFileId(t.updateFileId),null!=t.fileId&&this.setFileId(t.fileId),null!=t.fileHash&&this.setFileHash(t.fileHash),null!=t.freezeType&&this.setFreezeType(t.freezeType)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].freeze;return Transaction._fromProtobufTransactions(new FreezeTransaction({startTime:null!=F.startHour&&null!=F.startMin?{hour:F.startHour,minute:F.startMin}:void 0,endTime:null!=F.endHour&&null!=F.endMin?{hour:F.endHour,minute:F.endMin}:void 0,startTimestamp:null!=F.startTime?Timestamp._fromProtobuf(F.startTime):void 0,updateFileId:null!=F.updateFile?FileId._fromProtobuf(F.updateFile):void 0,fileHash:null!=F.fileHash?F.fileHash:void 0,freezeType:null!=F.freezeType?FreezeType._fromCode(F.freezeType):void 0}),t,e,Q,B,s)}get startTime(){return null}setStartTime(t,e){if(this._requireNotFrozen(),"string"==typeof t){const e=t.split(":");this._startTime={hour:Number(e[0]),minute:Number(e[1])}}else this._startTime={hour:t,minute:e};return this}get startTimestamp(){return this._startTimestamp}setStartTimestamp(t){return this._requireNotFrozen(),this._startTimestamp=t,this}get endTime(){return console.warn("`FreezeTransaction.endTime` is deprecated"),this._endTime}setEndTime(t,e){if(console.warn("`FreezeTransaction.endTime` is deprecated"),this._requireNotFrozen(),"string"==typeof t){const e=t.split(":");this._endTime={hour:Number(e[0]),minute:Number(e[1])}}else this._endTime={hour:t,minute:e};return this}get updateFileId(){return this.fileId}setUpdateFileId(t){return this.setFileId(t)}get fileId(){return this._fileId}setFileId(t){return this._requireNotFrozen(),this._fileId=t,this}get fileHash(){return this._fileHash}setFileHash(t){return this._requireNotFrozen(),this._fileHash="string"==typeof t?decode$1(t):t,this}get freezeType(){return this._freezeType}setFreezeType(t){return this._requireNotFrozen(),this._freezeType=t,this}_getTransactionDataCase(){return"freeze"}_makeTransactionData(){return{startTime:null!=this._startTimestamp?this._startTimestamp._toProtobuf():null,updateFile:null!=this._fileId?this._fileId._toProtobuf():null,fileHash:this._fileHash,freezeType:null!=this._freezeType?this._freezeType.valueOf():null}}_getLogId(){return`FreezeTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("freeze",FreezeTransaction._fromProtobuf);class LiveHashAddTransaction extends Transaction{constructor(t={}){super(),this._hash=null,this._keys=null,this._duration=null,this._accountId=null,null!=t.hash&&this.setHash(t.hash),null!=t.keys&&this.setKeys(t.keys),null!=t.duration&&this.setDuration(t.duration),null!=t.accountId&&this.setAccountId(t.accountId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].cryptoAddLiveHash.liveHash;return Transaction._fromProtobufTransactions(new LiveHashAddTransaction({hash:null!=F.hash?F.hash:void 0,keys:null!=F.keys&&null!=F.keys.keys?F.keys.keys.map((t=>Key._fromProtobufKey(t))):void 0,duration:null!=F.duration&&null!=F.duration.seconds?F.duration.seconds:void 0,accountId:null!=F.accountId?AccountId._fromProtobuf(F.accountId):void 0}),t,e,Q,B,s)}get hash(){return this._hash}setHash(t){return this._requireNotFrozen(),this._hash=t,this}get keys(){return this._keys}setKeys(t){return this._requireNotFrozen(),this._keys=t instanceof KeyList?t.toArray():t,this}get duration(){return this._duration}setDuration(t){return this._requireNotFrozen(),this._duration=t instanceof Duration?t:new Duration(t),this}get accountId(){return this._accountId}setAccountId(t){return this._requireNotFrozen(),this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._accountId&&this._accountId.validateChecksum(t)}_execute(t,e){return t.crypto.addLiveHash(e)}_getTransactionDataCase(){return"cryptoAddLiveHash"}_makeTransactionData(){return{liveHash:{hash:this._hash,keys:null!=this._keys?{keys:this._keys.map((t=>t._toProtobufKey()))}:void 0,duration:null!=this._duration?this._duration._toProtobuf():null,accountId:null!=this._accountId?this._accountId._toProtobuf():null}}}_getLogId(){return`LiveHashAddTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("cryptoAddLiveHash",LiveHashAddTransaction._fromProtobuf);class LiveHashDeleteTransaction extends Transaction{constructor(t={}){super(),this._hash=null,this._accountId=null,null!=t.hash&&this.setHash(t.hash),null!=t.accountId&&this.setAccountId(t.accountId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].cryptoDeleteLiveHash;return Transaction._fromProtobufTransactions(new LiveHashDeleteTransaction({hash:null!=F.liveHashToDelete?F.liveHashToDelete:void 0,accountId:null!=F.accountOfLiveHash?AccountId._fromProtobuf(F.accountOfLiveHash):void 0}),t,e,Q,B,s)}get hash(){return this._hash}setHash(t){return this._requireNotFrozen(),this._hash=t,this}get accountId(){return this._accountId}setAccountId(t){return this._requireNotFrozen(),this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._accountId&&this._accountId.validateChecksum(t)}_execute(t,e){return t.crypto.deleteLiveHash(e)}_getTransactionDataCase(){return"cryptoDeleteLiveHash"}_makeTransactionData(){return{liveHashToDelete:this._hash,accountOfLiveHash:null!=this._accountId?this._accountId._toProtobuf():null}}_getLogId(){return`LiveHashDeleteTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("cryptoDeleteLiveHash",LiveHashDeleteTransaction._fromProtobuf);class LiveHashQuery extends Query{constructor(t={}){super(),this._accountId=null,null!=t.accountId&&this.setAccountId(t.accountId),this._hash=null,null!=t.hash&&this.setHash(t.hash)}static _fromProtobuf(t){const e=t.cryptoGetLiveHash;return new LiveHashQuery({accountId:null!=e.accountID?AccountId._fromProtobuf(e.accountID):void 0,hash:null!=e.hash?e.hash:void 0})}get accountId(){return this._accountId}setAccountId(t){return this._accountId=t instanceof AccountId?t:AccountId.fromString(t),this}get liveHash(){return this._hash}setHash(t){return this._hash=t,this}_validateChecksums(t){null!=this._accountId&&this._accountId.validateChecksum(t)}_execute(t,e){return t.crypto.getLiveHash(e)}_mapResponseHeader(t){return t.cryptoGetLiveHash.header}_mapResponse(t){const e=t.cryptoGetLiveHash;return Promise.resolve(LiveHash._fromProtobuf(e.liveHash))}_onMakeRequest(t){return{cryptoGetLiveHash:{header:t,accountID:null!=this._accountId?this._accountId._toProtobuf():null,hash:this._hash}}}_getLogId(){return`LiveHashQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("cryptoGetLiveHash",LiveHashQuery._fromProtobuf);class SemanticVersion{constructor(t){this.major=t.major,this.minor=t.minor,this.patch=t.patch,Object.freeze(this)}static _fromProtobuf(t){return new SemanticVersion({major:t.major,minor:t.minor,patch:t.patch})}_toProtobuf(){return{major:this.major,minor:this.minor,patch:this.patch}}static fromBytes(t){return SemanticVersion._fromProtobuf(lib.SemanticVersion.decode(t))}toBytes(){return lib.SemanticVersion.encode(this._toProtobuf()).finish()}}class NetworkVersionInfo{constructor(t){this.protobufVersion=t.protobufVersion,this.servicesVesion=t.servicesVesion,Object.freeze(this)}static _fromProtobuf(t){return new NetworkVersionInfo({protobufVersion:SemanticVersion._fromProtobuf(t.hapiProtoVersion),servicesVesion:SemanticVersion._fromProtobuf(t.hederaServicesVersion)})}_toProtobuf(){return{hapiProtoVersion:this.protobufVersion._toProtobuf(),hederaServicesVersion:this.servicesVesion._toProtobuf()}}static fromBytes(t){return NetworkVersionInfo._fromProtobuf(lib.NetworkGetVersionInfoResponse.decode(t))}toBytes(){return lib.NetworkGetVersionInfoResponse.encode(this._toProtobuf()).finish()}}class NetworkVersionInfoQuery extends Query{constructor(){super()}static _fromProtobuf(t){return new NetworkVersionInfoQuery}_execute(t,e){return t.network.getVersionInfo(e)}_mapResponseHeader(t){return t.networkGetVersionInfo.header}_mapResponse(t){const e=t.networkGetVersionInfo;return Promise.resolve(NetworkVersionInfo._fromProtobuf(e))}_onMakeRequest(t){return{networkGetVersionInfo:{header:t}}}_getLogId(){return`NetworkVersionInfoQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("networkGetVersionInfo",NetworkVersionInfoQuery._fromProtobuf);class ScheduleCreateTransaction extends Transaction{constructor(t={}){super(),this._adminKey=null,this._scheduledTransaction=null,this._payerAccountId=null,this._scheduleMemo=null,this._scheduledSignerPublicKeys=new Set,null!=t.adminKey&&this.setAdminKey(t.adminKey),null!=t.payerAccountID&&this.setPayerAccountId(t.payerAccountID),null!=t.scheduleMemo&&this.setScheduleMemo(t.scheduleMemo),this._defaultMaxTransactionFee=new Hbar(5)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].scheduleCreate;return Transaction._fromProtobufTransactions(new ScheduleCreateTransaction({adminKey:null!=F.adminKey?Key._fromProtobufKey(F.adminKey):void 0,payerAccountID:null!=F.payerAccountID?AccountId._fromProtobuf(F.payerAccountID):void 0,scheduleMemo:null!=F.memo?F.memo:void 0}),t,e,Q,B,s)}_setScheduledTransaction(t){return this._scheduledTransaction=t,this}get adminKey(){return this._adminKey}setAdminKey(t){return this._requireNotFrozen(),this._adminKey=t,this}get payerAccountId(){return this._payerAccountId}setPayerAccountId(t){return this._requireNotFrozen(),this._payerAccountId=t,this}setScheduleMemo(t){return this._requireNotFrozen(),this._scheduleMemo=t,this}get getScheduleMemo(){return this._requireNotFrozen(),this._scheduleMemo}setScheduledTransaction(t){return this._requireNotFrozen(),t._requireNotFrozen(),this._scheduledTransaction=t.schedule()._scheduledTransaction,this}_validateChecksums(t){null!=this._payerAccountId&&this._payerAccountId.validateChecksum(t)}_execute(t,e){return t.schedule.createSchedule(e)}_getTransactionDataCase(){return"scheduleCreate"}_makeTransactionData(){return{adminKey:null!=this._adminKey?this._adminKey._toProtobufKey():null,payerAccountID:null!=this._payerAccountId?this._payerAccountId._toProtobuf():null,scheduledTransactionBody:null!=this._scheduledTransaction?this._scheduledTransaction._getScheduledTransactionBody():null,memo:this._scheduleMemo}}_getLogId(){return`ScheduleCreateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("scheduleCreate",ScheduleCreateTransaction._fromProtobuf),SCHEDULE_CREATE_TRANSACTION.push((()=>new ScheduleCreateTransaction));class ScheduleDeleteTransaction extends Transaction{constructor(t={}){super(),this._scheduleId=null,null!=t.scheduleId&&this.setScheduleId(t.scheduleId),this._defaultMaxTransactionFee=new Hbar(5)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].scheduleDelete;return Transaction._fromProtobufTransactions(new ScheduleDeleteTransaction({scheduleId:null!=F.scheduleID?ScheduleId._fromProtobuf(F.scheduleID):void 0}),t,e,Q,B,s)}get scheduleId(){return this._scheduleId}setScheduleId(t){return this._requireNotFrozen(),this._scheduleId="string"==typeof t?ScheduleId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._scheduleId&&this._scheduleId.validateChecksum(t)}_execute(t,e){return t.schedule.deleteSchedule(e)}_getTransactionDataCase(){return"scheduleDelete"}_makeTransactionData(){return{scheduleID:null!=this._scheduleId?this._scheduleId._toProtobuf():null}}_getLogId(){return`ScheduleDeleteTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("scheduleDelete",ScheduleDeleteTransaction._fromProtobuf);class ScheduleInfo{constructor(t){this.scheduleId=t.scheduleId,this.creatorAccountId=t.creatorAccountID,this.payerAccountId=t.payerAccountID,this.schedulableTransactionBody=t.schedulableTransactionBody,this.signers=t.signers,this.scheduleMemo=t.scheduleMemo,this.adminKey=null!=t.adminKey?t.adminKey:null,this.expirationTime=t.expirationTime,this.executed=t.executed,this.deleted=t.deleted,this.scheduledTransactionId=t.scheduledTransactionId,Object.freeze(this)}static _fromProtobuf(t){return new ScheduleInfo({scheduleId:ScheduleId._fromProtobuf(t.scheduleID),creatorAccountID:null!=t.creatorAccountID?AccountId._fromProtobuf(t.creatorAccountID):null,payerAccountID:null!=t.payerAccountID?AccountId._fromProtobuf(t.payerAccountID):null,schedulableTransactionBody:null!=t.scheduledTransactionBody?t.scheduledTransactionBody:null,adminKey:null!=t.adminKey?Key._fromProtobufKey(t.adminKey):null,signers:null!=t.signers?KeyList.__fromProtobufKeyList(t.signers):null,scheduleMemo:null!=t.memo?t.memo:null,expirationTime:null!=t.expirationTime?Timestamp._fromProtobuf(t.expirationTime):null,executed:null!=t.executionTime?Timestamp._fromProtobuf(t.executionTime):null,deleted:null!=t.deletionTime?Timestamp._fromProtobuf(t.deletionTime):null,scheduledTransactionId:null!=t.scheduledTransactionID?TransactionId._fromProtobuf(t.scheduledTransactionID):null})}_toProtobuf(){return{scheduleID:null!=this.scheduleId?this.scheduleId._toProtobuf():null,creatorAccountID:null!=this.creatorAccountId?this.creatorAccountId._toProtobuf():null,payerAccountID:null!=this.payerAccountId?this.payerAccountId._toProtobuf():null,scheduledTransactionBody:null!=this.schedulableTransactionBody?this.schedulableTransactionBody:null,adminKey:null!=this.adminKey?this.adminKey._toProtobufKey():null,signers:null!=this.signers?this.signers._toProtobufKey().keyList:null,memo:null!=this.scheduleMemo?this.scheduleMemo:"",expirationTime:null!=this.expirationTime?this.expirationTime._toProtobuf():null,scheduledTransactionID:null!=this.scheduledTransactionId?this.scheduledTransactionId._toProtobuf():null}}get scheduledTransaction(){if(null==this.schedulableTransactionBody)throw new Error("Scheduled transaction body is empty");const t=new lib.SchedulableTransactionBody(this.schedulableTransactionBody),e=t.data;return Transaction.fromBytes(lib.TransactionList.encode({transactionList:[{signedTransactionBytes:lib.SignedTransaction.encode({bodyBytes:lib.TransactionBody.encode({transactionFee:this.schedulableTransactionBody.transactionFee,memo:this.schedulableTransactionBody.memo,[e]:t[e]}).finish()}).finish()}]}).finish())}}class ScheduleInfoQuery extends Query{constructor(t={}){super(),this._scheduleId=null,null!=t.scheduleId&&this.setScheduleId(t.scheduleId)}static _fromProtobuf(t){const e=t.scheduleGetInfo;return new ScheduleInfoQuery({scheduleId:null!=e.scheduleID?ScheduleId._fromProtobuf(e.scheduleID):void 0})}get scheduleId(){return this._scheduleId}setScheduleId(t){return this._scheduleId="string"==typeof t?ScheduleId.fromString(t):t.clone(),this}async getCost(t){let e=await super.getCost(t);return e.toTinybars().greaterThan(25)?e:Hbar.fromTinybars(25)}_validateChecksums(t){null!=this._scheduleId&&this._scheduleId.validateChecksum(t)}_execute(t,e){return t.schedule.getScheduleInfo(e)}_mapResponseHeader(t){return t.scheduleGetInfo.header}_mapResponse(t,e,Q){const B=t.scheduleGetInfo;return Promise.resolve(ScheduleInfo._fromProtobuf(B.scheduleInfo))}_onMakeRequest(t){return{scheduleGetInfo:{header:t,scheduleID:null!=this._scheduleId?this._scheduleId._toProtobuf():null}}}_getLogId(){return`ScheduleInfoQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("scheduleGetInfo",ScheduleInfoQuery._fromProtobuf);class ScheduleSignTransaction extends Transaction{constructor(t={}){super(),this._scheduleId=null,null!=t.scheduleId&&this.setScheduleId(t.scheduleId),this._defaultMaxTransactionFee=new Hbar(5)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].scheduleSign;return Transaction._fromProtobufTransactions(new ScheduleSignTransaction({scheduleId:null!=F.scheduleID?ScheduleId._fromProtobuf(F.scheduleID):void 0}),t,e,Q,B,s)}get scheduleId(){return this._scheduleId}setScheduleId(t){return this._requireNotFrozen(),this._scheduleId="string"==typeof t?ScheduleId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._scheduleId&&this._scheduleId.validateChecksum(t)}_execute(t,e){return t.schedule.signSchedule(e)}_getTransactionDataCase(){return"scheduleSign"}_makeTransactionData(){return{scheduleID:null!=this._scheduleId?this._scheduleId._toProtobuf():null}}_getLogId(){return`ScheduleSignTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("scheduleSign",ScheduleSignTransaction._fromProtobuf);class SystemDeleteTransaction extends Transaction{constructor(t={}){super(),this._fileId=null,this._contractId=null,this._expirationTime=null,null!=t.fileId&&this.setFileId(t.fileId),null!=t.contractId&&this.setContractId(t.contractId),null!=t.expirationTime&&this.setExpirationTime(t.expirationTime)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].systemDelete;return Transaction._fromProtobufTransactions(new SystemDeleteTransaction({fileId:null!=F.fileID?FileId._fromProtobuf(F.fileID):void 0,contractId:null!=F.contractID?ContractId._fromProtobuf(F.contractID):void 0,expirationTime:null!=F.expirationTime?Timestamp._fromProtobuf(F.expirationTime):void 0}),t,e,Q,B,s)}get fileId(){return this._fileId}setFileId(t){return this._requireNotFrozen(),this._fileId=t instanceof FileId?t:FileId.fromString(t),this}get contractId(){return this._contractId}setContractId(t){return this._requireNotFrozen(),this._contractId=t instanceof ContractId?t:ContractId.fromString(t),this}get expirationTime(){return this._expirationTime}setExpirationTime(t){return this._requireNotFrozen(),this._expirationTime=t,this}_execute(t,e){return null!=this._fileId?t.file.systemDelete(e):t.smartContract.systemDelete(e)}_getTransactionDataCase(){return"systemDelete"}_makeTransactionData(){return{fileID:null!=this._fileId?this._fileId._toProtobuf():null,contractID:null!=this._contractId?this._contractId._toProtobuf():null,expirationTime:null!=this._expirationTime?this._expirationTime._toProtobuf():null}}_getLogId(){return`SystemDeleteTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("systemDelete",SystemDeleteTransaction._fromProtobuf);class SystemUndeleteTransaction extends Transaction{constructor(t={}){super(),this._fileId=null,this._contractId=null,null!=t.fileId&&this.setFileId(t.fileId),null!=t.contractId&&this.setContractId(t.contractId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].systemUndelete;return Transaction._fromProtobufTransactions(new SystemUndeleteTransaction({fileId:null!=F.fileID?FileId._fromProtobuf(F.fileID):void 0,contractId:null!=F.contractID?ContractId._fromProtobuf(F.contractID):void 0}),t,e,Q,B,s)}get fileId(){return this._fileId}setFileId(t){return this._requireNotFrozen(),this._fileId=t instanceof FileId?t:FileId.fromString(t),this}get contractId(){return this._contractId}setContractId(t){return this._requireNotFrozen(),this._contractId=t instanceof ContractId?t:ContractId.fromString(t),this}_execute(t,e){return null!=this._fileId?t.file.systemUndelete(e):t.smartContract.systemUndelete(e)}_getTransactionDataCase(){return"systemUndelete"}_makeTransactionData(){return{fileID:null!=this._fileId?this._fileId._toProtobuf():null,contractID:null!=this._contractId?this._contractId._toProtobuf():null}}_getLogId(){return`SystemUndeleteTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("systemUndelete",SystemUndeleteTransaction._fromProtobuf);class TokenAssociateTransaction extends Transaction{constructor(t={}){super(),this._tokenIds=null,this._accountId=null,this._defaultMaxTransactionFee=new Hbar(5),null!=t.tokenIds&&this.setTokenIds(t.tokenIds),null!=t.accountId&&this.setAccountId(t.accountId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenAssociate;return Transaction._fromProtobufTransactions(new TokenAssociateTransaction({tokenIds:null!=F.tokens?F.tokens.map((t=>TokenId._fromProtobuf(t))):void 0,accountId:null!=F.account?AccountId._fromProtobuf(F.account):void 0}),t,e,Q,B,s)}get tokenIds(){return this._tokenIds}setTokenIds(t){return this._requireNotFrozen(),this._tokenIds=t.map((t=>"string"==typeof t?TokenId.fromString(t):t.clone())),this}get accountId(){return this._accountId}setAccountId(t){return this._requireNotFrozen(),this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._accountId&&this._accountId.validateChecksum(t);for(const e of null!=this._tokenIds?this._tokenIds:[])null!=e&&e.validateChecksum(t)}_execute(t,e){return t.token.associateTokens(e)}_getTransactionDataCase(){return"tokenAssociate"}_makeTransactionData(){return{tokens:null!=this._tokenIds?this._tokenIds.map((t=>t._toProtobuf())):null,account:null!=this._accountId?this._accountId._toProtobuf():null}}_getLogId(){return`TokenAssociateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenAssociate",TokenAssociateTransaction._fromProtobuf);class TokenBurnTransaction extends Transaction{constructor(t={}){super(),this._tokenId=null,this._amount=null,this._serials=[],null!=t.tokenId&&this.setTokenId(t.tokenId),null!=t.amount&&this.setAmount(t.amount),null!=t.serials&&this.setSerials(t.serials)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenBurn;return Transaction._fromProtobufTransactions(new TokenBurnTransaction({tokenId:null!=F.token?TokenId._fromProtobuf(F.token):void 0,amount:null!=F.amount?F.amount:void 0,serials:null!=F.serialNumbers?F.serialNumbers:void 0}),t,e,Q,B,s)}get tokenId(){return this._tokenId}setTokenId(t){return this._requireNotFrozen(),this._tokenId="string"==typeof t?TokenId.fromString(t):t.clone(),this}get amount(){return this._amount}setAmount(t){return this._requireNotFrozen(),this._amount=t instanceof long?t:long.fromValue(t),this}_validateChecksums(t){null!=this._tokenId&&this._tokenId.validateChecksum(t)}get serials(){return this._serials}setSerials(t){return this._requireNotFrozen(),this._serials=t.map((t=>t instanceof long?t:long.fromValue(t))),this}_execute(t,e){return t.token.burnToken(e)}_getTransactionDataCase(){return"tokenBurn"}_makeTransactionData(){return{amount:this._amount,serialNumbers:this._serials,token:null!=this._tokenId?this._tokenId._toProtobuf():null}}_getLogId(){return`TokenBurnTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenBurn",TokenBurnTransaction._fromProtobuf);class TokenType$1{constructor(t){this._code=t,Object.freeze(this)}toString(){switch(this){case TokenType$1.FungibleCommon:return"FUNGIBLE_COMMON";case TokenType$1.NonFungibleUnique:return"NON_FUNGIBLE_UNIQUE";default:return`UNKNOWN (${this._code})`}}static _fromCode(t){switch(t){case 0:return TokenType$1.FungibleCommon;case 1:return TokenType$1.NonFungibleUnique}throw new Error(`(BUG) TokenType.fromCode() does not handle code: ${t}`)}valueOf(){return this._code}}TokenType$1.FungibleCommon=new TokenType$1(0),TokenType$1.NonFungibleUnique=new TokenType$1(1);class TokenSupplyType{constructor(t){this._code=t,Object.freeze(this)}toString(){switch(this){case TokenSupplyType.Infinite:return"INFINITE";case TokenSupplyType.Finite:return"FINITE";default:return`UNKNOWN (${this._code})`}}static _fromCode(t){switch(t){case 0:return TokenSupplyType.Infinite;case 1:return TokenSupplyType.Finite}throw new Error(`(BUG) TokenSupplyType.fromCode() does not handle code: ${t}`)}valueOf(){return this._code}}TokenSupplyType.Infinite=new TokenSupplyType(0),TokenSupplyType.Finite=new TokenSupplyType(1);class TokenCreateTransaction extends Transaction{constructor(t={}){super(),this._tokenName=null,this._tokenSymbol=null,this._decimals=null,this._initialSupply=null,this._treasuryAccountId=null,this._adminKey=null,this._kycKey=null,this._freezeKey=null,this._pauseKey=null,this._wipeKey=null,this._supplyKey=null,this._feeScheduleKey=null,this._freezeDefault=null,this._autoRenewAccountId=null,this._expirationTime=null,this._autoRenewPeriod=new Duration(DEFAULT_AUTO_RENEW_PERIOD),this._tokenMemo=null,this._customFees=[],this._tokenType=null,this._supplyType=null,this._maxSupply=null,this._defaultMaxTransactionFee=new Hbar(30),null!=t.tokenName&&this.setTokenName(t.tokenName),null!=t.tokenSymbol&&this.setTokenSymbol(t.tokenSymbol),null!=t.decimals&&this.setDecimals(t.decimals),null!=t.initialSupply&&this.setInitialSupply(t.initialSupply),null!=t.treasuryAccountId&&this.setTreasuryAccountId(t.treasuryAccountId),null!=t.adminKey&&this.setAdminKey(t.adminKey),null!=t.kycKey&&this.setKycKey(t.kycKey),null!=t.freezeKey&&this.setFreezeKey(t.freezeKey),null!=t.pauseKey&&this.setPauseKey(t.pauseKey),null!=t.wipeKey&&this.setWipeKey(t.wipeKey),null!=t.supplyKey&&this.setSupplyKey(t.supplyKey),null!=t.feeScheduleKey&&this.setFeeScheduleKey(t.feeScheduleKey),null!=t.freezeDefault&&this.setFreezeDefault(t.freezeDefault),null!=t.autoRenewAccountId&&this.setAutoRenewAccountId(t.autoRenewAccountId),null!=t.expirationTime&&this.setExpirationTime(t.expirationTime),null!=t.autoRenewPeriod&&this.setAutoRenewPeriod(t.autoRenewPeriod),null!=t.tokenMemo&&this.setTokenMemo(t.tokenMemo),null!=t.customFees&&this.setCustomFees(t.customFees),null!=t.tokenType&&this.setTokenType(t.tokenType),null!=t.supplyType&&this.setSupplyType(t.supplyType),null!=t.maxSupply&&this.setMaxSupply(t.maxSupply)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenCreation;return Transaction._fromProtobufTransactions(new TokenCreateTransaction({tokenName:null!=F.name?F.name:void 0,tokenSymbol:null!=F.symbol?F.symbol:void 0,decimals:null!=F.decimals?F.decimals:void 0,initialSupply:null!=F.initialSupply?F.initialSupply:void 0,treasuryAccountId:null!=F.treasury?AccountId._fromProtobuf(F.treasury):void 0,adminKey:null!=F.adminKey?Key._fromProtobufKey(F.adminKey):void 0,kycKey:null!=F.kycKey?Key._fromProtobufKey(F.kycKey):void 0,freezeKey:null!=F.freezeKey?Key._fromProtobufKey(F.freezeKey):void 0,pauseKey:null!=F.pauseKey?Key._fromProtobufKey(F.pauseKey):void 0,wipeKey:null!=F.wipeKey?Key._fromProtobufKey(F.wipeKey):void 0,supplyKey:null!=F.supplyKey?Key._fromProtobufKey(F.supplyKey):void 0,feeScheduleKey:null!=F.feeScheduleKey?Key._fromProtobufKey(F.feeScheduleKey):void 0,freezeDefault:null!=F.freezeDefault?F.freezeDefault:void 0,autoRenewAccountId:null!=F.autoRenewAccount?AccountId._fromProtobuf(F.autoRenewAccount):void 0,expirationTime:null!=F.expiry?Timestamp._fromProtobuf(F.expiry):void 0,autoRenewPeriod:null!=F.autoRenewPeriod?Duration._fromProtobuf(F.autoRenewPeriod):void 0,tokenMemo:null!=F.memo?F.memo:void 0,customFees:null!=F.customFees?F.customFees.map((t=>null!=t.fixedFee?CustomFixedFee._fromProtobuf(t):null!=t.fractionalFee?CustomFractionalFee._fromProtobuf(t):CustomRoyalyFee._fromProtobuf(t))):void 0,tokenType:null!=F.tokenType?TokenType$1._fromCode(F.tokenType):void 0,supplyType:null!=F.supplyType?TokenSupplyType._fromCode(F.supplyType):void 0,maxSupply:null!=F.maxSupply?F.maxSupply:void 0}),t,e,Q,B,s)}get tokenName(){return this._tokenName}setTokenName(t){return this._requireNotFrozen(),this._tokenName=t,this}get tokenSymbol(){return this._tokenSymbol}setTokenSymbol(t){return this._requireNotFrozen(),this._tokenSymbol=t,this}get decimals(){return this._decimals}setDecimals(t){return this._requireNotFrozen(),this._decimals=t instanceof long?t:long.fromValue(t),this}get initialSupply(){return this._initialSupply}setInitialSupply(t){return this._requireNotFrozen(),this._initialSupply=long.fromValue(t),this}get treasuryAccountId(){return this._treasuryAccountId}setTreasuryAccountId(t){return this._requireNotFrozen(),this._treasuryAccountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}get adminKey(){return this._adminKey}setAdminKey(t){return this._requireNotFrozen(),this._adminKey=t,this}get kycKey(){return this._kycKey}setKycKey(t){return this._requireNotFrozen(),this._kycKey=t,this}get freezeKey(){return this._freezeKey}setFreezeKey(t){return this._requireNotFrozen(),this._freezeKey=t,this}get pauseKey(){return this._pauseKey}setPauseKey(t){return this._requireNotFrozen(),this._pauseKey=t,this}get wipeKey(){return this._wipeKey}setWipeKey(t){return this._requireNotFrozen(),this._wipeKey=t,this}get supplyKey(){return this._supplyKey}setSupplyKey(t){return this._requireNotFrozen(),this._supplyKey=t,this}get feeScheduleKey(){return this._feeScheduleKey}setFeeScheduleKey(t){return this._requireNotFrozen(),this._feeScheduleKey=t,this}get freezeDefault(){return this._freezeDefault}setFreezeDefault(t){return this._requireNotFrozen(),this._freezeDefault=t,this}get expirationTime(){return this._expirationTime}setExpirationTime(t){return this._requireNotFrozen(),this._autoRenewPeriod=null,this._expirationTime=t instanceof Timestamp?t:Timestamp.fromDate(t),this}get autoRenewAccountId(){return this._autoRenewAccountId}setAutoRenewAccountId(t){return this._requireNotFrozen(),this._autoRenewAccountId=t instanceof AccountId?t:AccountId.fromString(t),this}get autoRenewPeriod(){return this._autoRenewPeriod}setAutoRenewPeriod(t){return this._requireNotFrozen(),this._autoRenewPeriod=t instanceof Duration?t:new Duration(t),this}get tokenMemo(){return this._tokenMemo}setTokenMemo(t){return this._requireNotFrozen(),this._tokenMemo=t,this}get customFees(){return this._customFees}setCustomFees(t){return this._customFees=t,this}get tokenType(){return this._tokenType}setTokenType(t){return this._tokenType=t,this}get supplyType(){return this._supplyType}setSupplyType(t){return this._supplyType=t,this}get maxSupply(){return this._maxSupply}setMaxSupply(t){return this._maxSupply="number"==typeof t?long.fromNumber(t):t,this}freezeWith(t){return null!=this._autoRenewPeriod&&null!=t&&t.operatorAccountId&&(this._autoRenewAccountId=t.operatorAccountId),super.freezeWith(t)}_validateChecksums(t){null!=this._treasuryAccountId&&this._treasuryAccountId.validateChecksum(t),null!=this._autoRenewAccountId&&this._autoRenewAccountId.validateChecksum(t)}_execute(t,e){return t.token.createToken(e)}_getTransactionDataCase(){return"tokenCreation"}_makeTransactionData(){return{name:this._tokenName,symbol:this._tokenSymbol,decimals:null!=this._decimals?this._decimals.toInt():null,initialSupply:this._initialSupply,treasury:null!=this._treasuryAccountId?this._treasuryAccountId._toProtobuf():null,adminKey:null!=this._adminKey?this._adminKey._toProtobufKey():null,kycKey:null!=this._kycKey?this._kycKey._toProtobufKey():null,freezeKey:null!=this._freezeKey?this._freezeKey._toProtobufKey():null,pauseKey:null!=this._pauseKey?this._pauseKey._toProtobufKey():null,wipeKey:null!=this._wipeKey?this._wipeKey._toProtobufKey():null,supplyKey:null!=this._supplyKey?this._supplyKey._toProtobufKey():null,feeScheduleKey:null!=this._feeScheduleKey?this._feeScheduleKey._toProtobufKey():null,freezeDefault:this._freezeDefault,autoRenewAccount:null!=this._autoRenewAccountId?this._autoRenewAccountId._toProtobuf():null,expiry:null!=this._expirationTime?this._expirationTime._toProtobuf():null,autoRenewPeriod:null!=this._autoRenewPeriod?this._autoRenewPeriod._toProtobuf():null,memo:this._tokenMemo,customFees:this.customFees.map((t=>t._toProtobuf())),tokenType:null!=this._tokenType?this._tokenType._code:null,supplyType:null!=this._supplyType?this._supplyType._code:null,maxSupply:this.maxSupply}}_getLogId(){return`TokenCreateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenCreation",TokenCreateTransaction._fromProtobuf);class TokenDeleteTransaction extends Transaction{constructor(t={}){super(),this._tokenId=null,null!=t.tokenId&&this.setTokenId(t.tokenId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenDeletion;return Transaction._fromProtobufTransactions(new TokenDeleteTransaction({tokenId:null!=F.token?TokenId._fromProtobuf(F.token):void 0}),t,e,Q,B,s)}get tokenId(){return this._tokenId}setTokenId(t){return this._requireNotFrozen(),this._tokenId="string"==typeof t?TokenId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._tokenId&&this._tokenId.validateChecksum(t)}_execute(t,e){return t.token.deleteToken(e)}_getTransactionDataCase(){return"tokenDeletion"}_makeTransactionData(){return{token:null!=this._tokenId?this._tokenId._toProtobuf():null}}_getLogId(){return`TokenDeleteTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenDeletion",TokenDeleteTransaction._fromProtobuf);class TokenDissociateTransaction extends Transaction{constructor(t={}){super(),this._tokenIds=null,this._accountId=null,this._defaultMaxTransactionFee=new Hbar(5),null!=t.tokenIds&&this.setTokenIds(t.tokenIds),null!=t.accountId&&this.setAccountId(t.accountId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenDissociate;return Transaction._fromProtobufTransactions(new TokenDissociateTransaction({tokenIds:null!=F.tokens?F.tokens.map((t=>TokenId._fromProtobuf(t))):void 0,accountId:null!=F.account?AccountId._fromProtobuf(F.account):void 0}),t,e,Q,B,s)}get tokenIds(){return this._tokenIds}setTokenIds(t){return this._requireNotFrozen(),this._tokenIds=t.map((t=>"string"==typeof t?TokenId.fromString(t):t.clone())),this}get accountId(){return this._accountId}setAccountId(t){return this._requireNotFrozen(),this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._accountId&&this._accountId.validateChecksum(t);for(const e of null!=this._tokenIds?this._tokenIds:[])null!=e&&e.validateChecksum(t)}_execute(t,e){return t.token.dissociateTokens(e)}_getTransactionDataCase(){return"tokenDissociate"}_makeTransactionData(){return{tokens:null!=this._tokenIds?this._tokenIds.map((t=>t._toProtobuf())):null,account:null!=this._accountId?this._accountId._toProtobuf():null}}_getLogId(){return`TokenDissociateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenDissociate",TokenDissociateTransaction._fromProtobuf);class TokenFeeScheduleUpdateTransaction extends Transaction{constructor(t={}){super(),this._tokenId=null,this._customFees=[],null!=t.tokenId&&this.setTokenId(t.tokenId),null!=t.customFees&&this.setCustomFees(t.customFees)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenFeeScheduleUpdate;return Transaction._fromProtobufTransactions(new TokenFeeScheduleUpdateTransaction({tokenId:null!=F.tokenId?TokenId._fromProtobuf(F.tokenId):void 0,customFees:null!=F.customFees?F.customFees.map((t=>null!=t.fixedFee?CustomFixedFee._fromProtobuf(t):null!=t.fractionalFee?CustomFractionalFee._fromProtobuf(t):CustomRoyalyFee._fromProtobuf(t))):void 0}),t,e,Q,B,s)}get tokenId(){return this._tokenId}setTokenId(t){return this._requireNotFrozen(),this._tokenId="string"==typeof t?TokenId.fromString(t):TokenId._fromProtobuf(t._toProtobuf()),this}get customFees(){return this._customFees}setCustomFees(t){return this._requireNotFrozen(),this._customFees=t,this}_execute(t,e){return t.token.updateTokenFeeSchedule(e)}_getTransactionDataCase(){return"tokenFeeScheduleUpdate"}_makeTransactionData(){return{tokenId:null!=this._tokenId?this._tokenId._toProtobuf():null,customFees:this._customFees.map((t=>t._toProtobuf()))}}_getLogId(){return`TokenFeeScheduleUpdateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenFeeScheduleUpdate",TokenFeeScheduleUpdateTransaction._fromProtobuf);class TokenFreezeTransaction extends Transaction{constructor(t={}){super(),this._tokenId=null,this._accountId=null,null!=t.tokenId&&this.setTokenId(t.tokenId),null!=t.accountId&&this.setAccountId(t.accountId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenFreeze;return Transaction._fromProtobufTransactions(new TokenFreezeTransaction({tokenId:null!=F.token?TokenId._fromProtobuf(F.token):void 0,accountId:null!=F.account?AccountId._fromProtobuf(F.account):void 0}),t,e,Q,B,s)}get tokenId(){return this._tokenId}setTokenId(t){return this._requireNotFrozen(),this._tokenId="string"==typeof t?TokenId.fromString(t):t.clone(),this}get accountId(){return this._accountId}setAccountId(t){return this._requireNotFrozen(),this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._tokenId&&this._tokenId.validateChecksum(t),null!=this._accountId&&this._accountId.validateChecksum(t)}_execute(t,e){return t.token.freezeTokenAccount(e)}_getTransactionDataCase(){return"tokenFreeze"}_makeTransactionData(){return{token:null!=this._tokenId?this._tokenId._toProtobuf():null,account:null!=this._accountId?this._accountId._toProtobuf():null}}_getLogId(){return`TokenFreezeTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenFreeze",TokenFreezeTransaction._fromProtobuf);class TokenGrantKycTransaction extends Transaction{constructor(t={}){super(),this._tokenId=null,this._accountId=null,null!=t.tokenId&&this.setTokenId(t.tokenId),null!=t.accountId&&this.setAccountId(t.accountId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenGrantKyc;return Transaction._fromProtobufTransactions(new TokenGrantKycTransaction({tokenId:null!=F.token?TokenId._fromProtobuf(F.token):void 0,accountId:null!=F.account?AccountId._fromProtobuf(F.account):void 0}),t,e,Q,B,s)}get tokenId(){return this._tokenId}setTokenId(t){return this._requireNotFrozen(),this._tokenId="string"==typeof t?TokenId.fromString(t):t.clone(),this}get accountId(){return this._accountId}setAccountId(t){return this._requireNotFrozen(),this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._tokenId&&this._tokenId.validateChecksum(t),null!=this._accountId&&this._accountId.validateChecksum(t)}_execute(t,e){return t.token.grantKycToTokenAccount(e)}_getTransactionDataCase(){return"tokenGrantKyc"}_makeTransactionData(){return{token:null!=this._tokenId?this._tokenId._toProtobuf():null,account:null!=this._accountId?this._accountId._toProtobuf():null}}_getLogId(){return`TokenGrantKycTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenGrantKyc",TokenGrantKycTransaction._fromProtobuf);class TokenInfo{constructor(t){this.tokenId=t.tokenId,this.name=t.name,this.symbol=t.symbol,this.decimals=t.decimals,this.totalSupply=t.totalSupply,this.treasuryAccountId=t.treasuryAccountId,this.adminKey=t.adminKey,this.kycKey=t.kycKey,this.freezeKey=t.freezeKey,this.pauseKey=t.pauseKey,this.wipeKey=t.wipeKey,this.supplyKey=t.supplyKey,this.feeScheduleKey=t.feeScheduleKey,this.defaultFreezeStatus=t.defaultFreezeStatus,this.defaultKycStatus=t.defaultKycStatus,this.pauseStatus=t.pauseStatus,this.isDeleted=t.isDeleted,this.autoRenewAccountId=t.autoRenewAccountId,this.autoRenewPeriod=t.autoRenewPeriod,this.expirationTime=t.expirationTime,this.tokenMemo=t.tokenMemo,this.customFees=t.customFees,this.tokenType=t.tokenType,this.supplyType=t.supplyType,this.maxSupply=t.maxSupply,this.ledgerId=t.ledgerId}static _fromProtobuf(t){const e=t.defaultFreezeStatus,Q=t.defaultKycStatus,B=t.pauseStatus,s=null!=t.autoRenewAccount?AccountId._fromProtobuf(t.autoRenewAccount):new AccountId(0);return new TokenInfo({tokenId:TokenId._fromProtobuf(t.tokenId),name:t.name,symbol:t.symbol,decimals:t.decimals,totalSupply:long.fromValue(t.totalSupply),treasuryAccountId:null!=t.treasury?AccountId._fromProtobuf(t.treasury):null,adminKey:null!=t.adminKey?Key._fromProtobufKey(t.adminKey):null,kycKey:null!=t.kycKey?Key._fromProtobufKey(t.kycKey):null,freezeKey:null!=t.freezeKey?Key._fromProtobufKey(t.freezeKey):null,pauseKey:null!=t.pauseKey?Key._fromProtobufKey(t.pauseKey):null,wipeKey:null!=t.wipeKey?Key._fromProtobufKey(t.wipeKey):null,supplyKey:null!=t.supplyKey?Key._fromProtobufKey(t.supplyKey):null,feeScheduleKey:null!=t.feeScheduleKey?Key._fromProtobufKey(t.feeScheduleKey):null,defaultFreezeStatus:0===e?null:1==e,defaultKycStatus:0===Q?null:1==Q,pauseStatus:0===B?null:1==B,isDeleted:t.deleted,autoRenewAccountId:0!=s.shard.toInt()||0!=s.realm.toInt()||0!=s.num.toInt()?s:null,autoRenewPeriod:null!=t.autoRenewPeriod?Duration._fromProtobuf(t.autoRenewPeriod):null,expirationTime:null!=t.expiry?Timestamp._fromProtobuf(t.expiry):null,tokenMemo:null!=t.memo?t.memo:"",customFees:null!=t.customFees?t.customFees.map((t=>null!=t.fixedFee?CustomFixedFee._fromProtobuf(t):null!=t.fractionalFee?CustomFractionalFee._fromProtobuf(t):CustomRoyalyFee._fromProtobuf(t))):[],tokenType:null!=t.tokenType?TokenType$1._fromCode(t.tokenType):null,supplyType:null!=t.supplyType?TokenSupplyType._fromCode(t.supplyType):null,maxSupply:null!=t.maxSupply?t.maxSupply:null,ledgerId:null!=t.ledgerId?LedgerId.fromBytes(t.ledgerId):null})}_toProtobuf(){return{tokenId:this.tokenId._toProtobuf(),name:this.name,symbol:this.symbol,decimals:this.decimals,totalSupply:this.totalSupply,treasury:null!=this.treasuryAccountId?this.treasuryAccountId._toProtobuf():null,adminKey:null!=this.adminKey?this.adminKey._toProtobufKey():null,kycKey:null!=this.kycKey?this.kycKey._toProtobufKey():null,freezeKey:null!=this.freezeKey?this.freezeKey._toProtobufKey():null,pauseKey:null!=this.pauseKey?this.pauseKey._toProtobufKey():null,wipeKey:null!=this.wipeKey?this.wipeKey._toProtobufKey():null,supplyKey:null!=this.supplyKey?this.supplyKey._toProtobufKey():null,feeScheduleKey:null!=this.feeScheduleKey?this.feeScheduleKey._toProtobufKey():null,defaultFreezeStatus:null==this.defaultFreezeStatus?0:this.defaultFreezeStatus?1:2,defaultKycStatus:null==this.defaultKycStatus?0:this.defaultKycStatus?1:2,pauseStatus:null==this.pauseStatus?0:this.pauseStatus?1:2,deleted:this.isDeleted,autoRenewAccount:null!=this.autoRenewAccountId?this.autoRenewAccountId._toProtobuf():void 0,autoRenewPeriod:null!=this.autoRenewPeriod?this.autoRenewPeriod._toProtobuf():null,expiry:null!=this.expirationTime?this.expirationTime._toProtobuf():null,memo:this.tokenMemo,customFees:this.customFees.map((t=>t._toProtobuf())),tokenType:null!=this.tokenType?this.tokenType._code:null,supplyType:null!=this.supplyType?this.supplyType._code:null,maxSupply:this.maxSupply,ledgerId:null!=this.ledgerId?this.ledgerId.toBytes():null}}static fromBytes(t){return TokenInfo._fromProtobuf(lib.TokenInfo.decode(t))}toBytes(){return lib.TokenInfo.encode(this._toProtobuf()).finish()}}class TokenInfoQuery extends Query{constructor(t={}){super(),this._tokenId=null,null!=t.tokenId&&this.setTokenId(t.tokenId)}static _fromProtobuf(t){const e=t.tokenGetInfo;return new TokenInfoQuery({tokenId:null!=e.token?TokenId._fromProtobuf(e.token):void 0})}get tokenId(){return this._tokenId}setTokenId(t){return this._tokenId="string"==typeof t?TokenId.fromString(t):t.clone(),this}async getCost(t){let e=await super.getCost(t);return e.toTinybars().greaterThan(25)?e:Hbar.fromTinybars(25)}_validateChecksums(t){null!=this._tokenId&&this._tokenId.validateChecksum(t)}_execute(t,e){return t.token.getTokenInfo(e)}_mapResponseHeader(t){return t.tokenGetInfo.header}_mapResponse(t,e,Q){const B=t.tokenGetInfo;return Promise.resolve(TokenInfo._fromProtobuf(B.tokenInfo))}_onMakeRequest(t){return{tokenGetInfo:{header:t,token:null!=this._tokenId?this._tokenId._toProtobuf():null}}}_getLogId(){return`TokenInfoQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("tokenGetInfo",TokenInfoQuery._fromProtobuf);class TokenMintTransaction extends Transaction{constructor(t={}){super(),this._tokenId=null,this._amount=null,this._metadata=[],null!=t.tokenId&&this.setTokenId(t.tokenId),null!=t.amount&&this.setAmount(t.amount),null!=t.metadata&&this.setMetadata(t.metadata)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenMint;return Transaction._fromProtobufTransactions(new TokenMintTransaction({tokenId:null!=F.token?TokenId._fromProtobuf(F.token):void 0,amount:null!=F.amount?F.amount:void 0,metadata:null!=F.metadata?F.metadata:void 0}),t,e,Q,B,s)}get tokenId(){return this._tokenId}setTokenId(t){return this._requireNotFrozen(),this._tokenId="string"==typeof t?TokenId.fromString(t):t.clone(),this}get amount(){return this._amount}setAmount(t){return this._requireNotFrozen(),this._amount=t instanceof long?t:long.fromValue(t),this}_validateChecksums(t){null!=this._tokenId&&this._tokenId.validateChecksum(t)}get metadata(){return this._metadata}addMetadata(t){return this._requireNotFrozen(),"string"==typeof t&&console.warn("Passing a `string` for token metadata is considered a bug, and has been removed. Please provide a `Uint8Array` instead."),this._metadata.push("string"==typeof t?decode$1(t):t),this}setMetadata(t){this._requireNotFrozen();for(const e of t)if("string"==typeof e){console.warn("Passing a `string` for token metadata is considered a bug, and has been removed. Please provide a `Uint8Array` instead.");break}return this._metadata=t.map((t=>"string"==typeof t?decode$1(t):t)),this}_execute(t,e){return t.token.mintToken(e)}_getTransactionDataCase(){return"tokenMint"}_makeTransactionData(){return{amount:this._amount,token:null!=this._tokenId?this._tokenId._toProtobuf():null,metadata:this._metadata}}_getLogId(){return`TokenMintTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenMint",TokenMintTransaction._fromProtobuf);class TokenNftInfo{constructor(t){this.nftId=t.nftId,this.accountId=t.accountId,this.creationTime=t.creationTime,this.metadata=t.metadata,this.ledgerId=t.ledgerId,Object.freeze(this)}static _fromProtobuf(t){return new TokenNftInfo({nftId:NftId._fromProtobuf(t.nftID),accountId:AccountId._fromProtobuf(t.accountID),creationTime:Timestamp._fromProtobuf(t.creationTime),metadata:void 0!==t.metadata?t.metadata:null,ledgerId:null!=t.ledgerId?LedgerId.fromBytes(t.ledgerId):null})}_toProtobuf(){return{nftID:this.nftId._toProtobuf(),accountID:this.accountId._toProtobuf(),creationTime:this.creationTime._toProtobuf(),metadata:this.metadata,ledgerId:null!=this.ledgerId?this.ledgerId.toBytes():null}}toJson(){return{nftId:this.nftId.toString(),accountId:this.accountId.toString(),creationTime:this.creationTime.toString(),metadata:null!=this.metadata?encode$1(this.metadata):null,ledgerId:null!=this.ledgerId?this.ledgerId.toString():null}}toString(){return JSON.stringify(this.toJson())}}class TokenNftInfoQuery extends Query{constructor(t={}){super(),this._nftId=null,null!=t.nftId&&this.setNftId(t.nftId),this._accountId=null,null!=t.accountId&&this.setAccountId(t.accountId),this._tokenId=null,null!=t.tokenId&&this.setTokenId(t.tokenId),this._start=null,null!=t.start&&this.setStart(t.start),this._end=null,null!=t.end&&this.setEnd(t.end)}static _fromProtobuf(t){if(null!=t.tokenGetNftInfo){const e=t.tokenGetNftInfo;return new TokenNftInfoQuery({nftId:null!=e.nftID?NftId._fromProtobuf(e.nftID):void 0})}if(null!=t.tokenGetAccountNftInfos){const e=t.tokenGetAccountNftInfos;return new TokenNftInfoQuery({accountId:null!=e.accountID?AccountId._fromProtobuf(e.accountID):void 0,start:null!=e.start?e.start:void 0,end:null!=e.end?e.end:void 0})}{const e=t.tokenGetNftInfos;return new TokenNftInfoQuery({tokenId:null!=e.tokenID?TokenId._fromProtobuf(e.tokenID):void 0,start:null!=e.start?e.start:void 0,end:null!=e.end?e.end:void 0})}}get nftId(){return this._nftId}setNftId(t){return this._nftId="string"==typeof t?NftId.fromString(t):NftId._fromProtobuf(t._toProtobuf()),this}get accountId(){return console.warn("`TokenNftInfoQuery.accountId` is deprecated with no replacement"),this._accountId}setAccountId(t){return console.warn("`TokenNftInfoQuery.setAccountId()` is deprecated with no replacement"),this._accountId="string"==typeof t?AccountId.fromString(t):AccountId._fromProtobuf(t._toProtobuf()),this}get tokenId(){return console.warn("`TokenNftInfoQuery.tokenId` is deprecated with no replacement"),this._tokenId}setTokenId(t){return console.warn("`TokenNftInfoQuery.setTokenId()` is deprecated with no replacement"),this._tokenId="string"==typeof t?TokenId.fromString(t):TokenId._fromProtobuf(t._toProtobuf()),this}get start(){return console.warn("`TokenNftInfoQuery.start` is deprecated with no replacement"),this._start}setStart(t){return console.warn("`TokenNftInfoQuery.setStart()` is deprecated with no replacement"),this._start="number"==typeof t?long.fromNumber(t):t,this}get end(){return console.warn("`TokenNftInfoQuery.end` is deprecated with no replacement"),this._end}setEnd(t){return console.warn("`TokenNftInfoQuery.setEnd()` is deprecated with no replacement"),this._end="number"==typeof t?long.fromNumber(t):t,this}async getCost(t){let e=await super.getCost(t);return e.toTinybars().greaterThan(25)?e:Hbar.fromTinybars(25)}_execute(t,e){return t.token.getTokenNftInfo(e)}_mapResponseHeader(t){return t.tokenGetNftInfo.header}_mapResponse(t,e,Q){const B=[t.tokenGetNftInfo.nft];return Promise.resolve(B.map((t=>TokenNftInfo._fromProtobuf(t))))}_onMakeRequest(t){return{tokenGetNftInfo:{header:t,nftID:null!=this._nftId?this._nftId._toProtobuf():null}}}_getLogId(){return`TokenNftInfoQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("tokenGetNftInfo",TokenNftInfoQuery._fromProtobuf);class TokenPauseTransaction extends Transaction{constructor(t={}){super(),this._tokenId=null,null!=t.tokenId&&this.setTokenId(t.tokenId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenPause;return Transaction._fromProtobufTransactions(new TokenPauseTransaction({tokenId:null!=F.token?TokenId._fromProtobuf(F.token):void 0}),t,e,Q,B,s)}get tokenId(){return this._tokenId}setTokenId(t){return this._requireNotFrozen(),this._tokenId="string"==typeof t?TokenId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._tokenId&&this._tokenId.validateChecksum(t)}_execute(t,e){return t.token.pauseToken(e)}_getTransactionDataCase(){return"tokenPause"}_makeTransactionData(){return{token:null!=this._tokenId?this._tokenId._toProtobuf():null}}_getLogId(){return`TokenPauseTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenPause",TokenPauseTransaction._fromProtobuf);class TokenRevokeKycTransaction extends Transaction{constructor(t={}){super(),this._tokenId=null,this._accountId=null,null!=t.tokenId&&this.setTokenId(t.tokenId),null!=t.accountId&&this.setAccountId(t.accountId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenRevokeKyc;return Transaction._fromProtobufTransactions(new TokenRevokeKycTransaction({tokenId:null!=F.token?TokenId._fromProtobuf(F.token):void 0,accountId:null!=F.account?AccountId._fromProtobuf(F.account):void 0}),t,e,Q,B,s)}get tokenId(){return this._tokenId}setTokenId(t){return this._requireNotFrozen(),this._tokenId="string"==typeof t?TokenId.fromString(t):t.clone(),this}get accountId(){return this._accountId}setAccountId(t){return this._requireNotFrozen(),this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._tokenId&&this._tokenId.validateChecksum(t),null!=this._accountId&&this._accountId.validateChecksum(t)}_execute(t,e){return t.token.revokeKycFromTokenAccount(e)}_getTransactionDataCase(){return"tokenRevokeKyc"}_makeTransactionData(){return{token:null!=this._tokenId?this._tokenId._toProtobuf():null,account:null!=this._accountId?this._accountId._toProtobuf():null}}_getLogId(){return`TokenRevokeKycTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenRevokeKyc",TokenRevokeKycTransaction._fromProtobuf);class TokenUnfreezeTransaction extends Transaction{constructor(t={}){super(),this._tokenId=null,this._accountId=null,null!=t.tokenId&&this.setTokenId(t.tokenId),null!=t.accountId&&this.setAccountId(t.accountId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenUnfreeze;return Transaction._fromProtobufTransactions(new TokenUnfreezeTransaction({tokenId:null!=F.token?TokenId._fromProtobuf(F.token):void 0,accountId:null!=F.account?AccountId._fromProtobuf(F.account):void 0}),t,e,Q,B,s)}get tokenId(){return this._tokenId}setTokenId(t){return this._requireNotFrozen(),this._tokenId="string"==typeof t?TokenId.fromString(t):t.clone(),this}get accountId(){return this._accountId}setAccountId(t){return this._requireNotFrozen(),this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._tokenId&&this._tokenId.validateChecksum(t),null!=this._accountId&&this._accountId.validateChecksum(t)}_execute(t,e){return t.token.unfreezeTokenAccount(e)}_getTransactionDataCase(){return"tokenUnfreeze"}_makeTransactionData(){return{token:null!=this._tokenId?this._tokenId._toProtobuf():null,account:null!=this._accountId?this._accountId._toProtobuf():null}}_getLogId(){return`TokenUnfreezeTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenUnfreeze",TokenUnfreezeTransaction._fromProtobuf);class TokenUnpauseTransaction extends Transaction{constructor(t={}){super(),this._tokenId=null,null!=t.tokenId&&this.setTokenId(t.tokenId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenUnpause;return Transaction._fromProtobufTransactions(new TokenUnpauseTransaction({tokenId:null!=F.token?TokenId._fromProtobuf(F.token):void 0}),t,e,Q,B,s)}get tokenId(){return this._tokenId}setTokenId(t){return this._requireNotFrozen(),this._tokenId="string"==typeof t?TokenId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._tokenId&&this._tokenId.validateChecksum(t)}_execute(t,e){return t.token.unpauseToken(e)}_getTransactionDataCase(){return"tokenUnpause"}_makeTransactionData(){return{token:null!=this._tokenId?this._tokenId._toProtobuf():null}}_getLogId(){return`TokenUnpauseTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenUnpause",TokenUnpauseTransaction._fromProtobuf);class TokenUpdateTransaction extends Transaction{constructor(t={}){super(),this._tokenId=null,this._tokenName=null,this._tokenSymbol=null,this._treasuryAccountId=null,this._adminKey=null,this._kycKey=null,this._freezeKey=null,this._wipeKey=null,this._supplyKey=null,this._autoRenewAccountId=null,this._expirationTime=null,this._autoRenewPeriod=null,this._tokenMemo=null,this._feeScheduleKey=null,this._pauseKey=null,null!=t.tokenId&&this.setTokenId(t.tokenId),null!=t.tokenName&&this.setTokenName(t.tokenName),null!=t.tokenSymbol&&this.setTokenSymbol(t.tokenSymbol),null!=t.treasuryAccountId&&this.setTreasuryAccountId(t.treasuryAccountId),null!=t.adminKey&&this.setAdminKey(t.adminKey),null!=t.kycKey&&this.setKycKey(t.kycKey),null!=t.freezeKey&&this.setFreezeKey(t.freezeKey),null!=t.wipeKey&&this.setWipeKey(t.wipeKey),null!=t.supplyKey&&this.setSupplyKey(t.supplyKey),null!=t.autoRenewAccountId&&this.setAutoRenewAccountId(t.autoRenewAccountId),null!=t.expirationTime&&this.setExpirationTime(t.expirationTime),null!=t.autoRenewPeriod&&this.setAutoRenewPeriod(t.autoRenewPeriod),null!=t.tokenMemo&&this.setTokenMemo(t.tokenMemo),null!=t.feeScheduleKey&&this.setFeeScheduleKey(t.feeScheduleKey),null!=t.pauseKey&&this.setPauseKey(t.pauseKey)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenUpdate;return Transaction._fromProtobufTransactions(new TokenUpdateTransaction({tokenId:null!=F.token?TokenId._fromProtobuf(F.token):void 0,tokenName:null!=F.name?F.name:void 0,tokenSymbol:null!=F.symbol?F.symbol:void 0,treasuryAccountId:null!=F.treasury?AccountId._fromProtobuf(F.treasury):void 0,adminKey:null!=F.adminKey?Key._fromProtobufKey(F.adminKey):void 0,kycKey:null!=F.kycKey?Key._fromProtobufKey(F.kycKey):void 0,freezeKey:null!=F.freezeKey?Key._fromProtobufKey(F.freezeKey):void 0,wipeKey:null!=F.wipeKey?Key._fromProtobufKey(F.wipeKey):void 0,supplyKey:null!=F.supplyKey?Key._fromProtobufKey(F.supplyKey):void 0,autoRenewAccountId:null!=F.autoRenewAccount?AccountId._fromProtobuf(F.autoRenewAccount):void 0,expirationTime:null!=F.expiry?Timestamp._fromProtobuf(F.expiry):void 0,autoRenewPeriod:null!=F.autoRenewPeriod?Duration._fromProtobuf(F.autoRenewPeriod):void 0,tokenMemo:null!=F.memo&&null!=F.memo.value?F.memo.value:void 0,feeScheduleKey:null!=F.feeScheduleKey?Key._fromProtobufKey(F.feeScheduleKey):void 0}),t,e,Q,B,s)}get tokenId(){return this._tokenId}setTokenId(t){return this._requireNotFrozen(),this._tokenId="string"==typeof t?TokenId.fromString(t):t.clone(),this}get tokenName(){return this._tokenName}setTokenName(t){return this._requireNotFrozen(),this._tokenName=t,this}get tokenSymbol(){return this._tokenSymbol}setTokenSymbol(t){return this._requireNotFrozen(),this._tokenSymbol=t,this}get treasuryAccountId(){return this._treasuryAccountId}setTreasuryAccountId(t){return this._requireNotFrozen(),this._treasuryAccountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}get adminKey(){return this._adminKey}setAdminKey(t){return this._requireNotFrozen(),this._adminKey=t,this}get kycKey(){return this._kycKey}setKycKey(t){return this._requireNotFrozen(),this._kycKey=t,this}get freezeKey(){return this._freezeKey}setFreezeKey(t){return this._requireNotFrozen(),this._freezeKey=t,this}get wipeKey(){return this._wipeKey}setWipeKey(t){return this._requireNotFrozen(),this._wipeKey=t,this}get supplyKey(){return this._supplyKey}setSupplyKey(t){return this._requireNotFrozen(),this._supplyKey=t,this}setsupplyKey(t){return this._requireNotFrozen(),this._supplyKey=t,this}get expirationTime(){return this._expirationTime}setExpirationTime(t){return this._requireNotFrozen(),this._expirationTime=t instanceof Timestamp?t:Timestamp.fromDate(t),this}get autoRenewAccountId(){return this._autoRenewAccountId}setAutoRenewAccountId(t){return this._requireNotFrozen(),this._autoRenewAccountId=t instanceof AccountId?t:AccountId.fromString(t),this}get autoRenewPeriod(){return this._autoRenewPeriod}setAutoRenewPeriod(t){return this._requireNotFrozen(),this._autoRenewPeriod=t instanceof Duration?t:new Duration(t),this}get tokenMemo(){return this._tokenMemo}setTokenMemo(t){return this._requireNotFrozen(),this._tokenMemo=t,this}get feeScheduleKey(){return this._feeScheduleKey}setFeeScheduleKey(t){return this._requireNotFrozen(),this._feeScheduleKey=t,this}get pauseKey(){return this._pauseKey}setPauseKey(t){return this._requireNotFrozen(),this._pauseKey=t,this}clearTokenMemo(){return this._requireNotFrozen(),this._tokenMemo=null,this}_validateChecksums(t){null!=this._tokenId&&this._tokenId.validateChecksum(t),null!=this._treasuryAccountId&&this._treasuryAccountId.validateChecksum(t),null!=this._autoRenewAccountId&&this._autoRenewAccountId.validateChecksum(t)}_execute(t,e){return t.token.updateToken(e)}_getTransactionDataCase(){return"tokenUpdate"}_makeTransactionData(){return{token:null!=this._tokenId?this._tokenId._toProtobuf():null,name:this.tokenName,symbol:this.tokenSymbol,treasury:null!=this._treasuryAccountId?this._treasuryAccountId._toProtobuf():null,adminKey:null!=this._adminKey?this._adminKey._toProtobufKey():null,kycKey:null!=this._kycKey?this._kycKey._toProtobufKey():null,freezeKey:null!=this._freezeKey?this._freezeKey._toProtobufKey():null,wipeKey:null!=this._wipeKey?this._wipeKey._toProtobufKey():null,supplyKey:null!=this._supplyKey?this._supplyKey._toProtobufKey():null,autoRenewAccount:null!=this._autoRenewAccountId?this._autoRenewAccountId._toProtobuf():null,expiry:null!=this._expirationTime?this._expirationTime._toProtobuf():null,autoRenewPeriod:null!=this._autoRenewPeriod?this._autoRenewPeriod._toProtobuf():null,memo:null!=this._tokenMemo?{value:this._tokenMemo}:null,feeScheduleKey:null!=this._feeScheduleKey?this._feeScheduleKey._toProtobufKey():null}}_getLogId(){return`TokenUpdateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenUpdate",TokenUpdateTransaction._fromProtobuf);class TokenWipeTransaction extends Transaction{constructor(t={}){super(),this._tokenId=null,this._accountId=null,this._serials=[],this._amount=null,null!=t.tokenId&&this.setTokenId(t.tokenId),null!=t.accountId&&this.setAccountId(t.accountId),null!=t.amount&&this.setAmount(t.amount),null!=t.serials&&this.setSerials(t.serials)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].tokenWipe;return Transaction._fromProtobufTransactions(new TokenWipeTransaction({tokenId:null!=F.token?TokenId._fromProtobuf(F.token):void 0,accountId:null!=F.account?AccountId._fromProtobuf(F.account):void 0,amount:null!=F.amount?F.amount:void 0}),t,e,Q,B,s)}get tokenId(){return this._tokenId}setTokenId(t){return this._requireNotFrozen(),this._tokenId="string"==typeof t?TokenId.fromString(t):t.clone(),this}get accountId(){return this._accountId}setAccountId(t){return this._requireNotFrozen(),this._accountId="string"==typeof t?AccountId.fromString(t):t.clone(),this}get amount(){return this._amount}setAmount(t){return this._requireNotFrozen(),this._amount=t instanceof long?t:long.fromValue(t),this}_validateChecksums(t){null!=this._tokenId&&this._tokenId.validateChecksum(t),null!=this._accountId&&this._accountId.validateChecksum(t)}get serials(){return this._serials}setSerials(t){return this._requireNotFrozen(),this._serials=t.map((t=>"number"==typeof t?long.fromNumber(t):t)),this}_execute(t,e){return t.token.wipeTokenAccount(e)}_getTransactionDataCase(){return"tokenWipe"}_makeTransactionData(){return{amount:this._amount,token:null!=this._tokenId?this._tokenId._toProtobuf():null,account:null!=this._accountId?this._accountId._toProtobuf():null,serialNumbers:this.serials}}_getLogId(){return`TokenWipeTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("tokenWipe",TokenWipeTransaction._fromProtobuf);class TopicCreateTransaction extends Transaction{constructor(t={}){super(),this._adminKey=null,this._submitKey=null,this._autoRenewAccountId=null,this._autoRenewPeriod=new Duration(DEFAULT_AUTO_RENEW_PERIOD),this._topicMemo=null,null!=t.adminKey&&this.setAdminKey(t.adminKey),null!=t.submitKey&&this.setSubmitKey(t.submitKey),null!=t.autoRenewAccountId&&this.setAutoRenewAccountId(t.autoRenewAccountId),null!=t.autoRenewPeriod&&this.setAutoRenewPeriod(t.autoRenewPeriod),null!=t.topicMemo&&this.setTopicMemo(t.topicMemo)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].consensusCreateTopic;return Transaction._fromProtobufTransactions(new TopicCreateTransaction({adminKey:null!=F.adminKey?Key._fromProtobufKey(F.adminKey):void 0,submitKey:null!=F.submitKey?Key._fromProtobufKey(F.submitKey):void 0,autoRenewAccountId:null!=F.autoRenewAccount?AccountId._fromProtobuf(F.autoRenewAccount):void 0,autoRenewPeriod:null!=F.autoRenewPeriod&&null!=F.autoRenewPeriod.seconds?F.autoRenewPeriod.seconds:void 0,topicMemo:null!=F.memo?F.memo:void 0}),t,e,Q,B,s)}get topicMemo(){return this._topicMemo}setTopicMemo(t){return this._requireNotFrozen(),this._topicMemo=t,this}get adminKey(){return this._adminKey}setAdminKey(t){return this._requireNotFrozen(),this._adminKey=t,this}get submitKey(){return this._submitKey}setSubmitKey(t){return this._requireNotFrozen(),this._submitKey=t,this}get autoRenewAccountId(){return this._autoRenewAccountId}setAutoRenewAccountId(t){return this._requireNotFrozen(),this._autoRenewAccountId=t instanceof AccountId?t:AccountId.fromString(t),this}get autoRenewPeriod(){return this._autoRenewPeriod}setAutoRenewPeriod(t){return this._requireNotFrozen(),this._autoRenewPeriod=t instanceof Duration?t:new Duration(t),this}_validateChecksums(t){null!=this._autoRenewAccountId&&this._autoRenewAccountId.validateChecksum(t)}_execute(t,e){return t.consensus.createTopic(e)}_getTransactionDataCase(){return"consensusCreateTopic"}_makeTransactionData(){return{adminKey:null!=this._adminKey?this._adminKey._toProtobufKey():null,submitKey:null!=this._submitKey?this._submitKey._toProtobufKey():null,autoRenewAccount:null!=this._autoRenewAccountId?this._autoRenewAccountId._toProtobuf():null,autoRenewPeriod:this._autoRenewPeriod._toProtobuf(),memo:this._topicMemo}}_getLogId(){return`TopicCreateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("consensusCreateTopic",TopicCreateTransaction._fromProtobuf);class TopicDeleteTransaction extends Transaction{constructor(t={}){super(),this._topicId=null,null!=t.topicId&&this.setTopicId(t.topicId)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].consensusDeleteTopic;return Transaction._fromProtobufTransactions(new TopicDeleteTransaction({topicId:null!=F.topicID?TopicId._fromProtobuf(F.topicID):void 0}),t,e,Q,B,s)}get topicId(){return this._topicId}setTopicId(t){return this._requireNotFrozen(),this._topicId="string"==typeof t?TopicId.fromString(t):t.clone(),this}_validateChecksums(t){null!=this._topicId&&this._topicId.validateChecksum(t)}_execute(t,e){return t.consensus.deleteTopic(e)}_getTransactionDataCase(){return"consensusDeleteTopic"}_makeTransactionData(){return{topicID:null!=this._topicId?this._topicId._toProtobuf():null}}_getLogId(){return`TopicDeleteTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("consensusDeleteTopic",TopicDeleteTransaction._fromProtobuf);class TopicInfo{constructor(t){this.topicId=t.topicId,this.topicMemo=t.topicMemo,this.runningHash=t.runningHash,this.sequenceNumber=t.sequenceNumber,this.expirationTime=t.expirationTime,this.adminKey=t.adminKey,this.submitKey=t.submitKey,this.autoRenewPeriod=t.autoRenewPeriod,this.autoRenewAccountId=t.autoRenewAccountId,this.ledgerId=t.ledgerId,Object.freeze(this)}static _fromProtobuf(t){const e=t.topicInfo;return new TopicInfo({topicId:TopicId._fromProtobuf(t.topicID),topicMemo:null!=e.memo?e.memo:"",runningHash:null!=e.runningHash?e.runningHash:new Uint8Array,sequenceNumber:null!=e.sequenceNumber?e.sequenceNumber instanceof long?e.sequenceNumber:long.fromValue(e.sequenceNumber):long.ZERO,expirationTime:null!=e.expirationTime?Timestamp._fromProtobuf(e.expirationTime):null,adminKey:null!=e.adminKey?Key._fromProtobufKey(e.adminKey):null,submitKey:null!=e.submitKey?Key._fromProtobufKey(e.submitKey):null,autoRenewPeriod:null!=e.autoRenewPeriod?new Duration(e.autoRenewPeriod.seconds):null,autoRenewAccountId:null!=e.autoRenewAccount?AccountId._fromProtobuf(e.autoRenewAccount):null,ledgerId:null!=e.ledgerId?LedgerId.fromBytes(e.ledgerId):null})}_toProtobuf(){return{topicID:this.topicId._toProtobuf(),topicInfo:{memo:this.topicMemo,runningHash:this.runningHash,sequenceNumber:this.sequenceNumber,expirationTime:null!=this.expirationTime?this.expirationTime._toProtobuf():null,adminKey:null!=this.adminKey?this.adminKey._toProtobufKey():null,submitKey:null!=this.submitKey?this.submitKey._toProtobufKey():null,autoRenewPeriod:null!=this.autoRenewPeriod?this.autoRenewPeriod._toProtobuf():null,autoRenewAccount:null!=this.autoRenewAccountId?this.autoRenewAccountId._toProtobuf():null}}}static fromBytes(t){return TopicInfo._fromProtobuf({topicInfo:lib.ConsensusTopicInfo.decode(t)})}toBytes(){return lib.ConsensusTopicInfo.encode(this._toProtobuf().topicInfo).finish()}}class TopicInfoQuery extends Query{constructor(t={}){super(),this._topicId=null,null!=t.topicId&&this.setTopicId(t.topicId)}static _fromProtobuf(t){const e=t.consensusGetTopicInfo;return new TopicInfoQuery({topicId:null!=e.topicID?TopicId._fromProtobuf(e.topicID):void 0})}get topicId(){return this._topicId}setTopicId(t){return this._topicId="string"==typeof t?TopicId.fromString(t):t.clone(),this}async getCost(t){let e=await super.getCost(t);return e.toTinybars().greaterThan(25)?e:Hbar.fromTinybars(25)}_validateChecksums(t){null!=this._topicId&&this._topicId.validateChecksum(t)}_execute(t,e){return t.consensus.getTopicInfo(e)}_mapResponseHeader(t){return t.consensusGetTopicInfo.header}_mapResponse(t,e,Q){return Promise.resolve(TopicInfo._fromProtobuf(t.consensusGetTopicInfo))}_onMakeRequest(t){return{consensusGetTopicInfo:{header:t,topicID:null!=this._topicId?this._topicId._toProtobuf():null}}}_getLogId(){return`TopicInfoQuery:${(null!=this._paymentTransactionId&&null!=this._paymentTransactionId.validStart?this._paymentTransactionId.validStart:this._timestamp).toString()}`}}QUERY_REGISTRY.set("consensusGetTopicInfo",TopicInfoQuery._fromProtobuf);class TopicMessageSubmitTransaction extends Transaction{constructor(t={}){super(),this._topicId=null,null!=t.topicId&&this.setTopicId(t.topicId),this._message=null,null!=t.message&&this.setMessage(t.message),this._maxChunks=20,this._chunkSize=CHUNK_SIZE,null!=t.maxChunks&&this.setMaxChunks(t.maxChunks),null!=t.chunkSize&&this.setChunkSize(t.chunkSize),this._chunkInfo=null}static _fromProtobuf(t,e,Q,B,s){const F=s[0].consensusSubmitMessage;return Transaction._fromProtobufTransactions(new TopicMessageSubmitTransaction({topicId:null!=F.topicID?TopicId._fromProtobuf(F.topicID):void 0,message:null!=F.message?F.message:void 0}),t,e,Q,B,s)}setTransactionId(t){if(this._requireNotFrozen(),null==t.accountId||null==t.validStart)throw new Error("`TopicMessageSubmitTransaction` does not support `TransactionId` built from `nonce`");return this._transactionIds.setList([t]),this}get topicId(){return this._topicId}setTopicId(t){return this._requireNotFrozen(),this._topicId="string"==typeof t?TopicId.fromString(t):t.clone(),this}get message(){return this._message}setMessage(t){return this._requireNotFrozen(),t=requireStringOrUint8Array(t),this._message=t instanceof Uint8Array?t:encode(t),this}get maxChunks(){return this._maxChunks}setMaxChunks(t){return this._requireNotFrozen(),this._maxChunks=t,this}get chunkSize(){return this._chunkSize}setChunkSize(t){return this._chunkSize=t,this}freezeWith(t){if(super.freezeWith(t),null==this._message)return this;const e=Math.floor((this._message.length+(this._chunkSize-1))/this._chunkSize);if(e>this._maxChunks)throw new Error(`Message with size ${this._message.length} too long for ${this._maxChunks} chunks`);const Q=this.transactionId._toProtobuf();let B=this.transactionId;this._transactionIds.locked=!1,this._transactions.clear(),this._transactionIds.clear(),this._signedTransactions.clear();for(let t=0;t<e;t++){this._chunkInfo={initialTransactionID:Q,total:e,number:t+1},this._transactionIds.push(B),this._transactionIds.advance();for(const t of this._nodeAccountIds.list)this._signedTransactions.push(this._makeSignedTransaction(t));B=new TransactionId(B.accountId,new Timestamp(B.validStart.seconds,B.validStart.nanos.add(1)))}return this._transactionIds.advance(),this._chunkInfo=null,this}schedule(){if(this._requireNotFrozen(),null!=this._message&&this._message.length>this._chunkSize)throw new Error(`cannot schedule \`TopicMessageSubmitTransaction\` with message over ${this._chunkSize} bytes`);return super.schedule()}async execute(t,e){return(await this.executeAll(t,e))[0]}async executeAll(t,e){super._isFrozen()||this.freezeWith(t);const Q=this.transactionId,B=t.operatorAccountId;null!=B&&B.equals(Q.accountId)&&await super.signWithOperator(t);const s=[];let F=e;for(let e=0;e<this._transactionIds.length;e++){const e=Date.now();s.push(await super.execute(t,F)),null!=F&&(F=Date.now()-e)}return s}_execute(t,e){return t.consensus.submitMessage(e)}_getTransactionDataCase(){return"consensusSubmitMessage"}_makeTransactionData(){if(null!=this._chunkInfo&&null!=this._message){const t=(this._chunkInfo.number-1)*this._chunkSize;let e=t+this._chunkSize;return e>this._message.length&&(e=this._message.length),{topicID:null!=this._topicId?this._topicId._toProtobuf():null,message:this._message.slice(t,e),chunkInfo:this._chunkInfo}}return{topicID:null!=this._topicId?this._topicId._toProtobuf():null,message:this._message}}_getLogId(){return`TopicMessageSubmitTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("consensusSubmitMessage",TopicMessageSubmitTransaction._fromProtobuf);class TopicUpdateTransaction extends Transaction{constructor(t={}){super(),this._topicId=null,null!=t.topicId&&this.setTopicId(t.topicId),this._topicMemo=null,null!=t.topicMemo&&this.setTopicMemo(t.topicMemo),this._submitKey=null,null!=t.submitKey&&this.setSubmitKey(t.submitKey),this._adminKey=null,null!=t.adminKey&&this.setAdminKey(t.adminKey),this._autoRenewAccountId=null,null!=t.autoRenewAccountId&&this.setAutoRenewAccountId(t.autoRenewAccountId),this._autoRenewPeriod=null,null!=t.autoRenewPeriod&&this.setAutoRenewPeriod(t.autoRenewPeriod)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].consensusUpdateTopic;return Transaction._fromProtobufTransactions(new TopicUpdateTransaction({topicId:null!=F.topicID?TopicId._fromProtobuf(F.topicID):void 0,adminKey:null!=F.adminKey?Key._fromProtobufKey(F.adminKey):void 0,submitKey:null!=F.submitKey?Key._fromProtobufKey(F.submitKey):void 0,autoRenewAccountId:null!=F.autoRenewAccount?AccountId._fromProtobuf(F.autoRenewAccount):void 0,autoRenewPeriod:null!=F.autoRenewPeriod&&null!=F.autoRenewPeriod.seconds?F.autoRenewPeriod.seconds:void 0,topicMemo:null!=F.memo&&null!=F.memo.value?F.memo.value:void 0}),t,e,Q,B,s)}get topicId(){return this._topicId}setTopicId(t){return this._requireNotFrozen(),this._topicId="string"==typeof t?TopicId.fromString(t):t.clone(),this}clearTopicId(){return this._requireNotFrozen(),this._topicId=null,this}get topicMemo(){return this._topicMemo}setTopicMemo(t){return this._requireNotFrozen(),this._topicMemo=t,this}clearTopicMemo(){return this._requireNotFrozen(),this._topicMemo=null,this}get adminKey(){return this._adminKey}setAdminKey(t){return this._requireNotFrozen(),this._adminKey=t,this}clearAdminKey(){return this._requireNotFrozen(),this._adminKey=null,this}get submitKey(){return this._submitKey}setSubmitKey(t){return this._requireNotFrozen(),this._submitKey=t,this}clearSubmitKey(){return this._requireNotFrozen(),this._submitKey=null,this}get autoRenewAccountId(){return this._autoRenewAccountId}setAutoRenewAccountId(t){return this._requireNotFrozen(),this._autoRenewAccountId=t instanceof AccountId?t:AccountId.fromString(t),this}clearAutoRenewAccountId(){return this._requireNotFrozen(),this._autoRenewAccountId=null,this}get autoRenewPeriod(){return this._autoRenewPeriod}setAutoRenewPeriod(t){return this._requireNotFrozen(),this._autoRenewPeriod=t instanceof Duration?t:new Duration(t),this}_validateChecksums(t){null!=this._topicId&&this._topicId.validateChecksum(t),null!=this._autoRenewAccountId&&this._autoRenewAccountId.validateChecksum(t)}_execute(t,e){return t.consensus.updateTopic(e)}_getTransactionDataCase(){return"consensusUpdateTopic"}_makeTransactionData(){return{topicID:null!=this._topicId?this._topicId._toProtobuf():null,adminKey:null!=this._adminKey?this._adminKey._toProtobufKey():null,submitKey:null!=this._submitKey?this._submitKey._toProtobufKey():null,memo:null!=this._topicMemo?{value:this._topicMemo}:null,autoRenewAccount:null!=this._autoRenewAccountId?this._autoRenewAccountId._toProtobuf():null,autoRenewPeriod:null!=this._autoRenewPeriod?this._autoRenewPeriod._toProtobuf():null}}_getLogId(){return`TopicUpdateTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("consensusUpdateTopic",TopicUpdateTransaction._fromProtobuf);class NullableTokenDecimalMap extends ObjectMap{constructor(){super((t=>TokenId.fromString(t)))}}class HbarTransferMap extends ObjectMap{constructor(){super((t=>AccountId.fromString(t)))}static _fromProtobuf(t){const e=new HbarTransferMap;for(const Q of null!=t.accountAmounts?t.accountAmounts:[]){const t=AccountId._fromProtobuf(Q.accountID);e._set(t,Hbar.fromTinybars(Q.amount))}return e}}class TokenNftTransfer{constructor(t){this.tokenId=t.tokenId instanceof TokenId?t.tokenId:TokenId.fromString(t.tokenId),this.senderAccountId=t.senderAccountId instanceof AccountId?t.senderAccountId:AccountId.fromString(t.senderAccountId),this.receiverAccountId=t.receiverAccountId instanceof AccountId?t.receiverAccountId:AccountId.fromString(t.receiverAccountId),this.serialNumber=long.fromValue(t.serialNumber),this.isApproved=t.isApproved}static _fromProtobuf(t){const e=[];for(const Q of t){const t=TokenId._fromProtobuf(Q.token);for(const B of null!=Q.nftTransfers?Q.nftTransfers:[])e.push(new TokenNftTransfer({tokenId:t,senderAccountId:AccountId._fromProtobuf(B.senderAccountID),receiverAccountId:AccountId._fromProtobuf(B.receiverAccountID),serialNumber:null!=B.serialNumber?B.serialNumber:long.ZERO,isApproved:1==B.isApproval}))}return e}_toProtobuf(){return{senderAccountID:this.senderAccountId._toProtobuf(),receiverAccountID:this.receiverAccountId._toProtobuf(),serialNumber:this.serialNumber,isApproval:this.isApproved}}}class TransferTransaction extends Transaction{constructor(t={}){super(),this._tokenTransfers=[],this._hbarTransfers=[],this._nftTransfers=[],this._defaultMaxTransactionFee=new Hbar(1);for(const e of null!=t.tokenTransfers?t.tokenTransfers:[])this.addTokenTransfer(e.tokenId,e.accountId,e.amount);for(const e of null!=t.hbarTransfers?t.hbarTransfers:[])this.addHbarTransfer(e.accountId,e.amount);for(const e of null!=t.nftTransfers?t.nftTransfers:[])this.addNftTransfer(e.tokenId,e.serial,e.sender,e.recipient)}static _fromProtobuf(t,e,Q,B,s){const F=s[0].cryptoTransfer,U=new TransferTransaction;return U._tokenTransfers=TokenTransfer._fromProtobuf(null!=F.tokenTransfers?F.tokenTransfers:[]),U._hbarTransfers=Transfer._fromProtobuf(null!=F.transfers&&null!=F.transfers.accountAmounts?F.transfers.accountAmounts:[]),U._nftTransfers=TokenNftTransfer._fromProtobuf(null!=F.tokenTransfers?F.tokenTransfers:[]),Transaction._fromProtobufTransactions(U,t,e,Q,B,s)}get tokenTransfers(){const t=new TokenTransferMap;for(const e of this._tokenTransfers){let Q=t.get(e.tokenId);null!=Q?Q._set(e.accountId,e.amount):(Q=new TokenTransferAccountMap,Q._set(e.accountId,e.amount),t._set(e.tokenId,Q))}return t}_addTokenTransfer(t,e,Q,B){this._requireNotFrozen();const s=t instanceof TokenId?t:TokenId.fromString(t),F=e instanceof AccountId?e:AccountId.fromString(e),U=Q instanceof long?Q:long.fromNumber(Q);for(const t of this._tokenTransfers)if(0===t.tokenId.compare(s)&&0===t.accountId.compare(F))return t.amount=t.amount.add(U),t.expectedDecimals=null,this;return this._tokenTransfers.push(new TokenTransfer({tokenId:t,accountId:e,expectedDecimals:null,amount:Q,isApproved:B})),this}addTokenTransfer(t,e,Q){return this._addTokenTransfer(t,e,Q,!1)}addApprovedTokenTransfer(t,e,Q){return this._addTokenTransfer(t,e,Q,!0)}addTokenTransferWithDecimals(t,e,Q,B){this._requireNotFrozen();const s=t instanceof TokenId?t:TokenId.fromString(t),F=e instanceof AccountId?e:AccountId.fromString(e),U=Q instanceof long?Q:long.fromNumber(Q);let n=!1;for(const t of this._tokenTransfers)if(0===t.tokenId.compare(s)){if(null!=t.expectedDecimals&&t.expectedDecimals!==B)throw new Error("expected decimals mis-match");t.expectedDecimals=B,0===t.accountId.compare(F)&&(t.amount=t.amount.add(U),t.expectedDecimals=B,n=!0)}return n||this._tokenTransfers.push(new TokenTransfer({tokenId:t,accountId:e,expectedDecimals:B,amount:Q,isApproved:!1})),this}get tokenIdDecimals(){const t=new NullableTokenDecimalMap;for(const e of this._tokenTransfers)t._set(e.tokenId,e.expectedDecimals);return t}get hbarTransfers(){const t=new HbarTransferMap;for(const e of this._hbarTransfers)t._set(e.accountId,e.amount);return t}_addHbarTransfer(t,e,Q){this._requireNotFrozen();const B=t instanceof AccountId?t:AccountId.fromString(t),s=e instanceof Hbar?e:new Hbar(e);for(const t of this._hbarTransfers)if(0===t.accountId.compare(B))return t.amount=Hbar.fromTinybars(t.amount.toTinybars().add(s.toTinybars())),this;return this._hbarTransfers.push(new Transfer({accountId:B,amount:s,isApproved:Q})),this}addHbarTransfer(t,e){return this._addHbarTransfer(t,e,!1)}addApprovedHbarTransfer(t,e){return this._addHbarTransfer(t,e,!0)}_validateChecksums(t){for(const e of this._hbarTransfers)e.accountId.validateChecksum(t);for(const e of this._tokenTransfers)e.tokenId.validateChecksum(t),e.accountId.validateChecksum(t);for(const e of this._nftTransfers)e.tokenId.validateChecksum(t),e.senderAccountId.validateChecksum(t),e.receiverAccountId.validateChecksum(t)}get nftTransfers(){const t=new TokenNftTransferMap;for(const e of this._nftTransfers){const Q=t.get(e.tokenId),B={sender:e.senderAccountId,recipient:e.receiverAccountId,serial:e.serialNumber,isApproved:e.isApproved};null!=Q?Q.push(B):t._set(e.tokenId,[B])}return t}_addNftTransfer(t,e,Q,B,s){let F,U,n;if(this._requireNotFrozen(),e instanceof NftId)F=e,U="string"==typeof Q?AccountId.fromString(Q):Q,n="string"==typeof B?AccountId.fromString(B):B;else if(e instanceof TokenId)F=new NftId(e,Q),U="string"==typeof B?AccountId.fromString(B):B,n="string"==typeof s?AccountId.fromString(s):s;else try{F=NftId.fromString(e),U="string"==typeof Q?AccountId.fromString(Q):Q,n="string"==typeof B?AccountId.fromString(B):B}catch(t){const c=TokenId.fromString(e);F=new NftId(c,Q),U="string"==typeof B?AccountId.fromString(B):B,n="string"==typeof s?AccountId.fromString(s):s}for(const t of this._nftTransfers)if(0===t.tokenId.compare(F.tokenId)&&0===t.serialNumber.compare(F.serial))return t.senderAccountId=U,t.receiverAccountId=n,this;return this._nftTransfers.push(new TokenNftTransfer({tokenId:F.tokenId,serialNumber:F.serial,senderAccountId:U,receiverAccountId:n,isApproved:t})),this}addNftTransfer(t,e,Q,B){return this._addNftTransfer(!1,t,e,Q,B)}addApprovedNftTransfer(t,e,Q,B){return this._addNftTransfer(!0,t,e,Q,B)}setHbarTransferApproval(t,e){const Q="string"==typeof t?AccountId.fromString(t):t;for(const t of this._hbarTransfers)0===t.accountId.compare(Q)&&(t.isApproved=e);return this}setTokenTransferApproval(t,e,Q){const B="string"==typeof t?TokenId.fromString(t):t,s="string"==typeof e?AccountId.fromString(e):e;for(const t of this._tokenTransfers)0===t.tokenId.compare(B)&&0===t.accountId.compare(s)&&(t.isApproved=Q);return this}setNftTransferApproval(t,e){const Q="string"==typeof t?NftId.fromString(t):t;for(const t of this._nftTransfers)0===t.tokenId.compare(Q.tokenId)&&0===t.serialNumber.compare(Q.serial)&&(t.isApproved=e);return this}_execute(t,e){return t.crypto.cryptoTransfer(e)}_getTransactionDataCase(){return"cryptoTransfer"}_makeTransactionData(){const t=[];this._tokenTransfers.sort(((t,e)=>{const Q=t.tokenId.compare(e.tokenId);return 0!==Q?Q:t.accountId.compare(e.accountId)})),this._nftTransfers.sort(((t,e)=>{const Q=t.senderAccountId.compare(e.senderAccountId);if(0!=Q)return Q;const B=t.receiverAccountId.compare(e.receiverAccountId);return 0!=B?B:t.serialNumber.compare(e.serialNumber)}));let e=0,Q=0;for(;e<this._tokenTransfers.length||Q<this._nftTransfers.length;)if(e<this._tokenTransfers.length&&Q<this._nftTransfers.length){const B=this._tokenTransfers[e].tokenId,s=this._nftTransfers[Q].tokenId,F=t.length>0?t[t.length-1]:null,U=null!=F?F.tokenId:null;if(null!=F&&null!=U&&0===U.compare(B)){F.transfers.push(this._tokenTransfers[e++]);continue}if(null!=F&&null!=U&&0===U.compare(s)){F.nftTransfers.push(this._nftTransfers[Q++]);continue}const n=B.compare(s);0===n?t.push({tokenId:B,expectedDecimals:this._tokenTransfers[e].expectedDecimals,transfers:[this._tokenTransfers[e++]],nftTransfers:[this._nftTransfers[Q++]]}):n<=0?t.push({tokenId:B,expectedDecimals:this._tokenTransfers[e].expectedDecimals,transfers:[this._tokenTransfers[e++]],nftTransfers:[]}):t.push({tokenId:B,expectedDecimals:null,transfers:[],nftTransfers:[this._nftTransfers[Q++]]})}else if(e<this._tokenTransfers.length){const Q=this._tokenTransfers[e].tokenId,B=t.length>0?t[t.length-1]:null,s=null!=B?B.tokenId:null;if(null!=B&&null!=s&&0===s.compare(Q)){B.transfers.push(this._tokenTransfers[e++]);continue}t.push({tokenId:Q,expectedDecimals:this._tokenTransfers[e].expectedDecimals,transfers:[this._tokenTransfers[e++]],nftTransfers:[]})}else if(Q<this._nftTransfers.length){const e=this._nftTransfers[Q].tokenId,B=t.length>0?t[t.length-1]:null,s=null!=B?B.tokenId:null;if(null!=B&&null!=s&&0===s.compare(e)){B.nftTransfers.push(this._nftTransfers[Q++]);continue}t.push({tokenId:e,expectedDecimals:null,transfers:[],nftTransfers:[this._nftTransfers[Q++]]})}return this._hbarTransfers.sort(((t,e)=>t.accountId.compare(e.accountId))),{transfers:{accountAmounts:this._hbarTransfers.map((t=>({accountID:t.accountId._toProtobuf(),amount:t.amount.toTinybars(),isApproval:t.isApproved})))},tokenTransfers:t.map((t=>({token:t.tokenId._toProtobuf(),expectedDecimals:null!=t.expectedDecimals?{value:t.expectedDecimals}:null,transfers:t.transfers.map((t=>t._toProtobuf())),nftTransfers:t.nftTransfers.map((t=>t._toProtobuf()))})))}}_getLogId(){return`TransferTransaction:${this._transactionIds.current.validStart.toString()}`}}TRANSACTION_REGISTRY.set("cryptoTransfer",TransferTransaction._fromProtobuf);class Signer{constructor(){}getLedgerId(){throw new Error("not implemented")}getAccountId(){throw new Error("not implemented")}getNetwork(){throw new Error("not implemented")}getMirrorNetwork(){throw new Error("not implemented")}sign(t){throw new Error("not implemented")}getAccountBalance(){throw new Error("not implemented")}getAccountInfo(){throw new Error("not implemented")}getAccountRecords(){throw new Error("not implemented")}signTransaction(t){throw new Error("not implemented")}checkTransaction(t){throw new Error("not implemented")}populateTransaction(t){throw new Error("not implemented")}sendRequest(t){throw new Error("not implemented")}}class Wallet extends Signer{constructor(){super()}getProvider(){throw new Error("not implemented")}getAccountKey(){throw new Error("not implemented")}}class Provider{constructor(){}getLedgerId(){throw new Error("not implemented")}getNetwork(){throw new Error("not implemented")}getMirrorNetwork(){throw new Error("not implemented")}getAccountBalance(t){throw new Error("not implemented")}getAccountInfo(t){throw new Error("not implemented")}getAccountRecords(t){throw new Error("not implemented")}getTransactionReceipt(t){throw new Error("not implemented")}waitForReceipt(t){throw new Error("not implemented")}sendRequest(t){throw new Error("not implemented")}}class SignerSignature{constructor(t){this.publicKey=t.publicKey,this.signature=t.signature,this.accountId=t.accountId}}class CostQuery extends Executable{constructor(t){super(),this._query=t,this._grpcDeadline=t._grpcDeadline,this._requestTimeout=t._requestTimeout,this._nodeAccountIds.setList(t._nodeAccountIds.list),this._operator=t._operator,this._header=null}_getTransactionId(){return this._query._getTransactionId()}_getLogId(){return`CostQuery:${this._query._getLogId()}`}async _beforeExecute(t){if(null==t)throw new Error("Cannot do CostQuery without Client");const e=null!=this._operator?this._operator:t._operator;if(null==e)throw new Error("`client` must have an `operator` or an explicit payment transaction must be provided");this._query._nodeAccountIds.isEmpty&&this._query._nodeAccountIds.setList(t._network.getNodeAccountIdsForExecute()),this._header={payment:await _makePaymentTransaction(TransactionId.generate(new AccountId(0)),new AccountId(0),e,new Hbar(0)),responseType:lib.ResponseType.COST_ANSWER}}_makeRequestAsync(){return Promise.resolve(this._query._onMakeRequest(this._header))}_shouldRetry(t,e){return this._query._shouldRetry(t,e)}_mapStatusError(t,e){return this._query._mapStatusError(t,e)}_mapResponse(t,e,Q){const B=this._query._mapResponseHeader(t).cost;return Promise.resolve(Hbar.fromTinybars(B))}_execute(t,e){return this._query._execute(t,e)}_getNodeAccountId(){if(this._nodeAccountIds.isEmpty)throw new Error("(BUG) nodeAccountIds were not set for query before executing");return this._nodeAccountIds.list[this._nextNodeAccountIdIndex]}}COST_QUERY.push((t=>new CostQuery(t)));const HOST_AND_PORT=/^(\S+):(\d+)$/;class ManagedNodeAddress{constructor(t={}){if(null!=t.address){const e=HOST_AND_PORT.exec(t.address);if(null==e)throw new Error(`failed to parse address: ${t.address}`);this._address=e[1],this._port=null!=e[2]?parseInt(e[2]):null}else{if(null==t.host||null==t.port)throw new Error(`failed to create a managed node address: ${JSON.stringify(t)}`);this._address=t.host,this._port=t.port}Object.freeze(this)}static fromString(t){return new ManagedNodeAddress({address:t})}toInsecure(){let t=this.port;switch(this.port){case 50212:t=50211;break;case 443:t=5600}return new ManagedNodeAddress({host:this.address,port:t})}toSecure(){let t=this.port;switch(this.port){case 50211:t=50212;break;case 5600:t=443}return new ManagedNodeAddress({host:this.address,port:t})}get address(){return this._address}get port(){return this._port}isTransportSecurity(){return 50212==this._port||443==this._port}toString(){return null==this.port?this.address:`${this.address}:${this.port}`}}class ManagedNode{constructor(t={}){if(null!=t.newNode)this._address="string"==typeof t.newNode.address?ManagedNodeAddress.fromString(t.newNode.address):t.newNode.address,this._cert=void 0,this._channel=null,this._channelInitFunction=t.newNode.channelInitFunction,this._lastUsed=Date.now(),this._backoffUntil=Date.now(),this._useCount=0,this._badGrpcStatusCount=0,this._minBackoff=8e3,this._maxBackoff=36e5,this._currentBackoff=this._minBackoff;else{if(null==t.cloneNode)throw new Error(`failed to create ManagedNode: ${JSON.stringify(t)}`);this._address=t.cloneNode.address,this._cert=t.cloneNode.node._cert,this._channel=t.cloneNode.node._channel,this._channelInitFunction=t.cloneNode.node._channelInitFunction,this._currentBackoff=t.cloneNode.node._currentBackoff,this._lastUsed=t.cloneNode.node._lastUsed,this._backoffUntil=t.cloneNode.node._backoffUntil,this._useCount=t.cloneNode.node._useCount,this._badGrpcStatusCount=t.cloneNode.node._badGrpcStatusCount,this._minBackoff=t.cloneNode.node._minBackoff,this._maxBackoff=t.cloneNode.node._minBackoff}}getKey(){throw new Error("not implemented")}toInsecure(){throw new Error("not implemented")}toSecure(){throw new Error("not implemented")}setCert(t){return this}get address(){return this._address}get attempts(){return this._badGrpcStatusCount}get minBackoff(){return this._minBackoff}setMinBackoff(t){return this._currentBackoff<=t&&(this._currentBackoff=t),this._minBackoff=t,this}get maxBackoff(){return this._maxBackoff}setMaxBackoff(t){return this._currentBackoff<=t&&(this._currentBackoff=t),this._maxBackoff=t,this}getChannel(){return this._useCount++,this.__lastUsed=Date.now(),null!=this._channel||(this._channel=this._channelInitFunction(this.address.toString(),this._cert)),this._channel}isHealthy(){return this._backoffUntil<=Date.now()}increaseDelay(){this._currentBackoff=Math.min(2*this._currentBackoff,this._maxBackoff),this._backoffUntil=Date.now()+this._currentBackoff}decreaseDelay(){this._currentBackoff=Math.max(this._currentBackoff/2,this._minBackoff)}getRemainingTime(){return this._backoffUntil-this._lastUsed}wait(){return new Promise((t=>setTimeout(t,this.getRemainingTime())))}compare(t){let e=this.getRemainingTime()-t.getRemainingTime();return 0!=e?e:(e=this._currentBackoff-t._currentBackoff,0!=e?e:(e=this._badGrpcStatusCount-t._badGrpcStatusCount,0!=e?e:(e=this._useCount-t._useCount,0!=e?e:this._lastUsed-t._lastUsed)))}close(){null!=this._channel&&this._channel.close(),this._channel=null}}const PREVIEWNET_CERTS={"0.0.3":"-----BEGIN CERTIFICATE-----\nMIICnzCCAiWgAwIBAgIUenyqJ4UaFBbwokatcUqAwW3o3rswCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDAxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjIyMTU4WhgPMjI5NTA2MDcyMjIxNThaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDAwMR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEm5b1+oG9R0qt\nzM7UZnS5l/xxUNHIHq5+NAvtlviCpJL19jrW9+/UOy00Qqc6vS6tS1hS+dNJmpiZ\nFN0EHew4VDR7ACnL4LDJKmIHWjQ0iwvZo5kCpO0r9BtPN5FvaSxyo1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUeciBviJtjeuue0GPf1xllNw7qvYwCgYIKoZIzj0EAwMDaAAwZQIw\nJeG0H2HdsI1VhOYmJmYlNeKCNgAk+LMorzPmsIInVBO2HK2IrKfpReWDS/m5j51V\nAjEAxKBxDezJDqAZHTkTXCg+X9Q9V6J6M5yDy5IS90aCWEo+W8C1Hc6hkn2/NrvT\nPhwK\n-----END CERTIFICATE-----\n","0.0.4":"-----BEGIN CERTIFICATE-----\nMIICnjCCAiWgAwIBAgIUUfjO8LyXBdzrzbAe1Yl+d34IDsIwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDExHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjIyMTU5WhgPMjI5NTA2MDcyMjIxNTlaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDAxMR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAERwfj4ZtD/wRb\nf8h9NEMu2sQoLFK9Gc4SQ8o6j4ccLYGdgOoVoq4zzy4Jr7ZtCTuACfCfhp7wy8ra\n+6cugccaSd6AzOKRSVZvQvkUTFKIoAOKwp6IhlU48rmi80MT07eyo1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUCGhfVMP72Y0G5XUksE3dPgFHrzkwCgYIKoZIzj0EAwMDZwAwZAIw\ncpX7irZWyuujWRYUs9kLNgB2YLQK+n8r1fH+tJg3+zkcZ2pzhGWmpUUZWOzsDqGC\nAjBUbhlmrTc4LrEBN0EMiRYzfPD2kBZxusLBDIg/aDYERCMcsFvF1T9SsuasF/B+\ncI8=\n-----END CERTIFICATE-----\n","0.0.5":"-----BEGIN CERTIFICATE-----\nMIICnjCCAiWgAwIBAgIUIo4L+7xe/mUmpKy4qOAQEIxz8UMwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDIxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjIyMTU5WhgPMjI5NTA2MDcyMjIxNTlaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDAyMR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEoFgCjb1/7BUJ\nEXKIPJLlsOSp/39G8l92wOSr7h+Py7iwVwu68H2ykftMOq3tRwDRXZHz7ViqcIZ9\nlfMcS8sbRtVm9tBbNciVUqTLWX9nHr/c4PhKEi+LdgtSUr2+hHiWo1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUMR89BHC3yKC4YwUgyBVQUGBCprQwCgYIKoZIzj0EAwMDZwAwZAIw\nUs2BdslcScIwcmxoB60K7/1BPfQI8ccDZIMosas6U2zhinTnRKik1T0i+uHhLl8e\nAjA5apAwSPTnP7j3Bo/FOCkfjTqOjwp2lUqzDJYKolKsHX2sy8hX9MkYiY46SaJ1\nP+0=\n-----END CERTIFICATE-----\n","0.0.6":"-----BEGIN CERTIFICATE-----\nMIICnzCCAiWgAwIBAgIUWpji03mJsR/16MP8BrOfpNz7aQMwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDMxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjIyMTU5WhgPMjI5NTA2MDcyMjIxNTlaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDAzMR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAE+KDMC99Q1rWi\n+FwlytGMS5qzTDytCvk+PzdONnDZ/weNSv4j3BXSo588IwhIxLtfcBlyo/+PmE1c\n5qGFXuMoZjGr22VpvogkRgPejD+Gawb4A2XHkMCD8NmO66uPw97po1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUN1qEI4eQ+WHavb9ypGV417NvhGowCgYIKoZIzj0EAwMDaAAwZQIw\nL0khkiDOiFRa3wx9l5JNjaSRePPc3ZaTaJQkPYeauMaLWEvmC/0e2/e9gPm5qJ8E\nAjEAgXQMko3vNB8VRN4XjyFJa8p/muZ/tLA15wPnb/boUmiZ+njDDSaiu8tIQrTB\ngHW6\n-----END CERTIFICATE-----\n","0.0.7":"-----BEGIN CERTIFICATE-----\nMIICnjCCAiWgAwIBAgIUEJ7AJvrqDUBNKbssGoJtww3v+WowCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDQxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjIyMjAwWhgPMjI5NTA2MDcyMjIyMDBaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDA0MR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEfgJ8w9GUWM3y\nyusedZOFQrgXFVsdtRsMSHbqyVCN6+Wow6SIjy29GRMSP5R2aswupFgh6lXJRqnr\ntY+hpRumFKsmSo+5+l8DBcql4rzs4utESTehM+Cq9LYc4A1z0UIRo1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUMCm3UqSbT01Zr23hLzCGnXbDa+MwCgYIKoZIzj0EAwMDZwAwZAIw\nFNcN7mKJo/bwpRT+y/KbYkCJsvljdbXzJOXXQ3e6J6R+0vLqcT25J/ry6pBZMUwR\nAjAswu29z8KJCSxnWwnPpHDmkRT15zG/xS+pAmx3oeQSqp6ZD7qpdJE8zzhbfe5x\nwAc=\n-----END CERTIFICATE-----\n"},TESTNET_CERTS={"0.0.3":"-----BEGIN CERTIFICATE-----\nMIICoDCCAiWgAwIBAgIUMkNeM6Sbk9ZFYmRWZmSgTQHHWyUwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDAxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjIyMjU4WhgPMjI5NTA2MDcyMjIyNThaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDAwMR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAETLLoIMZjEhDP\nKLHS7bJT4OTYGgR/8mB65yfx3KqMLYFF+q2SpWkIrYgUQLVEUEibVSnLlxRUzH7R\nszcKynpTwh0W0yfWanZKQg+RWoKkEYlu2GvkUtJb8cRVM9NLmJUeo1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUSrIepwFx8gZ8/G+WGaxs6GgkMtQwCgYIKoZIzj0EAwMDaQAwZgIx\nAJxC0fjB1OrF9vkCKsfnPS3Z+1hscrZhEDG38NxdLEAfPQ5VmyrSBgJy11FBp8yB\n0QIxAKzbge3Lf7iBMwYwm+2M/GiVgmHNMLdtrYuerWpdbYOHgRNAkyt57JoThn0u\nTzkd5Q==\n-----END CERTIFICATE-----\n","0.0.4":"-----BEGIN CERTIFICATE-----\nMIICnzCCAiWgAwIBAgIUGLriiLPacglp6U+BtJcF9TI7xEUwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDExHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjIyMjU4WhgPMjI5NTA2MDcyMjIyNThaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDAxMR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEXhR9cb6mH9AE\nGNSGk3OkxN1C/JW49ddYZ/XWD4InjS8D1kXmB1Y39v1mF0L1loG6lDT8Zp46zrj7\n5zMONXZeD2b0mx5hHhtllPTpJ10Tlt9FDoyFbKwPRQ/SAPNADfuzo1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUCaKtx8RZ1XJO9rmZMbIcFJZkcv4wCgYIKoZIzj0EAwMDaAAwZQIx\nAPhDW0VrNSmq8hODdhIVV4GyvpYhp3Fksg+sZr3DmUatwn+ptj+X+9IzgPl9QYE3\nkAIwcy2ixgNkjC/DYVmgT4MpUnLneLK0gA23Vj2QwACaTH99H/ybqUH7srj0POB9\n5wvV\n-----END CERTIFICATE-----\n","0.0.5":"-----BEGIN CERTIFICATE-----\nMIICoDCCAiWgAwIBAgIUEMduome38hvAuIKoGjg/tHatQZMwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDIxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjIyMjU4WhgPMjI5NTA2MDcyMjIyNThaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDAyMR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEl1olzP1L4WgX\nd7aujOXmTQZt3tEOGzkMa3S6qJwISLBI7Tb9KaW8zYIe9xWBVAwphCbD0wn9xpPV\nwMr4uTn+JocugYBbe2YoUGzWTkxWnOEKXbh/nQJCe3XE/C0FY8fAo1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQULfw7LVtTiUDVIvZwhhWW0soQtSQwCgYIKoZIzj0EAwMDaQAwZgIx\nAID5v3Lo2zlnpFzTdJFqBpw6fV+vmpI+JBj61f264J/uHMbELiu2dwxhwWaMElX7\nwQIxAJxccFr7Bf1KjaMyT2dq75zQzFuKDMj9x92yAqM2Gas/Yay+Ccpm8FBn7BFl\nke1Qwg==\n-----END CERTIFICATE-----\n","0.0.6":"-----BEGIN CERTIFICATE-----\nMIICnzCCAiWgAwIBAgIUcCg/gZGxk/UjYkhW1jg4Zki+jfwwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDMxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjIyMjU5WhgPMjI5NTA2MDcyMjIyNTlaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDAzMR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEOSsXBZicyrxy\ntHJHKh04Mvu6SKM49IC7rAXw5CjlOod5OTeHg0fa5vVoBME4mlWP+LsMMqf8welC\n20b4wMwUC1Hnd66v8crX8L1wvZ9EmKLTvhTd65bS5zloMiSbpdF2o1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUgMMwqaGuUT6JCH0gsbqullaW6/QwCgYIKoZIzj0EAwMDaAAwZQIx\nAMggJ1eMmT7C14z7wHCsOdDOgmzg733+a5dsuAcxknoz/sQLN8wqy1JxShWgEIA/\nxwIweTDAX/4JZnr3mlSC57lYXbHk/c319VfN9Ybxg0FaDXa8tOqg7Ml6Uu3IGujQ\na3eY\n-----END CERTIFICATE-----\n","0.0.7":"-----BEGIN CERTIFICATE-----\nMIICoDCCAiWgAwIBAgIUXADwhiD5acpA66GPoXuAevBfZBIwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDQxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjIyMjU5WhgPMjI5NTA2MDcyMjIyNTlaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDA0MR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEBgLhLiGz8qWu\n50vzxSyQkrmhpxuHBJhpGzA0WaUJdAUlaUOL1753ZxxA08wUmcozILNEnMaQ+ROn\n+fuGctv90ZcrSekODjxjbKH2ntVLP8xwkBRCTJ0WRBNenxxBD438o1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUhYOOD/z3ty9O5GuSTXnyujIqBRgwCgYIKoZIzj0EAwMDaQAwZgIx\nAMxbZ4gvkXaORauQFUPRYwOJrihWIA+3ttGDua//YfEbshytQ8b4L65W/1Xs8eOd\nDwIxAImwTzRam8tScdOzmuGgPcML2lkETMpMA2rZYVyEL/VNktIxvB2oE+4M0v5l\nr8IbTA==\n-----END CERTIFICATE-----\n"},MAINNET_CERTS={"0.0.3":"-----BEGIN CERTIFICATE-----\nMIICnjCCAiWgAwIBAgIUZWoT9TlgbZy+syLbqZhO5++1cVgwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDAxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjI0MjQ3WhgPMjI5NTA2MDcyMjQyNDdaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDAwMR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAE8NhDGK/dgWvD\nRHEJ8af7CBDdhvujH5XIrLen33GTLY8DbJwJW2jdsLGx3+DRVVmeNQZxCbcGj0e2\nIyypkG6s0mtnmeymD8mI3JU8m1aZiuIptZSH3Bw1BNn2hKU4x42co1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUbYGliiNtMkGaroQxXWCl+kYHDBwwCgYIKoZIzj0EAwMDZwAwZAIw\nImTOEYu0y73Ggt4NAjFFsN2sV7CsEL3NoJqJ7MZ6U+b3Ax1hnc1eE0oei6xH4VNF\nAjBB4iZNvAn6Esiu4k+JPlYuMesplgMv33fU5GsfvLIovN8pOJDe0c+CUmsnfGbP\nOsQ=\n-----END CERTIFICATE-----\n","0.0.4":"-----BEGIN CERTIFICATE-----\nMIICnjCCAiWgAwIBAgIUEGWU0F4aKffY+le55ahQaScDYDwwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDExHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjI0MjQ3WhgPMjI5NTA2MDcyMjQyNDdaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDAxMR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEqW6TqxMmjL3h\n9AVBgfVaFRZlXUcyWa+QYhzxr8sksgJqfDbmGtdaHIdiL1qCPuC4v4G3qrAbXZRm\nTYNo5Lz0X2ic5pES6DbacdjOgHH7TAY4BVKkuVrydln2jjhh7SmBo1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUcBlY5a1rV0H1iQuJMwWxrTEWQ6MwCgYIKoZIzj0EAwMDZwAwZAIw\nR+mY9B2U26yD44s03hjz4TlpkyXbVfmgL3Elqo3lrWDJtvT4zpjGjxg3Q1P3SpZQ\nAjAy9DRVrZPzq8iq5Ir7B8XgLQH5QL7SQ3tUL1HzXJYOukvn9Ofr+QADhpb0oJLB\nKug=\n-----END CERTIFICATE-----\n","0.0.5":"-----BEGIN CERTIFICATE-----\nMIICnjCCAiWgAwIBAgIUbxzfD3ihIK5snumqqKtqtcBPSSQwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDIxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjI0MjQ3WhgPMjI5NTA2MDcyMjQyNDdaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDAyMR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEWoAjWmW7vpUr\nU69wRbK9Firons4kRoin6N8lMjCD+xzsrsT6/wycpzC0F8fxfIvOYSMWRtinhOKl\nZAxp60OWYP87iH7RqWBAnHIJZj/znKTGd+8Sqp/RVQmButFHg/+Go1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUTMtwuDzI4Hun7SPp2Nb3scjUUXkwCgYIKoZIzj0EAwMDZwAwZAIw\nHKAgaX39Lgc+4/xHXzZR9mi2p3pf6CDO85Xm56UR/t48HnBkRorR3TFCBXACeIIs\nAjBtXglpDnRf6M+nVBlxLdwCQXiwr6vQJ9+dUo+suNkZ1JBmtHypyIqkG2yT4z9C\nLcs=\n-----END CERTIFICATE-----\n","0.0.6":"-----BEGIN CERTIFICATE-----\nMIICoDCCAiWgAwIBAgIUPwXdJvpCJYO9lm6uQN3S1aBi3PswCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDMxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjI0MjQ4WhgPMjI5NTA2MDcyMjQyNDhaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDAzMR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAE8PwBQ0ywu+0t\neIYbaiKwzGEScQMOYFYAMw49++6bGRiH/XZjsypqlJWy3F/mB3+HNVZsqgB61Jpj\n2p98Afkl57MYWhWM29t/x5qAQ8LhKGu2k+BOnCcvHDU2pR+fmFSOo1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUgI4r3/iwzFN2wh76y/4XDBk7wgkwCgYIKoZIzj0EAwMDaQAwZgIx\nANAjwHdTWYMCCjrtb2NWzDpsKjf3m6ZcaxbEcM1ta/Zji/4x0+VRZa917CkfaEsr\nLAIxAK/erPvIXRU9eNaK/TAQqppSRaF35G6iNnYjQZzfjTU2DczhT4oCjKzGoCHT\nkI1zOg==\n-----END CERTIFICATE-----\n","0.0.7":"-----BEGIN CERTIFICATE-----\nMIICnzCCAiWgAwIBAgIUXUGzJj13Ck2Cp0BKauLOdzgCPwIwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDQxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjI0MjQ4WhgPMjI5NTA2MDcyMjQyNDhaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDA0MR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAE8Ee64Tbu53i/\nKsuLOJG3GQ4e9gQ+9BtEy7U8kfFzRHh6Ejn7LOW38ZdKX1HP4zXuUusjNvytqDvr\n7eclitqnegcEOkIeFK3wQwBoNILuq+r4LRVi19V+AIcl5w3qkJvIo1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQU2tbfu7hd7USgbS2WsG/6BduKEAMwCgYIKoZIzj0EAwMDaAAwZQIw\nRw/BOLoScmU7P/1JnNPsGarmnvcuJrokAv1wk6j8s5LGuQHReX+d+O3RPLggwcAY\nAjEAjoZnt9simul4cVcVy4G/0f39atanUva17gyzlYXEYx7B6UloxLeEcZhlbBf8\nGjRf\n-----END CERTIFICATE-----\n","0.0.8":"","0.0.9":"","0.0.10":"-----BEGIN CERTIFICATE-----\nMIICnzCCAiWgAwIBAgIUNauEDBCmP9igXLWtRpzkQqIGo/wwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDcxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjI0MjQ5WhgPMjI5NTA2MDcyMjQyNDlaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDA3MR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEjbkoJBshQXUy\nqm5K8ldpTDR94Wk8iEM7QwHfceIxK5pPgaVGRkoJyVLSK5LMH4jyaIHUrtA0lIBQ\no0MsYkq7TOOm7+vo1Yrd8EMbu5StMb3gsXUrj7E/SBKIxULak6hCo1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUyKHMzIBPRV/mrgG7tIjzOiw2xbUwCgYIKoZIzj0EAwMDaAAwZQIx\nANsigVtLgTdKWBPVJPstWA0H8yihf0/dmM3GO4qp5keGTWz/O3tnom4iDB6eSrcA\njwIwU82Dh+Wxl3kAD3YJH5VhlfHTm1rPlJETBHZgvPBOYqippao6+WZFEpn2/IDC\nNTjn\n-----END CERTIFICATE-----\n","0.0.11":"-----BEGIN CERTIFICATE-----\nMIICnjCCAiWgAwIBAgIUWtnJm2kswnXYu7/S5BnnTQiDRcUwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDgxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjI0MjUwWhgPMjI5NTA2MDcyMjQyNTBaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDA4MR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEjY9Rl+s00xFV\ntdTpAixLR4kJIGLfSLOdm+ofU/KuKMRSz5x1ORhIicppKZK24U5WLGXQU1fKLvxX\nOmqwqL+6oAONmiHszqVdhWne4QPUba0yw7rf1/OI+IFF1HRK3shQo1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUb/htoTodbq5hjP5RNlQ0rkKwWB0wCgYIKoZIzj0EAwMDZwAwZAIw\nbO+9yArr21XKXjYHPadEAYINDxgXEC3W8e3X6MJsHCIZITddWWOyXRNFhz504vN0\nAjB8aBuhrKcg1b4CrQDZQcosyVPUGIZKkXdQFfbVdivKrGZvqLS+GdPLd3v2MmHY\norA=\n-----END CERTIFICATE-----\n","0.0.12":"-----BEGIN CERTIFICATE-----\nMIICoDCCAiWgAwIBAgIUHBsegV0bKtwpHRoOnnhbK7CTHxMwCgYIKoZIzj0EAwMw\ngYQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExEDAOBgNVBAMMBzAw\nMDAwMDkxHzAdBgkqhkiG9w0BCQEWEGFkbWluQGhlZGVyYS5jb20wIBcNMjEwODIz\nMjI0MjUwWhgPMjI5NTA2MDcyMjQyNTBaMIGEMQswCQYDVQQGEwJVUzELMAkGA1UE\nCAwCVFgxEzARBgNVBAcMClJpY2hhcmRzb24xDzANBgNVBAoMBkhlZGVyYTEPMA0G\nA1UECwwGSGVkZXJhMRAwDgYDVQQDDAcwMDAwMDA5MR8wHQYJKoZIhvcNAQkBFhBh\nZG1pbkBoZWRlcmEuY29tMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEK+ZAs/00RXaj\nbuQJJy4zwr/YTj9h5V+vbY7sq9Z1RByEwTRRQOI3OuzzMq1EWKkVJKF/QF5b4yda\nx6W9O/NT4EjBXH5XR5X1V6h7aT01YBqsxgMxuUP7kw9K+fW4k6Zao1QwUjAPBgNV\nHREECDAGhwR/AAABMAsGA1UdDwQEAwIEsDATBgNVHSUEDDAKBggrBgEFBQcDATAd\nBgNVHQ4EFgQUKbecoYirLjf2O2oPkoggEE2P7FcwCgYIKoZIzj0EAwMDaQAwZgIx\nAP67wsVOkeFo/9QRo+PnZhzEvjOZ/+IUoUhimdljcVwn79tzNP+obf7VW3Oq1wH7\n4wIxAL65+WmMTMoI2cN7TCiL7G/W2ChDsASeHfaP/4e4ZViNONWotlY9i9aS3Kwt\nLTea1Q==\n-----END CERTIFICATE-----\n","0.0.13":"-----BEGIN CERTIFICATE-----\nMIICoDCCAiegAwIBAgIUBNxMZRKru9jzFA8zsOAI4xkMFCMwCgYIKoZIzj0EAwMw\ngYUxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExETAPBgNVBAMMCDAw\nMDAwMDEwMR8wHQYJKoZIhvcNAQkBFhBhZG1pbkBoZWRlcmEuY29tMCAXDTIxMDgy\nMzIyNDI1MFoYDzIyOTUwNjA3MjI0MjUwWjCBhTELMAkGA1UEBhMCVVMxCzAJBgNV\nBAgMAlRYMRMwEQYDVQQHDApSaWNoYXJkc29uMQ8wDQYDVQQKDAZIZWRlcmExDzAN\nBgNVBAsMBkhlZGVyYTERMA8GA1UEAwwIMDAwMDAwMTAxHzAdBgkqhkiG9w0BCQEW\nEGFkbWluQGhlZGVyYS5jb20wdjAQBgcqhkjOPQIBBgUrgQQAIgNiAAShUi9sglwb\n0U8QUrGOXJuHRXA9HP8RypkgNBwNRs1YcmPLcuwK70unWlkB81M44IQ7z/dG/0cW\nhfFdRI5x4jAeiUFivmWmMLT6lJMPxJ0BkWTGVFVwI3SKcgSvHP9pNS2jVDBSMA8G\nA1UdEQQIMAaHBH8AAAEwCwYDVR0PBAQDAgSwMBMGA1UdJQQMMAoGCCsGAQUFBwMB\nMB0GA1UdDgQWBBSqIMCDzCKKwJJLCXhu9YJYPw6lsDAKBggqhkjOPQQDAwNnADBk\nAjBl0bJG2A3443ybvrkKjWu8do6nDSR08/M49+19QfA1aDw0nb2sdCOE+xNitpQ9\n7ngCMGuQHmnKA2EyOIVpNl2EtRoG+vdmLJQaoukhmCWjkGrQHkai473tGa9cRZ/8\n+RZFzw==\n-----END CERTIFICATE-----\n","0.0.14":"-----BEGIN CERTIFICATE-----\nMIICoTCCAiegAwIBAgIUJcQrEmPlIh0KWwiC2X6lZ/OdNs8wCgYIKoZIzj0EAwMw\ngYUxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExETAPBgNVBAMMCDAw\nMDAwMDExMR8wHQYJKoZIhvcNAQkBFhBhZG1pbkBoZWRlcmEuY29tMCAXDTIxMDgy\nMzIyNDI1MVoYDzIyOTUwNjA3MjI0MjUxWjCBhTELMAkGA1UEBhMCVVMxCzAJBgNV\nBAgMAlRYMRMwEQYDVQQHDApSaWNoYXJkc29uMQ8wDQYDVQQKDAZIZWRlcmExDzAN\nBgNVBAsMBkhlZGVyYTERMA8GA1UEAwwIMDAwMDAwMTExHzAdBgkqhkiG9w0BCQEW\nEGFkbWluQGhlZGVyYS5jb20wdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASxRizKJSbB\nHmG2amvTHLCyExJngCh42agaFkv5Ab9mZYbqZPe0nUn/8RlVAvEiRNggCMYXC6MU\ne4J6D1aeLhYaa0UY8Fmxd20NUjAOWhJgUXds4ILMMVG+pevofeC8AsujVDBSMA8G\nA1UdEQQIMAaHBH8AAAEwCwYDVR0PBAQDAgSwMBMGA1UdJQQMMAoGCCsGAQUFBwMB\nMB0GA1UdDgQWBBS2Ic+LU/6Wssns4Yyf3N6E666xDzAKBggqhkjOPQQDAwNoADBl\nAjAH0JMX48GD6vThA6FUsVnJmBID376PRZgxhuZvn9C0HawvNjZVQTkpzpYCwmia\ndO4CMQCotakNxyiOxu/BbnPx6ld5+dqVCugsfqClhUhy8ROpNHfKxp3rW7HopowT\nWiMlIyI=\n-----END CERTIFICATE-----\n","0.0.15":"-----BEGIN CERTIFICATE-----\nMIICoDCCAiegAwIBAgIUSFFNFv1iquxd5txlWA3PlkNju2EwCgYIKoZIzj0EAwMw\ngYUxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExETAPBgNVBAMMCDAw\nMDAwMDEyMR8wHQYJKoZIhvcNAQkBFhBhZG1pbkBoZWRlcmEuY29tMCAXDTIxMDgy\nMzIyNDI1MVoYDzIyOTUwNjA3MjI0MjUxWjCBhTELMAkGA1UEBhMCVVMxCzAJBgNV\nBAgMAlRYMRMwEQYDVQQHDApSaWNoYXJkc29uMQ8wDQYDVQQKDAZIZWRlcmExDzAN\nBgNVBAsMBkhlZGVyYTERMA8GA1UEAwwIMDAwMDAwMTIxHzAdBgkqhkiG9w0BCQEW\nEGFkbWluQGhlZGVyYS5jb20wdjAQBgcqhkjOPQIBBgUrgQQAIgNiAAQus3nAPZkb\nja4Efo7iD4s8NLsFwEwQXQBgBGIJwtA2JRgLyXeWpuu125ib6qJzT8CHvQZhel3b\ncwYWi4f2JpabMDepHELLxwZ9fILnAQ8GiHlzhrVq2NI15DI84dXVe4OjVDBSMA8G\nA1UdEQQIMAaHBH8AAAEwCwYDVR0PBAQDAgSwMBMGA1UdJQQMMAoGCCsGAQUFBwMB\nMB0GA1UdDgQWBBSEO/JFC5/fDcT2gtipDMYMMTd96DAKBggqhkjOPQQDAwNnADBk\nAjBalAU47XQL4ziHD8lj21pcp3+R5FKzn96HclMT/vraknCT1Sl+vCf6EYsqmi6Z\n+RwCMDpxL6P6OMqyE+HzAeYQ4Fa7MYEQfZGMjka4zxetBLvIpwUCT4EAO8gv9GoU\nwCBUzQ==\n-----END CERTIFICATE-----\n","0.0.16":"-----BEGIN CERTIFICATE-----\nMIICoDCCAiegAwIBAgIUdnkil4P+VthVMnqygVwGKLt7VfAwCgYIKoZIzj0EAwMw\ngYUxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExETAPBgNVBAMMCDAw\nMDAwMDEzMR8wHQYJKoZIhvcNAQkBFhBhZG1pbkBoZWRlcmEuY29tMCAXDTIxMDgy\nMzIyNDI1MVoYDzIyOTUwNjA3MjI0MjUxWjCBhTELMAkGA1UEBhMCVVMxCzAJBgNV\nBAgMAlRYMRMwEQYDVQQHDApSaWNoYXJkc29uMQ8wDQYDVQQKDAZIZWRlcmExDzAN\nBgNVBAsMBkhlZGVyYTERMA8GA1UEAwwIMDAwMDAwMTMxHzAdBgkqhkiG9w0BCQEW\nEGFkbWluQGhlZGVyYS5jb20wdjAQBgcqhkjOPQIBBgUrgQQAIgNiAARUdz9ig/iA\nhEAth2YinHKY6WM63BAxUVItzgk65l1T4wTzwoK4XEwclY5vIeFmZy2e0s95lWgq\nSI68VS9gmJ3xp8Q9wOel/bvuF2tvNZmF393TeoNQQVHrQM1yJAx+nPyjVDBSMA8G\nA1UdEQQIMAaHBH8AAAEwCwYDVR0PBAQDAgSwMBMGA1UdJQQMMAoGCCsGAQUFBwMB\nMB0GA1UdDgQWBBTBFdNwHKSRDo6CxfA1aglY0N8joTAKBggqhkjOPQQDAwNnADBk\nAjAqPIel58Rcl2kDxZxJPD9mK9xW4TU+d2NuP3n140TQ6nPlw1OwCPI7a4i3wfEe\n08ICMBbrpNRdFZcvy76KoLPfTPvqbtWWaR/0tLZg4Rjj3x7SYgUg3vrVDmodHGkb\n4T2Raw==\n-----END CERTIFICATE-----\n","0.0.17":"-----BEGIN CERTIFICATE-----\nMIICoDCCAiegAwIBAgIUDg+G4Ep+KEmIo+nCOY8DjFX60swwCgYIKoZIzj0EAwMw\ngYUxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExETAPBgNVBAMMCDAw\nMDAwMDE0MR8wHQYJKoZIhvcNAQkBFhBhZG1pbkBoZWRlcmEuY29tMCAXDTIxMDgy\nMzIyNDI1MloYDzIyOTUwNjA3MjI0MjUyWjCBhTELMAkGA1UEBhMCVVMxCzAJBgNV\nBAgMAlRYMRMwEQYDVQQHDApSaWNoYXJkc29uMQ8wDQYDVQQKDAZIZWRlcmExDzAN\nBgNVBAsMBkhlZGVyYTERMA8GA1UEAwwIMDAwMDAwMTQxHzAdBgkqhkiG9w0BCQEW\nEGFkbWluQGhlZGVyYS5jb20wdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASCQRL5xUUh\n1bsTXRPAf/qVFWEOxsJTiMlF3+UJ4MajWE5zmc2QNIzqj7NE24z3fNxgjViNK/8+\noBNQeqXfyJ/4etNMzTyG4JTsvWRAQ3aR1J4WDbfwpcgw6AIOKq9OLP6jVDBSMA8G\nA1UdEQQIMAaHBH8AAAEwCwYDVR0PBAQDAgSwMBMGA1UdJQQMMAoGCCsGAQUFBwMB\nMB0GA1UdDgQWBBQB9V2fygf48zyyVL3bnAxCLDUV9zAKBggqhkjOPQQDAwNnADBk\nAjBonlThjjvi3fg7ODQcatPHBkp8Yon/p1ukm3YzYA3kitqroXU7BkmwRae2fbqD\nTTICMHI+fAy+xWGwXAFNcvNTop11IIoszcgJJY+1Mc2Q/USk3pP6iezta+rvnaWu\n7JySHg==\n-----END CERTIFICATE-----\n","0.0.18":"-----BEGIN CERTIFICATE-----\nMIICojCCAiegAwIBAgIUBvI2Vq6O8yXNzbQlj6uQOdpd1lIwCgYIKoZIzj0EAwMw\ngYUxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExETAPBgNVBAMMCDAw\nMDAwMDE1MR8wHQYJKoZIhvcNAQkBFhBhZG1pbkBoZWRlcmEuY29tMCAXDTIxMDgy\nMzIyNDI1MloYDzIyOTUwNjA3MjI0MjUyWjCBhTELMAkGA1UEBhMCVVMxCzAJBgNV\nBAgMAlRYMRMwEQYDVQQHDApSaWNoYXJkc29uMQ8wDQYDVQQKDAZIZWRlcmExDzAN\nBgNVBAsMBkhlZGVyYTERMA8GA1UEAwwIMDAwMDAwMTUxHzAdBgkqhkiG9w0BCQEW\nEGFkbWluQGhlZGVyYS5jb20wdjAQBgcqhkjOPQIBBgUrgQQAIgNiAAR+jFDSzCdn\nmMQpgz/vrmD/xioMioumUmyLAkB+voTNsMAOtiaDVbvJty3b4SJETv5tuZyaF5Gb\nQAYuKsP7X8siCCVLZC9i9nCg46NHtuQkEmw1pzUUDmYFDfSV2tWedNqjVDBSMA8G\nA1UdEQQIMAaHBH8AAAEwCwYDVR0PBAQDAgSwMBMGA1UdJQQMMAoGCCsGAQUFBwMB\nMB0GA1UdDgQWBBSqvCmoaVEp2d9WPctby+ooPMGmvTAKBggqhkjOPQQDAwNpADBm\nAjEA9fQ2OFZa7fAQGGYydfVaUF0ObxKj3T+hyl0jiCKLe+hyxJSrXCFS2BM71UiG\nZMVxAjEAmCzESBzTVvl4Uv3TyActGTijTCqTNpN3gJmQbZYjKVtqf8Wxj9WeH0pM\nE8BlA/qE\n-----END CERTIFICATE-----\n","0.0.19":"-----BEGIN CERTIFICATE-----\nMIICojCCAiegAwIBAgIUZBwp7UPLJkDgngbUIx5xjbAn+7YwCgYIKoZIzj0EAwMw\ngYUxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExETAPBgNVBAMMCDAw\nMDAwMDE2MR8wHQYJKoZIhvcNAQkBFhBhZG1pbkBoZWRlcmEuY29tMCAXDTIxMDgy\nMzIyNDI1M1oYDzIyOTUwNjA3MjI0MjUzWjCBhTELMAkGA1UEBhMCVVMxCzAJBgNV\nBAgMAlRYMRMwEQYDVQQHDApSaWNoYXJkc29uMQ8wDQYDVQQKDAZIZWRlcmExDzAN\nBgNVBAsMBkhlZGVyYTERMA8GA1UEAwwIMDAwMDAwMTYxHzAdBgkqhkiG9w0BCQEW\nEGFkbWluQGhlZGVyYS5jb20wdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASCVYu2uF3T\nkCkyRP0FfXVyyTA1z8DFqCKGrcODgGJuVAk59H6u8FIRsNipkb3BXFI0xGccok5X\nT+t5bMaGDHYJ4fjU78UtPNmankQ5HoiMRJpy7Vn8mzizUzUqGpnhu6GjVDBSMA8G\nA1UdEQQIMAaHBH8AAAEwCwYDVR0PBAQDAgSwMBMGA1UdJQQMMAoGCCsGAQUFBwMB\nMB0GA1UdDgQWBBQzE6RGn4YlIbdrl0niKWTtJzfXoTAKBggqhkjOPQQDAwNpADBm\nAjEAobnXnwlNGNWoHscbl/ytUBSyjC7V11sLYJqtORSRX3k2+bFGsg4ltmOVjTdd\nlXatAjEA/Ja3jufmdruqfLa6qigXuYI00YaI96sOwNhdHlnksYfqF41nDe4BsSW6\neQ6N5M9d\n-----END CERTIFICATE-----\n","0.0.20":"-----BEGIN CERTIFICATE-----\nMIICoTCCAiegAwIBAgIUE1ZRB5n+Yby+Mwgb2xAcVfTZ53kwCgYIKoZIzj0EAwMw\ngYUxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJUWDETMBEGA1UEBwwKUmljaGFyZHNv\nbjEPMA0GA1UECgwGSGVkZXJhMQ8wDQYDVQQLDAZIZWRlcmExETAPBgNVBAMMCDAw\nMDAwMDE3MR8wHQYJKoZIhvcNAQkBFhBhZG1pbkBoZWRlcmEuY29tMCAXDTIxMDgy\nMzIyNDI1M1oYDzIyOTUwNjA3MjI0MjUzWjCBhTELMAkGA1UEBhMCVVMxCzAJBgNV\nBAgMAlRYMRMwEQYDVQQHDApSaWNoYXJkc29uMQ8wDQYDVQQKDAZIZWRlcmExDzAN\nBgNVBAsMBkhlZGVyYTERMA8GA1UEAwwIMDAwMDAwMTcxHzAdBgkqhkiG9w0BCQEW\nEGFkbWluQGhlZGVyYS5jb20wdjAQBgcqhkjOPQIBBgUrgQQAIgNiAAR0OfTmHjxT\nkBiU3GMa/bTvlTswCDAuFQGIIpMWHaf6V4ighzmn20jCg0AVFStb2q7YLRr4HUx8\nToMzsd7/yjl74BwJgfZnL75T/JInwyMgOBiCTXEf6qVDvhNzL4QJuVujVDBSMA8G\nA1UdEQQIMAaHBH8AAAEwCwYDVR0PBAQDAgSwMBMGA1UdJQQMMAoGCCsGAQUFBwMB\nMB0GA1UdDgQWBBQFKRUUmdFcDFQzBN9XqMvLgPd7NzAKBggqhkjOPQQDAwNoADBl\nAjEA5MUUXSehY3KVIv/2LMgrqo1kPiV39fwYuLSnsMJ67wK8yN1NAkkycg6q2K6g\nrBIvAjB3J3a40TINOZTYG+eQs+MSWyfANJLRuJTEOorXzMWM6+05+JYhPnLA8hke\nCRfzmSw=\n-----END CERTIFICATE-----\n"};class Node extends ManagedNode{constructor(t={}){if(super(t),null!=t.newNode)this._accountId=t.newNode.accountId,this._nodeAddress=null;else{if(null==t.cloneNode)throw new Error(`failed to create node: ${JSON.stringify(t)}`);this._accountId=t.cloneNode.node._accountId,this._nodeAddress=t.cloneNode.node._nodeAddress}}getKey(){return this._accountId.toString()}toInsecure(){return new Node({cloneNode:{node:this,address:this._address.toInsecure()}})}toSecure(){return new Node({cloneNode:{node:this,address:this._address.toSecure()}})}setCert(t){switch(t.toString()){case"previewnet":this._cert=PREVIEWNET_CERTS[this._accountId.toString()];break;case"testnet":this._cert=TESTNET_CERTS[this._accountId.toString()];break;case"mainnet":this._cert=MAINNET_CERTS[this._accountId.toString()]}return this}get accountId(){return this._accountId}get nodeAddress(){return this._nodeAddress}setNodeAddress(t){return this._nodeAddress=t,this}}const PREVIEWNET_ADDRESS_BOOK=NodeAddressBook._fromProtobuf(lib.NodeAddressBook.decode(decode$1("0ad0070a0e33352e3233312e3230382e31343810a388031a05302e302e3322cc0633303832303161323330306430363039326138363438383666373064303130313031303530303033383230313866303033303832303138613032383230313831303039663166386131323163326664366337366664353038643365343239663063363462636234346338326137303537333535326161646361643037313536396537323139353866356135643039663935383766666166636662653533343161326630313134616361653334366566336339303231336433343336656262323766343335306339393063356338633366386531653336373037626330386434323536303832336533663234653039613033616430393535613530393830313936323964643034623237623235316463653035356633646463623061343164363666303934316230623837636466653334393864343630333861623564663036663632613561646530383539383537336138386338663538363064633134393261366531383634383561396231333235306536643137623830636433396335633831393130396537336361373332646232336566386261613737366563383563653030393162656362326564656662616135656433653564626662643166383835613466613838316166336631343461386135363538353335333364383933393335393230383662326431643336326534356266653166623435363833616261366336343039373961643662343638373731383437323663366562643538623265616538356337636665336662616265663566366363656438353030333462333834373230366332643637386333363138373630323662386433353165303032616635653066666536663562316632393566646332663436396361613264323338316561306234386361393837636332633865363335653862313963653565313732613933373631613864343930613961343531386437323535383830613134643737623762613737343839326239326134306262383133363265333466633664353137386439623330313132393334323035636237376662396132383234323733393435363461383535346561343732383661343766383632333965373563393437383963653938633939383434373832343632393434663631333136376437623530323033303130303031320218033a606666643661646137346133613334613930346265613437363033303836663862656633623662653138616265643434633464343065313266623133306239376264366238353561656335643062393062306238633733353464356633623065340acf070a0d332e3231312e3234382e31373210a388031a05302e302e3322cc0633303832303161323330306430363039326138363438383666373064303130313031303530303033383230313866303033303832303138613032383230313831303039663166386131323163326664366337366664353038643365343239663063363462636234346338326137303537333535326161646361643037313536396537323139353866356135643039663935383766666166636662653533343161326630313134616361653334366566336339303231336433343336656262323766343335306339393063356338633366386531653336373037626330386434323536303832336533663234653039613033616430393535613530393830313936323964643034623237623235316463653035356633646463623061343164363666303934316230623837636466653334393864343630333861623564663036663632613561646530383539383537336138386338663538363064633134393261366531383634383561396231333235306536643137623830636433396335633831393130396537336361373332646232336566386261613737366563383563653030393162656362326564656662616135656433653564626662643166383835613466613838316166336631343461386135363538353335333364383933393335393230383662326431643336326534356266653166623435363833616261366336343039373961643662343638373731383437323663366562643538623265616538356337636665336662616265663566366363656438353030333462333834373230366332643637386333363138373630323662386433353165303032616635653066666536663562316632393566646332663436396361613264323338316561306234386361393837636332633865363335653862313963653565313732613933373631613864343930613961343531386437323535383830613134643737623762613737343839326239326134306262383133363265333466633664353137386439623330313132393334323035636237376662396132383234323733393435363461383535346561343732383661343766383632333965373563393437383963653938633939383434373832343632393434663631333136376437623530323033303130303031320218033a606666643661646137346133613334613930346265613437363033303836663862656633623662653138616265643434633464343065313266623133306239376264366238353561656335643062393062306238633733353464356633623065340ace070a0c34302e3132312e36342e343810a388031a05302e302e3322cc0633303832303161323330306430363039326138363438383666373064303130313031303530303033383230313866303033303832303138613032383230313831303039663166386131323163326664366337366664353038643365343239663063363462636234346338326137303537333535326161646361643037313536396537323139353866356135643039663935383766666166636662653533343161326630313134616361653334366566336339303231336433343336656262323766343335306339393063356338633366386531653336373037626330386434323536303832336533663234653039613033616430393535613530393830313936323964643034623237623235316463653035356633646463623061343164363666303934316230623837636466653334393864343630333861623564663036663632613561646530383539383537336138386338663538363064633134393261366531383634383561396231333235306536643137623830636433396335633831393130396537336361373332646232336566386261613737366563383563653030393162656362326564656662616135656433653564626662643166383835613466613838316166336631343461386135363538353335333364383933393335393230383662326431643336326534356266653166623435363833616261366336343039373961643662343638373731383437323663366562643538623265616538356337636665336662616265663566366363656438353030333462333834373230366332643637386333363138373630323662386433353165303032616635653066666536663562316632393566646332663436396361613264323338316561306234386361393837636332633865363335653862313963653565313732613933373631613864343930613961343531386437323535383830613134643737623762613737343839326239326134306262383133363265333466633664353137386439623330313132393334323035636237376662396132383234323733393435363461383535346561343732383661343766383632333965373563393437383963653938633939383434373832343632393434663631333136376437623530323033303130303031320218033a606666643661646137346133613334613930346265613437363033303836663862656633623662653138616265643434633464343065313266623133306239376264366238353561656335643062393062306238633733353464356633623065340ad1070a0d33352e3139392e31352e31373710a388031a05302e302e3422cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030633535376166353739666138333530316265383939623238393037373635626664666364353261623433326230313935613166316563643836666330306162366335353039623066646439376564643363623563656135366132393566333132616262353530383331646266393633663435303131386234666363366532326366343637363230306365396363386564666262663535386463363966303234323634616437643364616232336265643231333363323734653639333434383931353564623130383766393033373039303563363431383561363231316463373432666239613639303964383231383639343762323737343633646662336666306163643437656666313265616431663639373265663263313230333739336334356537373537356265346661313130633765343066613864623963363138376431313366343730343031343137393037316162663539626537643262306465383264653432313564633235353036623163396332366534393137343031633939373530366533373765366266303362363838373237653739343066616436396335653064613363643563626432626537373733353061656132643064343765393761343438633834626536636531333464363462656530393835633239313632663463316535363763636139336430366133633162653861626365333562353537666237376634666536373161363664656337393037353664306538383138313635663262616361613839316161653761633734333766633731373562366562366465623734373233373837353162623662663962306531343833663936363865396664626435363034633339623134643965326265646565633834366139383064373034643137316537626134623766636431613330643934356361313266343761333235643933393861613138663937303636303534643464313566633839393465326465626537336539323731643534383638336636316561343466623235303731653335313861373865643365623337653731613036393166323637303230333031303030312801320218043a606630643934616363663664666633373238373463396462643864373939326562333137616635303031636134313936616261323635383039636233643230306261393631613534333863336135656430356338336264663963643131356432320ad1070a0d332e3133332e3231332e31343610a388031a05302e302e3422cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030633535376166353739666138333530316265383939623238393037373635626664666364353261623433326230313935613166316563643836666330306162366335353039623066646439376564643363623563656135366132393566333132616262353530383331646266393633663435303131386234666363366532326366343637363230306365396363386564666262663535386463363966303234323634616437643364616232336265643231333363323734653639333434383931353564623130383766393033373039303563363431383561363231316463373432666239613639303964383231383639343762323737343633646662336666306163643437656666313265616431663639373265663263313230333739336334356537373537356265346661313130633765343066613864623963363138376431313366343730343031343137393037316162663539626537643262306465383264653432313564633235353036623163396332366534393137343031633939373530366533373765366266303362363838373237653739343066616436396335653064613363643563626432626537373733353061656132643064343765393761343438633834626536636531333464363462656530393835633239313632663463316535363763636139336430366133633162653861626365333562353537666237376634666536373161363664656337393037353664306538383138313635663262616361613839316161653761633734333766633731373562366562366465623734373233373837353162623662663962306531343833663936363865396664626435363034633339623134643965326265646565633834366139383064373034643137316537626134623766636431613330643934356361313266343761333235643933393861613138663937303636303534643464313566633839393465326465626537336539323731643534383638336636316561343466623235303731653335313861373865643365623337653731613036393166323637303230333031303030312801320218043a606630643934616363663664666633373238373463396462643864373939326562333137616635303031636134313936616261323635383039636233643230306261393631613534333863336135656430356338336264663963643131356432320ad0070a0c34302e37302e31312e32303210a388031a05302e302e3422cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030633535376166353739666138333530316265383939623238393037373635626664666364353261623433326230313935613166316563643836666330306162366335353039623066646439376564643363623563656135366132393566333132616262353530383331646266393633663435303131386234666363366532326366343637363230306365396363386564666262663535386463363966303234323634616437643364616232336265643231333363323734653639333434383931353564623130383766393033373039303563363431383561363231316463373432666239613639303964383231383639343762323737343633646662336666306163643437656666313265616431663639373265663263313230333739336334356537373537356265346661313130633765343066613864623963363138376431313366343730343031343137393037316162663539626537643262306465383264653432313564633235353036623163396332366534393137343031633939373530366533373765366266303362363838373237653739343066616436396335653064613363643563626432626537373733353061656132643064343765393761343438633834626536636531333464363462656530393835633239313632663463316535363763636139336430366133633162653861626365333562353537666237376634666536373161363664656337393037353664306538383138313635663262616361613839316161653761633734333766633731373562366562366465623734373233373837353162623662663962306531343833663936363865396664626435363034633339623134643965326265646565633834366139383064373034643137316537626134623766636431613330643934356361313266343761333235643933393861613138663937303636303534643464313566633839393465326465626537336539323731643534383638336636316561343466623235303731653335313861373865643365623337653731613036393166323637303230333031303030312801320218043a606630643934616363663664666633373238373463396462643864373939326562333137616635303031636134313936616261323635383039636233643230306261393631613534333863336135656430356338336264663963643131356432320ad2070a0e33352e3232352e3230312e31393510a388031a05302e302e3522cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030396261343537623733333035663034613931636334366231623936356334653834313735316162633862313431356130626164666431663332633234383233383661323237323565623765633734646561323165353036313764363438656135616333393337343161623031623865666233323132333962386434666462316466626562396533663339616134363538306464303435643138636134346430303263333764646235323763636534646463333262666337333431393637316634636134343634613366326138346663383563373161636630653561383936323664663639613831343734656431363532396638303161386166613937653433356334653034613936346133353735323732383838343365353866306130356366353135336565343530376232633638623364376662353461653661393561393539633837613132663633306539356337623162336333363935653835383636323431373932366437366331363938336661663631323235303338373435393037653963663133643637633261636435303363613435316338353933336163343131386163633237393830316362393638333439393033313435636564323736323964643038393136333137303933353837613737633232303563666135323534336235336333623665613135623834653364326333306331656437353261343633336333366232356239383933656130326164353632656239623738363862336234663437663461323565333536303634393632616337623235653538323934346630306433303739386132363266393231346438633565373464306138333736636332643662613634653138663565346134306166616336323530363264326361323363643238303037303833323164333833343331346630653538343438353932333236373361333265373061653064373131653331303538316263646231346538373133343639346336653039333066343662333762393664343961363435373339343733333165376535303764396535366465356536313436663266303230333031303030312802320218053a606361363738656263626433646338363438663765643033666235396630653231616636373531336561656535313331386536623534396265356163653930366564633166666132366439336135376163656339626537376634306561656564370ad1070a0d35322e31352e3130352e31333010a388031a05302e302e3522cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030396261343537623733333035663034613931636334366231623936356334653834313735316162633862313431356130626164666431663332633234383233383661323237323565623765633734646561323165353036313764363438656135616333393337343161623031623865666233323132333962386434666462316466626562396533663339616134363538306464303435643138636134346430303263333764646235323763636534646463333262666337333431393637316634636134343634613366326138346663383563373161636630653561383936323664663639613831343734656431363532396638303161386166613937653433356334653034613936346133353735323732383838343365353866306130356366353135336565343530376232633638623364376662353461653661393561393539633837613132663633306539356337623162336333363935653835383636323431373932366437366331363938336661663631323235303338373435393037653963663133643637633261636435303363613435316338353933336163343131386163633237393830316362393638333439393033313435636564323736323964643038393136333137303933353837613737633232303563666135323534336235336333623665613135623834653364326333306331656437353261343633336333366232356239383933656130326164353632656239623738363862336234663437663461323565333536303634393632616337623235653538323934346630306433303739386132363266393231346438633565373464306138333736636332643662613634653138663565346134306166616336323530363264326361323363643238303037303833323164333833343331346630653538343438353932333236373361333265373061653064373131653331303538316263646231346538373133343639346336653039333066343662333762393664343961363435373339343733333165376535303764396535366465356536313436663266303230333031303030312802320218053a606361363738656263626433646338363438663765643033666235396630653231616636373531336561656535313331386536623534396265356163653930366564633166666132366439336135376163656339626537376634306561656564370ad1070a0d3130342e34332e3234382e363310a388031a05302e302e3522cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030396261343537623733333035663034613931636334366231623936356334653834313735316162633862313431356130626164666431663332633234383233383661323237323565623765633734646561323165353036313764363438656135616333393337343161623031623865666233323132333962386434666462316466626562396533663339616134363538306464303435643138636134346430303263333764646235323763636534646463333262666337333431393637316634636134343634613366326138346663383563373161636630653561383936323664663639613831343734656431363532396638303161386166613937653433356334653034613936346133353735323732383838343365353866306130356366353135336565343530376232633638623364376662353461653661393561393539633837613132663633306539356337623162336333363935653835383636323431373932366437366331363938336661663631323235303338373435393037653963663133643637633261636435303363613435316338353933336163343131386163633237393830316362393638333439393033313435636564323736323964643038393136333137303933353837613737633232303563666135323534336235336333623665613135623834653364326333306331656437353261343633336333366232356239383933656130326164353632656239623738363862336234663437663461323565333536303634393632616337623235653538323934346630306433303739386132363266393231346438633565373464306138333736636332643662613634653138663565346134306166616336323530363264326361323363643238303037303833323164333833343331346630653538343438353932333236373361333265373061653064373131653331303538316263646231346538373133343639346336653039333066343662333762393664343961363435373339343733333165376535303764396535366465356536313436663266303230333031303030312802320218053a606361363738656263626433646338363438663765643033666235396630653231616636373531336561656535313331386536623534396265356163653930366564633166666132366439336135376163656339626537376634306561656564370ad2070a0e33352e3234372e3130392e31333510a388031a05302e302e3622cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030633432636361633566626336393166626265626461383766666431653735626463643839323234393463663434666462636365653439373838353231633337386266373764623039333465633064323138336437633531646236366638363463313161623764653161633363346366646331663039336132643666333765326233346362653463383133316639363833616434323837386338336433353534633634356161313637626366623036346138336463343563356231313538343939663964393235383766666637616263643566323231636438313530353438343133303030666136653536353930383962316466643635373636656137386561656466636136623435343535666438616235393834646265333565353739356432633633356561373937346434336538656165346665626666653439326537303762343862316230666336343831616539653039643339313333303039623764323634303265366535326535653931623262333830643838663062653766623462333033653730323139373835303537616139346365393234633439323665393136353639323836653836623362613635316361326130613633646634663639303766656665333438336439336234636531643464303363373134323131313337356232633263353164346562383339653337616635333062326362643666353064346362333665323739333731373064396364646163306163653263633234623830346230613237333531636638333062373635323565323664666239646266343961303536363234613736383632343934653732363364306437306365626165393532393433653535383432663563616431336663663630613265366463663761316435333366336135626235346563323139313863373665353235626132393134363637353833316531376533366336316665383534393838323864303962373632303135343132623265353237383439626165633163666663373764653463323934633535303831316535393866663234646131356133343536396464303230333031303030312803320218063a603234373166336665383134303638316665393139313364326363303633663036356534343930616536326666356435343861356162653133316432616639366362653361633235626265323433363663613466386630653736636639343566330acf070a0b35342e3234312e33382e3110a388031a05302e302e3622cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030633432636361633566626336393166626265626461383766666431653735626463643839323234393463663434666462636365653439373838353231633337386266373764623039333465633064323138336437633531646236366638363463313161623764653161633363346366646331663039336132643666333765326233346362653463383133316639363833616434323837386338336433353534633634356161313637626366623036346138336463343563356231313538343939663964393235383766666637616263643566323231636438313530353438343133303030666136653536353930383962316466643635373636656137386561656466636136623435343535666438616235393834646265333565353739356432633633356561373937346434336538656165346665626666653439326537303762343862316230666336343831616539653039643339313333303039623764323634303265366535326535653931623262333830643838663062653766623462333033653730323139373835303537616139346365393234633439323665393136353639323836653836623362613635316361326130613633646634663639303766656665333438336439336234636531643464303363373134323131313337356232633263353164346562383339653337616635333062326362643666353064346362333665323739333731373064396364646163306163653263633234623830346230613237333531636638333062373635323565323664666239646266343961303536363234613736383632343934653732363364306437306365626165393532393433653535383432663563616431336663663630613265366463663761316435333366336135626235346563323139313863373665353235626132393134363637353833316531376533366336316665383534393838323864303962373632303135343132623265353237383439626165633163666663373764653463323934633535303831316535393866663234646131356133343536396464303230333031303030312803320218063a603234373166336665383134303638316665393139313364326363303633663036356534343930616536326666356435343861356162653133316432616639366362653361633235626265323433363663613466386630653736636639343566330acf070a0b31332e38382e32322e343710a388031a05302e302e3622cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030633432636361633566626336393166626265626461383766666431653735626463643839323234393463663434666462636365653439373838353231633337386266373764623039333465633064323138336437633531646236366638363463313161623764653161633363346366646331663039336132643666333765326233346362653463383133316639363833616434323837386338336433353534633634356161313637626366623036346138336463343563356231313538343939663964393235383766666637616263643566323231636438313530353438343133303030666136653536353930383962316466643635373636656137386561656466636136623435343535666438616235393834646265333565353739356432633633356561373937346434336538656165346665626666653439326537303762343862316230666336343831616539653039643339313333303039623764323634303265366535326535653931623262333830643838663062653766623462333033653730323139373835303537616139346365393234633439323665393136353639323836653836623362613635316361326130613633646634663639303766656665333438336439336234636531643464303363373134323131313337356232633263353164346562383339653337616635333062326362643666353064346362333665323739333731373064396364646163306163653263633234623830346230613237333531636638333062373635323565323664666239646266343961303536363234613736383632343934653732363364306437306365626165393532393433653535383432663563616431336663663630613265366463663761316435333366336135626235346563323139313863373665353235626132393134363637353833316531376533366336316665383534393838323864303962373632303135343132623265353237383439626165633163666663373764653463323934633535303831316535393866663234646131356133343536396464303230333031303030312803320218063a603234373166336665383134303638316665393139313364326363303633663036356534343930616536326666356435343861356162653133316432616639366362653361633235626265323433363663613466386630653736636639343566330ad0070a0c33352e3233352e36352e353110a388031a05302e302e3722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030393032663034393061396237663564326364316330643936633661363939306635373362356630656235626462626133393636316566303233303932343139333434363639393639613638613463373037316433323939393066623137393265393030316362353539386561373163326436363736383234333230656534636162663164643335376165376632616462656463316231623061396439353632333737396234633463376234376334373837613136656537313838633732313731373736323461393236346162333963343166376666306234356138396264613430633461643037633464353936643566303964373035366263623561333566343466393561353963323636653039383932646362653436616435316632643262336539393161386636363538653166326362393463373733656234346334346538393264316535356331303736663136303833313965653635376534306631393239363735343361623432616232323233383664313735383665323533373438646162643032356535306235306165363035303732306532333964363465653666623435303763303631346464346265376166646231333330383930666633613665313736353237633331313661663132396139616335653333366439663630316537313237613664376438323061643266393032646163396232343836363861316261623038643130333432656136396137303937313332666637313230636336346663646537383430633635366261313733326261393565396333363735313137356534656333643834613765306432383834326234316262626264366632386534366333613636333365313832373936356335353832306435306461653262303436356363306434326531393562396431353332653632323565623939386436613439303739613861316364346430313735646533633837663937363134383437623363626231376161333462653832306237623361643938616333666165663939336136373738393734373832633063346165336661626263633433303230333031303030312804320218073a606633353738373364343131346131616566303361646336626136396566616632363930653232376162633136613666633665353034396136336662643936383830303462313465343633633230653338343336613361323464333138326464380ad1070a0d35342e3137372e35312e31323710a388031a05302e302e3722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030393032663034393061396237663564326364316330643936633661363939306635373362356630656235626462626133393636316566303233303932343139333434363639393639613638613463373037316433323939393066623137393265393030316362353539386561373163326436363736383234333230656534636162663164643335376165376632616462656463316231623061396439353632333737396234633463376234376334373837613136656537313838633732313731373736323461393236346162333963343166376666306234356138396264613430633461643037633464353936643566303964373035366263623561333566343466393561353963323636653039383932646362653436616435316632643262336539393161386636363538653166326362393463373733656234346334346538393264316535356331303736663136303833313965653635376534306631393239363735343361623432616232323233383664313735383665323533373438646162643032356535306235306165363035303732306532333964363465653666623435303763303631346464346265376166646231333330383930666633613665313736353237633331313661663132396139616335653333366439663630316537313237613664376438323061643266393032646163396232343836363861316261623038643130333432656136396137303937313332666637313230636336346663646537383430633635366261313733326261393565396333363735313137356534656333643834613765306432383834326234316262626264366632386534366333613636333365313832373936356335353832306435306461653262303436356363306434326531393562396431353332653632323565623939386436613439303739613861316364346430313735646533633837663937363134383437623363626231376161333462653832306237623361643938616333666165663939336136373738393734373832633063346165336661626263633433303230333031303030312804320218073a606633353738373364343131346131616566303361646336626136396566616632363930653232376162633136613666633665353034396136336662643936383830303462313465343633633230653338343336613361323464333138326464380ad0070a0c31332e36342e3137302e343010a388031a05302e302e3722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030393032663034393061396237663564326364316330643936633661363939306635373362356630656235626462626133393636316566303233303932343139333434363639393639613638613463373037316433323939393066623137393265393030316362353539386561373163326436363736383234333230656534636162663164643335376165376632616462656463316231623061396439353632333737396234633463376234376334373837613136656537313838633732313731373736323461393236346162333963343166376666306234356138396264613430633461643037633464353936643566303964373035366263623561333566343466393561353963323636653039383932646362653436616435316632643262336539393161386636363538653166326362393463373733656234346334346538393264316535356331303736663136303833313965653635376534306631393239363735343361623432616232323233383664313735383665323533373438646162643032356535306235306165363035303732306532333964363465653666623435303763303631346464346265376166646231333330383930666633613665313736353237633331313661663132396139616335653333366439663630316537313237613664376438323061643266393032646163396232343836363861316261623038643130333432656136396137303937313332666637313230636336346663646537383430633635366261313733326261393565396333363735313137356534656333643834613765306432383834326234316262626264366632386534366333613636333365313832373936356335353832306435306461653262303436356363306434326531393562396431353332653632323565623939386436613439303739613861316364346430313735646533633837663937363134383437623363626231376161333462653832306237623361643938616333666165663939336136373738393734373832633063346165336661626263633433303230333031303030312804320218073a606633353738373364343131346131616566303361646336626136396566616632363930653232376162633136613666633665353034396136336662643936383830303462313465343633633230653338343336613361323464333138326464380ad1070a0d33342e3130362e3234372e363510a388031a05302e302e3822cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030393164376466666637386634656662653538393034353063356263396533353334626666616461643933666237616662313562633762636636376433643362343133626439393934306464383235363461646130346162326534656466306131633062386662376531613830393265393133386539363062653263633638623562393766353764323831633538373265393761343739666338343833363331363065333836336235376233336534383639623138356163653565333662643433616535666136373863396562363666316634303134373836383236623266386661376530303630663434303563306138663964613732303566663436383361323433666130663331356631616662623461346431343064303232333465343437336662393266636233386633656232386336306366376362666236346530363963313830383665346464363139333839323061653066643763313933653665313034653635623831376564393339386532333232333766646630383332326339636563303964343039393237326137633031356432326234646363393639663665613166353138393032313035646636303039326235356134316234663332623935376235376438346535623232333930356538363938393531373333656139663265323436316563306436353232656538313664353835306661636665623431326366663962393939343361383764633064303436343437636539336239376531366437336239366234323633393632663831666366393435386535373537376337383061366631363135616137613132333236373338653236396262373331663839653839313632326535373765613534343230626630636134366265366663346637316366323638316163303235326161383835653133626536373263643238343539303432376463643133376366333131363235653862656533623038666463616166343635623338376365376362333338313666326331346136623939616337643733343331386366633539623765643933396261666566383739303230333031303030312805320218083a603439333161373832303264353566313062333135373537383563336634333964623638313962643131303033646637626332636539326532396135313762376332313838306465623463303137393537343462353736636434336238343938640ad0070a0c33352e38332e38392e31373110a388031a05302e302e3822cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030393164376466666637386634656662653538393034353063356263396533353334626666616461643933666237616662313562633762636636376433643362343133626439393934306464383235363461646130346162326534656466306131633062386662376531613830393265393133386539363062653263633638623562393766353764323831633538373265393761343739666338343833363331363065333836336235376233336534383639623138356163653565333662643433616535666136373863396562363666316634303134373836383236623266386661376530303630663434303563306138663964613732303566663436383361323433666130663331356631616662623461346431343064303232333465343437336662393266636233386633656232386336306366376362666236346530363963313830383665346464363139333839323061653066643763313933653665313034653635623831376564393339386532333232333766646630383332326339636563303964343039393237326137633031356432326234646363393639663665613166353138393032313035646636303039326235356134316234663332623935376235376438346535623232333930356538363938393531373333656139663265323436316563306436353232656538313664353835306661636665623431326366663962393939343361383764633064303436343437636539336239376531366437336239366234323633393632663831666366393435386535373537376337383061366631363135616137613132333236373338653236396262373331663839653839313632326535373765613534343230626630636134366265366663346637316366323638316163303235326161383835653133626536373263643238343539303432376463643133376366333131363235653862656533623038666463616166343635623338376365376362333338313666326331346136623939616337643733343331386366633539623765643933396261666566383739303230333031303030312805320218083a603439333161373832303264353566313062333135373537383563336634333964623638313962643131303033646637626332636539326532396135313762376332313838306465623463303137393537343462353736636434336238343938640ad1070a0d31332e37382e3233322e31393210a388031a05302e302e3822cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030393164376466666637386634656662653538393034353063356263396533353334626666616461643933666237616662313562633762636636376433643362343133626439393934306464383235363461646130346162326534656466306131633062386662376531613830393265393133386539363062653263633638623562393766353764323831633538373265393761343739666338343833363331363065333836336235376233336534383639623138356163653565333662643433616535666136373863396562363666316634303134373836383236623266386661376530303630663434303563306138663964613732303566663436383361323433666130663331356631616662623461346431343064303232333465343437336662393266636233386633656232386336306366376362666236346530363963313830383665346464363139333839323061653066643763313933653665313034653635623831376564393339386532333232333766646630383332326339636563303964343039393237326137633031356432326234646363393639663665613166353138393032313035646636303039326235356134316234663332623935376235376438346535623232333930356538363938393531373333656139663265323436316563306436353232656538313664353835306661636665623431326366663962393939343361383764633064303436343437636539336239376531366437336239366234323633393632663831666366393435386535373537376337383061366631363135616137613132333236373338653236396262373331663839653839313632326535373765613534343230626630636134366265366663346637316366323638316163303235326161383835653133626536373263643238343539303432376463643133376366333131363235653862656533623038666463616166343635623338376365376362333338313666326331346136623939616337643733343331386366633539623765643933396261666566383739303230333031303030312805320218083a603439333161373832303264353566313062333135373537383563336634333964623638313962643131303033646637626332636539326532396135313762376332313838306465623463303137393537343462353736636434336238343938640ad0070a0c33342e3132352e32332e343910a388031a05302e302e3922cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030633665313863386662663463643465623130343534326362323061616161323532643935663035326631303836643538316334346164373337626636363736633063336637383961663532363562386166623739623530393132646138346530616663663735343763623166666630386430353237303137656236646335636466383362353139363964343433333661363338376364373062393462663463396261663230323938343065356634663836336437303831663066613831653038363361646564623862383961356461633262623535326436653762396662613232326163323863353730373535333866633935373939323934326433343166613238373665366235303765396365376564353732653863666461356465666133363466646638643865323338323961346363626234373866313165656533623332616238356530373239353163356439343230313135666261333237303733343934663433623566366265626638343135326533353665376231366261373634623761336235326362323733343634303136336265313436356536643166613463366536663636363834613633356339613535366161373130306462653634356466386634633432336165343561303863623335623462633138373838366532323939623563303231306135666261336239343439663438336566393465643932326531653938633131336265313636623839633733353832323433313335643434323330366162653561373162373730313866663333356436646437393534323639376231363832333862393637323766643133333962356638326133623661353937643937363033376165323530363435366338623334653966626633626333323431303434316334626663386562613538353937323534656665626661613738383039613563383835343732396135626137386563653139666338343037646438383934613662633738343430333764383738636163653663313532633265383965386136346230363861366332333765303939393362653830363839303230333031303030312806320218093a603634653039383631356266343035663765643561343031333434366238396334383863666364366262323561346136373664633737656561313164333364373032363832663061363961383033306538633537373764306534323230333739390acf070a0b35302e31382e31372e393310a388031a05302e302e3922cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030633665313863386662663463643465623130343534326362323061616161323532643935663035326631303836643538316334346164373337626636363736633063336637383961663532363562386166623739623530393132646138346530616663663735343763623166666630386430353237303137656236646335636466383362353139363964343433333661363338376364373062393462663463396261663230323938343065356634663836336437303831663066613831653038363361646564623862383961356461633262623535326436653762396662613232326163323863353730373535333866633935373939323934326433343166613238373665366235303765396365376564353732653863666461356465666133363466646638643865323338323961346363626234373866313165656533623332616238356530373239353163356439343230313135666261333237303733343934663433623566366265626638343135326533353665376231366261373634623761336235326362323733343634303136336265313436356536643166613463366536663636363834613633356339613535366161373130306462653634356466386634633432336165343561303863623335623462633138373838366532323939623563303231306135666261336239343439663438336566393465643932326531653938633131336265313636623839633733353832323433313335643434323330366162653561373162373730313866663333356436646437393534323639376231363832333862393637323766643133333962356638326133623661353937643937363033376165323530363435366338623334653966626633626333323431303434316334626663386562613538353937323534656665626661613738383039613563383835343732396135626137386563653139666338343037646438383934613662633738343430333764383738636163653663313532633265383965386136346230363861366332333765303939393362653830363839303230333031303030312806320218093a603634653039383631356266343035663765643561343031333434366238396334383863666364366262323561346136373664633737656561313164333364373032363832663061363961383033306538633537373764306534323230333739390ad1070a0d32302e3135302e3133362e383910a388031a05302e302e3922cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030633665313863386662663463643465623130343534326362323061616161323532643935663035326631303836643538316334346164373337626636363736633063336637383961663532363562386166623739623530393132646138346530616663663735343763623166666630386430353237303137656236646335636466383362353139363964343433333661363338376364373062393462663463396261663230323938343065356634663836336437303831663066613831653038363361646564623862383961356461633262623535326436653762396662613232326163323863353730373535333866633935373939323934326433343166613238373665366235303765396365376564353732653863666461356465666133363466646638643865323338323961346363626234373866313165656533623332616238356530373239353163356439343230313135666261333237303733343934663433623566366265626638343135326533353665376231366261373634623761336235326362323733343634303136336265313436356536643166613463366536663636363834613633356339613535366161373130306462653634356466386634633432336165343561303863623335623462633138373838366532323939623563303231306135666261336239343439663438336566393465643932326531653938633131336265313636623839633733353832323433313335643434323330366162653561373162373730313866663333356436646437393534323639376231363832333862393637323766643133333962356638326133623661353937643937363033376165323530363435366338623334653966626633626333323431303434316334626663386562613538353937323534656665626661613738383039613563383835343732396135626137386563653139666338343037646438383934613662633738343430333764383738636163653663313532633265383965386136346230363861366332333765303939393362653830363839303230333031303030312806320218093a60363465303938363135626634303566376564356134303133343436623839633438386366636436626232356134613637366463373765656131316433336437303236383266306136396138303330653863353737376430653432323033373939"))),TESTNET_ADDRESS_BOOK=NodeAddressBook._fromProtobuf(lib.NodeAddressBook.decode(decode$1("0a7f0a0c33342e39342e3130362e363110a388031a05302e302e33320218033a606131373165336261383334373637343761656232653261633464306531313563616161623931383230336230646665316364656162343433343338666332383961626338626138613661666638336462356631623333343034366461383863380a80010a0d35302e31382e3133322e32313110a388031a05302e302e33320218033a606131373165336261383334373637343761656232653261633464306531313563616161623931383230336230646665316364656162343433343338666332383961626338626138613661666638336462356631623333343034366461383863380a81010a0e3133382e39312e3134322e32313910a388031a05302e302e33320218033a606131373165336261383334373637343761656232653261633464306531313563616161623931383230336230646665316364656162343433343338666332383961626338626138613661666638336462356631623333343034366461383863380a82010a0d33352e3233372e3131392e353510a388031a05302e302e342801320218043a603734303964656332653439346236323765653439633639623239346265316365616562636133666463616633363738396538386663376435623065656635353631663532623832643335313931613339633266626564363032373236373136360a7f0a0a332e3231322e362e313310a388031a05302e302e342801320218043a603734303964656332653439346236323765653439633639623239346265316365616562636133666463616633363738396538386663376435623065656635353631663532623832643335313931613339633266626564363032373236373136360a82010a0d35322e3136382e37362e32343110a388031a05302e302e342801320218043a603734303964656332653439346236323765653439633639623239346265316365616562636133666463616633363738396538386663376435623065656635353631663532623832643335313931613339633266626564363032373236373136360a82010a0d33352e3234352e32372e31393310a388031a05302e302e352802320218053a603962313431363538346134613338306262383661366337643732303764386165646462633362363365613330353939383235356263653833353162613462356463613532633932383261353461366265643630646536336365303361616132340a80010a0b35322e32302e31382e383610a388031a05302e302e352802320218053a603962313431363538346134613338306262383661366337643732303764386165646462633362363365613330353939383235356263653833353162613462356463613532633932383261353461366265643630646536336365303361616132340a81010a0c34302e37392e38332e31323410a388031a05302e302e352802320218053a603962313431363538346134613338306262383661366337643732303764386165646462633362363365613330353939383235356263653833353162613462356463613532633932383261353461366265643630646536336365303361616132340a82010a0d33342e38332e3131322e31313610a388031a05302e302e362803320218063a603634383636383562346536653063623936333437326330316665393939333166643965346334343838376261383334323361653766656564323264363438343834636638613362633563636361366133373338376266393664333836373238300a81010a0c35342e37302e3139322e333310a388031a05302e302e362803320218063a603634383636383562346536653063623936333437326330316665393939333166643965346334343838376261383334323361653766656564323264363438343834636638613362633563636361366133373338376266393664333836373238300a81010a0c35322e3138332e34352e363510a388031a05302e302e362803320218063a603634383636383562346536653063623936333437326330316665393939333166643965346334343838376261383334323361653766656564323264363438343834636638613362633563636361366133373338376266393664333836373238300a80010a0b33342e39342e3136302e3410a388031a05302e302e372804320218073a603339653930393931356138353238303330313534613663373730393530633762343737376261343031333537633065363138373635343231356363323061616363646438653566663239653963346439356366343130316661363862653435630a83010a0e35342e3137362e3139392e31303910a388031a05302e302e372804320218073a603339653930393931356138353238303330313534613663373730393530633762343737376261343031333537633065363138373635343231356363323061616363646438653566663239653963346439356366343130316661363862653435630a82010a0d31332e36342e3138312e31333610a388031a05302e302e372804320218073a603339653930393931356138353238303330313534613663373730393530633762343737376261343031333537633065363138373635343231356363323061616363646438653566663239653963346439356366343130316661363862653435630a83010a0e33342e3130362e3130322e32313810a388031a05302e302e382805320218083a606134343837346137616131623337373431613037316164616165373866623135326236393664316335386438646566626531643832333034353332613063303139656539366363313964373536383635373864333961316536633331613165650a82010a0d33352e3135352e34392e31343710a388031a05302e302e382805320218083a606134343837346137616131623337373431613037316164616165373866623135326236393664316335386438646566626531643832333034353332613063303139656539366363313964373536383635373864333961316536633331613165650a81010a0c31332e37382e3233382e333210a388031a05302e302e382805320218083a606134343837346137616131623337373431613037316164616165373866623135326236393664316335386438646566626531643832333034353332613063303139656539366363313964373536383635373864333961316536633331613165650a83010a0e33342e3133332e3139372e32333010a388031a05302e302e392806320218093a603639383332613733613336303265386431666265356164353864316332363337613162363732643731656538376166313064623634386562393161666232323832353362316634376535376433643461343466663534376233333934616132320a82010a0d35322e31342e3235322e32303710a388031a05302e302e392806320218093a603639383332613733613336303265386431666265356164353864316332363337613162363732643731656538376166313064623634386562393161666232323832353362316634376535376433643461343466663534376233333934616132320a82010a0d35322e3136352e31372e32333110a388031a05302e302e392806320218093a60363938333261373361333630326538643166626535616435386431633236333761316236373264373165653837616631306462363438656239316166623232383235336231663437653537643364346134346666353437623333393461613232"))),MAINNET_ADDRESS_BOOK=NodeAddressBook._fromProtobuf(lib.NodeAddressBook.decode(decode$1("0ab70722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030633435363165336332373863643635306538306334313363613434343233633163336331336366313437356636663639373664353937616534333262343961623432303836623739623834313332363035346238623364636635376438666364373962666330353831383363613234636434633163626335373465643131313765326635623762336336336365376230366439623465666366373337353633376234316665366635336338313162396465363134336633613532393537636466393536373735313230623333373033666635373632313430376162393537356263326433356330643434663039383366633165663633613466663532303966303730633932616631303632393536303163393662636564303634656331393031393730313963363831316334633864643830636234663461633731663961643736653761633839343536666266346630313166393061626432643930353336653832333436353166366265663932376533643564386237626634353930353039383362656361336162656632613964393761663334353737326137373430653936393932373562303138656130646632383661646436636539323365663930386662653736326137356632313131363836326462343464336463613164343462346432653864633130363663353030366262356137643935346164323535643462363033323733343735653531316165623438356430363961303637633061623563323435333863393333633036623561366165666139343030356332393135323133653463636461653663393432663632373266396464353238326436623839306631663230656664323339396364363734393234666135373034366163366461333265373339353161373331313365393166633262376666323965343835316238336666333966383362613965633666303863656664626236636262626666616266646661613931643933306637323030646134383133376333393463626431336537303165636463323631366664323162616436383161613466303031303230333031303030312804320218073a603665396138616263646364653665313134396133656265313766643538643839303538333961383664623732623036613365613230616131373666383638623235343838353261653432336437613963366237636666396537313436323961320ab70722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030613163343037373135343330336363373263346662373639326333663934323531626465633132333961316637613839373261626539316133353332336662656361363235613766666165363430366338353564633261663231313039303062306466306536653664623736333634646661316666653835656461353637393336653239383562383536333461333261613532613635393964643663333062653166376136633562386635656563616632363231643861343539363832666364326462616164313536316431316633336663636237663535303061633536386431363564626561616365333238366432383934663634313239643738316436633732666437643539396339653164336166346161343333633233623931306661653463343834313634316636313532366164373837656265613533393837343136376539643361373363633066623135363432396431356563373633613664306630363131356137396239616637383364373762393864383330393661613437343366393734303864396531346263663464646666653435393137363838343762343063623864613763613337353235366432623933356430393566653235326661653831666636653337663834643761393064376535373061346638656633633764373636656564613437326630393230313939303135613839303832353961383733633534353466636262646361643265353238646538353435356234303833633764633461646335613938386530636464666463313539643564373132616264353434616137336563303239303839383134633938613434663236666330363434363539633138336533313834616132373266386431646330626661336530613536303438346362303535626134646262356363333339656338306264313164363432646333613730326538633730336162323139333038346439626436336630646665313261343333633235373665616637383163666164383637656637306264613631373638623262656631346635306336633362386230393666303230333031303030312805320218083a606464336233653763643361323537643832373665343635333533363162303138623730303931663438363635653832303031306538316563303539326236396264346265316662643765636435303964303730313364643034313238343266640ab70722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030623263636163363561643066633736343561383137626661626334383761643765343133313165376133313938623337666238343264383463333935623366363764366264383438663130633666303363323930653866376461613864303031613834343164633335326131393136306133313933653638623832656466313961653637363933613961333364346362383765373839613130373037313535313565613737326361613862383661353639623931633534353038333564396333353466306461636563393766653737303931623435623134373639386237663836303134323264636432323631653932386465346461633963343264636261666466393663303732333362613330323730373666333763393639653865643330623662356438663530333462653764393263353936663862653836316535316663633361323432626639643862653965326139653865306631353565626366663233656666613763643537633130353432383131643830373736633935383535323666646230656161333465653139353564353131313933393066653837336534633034646564643239313635383834623938623436333038373838616537666334643461613461386663396263323637346261333231343933623632343435356164343130633164653731626339356431643931666130663230313431386137393565333039656166323937623639396266323763396661323736336364353963656230323165313662383230306331303630663238313766643833636663373637313833343839343631653335393932393162333830643665393339626161346231393233326136613237326464653635316638303436666463333464623237366137373764366662326265633332353562326363323434623461663536366231303566333063363530366464616530656233646564646366393437626362396336306530303039383466336234613863366334656434626639306263313933326237663934646333616536623336303030386562393032303430663962303230333031303030312802320218053a603561383634313561303861306138323566336232656237353031303135353230326533313234336665343161303333333834653738633138633131653565386632303964343933623062326664343565303662333734663262363964663564370ab70722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030613365333762373663366364356636363232643639323434343464313263363737633339356632623539303266336262393862386138623530353561373037373036636130323863643735303630613264383730326432643862303439343762646366653061386331343161613238343462316530366536363139303031326538623633323661623066613331373937336263376362346432393439663231303861613034633462306339316261613537323866356235363232656337356162663537386131663762343165646532613637656264363963313865353831666466396336303230616330646539636132633331663063363436393030333331316662623563653764623439633738376531613764323761613432356565376238346461376536363933396639633830643065383266636535356530326466633862356337383431386132366161343336353036393837313962616663656366306264343930303061646463666134303537303862646265666262313937343964323264616230303765343464343565613233623130366638383334633135326532353036326434636632346666323533353663376562333732393130353339336662343962616239303461303266306630626234313763643931396433353238393031323865366262666634666163396639306465313138613937346632613664643031653033326137396231373866363066613166636262643032623537303466623436323935633135313930383136333733656464363633356338353639373866316239353033663166373362346230626538616261326564316665656164353939353362663832656664653933613334373161626435356364613362613861363733666262333739393734396662303036643030336630653633663636356333343631643261376232396463386232303462613539613635363638613436616532383738663030643166393439306466396532383066656266343331356561303465616135363861336139666434386336326336336236656364613639303230333031303030312803320218063a606434363430333938303337393230373965636364356134343331316361306463323262353065633839356235366535336431326232396637326463366462613363616665326535623831303466626461303338616635623434376430666231320ab70722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030393361323135636334613761373232636165396331336162643633366466393963636565633661663964623436623639666135313637313665663530636532343930613938316530396162303139636132636234363831316235623631396431626431643565653666343661343263373737636264656536343261313438346563646635646464333732393634326333386336643433613838353838373434373566353832343434333636346330346466656439623839303435666230383565323563336566636234383431373333656666376335323963313339653639333530633263643739623263386431393637396137313265346538636166643332363735343162383332623365313061303132353564656636396466316539643362386438656166303331316465363764356531326232366464303164626264396433653432643335643964653237313330326530663166363964383763626337616361396538383637653964343238643363616230363636656234393064356662616233306266663366373835643033663230373261343362623962356535343635366135393263623631656166643561356566323834633763616563363666376634373332356363306434633164323766363631643861373438636135303731633036656631333464666639366634303836363838333636643436386132343738303031376530623536616261376661623433623362376330623737393036666165353438326633323831316332393265366231343435346531346238393438303161383661303363633437373934646430643734353237613732653432346564336166613034383939656362396136336632613961653732626537666139383961646630643635613332633835316439383031666334313034386466333335363466633762333137303765633866623830313430666537623761316661313230626131636236363033323463656666623462636332643962623764653063663534633831396632646433626365616465633963323566356531396463396231303230333031303030312806320218093a603365303261363732306334343636353965383633303564353562666565383230623335653635306665636163633535333039373435356532633465303332636339646564313662316262343464336235393262626163623663326266663165360ab70722cc063330383230316132333030643036303932613836343838366637306430313031303130353030303338323031386630303330383230313861303238323031383130303930323539663465336439663066333934323536353438653963373330386231306237333430336363393039346439376164313531623737303631373062393737326365623634643636326563656639303161386437643135643331396135396338623731303731616363643839356237633933363130646336393736663637633465313732396261383337336162376535326133663363386632363534393164646536396436653039393934373065373434353938313133316264393663333665363836353230336662326562643564353065616461666237323633393664656331643931373438393862346539626530346337346433303466656164643963626433323334633362376633333036633939636230633333396663323539363962343164353861326237636663313833326532323664383163313936333939336532323535613038376431363938633033643432313062643634353830363434643039356361373661613137393465646434306331633837623566383261386533396636303365393731313662613034353738653765383033343634393564373835643465663763663737313462396562366635663965306239613934663462373338383436313962393237346434613935656631353735346138396439376566356331613838623664363933653061383065626435333766633963663063613931643163363264393135646537656438313862393532653634633230303239336565386532383461343136613732613365313266633764343233623135386639623439363630636263323436366662656430666564326532346531303266646539343265623463666439346265633436643364393066633038633339666563626130336530636132343634616536363462393739353135626132396531663730326333666537303262653739333739366438656462313761613438633039323930623032343534396630363131663561653233656437653136343432646637643164616432323836633262623039643535323264643365643639386332663032303330313030303128093202180c3a606339373462623938326338313931336237333236643561336639646363343836313261313566376161643032663230376230663130636432303137613666626666353830336537636139626662343730396162323862366230396435623133660ab70722cc063330383230316132333030643036303932613836343838366637306430313031303130353030303338323031386630303330383230313861303238323031383130303962646438653834666164616133353332666334636530316138613137643463336232333266353061393739306532363236383465646334383233653831356131626435623230656365613762663536653239663662623762383331666233626636656663643134373566306238656435666662306231333835623936643136366236323966303339366138666566356630366534626361323565653461313334306565323633613464396262303230643866343732333036663364383836313338646537613031396530353962643061666339303263636261316132313361653264616136306338613031333735356665306134386530333466356234303233613264616465616138386335343836383335336163376137613364663132623266623634313837373465396231346265366561623863633237623838303132616436313632646137346530656562313631333539303566343337333734646162383538366437353061323662626433616332346165643837386334643533653635313037326338373165393464376163633537356339363733383137333461353366656166346437626136626364643234316363363435386336303837643836333032616132353163303466366435366239633332643764393636323437353065643035353738356430373733663433646330393962323863393232383131343865366338316632393766663964313636653030306163303462333132343138363737356663656637356635656261306331303332626631333064663663643761343632313164306466336530353834643932656136373334396438343930353038656234656638386635346338633364343836646538373139663130666139366665623835636337393630373663613738313331386565326439656439303363613133333630343063353961643931613464326636393865393130386165306564623962316362393561643333623139376666623138626431626138623536636265653261616539353835656365323038613165313462343835363436333032303330313030303128083202180b3a603937303834333033333130373866353638326337663332343464383263336233653238316139313837393537386465656163646363326132656265353431616631383831313561643265383338363565356635643234376234613138633165650ab50722cc0633303832303161323330306430363039326138363438383666373064303130313031303530303033383230313866303033303832303138613032383230313831303039303938383635646566326632616233373663376630663733386331643837613237616330316166643030383632306333356362366562666362623063333330303331393361333838633334366433303233313732373031323139336262373666643330303462383634333132633638396566353231336362623930313130313530396465616239346632366137333265363337393239646134633463623332353137653361646262333831316435306163346337376331666365386236353136303632313566333437303766336537323635353435653538633839343630396532383337366264623737373566653330343339653065313539326664636230633365653163333035373733643037326136623839353765616663653161313162653936356564616666333834333336366362366134346563323561383930313036653632343735363766373662353530666461343832626165633633303764363938656338383834316664363666323366323130653437623861396463626136626134653166613731366462333363383065333038313934393664636235653536303966623665376336313533373962646465643432376539323331623932353463326261663934333630386138366436393861653961336338363339646638383764366636623561373133383564323433333864393131613231326266373166316532616363386231383662393665633865363963383662366430353832313737373661303963396336383935336564623539313635373862356132363362326634363965336230633037656164613731613434376565613766386663316262383037343235353536376237663062643165366166623033353837313863393862343239653234623232393835393666633736636636616633393663613934333464373932366563376433376434623932616635366434356665666638313936303935323234613931366331666665366236363765323535666333616338636363656639323064633034346232353030333133326238373830363734326630323033303130303031320218033a603333373339306438666561313434616663313265383132353461323864616336656138323839333833366163303732656666643835653061373734383538306566323830393636343863356137663864626234636538313437363831353133370ab70722cc063330383230316132333030643036303932613836343838366637306430313031303130353030303338323031386630303330383230313861303238323031383130306335376564623966663237366530323362323830323163623164383763646631393636623639386366343865346561616137633639323037376365656538636362323339613463393231353937653865383966376363303564336633313331353738393736633465333134343035643461346530336137323431306335633039636135323761643561383562393938363337653732613332653166626330643535343662323436356539653830366332646435303965623035306162356662323730363366643932383135623164643236383965323131316361656236663534396539346139663030663038323164346361366336613631313766356135333363393236336266303734613330643563626566353064316338633233383762636139373265646564613039383362356430613662353764636230303230303036383238623430653430373662343837306232346261643834303536656535326235663432326538383430303238633235303036333832643865396336363132323566346637366561373265333430363037653966633666336332303433333037366131636138636231356564303361633839363664303530376263646536383165346530323331656539663837643131316537623438616338663934643264383432623532646637336635373363633534313439363437393763363236393638666661653734313866336236313039623561306630396533323233663461346435653335303964643235303133386636626331376266366365636531373539343433306466313830613338653930616466326166666266616430633662386331623837663137386130363164636662666638623932633931363664383734633166663561663466626364626665386539643039393337306464663630626537343736333364333665653465623563643531663665336333333965313531653431626462356135636532633863393761306134336233636434636330383138383463383739663964326633373438343238633835373366313763393066336362643032303330313030303128073202180a3a603734306166366266373339653838336338386633333434633961306638623330316533396463393831633531363365306465326133666634326239396534323665643765353662363766343231383530333834356466363266343963396662300ab70722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030393133316161333638663933343532323966393762363235396363636166666561323365303063643565616430326533663639366331653731346565333933396461643836306533386266393561323937346639656234386539333433663861616334303565613935356430353332336531313762336231633934383133613361663432666538303832633364343362616631626434643833363765393364623030616436393665363237613130333661653533346630313165616435653536663337613666666534346236623965303939343031313932616435363061303334366234316138313030393566356632643766643332643665656236353562613735386336623532366331323933383661663731393763376135336165363033643632323833323235343936316631366430656661383037396137363835363138383862653733333439323231373935366262636166616562623631333563356662623234383464356234613566646630333336616330326532366331363532633162643865616633306461653164366433656230306637623466616238643634373866653864393565623931316466393636613064656134653532326462373662383936363537306563633561663039353136343234663061663566386565363665333836643536353037313339393731363961633337353733626635326664303538646539356162326666363865363831313161623233343035656139363462326262383864303263306631636165643731656364643465346534303835393438373666646238353030626335356337626130323036366530356162393864396637653034363664393730326562353765653337323266386663633835613735353035666633323632313730323838623738383732336164623937653464653536323063633930656164313338326663643735373138383966656662313165363737316263336636663366656231396337616335343238373864303361393032373035323663336565643234393465666635346531353363613966363839303230333031303030312801320218043a603765616236393661623935343336363538626331346666366234626534643932356364353162323230646632613164356336656531363061646166323961353165363934646533656531383463653232656164386437646239333231383266330ab70722cc0633303832303161323330306430363039326138363438383666373064303130313031303530303033383230313866303033303832303138613032383230313831303038326465373330363566333466666332393334306435393439643232323062316534333636656435636637633665626436313663663934313661353365613030313766366262313136626664336633646566636331356237613464646630653434643032666536393536383830353365373961373730653230316263663731393333393030333965653866303836643466613734366337653035363931383330316639623565383465333932363238323830383561373962333232626361306235643835666539373232316132366262646532353863363230663064636561303261623165646431366363343961336632616239323838653364643166333764633462366136663731333366663932653534316337316237306432613266363664353537323561623138626638366430303965633364323466356431326530623565363830326431313531333732643462373634656265636234616638326636343934383565633537623561303164633637393538663561303363636161623763626139333534613137333732633133313662613437633935336161663934393031623366386332346536613361666436373538653766336231343363653264643363623037316232613734633932316365653934396134623561366265383739663163373930613662386436336231393264376565323961393439316664643638396139386330613763336436303332306631623461633264363232396466643934653432663361363034386137366265316562393538633861313837336265386433333861656339666335396162376633373632363738393430326331666435393566313930383735373565306265383237666334633061346662336433393361643734613934396363393836626662363463616264646165353339333566366463353630373464623933643737656133623831366264643662653533343439373237323238393835396666333463653531383630616666623632316431303438376463333834336631663836643534303334613633653438613161306430323033303130303031280a3202180d3a606132656363316232616539386264323862633161303864386633373161306434663734356337363864306337373339363235363265333433623235643833343235656565613765663865613134323935333432623865623738643332656333660ab70722cc0633303832303161323330306430363039326138363438383666373064303130313031303530303033383230313866303033303832303138613032383230313831303039383735356134303862353332316532363330353230303064366437643461326333613535346435653133383461396362356562663437346165383832633633623438366264303864313434646466316139346365396137643632353139363330303661666461616334353838343666313736343031393566653235333961363536393330656661383534663231343865363865633161303863316334396432303063336633303435666537313437663036643533346334626432363231303063623164643339373339643736306438316130626432306638336632353564323530376434636362313130366235333631386336613934343039633838376361653236326434636565396338363233323134376365633134303465306335376262613733313731333065653339363433383838616633643539386564643832623863363165363561653831613465316135366263303664333937313433613938643431636138376433656634333365663061656162363830313139316233653338343830393638663636623665383836363261663435613965323132393934663638623238386562393637626562393834373863323433653231333663316131353931663036316635626330346232316666326261343862323966313834333130383838373362646665393966386135326539343038393731383536653830346465613630326133313137383663393835363532393633633361333737303332396234303966373466646663373436623232613566383431383931323037316334636538343663396234623332306665646636653962363465326362653338346639613832623661616164346232303930373433316466316133336636393230376135363536303062653831303730643038333239303039393538353961343439386435623539333135626365626566656538303765623061336139343266316364663333363764643434343466646232393838366566636464306265346162653961313838383033393533383735656461333364623732393839663736336230323033303130303031280b3202180e3a603139366237623132303739376364623361396430303362393833643537646131303331303662313733306531376636376532633762616161646234333738396166313639366461313031316232353362636263383630333333383566303332380ab70722cc0633303832303161323330306430363039326138363438383666373064303130313031303530303033383230313866303033303832303138613032383230313831303061396462376638626161313236383938666162373839313135613362356438393734346631393765323830343161653039386633653838366336393837313732316531316262306164313166336365393132346161393631643661306463383435663439373635633366616231393935383430323637366635363434363262663238316462613535383837383066303365393035373938653138343236396161613630663761313437323333316532666231646561646438373763383463626362363431636139653563386164366534356263313539636230373966636230643434396364636438643932333963316130343765376234343864613063646361323636313061323566323936643936653734363962363736643461343434353136653761353965383532393361383038366638343063303532383534653032613863623230303264616433353832356265346438336235326661393165386337336666303439373436313438383632373837633131313866393234643331636261633162343466656666323264343336623339373965616466396234336134626661373265313562343735356663616232363065303661323739633362623733626337663136613036306434643532326664343930353830333838616135393564383034343733366535323266363432343931356637383033623735383365303935636466373863333235313936393764653831623839666235303035343735336231613137663961616662303634643834633939326639616231316363626338636231303831346463616635323634616134356632316264656661633832636361636161663335386533313337336565316261346537343032666438613730656130633238636135636337346463343235313063393639636432633435396231656333363838613031656133396139393237313063643232393763393861383462363334386135373738303466646332333464336665313930336532633231653137326461323862353961653665346337653865646438623731633439643730323033303130303031280c3202180f3a603538343661353366343437353239666439636462373830346364333136383865643665656265336236336461326635663231316666626337333731393763663366316366626664613631626537643135313066306539323339383131376637340ab70722cc0633303832303161323330306430363039326138363438383666373064303130313031303530303033383230313866303033303832303138613032383230313831303061386365616333363765623166316465356630643965663365616630646639623938343438666532303830383437363536326130363063353163323839373730623463616366653932636236353536393832336539363263326132633966656435336264333663613361313232646531633532356135383266323561346437643632386331613364356264623839333661656365373531306537353534656537303333303235633039326338323865656235373338626530326564393633646138316135393230353633346365393435343537376162383266343066313366316565353565306165373237653233633330323834623166343462393961636534646463356639616337616438386439666132323535393335623234646362613834303036343265313663663235333263306230643638393239303436303837313563343037366634366438346130653066656433366537366363646339363335356537613236313630393435633262353461653236636330306664303832333236333436656565656137646437356639313931316539396462636239396561346163366261303536633333323238643838316438353833316439636338373935393364613137343664643065653935646332623936666539336261666366663263643764393239353864373864663333663230356437313135656439666163346462366634636336306535366135343431646135623562353566613539393939303265393538613662366334346438313064646335363138313234316238376632326630353961363838306538303231373336643031383937646236353434396365383137613233373564303335353163623064653530376336303961306338303330656366346266646562323133633033646161373634613138323162373234333334663731663736386437616563623237373035326137303333373635663037323138303536633738663261383761663138333836643866363161356366636233663262613464643539393135663133643338363334643136393537353730323033303130303031280d320218103a603030306162636435396133306135333838633530306265363832663663613239343034363239356339323735383831633230643334626230643639306564613762333862366262643037613364643166646662366137303434626230396366660ab70722cc0633303832303161323330306430363039326138363438383666373064303130313031303530303033383230313866303033303832303138613032383230313831303061663062393134323537626637613436353563346135306430636164356530613165343538316564363632336630653837333066373936623866323963353831373862636363363933326331666333316633396566343462383264336334336233393837333733373366656362313239353232386130346664353061313466333634366438346665316634363763616562393864343633653239373565393935623864326531653339663362663661646463323561653335643635643032363038653033343535333739363665326162636534396238313462656164336331623735373137346165333063303062306334336539396238303439366237326433633133316631633665346663646130356632383131376566396532386334333033626534643863376530343264353862383363633132313934356132633635653739363263616139313835393338663337353764663763636139356366303262356533313934346133613631396130616333663165333462396230313364346332323463346631653730666439666433363938336566383661646535313833363263633833323263306637623631613961633735666238326537623836643638626330663039396130396131346361633561316438643338663961386137306363333766663563633362626432373432666664313436323535633137316536613137383038333237316463653066646536383165643439326362353962303739366432373031373538333864633539303831303765336136656133663961343036623364313133306363656333623437393165343962626332333136303362343661623264306639336434336265373561623961346437313065613934306532383561376231353362306361376364646565366439646365306164383335306334316439306332313562393538383531356166613061633333363561653037653831663362626233366264626561633462333162636231616134653832353635623937376639646164383564363236656566396161613965663864376533666230323033303130303031280e320218113a603933653238313031303462326231376230303935326235613431303264333365646230343363623136646533616433643364363832363066353562623065353837333765613539343463333338663763386362383863373833336663383630630ab70722cc0633303832303161323330306430363039326138363438383666373064303130313031303530303033383230313866303033303832303138613032383230313831303038633037626533303561643630623930626132646162333962306565373736306531613232663835373532323534306437306230336233663965343837356133613239616230383038386631343466353765623235326534366261353933383564306536643432373031313764613061626331623362383036393463396135303538623836643631646661303665373136373039633838653866656163376333613065316432356663306165626636613866373666636239396638343566653138313436316361623638353862393763336134303237666233373132623134653663303738396465313764343137363435373765353131343137656231363236393265623037616531653733353532333565396262343339303437623663303136313337383265376464366636303464616134363734363631643533393631663436633366616136623765373637363264333733623562353432623739656139363365666266333361633638313938626232623636316366663637363931366566333732616434633236633231366334626334373837633834656333326431383464373763373531383663303963663364396639313433336361393835333131396261623331666136616432366634353365353936643962646563613638613537363962633866656537613533356438306338633666336566623164666232383861623661393739383534623763653833313234656330643130326166663934633362373466396333373839353863323565623933336464353363316538303561313836353464366439313836393930663635373034323966393630663334653862346637666439393732646362666539323430653037346461326433353561356637656639633161663632656635393832613831373435373862396331356334396563353636626461636233306363666365663039636466653730386164343837343234653963316265363533663965653736363065376439343263316566613564613238366531616464616230366139613333663964653934363739356230323033303130303031280f320218123a603934383235313739643163333934303137306233356432363665346366613830643737386335653966356261653764653833666638636334373431663362653336616336336431653761653439373261656466366263316533636632303638390ab70722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030626531376339393634376365633635613434343037623533353835366233633362616566356235346635363561663538623834353662613863376365353335643561633732633631633434633736623363353763386538363438343136333762653130613833636665333963303932343736643064626534643663646364636437323061333062356266656235316130316131386635383263343566366338363939336663663764663138323933356465316438363930363034346463663335313836393335643962643765656137393532333532626562623465663961653066373636316537306134323337616661393839393636383763613438666366633562303064333830376630353462653066613863336266613432353033386265366566323935313634663232663733623765383863393465613962653861613466336132343563383962396431666435313932663761353062393538623265663831303462333666316266386664326366623238633134323138303063316334376534656639386166313530303730636336643639643137653865623932663138613661613161363532363661343935323338643130336638663639356235376563663337333635306130353230303837343537323162656138313536323739363763383037363336356466386334633761376434646438663263333835306331386662613731656236306536653864666264313936653035333766643730623334346563626363353330646663383364613666656466343964353161393034313935303262613964373063643335663163663363303639346532333534663930363466646266353335656232336332376330613433643062373863316638363763363164393836393564386465663762633261313062623636373463323266363661616230613931383133646466323763646238353263353965663739653162396531613037356661366565323761376533373734646266346232363436353432376536643561623931666537663066336137313738346563613138326235303230333031303030312810320218133a603038393039376465663031623037633764393734613537353532353161366161613061666236623332613534353334336432393138653732626164303433323163313131633234643432373538306633626131653236616139643735653632360ab70722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030613561643262373634336130346330353564326638636432353131623135313339666334353537353632313338386534396331313962326633393861636131313066363133393662306338363664653530363335323262623835343032373365313366366439346365316536303433386636616662303061616136343631326637313435653962636538626331613533623934313931336161373663396633613238333366616437636632383563376163326433376639396633633263646234396465346431353165363136373835363466323831663534313432346234316661376335316232613936303232383363376433326565303065623833386461313563333861666339366530363164393763656465323231363566663161613935396631633432373562326430393863343035383661353537396662623363623930303732373034313230613861363661353237306634666366643130383663393233363930613335653766643434356533336163303366313339633638363835353635373063646334616166323231303761366331613434323435366137633663373965653034303930653765356434663636626361363063613166343762366466623534336461633363626631396137373139613866353562366638336234613362386136366436303235366430613436353531666137303234626430353633316238613535383038373732353463326632663236386364633333643264626263666237333365396662653233336262396362353961623331613031343862323365386334323638306666313061663463373961346430383334366662373961393364393632393534386561663162623132343639386661656661346364643732343432633033613034623733333433326637343839303361333235633238336434353661623961653932316165376564333339316535643137383765666463323335343061376238356336393161653837306130376639306231316331336233326365343365616564313562333639363835636534393137376363393835303230333031303030312811320218143a603939666162633461646534653636326336653238323366346139366562323134343034383465356136643064333132623730633036386432326236323936333830376332333361343964626239383361376562623330653737303637373261340ab70722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030386434356332316330633935656636356130323964353263393537666430663835663230313233646130333465363136373164646565353437356630373338326136366336366362346463353035303464646664333735383130383364663864313735373733306564386436663336346466346333366132363531353931393535646132303161323430376661386162396232333133383131323235613064613233306662653338306530393061613536656661346632303265633962343832336636353031643936616336393865626632366161636633656532643166333261373231633934376531303736636633356233373364613164383761333661313532653030653731303131373932323832653832356666313731633538333362383835373062666336646138343439653666393566386231323635616235353531393430333135353364316435373666393363343263306361363061616261633463386464313632643831313466326232313531313538336337323533396665353663343939613932396465336134306130643435633137633538396332643739383863653236656166633932613364333762376561303034326434336530336166613632373162323632353561366363636661653533373138323164383165306230356332353062353966306139303734316130653065383861303965643536633562393738306430393566303930366630623831643531323633393832616165303131333663303732643834346131316436646134623261363163363434653161623137663136666634386565323366656465383435326631653432653264333061303739306332356434323036306531643434613637316132656232336431313466363863373165333366313736646235386136386234333030353462633164323938336132336133326561366666393566613763346438653338306562323936653938623739363865636638343534643831376337333765656135646439323165623836633136633762323933303461346137656362653561336131303230333031303030312812320218153a606537396165396337313933643164326263393433383436346338616135663632323461653835323936366134336239383235383833663766373432633533393562643330393935383761393638363662393233396431656666336165353037610ab70722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030623035616265326162303066646430366339353565383637313062306530366631613932363234613438616431636263386466633666323231323936326230633330666462643238346133376335613337363538623633633336656138313632353631613865346639343663626535373232633032383830316630663238316337306638643838633763303061326632653239663539376237393938363965643833353664663537633437626539393434613261616666363530663962346262613064626335336463383830666462623639656134353139303564323830323230326638653239633034613736643237616632656237633534383438356266336634363934633930633431383130383838383433373932383438383335663738313637303764336538643736663465363766353738306263663038383133633535656336333961396264363234313738663565623134376435303061663335316539656631623165333432343834636132363064623763636261653438366631336366323635623562316162363838303636303038303533623230633364656463653737316339613038613033323061613963653435316562396439383361376234396361613130393666386164633039383331386463333865306537636566306438653564353537613036373536383561316339653235366132626339646261333232623362623331373263663731343037376263333830663861306134333361386266613766626663353966366230393365633862663665393339376330396231386531383034306331623536363836343733376338666137653239373935663361343538386464613763326261623439353636356363346139623833366532656239306336326133666361663539316662356638313830346337363138306536323666613236343461376465333435313164366334363637643938393337653237373333663464316539313338383333353465353466643733353137323165373666376235366333343833333838663461366238376232386165626562303230333031303030312813320218163a603962343038383566313362366163316337353336393262613366313739303061333838333165363934613061663937343934623834333838323039636235656662646339386136646162623265316337313833393166633133356264616163330ab70722cc06333038323031613233303064303630393261383634383836663730643031303130313035303030333832303138663030333038323031386130323832303138313030396463643863306135336539306333353539353734663636323034313137643362353033653530613336643330393766616338343239653663656364333762623534303731383038663265653938323033356638353161306339626532313736333833613232653338633161626131363866333266393035373063623332333363666536323539383736363661663637623531346361656632316662386466366430666364333363663236303662393264646561353533366236303638643836373832653339626435633338343435393931643431396237643165633038353939343132633039343964316332343062333563313464633535323734646261373166666165393336313235613566383139663534313332653234333964346163353539373939366563653835653133646666333336316639313331663536636561633562396635353262343963663666396139616336653564636532646233363934363266393361663830653562353662366538626566613136326130363162346137363839326264633834363437333036633630303835386664643237303332373663326337303434303139386566643766653335343563663261623538306337346366643634343561616637626437663734356363323532656162643236356561626565383632343137313034653639343861353537353666646332323264663061313031353234646531633363303863636630343330313165633766653936346564643834353161313330313437633037333633613335663131666465656638663261326237363137353762343335386666383962373561343864363762646336303930363933653062623836373965636262393366666462336633656439366265633933656634363536653337313661623837636534366361386531323539633866656464653866326631656130663365623263343865393635353164653132333330333435373235663435656436396338353735623531363833616661343732363231383236646232326262326431633466316533363436346139303230333031303030312814320218173a60346630613033333466393737363738313632663830643936376637323139313431333630633062376637663033316233376336396536323137333933336564616434366263626139373636376565373262666435613933346261313532326330")));class MangedNetwork{constructor(t){this._network=new Map,this._nodes=[],this._createNetworkChannel=t,this._ledgerId=null,this._minBackoff=8e3,this._maxBackoff=36e5,this._maxNodeAttempts=-1,this._transportSecurity=!1}isTransportSecurity(){return this._transportSecurity}setTransportSecurity(t){if(this._transportSecurity!=t){this._network.clear();for(let e=0;e<this._nodes.length;e++){let Q=this._nodes[e];Q.close(),Q=t?Q.toSecure().setCert(null!=this._ledgerId?this._ledgerId._toStringForChecksum():""):Q.toInsecure(),this._nodes[e]=Q;const B=null!=this._network.get(Q.getKey())?this._network.get(Q.getKey()):[];B.push(Q),this._network.set(Q.getKey(),B)}}return this._transportSecurity=t,this}setNetworkName(t){return console.warn("Deprecated: Use `setLedgerId` instead"),this.setLedgerId(t)}get networkName(){return console.warn("Deprecated: Use `ledgerId` instead"),null!=this.ledgerId?this.ledgerId.toString():null}setLedgerId(t){return this._ledgerId="string"==typeof t?LedgerId.fromString(t):t,this}get ledgerId(){return null!=this._ledgerId?this._ledgerId:null}_createNodeFromNetworkEntry(t){throw new Error("not implemented")}_getNodesToRemove(t){throw new Error("not implemented")}_removeDeadNodes(){if(this._maxNodeAttempts>0)for(let t=this._nodes.length-1;t>=0;t--){this._nodes[t]._badGrpcStatusCount<this._maxNodeAttempts||this._closeNode(t)}}_getNumberOfMostHealthyNodes(t){this._removeDeadNodes(),this._nodes.sort(((t,e)=>t.compare(e)));for(const[,t]of this._network)t.sort(((t,e)=>t.compare(e)));const e=[],Q=new Set;for(const B of this._nodes){if(Q.size>=t)break;Q.has(B.getKey())||(Q.add(B.getKey()),e.push(B))}return e}_closeNode(t){const e=this._nodes[t];e.close(),this._removeNodeFromNetwork(e),this._nodes.splice(t,1)}_removeNodeFromNetwork(t){const e=this._network.get(t.getKey());for(let Q=0;Q<e.length;Q++)if(e[Q]===t){e.splice(Q,1);break}0===e.length&&this._network.delete(t.getKey())}_setNetwork(t){for(const e of this._getNodesToRemove(t))this._closeNode(e);for(const[e,Q]of t){const t=this._createNodeFromNetworkEntry([e,Q]);this._nodes.push(t);const B=this._network.has(t.getKey())?this._network.get(t.getKey()):[];B.push(t),this._network.set(t.getKey(),B)}shuffle(this._nodes);for(const[,t]of this._network)shuffle(t);return this._ledgerId=null,this}get maxNodeAttempts(){return this._maxNodeAttempts}setMaxNodeAttempts(t){return this._maxNodeAttempts=t,this}get minBackoff(){return this._minBackoff}setMinBackoff(t){this._minBackoff=t;for(const e of this._nodes)e.setMinBackoff(t);return this}get maxBackoff(){return this._maxBackoff}setMaxBackoff(t){this._maxBackoff=t;for(const e of this._nodes)e.setMaxBackoff(t);return this}getNode(t){return this._network.get(t.toString())[0]}close(){for(const t of this._nodes)t.close();this._network.clear(),this._nodes=[]}}function shuffle(t){for(var e,Q,B=t.length;0!==B;)Q=Math.floor(Math.random()*B),e=t[B-=1],t[B]=t[Q],t[Q]=e}class Network$1 extends MangedNetwork{constructor(t){super(t),this._maxNodesPerTransaction=-1,this._addressBook=null}setNetwork(t){this._setNetwork(new Map(Object.entries(t).map((([t,e])=>[t,"string"==typeof e?AccountId.fromString(e):e]))))}get network(){var t={};for(const e of this._nodes)t[e.address.toString()]=e.accountId;return t}setNetworkName(t){switch(super.setLedgerId(t),t){case"mainnet":this._addressBook=MAINNET_ADDRESS_BOOK;break;case"testnet":this._addressBook=TESTNET_ADDRESS_BOOK;break;case"previewnet":this._addressBook=PREVIEWNET_ADDRESS_BOOK}if(null!=this._addressBook)for(const t of this._nodes)for(const e of this._addressBook.nodeAddresses)null!=e.accountId&&e.accountId.toString()===t.accountId.toString()&&t.setNodeAddress(e);return this}get networkName(){return null!=this._ledgerId?this._ledgerId.toString():null}_createNodeFromNetworkEntry(t){const e="string"==typeof t[1]?AccountId.fromString(t[1]):t[1];return new Node({newNode:{address:t[0],accountId:e,channelInitFunction:this._createNetworkChannel}}).setMinBackoff(this._minBackoff)}_getNodesToRemove(t){const e=[];for(let Q=this._nodes.length-1;Q>=0;Q--){const B=this._nodes[Q],s=t.get(B.address.toString());null!=s&&s.toString()===B.accountId.toString()||e.push(Q)}return e}_checkNetworkContainsEntry(t){for(const e of this._nodes)if(e.address.toString()===t[0])return!0;return!1}get maxNodesPerTransaction(){return this._maxNodesPerTransaction}setMaxNodesPerTransaction(t){return this._maxNodesPerTransaction=t,this}get maxNodeAttempts(){return this._maxNodeAttempts}setMaxNodeAttempts(t){return this._maxNodeAttempts=t,this}getNumberOfNodesForTransaction(){return this._maxNodesPerTransaction>0?this._maxNodesPerTransaction:(this._nodes.length+3-1)/3}getNodeAccountIdsForExecute(){return this._getNumberOfMostHealthyNodes(this.getNumberOfNodesForTransaction()).map((t=>t.accountId))}}class MirrorNode extends ManagedNode{constructor(t={}){super(t)}getKey(){return this._address.toString()}toInsecure(){return new MirrorNode({cloneNode:{node:this,address:this._address.toInsecure()}})}toSecure(){return new MirrorNode({cloneNode:{node:this,address:this._address.toSecure()}})}}class MirrorNetwork extends MangedNetwork{constructor(t){super(t)}setNetwork(t){this._setNetwork(new Map(t.map((t=>[t,t]))))}get network(){var t=[];for(const e of this._nodes)t.push(e.address.toString());return t}_createNodeFromNetworkEntry(t){return new MirrorNode({newNode:{address:t[1],channelInitFunction:this._createNetworkChannel}}).setMinBackoff(this._minBackoff)}_getNodesToRemove(t){const e=[],Q=Object.values(t);for(let t=this._nodes.length-1;t>=0;t--){const B=this._nodes[t];Q.includes(B.address.toString())||e.push(t)}return e}getNextMirrorNode(){if(null==this._createNetworkChannel)throw new Error("mirror network not supported on browser");return this._getNumberOfMostHealthyNodes(1)[0]}}class Client{constructor(t){this._mirrorNetwork=new MirrorNetwork(this._createMirrorNetworkChannel()),this._network=new Network$1(this._createNetworkChannel()),this._operator=null,this._defaultMaxTransactionFee=null,this._maxQueryPayment=new Hbar(1),null!=t&&null!=t.operator&&this.setOperator(t.operator.accountId,t.operator.privateKey),this._signOnDemand=!1,this._autoValidateChecksums=!1,this._maxAttempts=null,this._minBackoff=250,this._maxBackoff=8e3,this._defaultRegenerateTransactionId=!0,this._requestTimeout=null}setNetworkName(t){return console.warn("Deprecated: Use `setLedgerId` instead"),this.setLedgerId(t)}get networkName(){return console.warn("Deprecated: Use `ledgerId` instead"),null!=this.ledgerId?this.ledgerId.toString():null}setLedgerId(t){return this._network.setLedgerId("string"==typeof t?LedgerId.fromString(t):t),this}get ledgerId(){return null!=this._network._ledgerId?this._network.ledgerId:null}setNetwork(t){throw new Error("not implemented")}get network(){return this._network.network}setMirrorNetwork(t){throw new Error("not implemented")}get mirrorNetwork(){return this._mirrorNetwork.network}get signOnDemand(){return this._signOnDemand}setSignOnDemand(t){this._signOnDemand=t}isTransportSecurity(){return this._network.isTransportSecurity()}setTransportSecurity(t){return this._network.setTransportSecurity(t),this._mirrorNetwork.setTransportSecurity(t),this}setOperator(t,e){const Q="string"==typeof e?PrivateKey.fromString(e):e;return this.setOperatorWith(t,Q.publicKey,(t=>Promise.resolve(Q.sign(t))))}setOperatorWith(t,e,Q){const B=t instanceof AccountId?t:AccountId.fromString(t);return null!=this._network._ledgerId&&B.validateChecksum(this),this._operator={transactionSigner:Q,accountId:B,publicKey:e instanceof PublicKey?e:PublicKey.fromString(e)},this}setAutoValidateChecksums(t){return this._autoValidateChecksums=t,this}isAutoValidateChecksumsEnabled(){return this._autoValidateChecksums}get operatorAccountId(){return null!=this._operator?this._operator.accountId:null}get operatorPublicKey(){return null!=this._operator?this._operator.publicKey:null}get maxTransactionFee(){return this._defaultMaxTransactionFee}setMaxTransactionFee(t){return this._defaultMaxTransactionFee=t,this}get defaultMaxTransactionFee(){return this._defaultMaxTransactionFee}setDefaultMaxTransactionFee(t){return this._defaultMaxTransactionFee=t,this}get defaultRegenerateTransactionId(){return this._defaultRegenerateTransactionId}setDefaultRegenerateTransactionId(t){return this._defaultRegenerateTransactionId=t,this}get maxQueryPayment(){return this._maxQueryPayment}setMaxQueryPayment(t){return this._maxQueryPayment=t,this}get maxAttempts(){return null!=this._maxAttempts?this._maxAttempts:10}setMaxAttempts(t){return this._maxAttempts=t,this}get maxNodeAttempts(){return this._network.maxNodeAttempts}setMaxNodeAttempts(t){return this._network.setMaxNodeAttempts(t),this}get nodeWaitTime(){return this._network.minBackoff}setNodeWaitTime(t){return this._network.setMinBackoff(t),this}get maxNodesPerTransaction(){return this._network.maxNodesPerTransaction}setMaxNodesPerTransaction(t){return this._network.setMaxNodesPerTransaction(t),this}setMinBackoff(t){if(null==t)throw new Error("minBackoff cannot be null.");if(t>this._maxBackoff)throw new Error("minBackoff cannot be larger than maxBackoff.");return this._minBackoff=t,this}get minBackoff(){return this._minBackoff}setMaxBackoff(t){if(null==t)throw new Error("maxBackoff cannot be null.");if(t<this._minBackoff)throw new Error("maxBackoff cannot be smaller than minBackoff.");return this._maxBackoff=t,this}get maxBackoff(){return this._maxBackoff}setNodeMinBackoff(t){return this._network.setMinBackoff(t),this}get nodeMinBackoff(){return this._network.minBackoff}setNodeMaxBackoff(t){return this._network.setMaxBackoff(t),this}get nodeMaxBackoff(){return this._network.maxBackoff}setRequestTimeout(t){return this._requestTimeout=t,this}get requestTimeout(){return this._requestTimeout}async ping(t){try{await new AccountBalanceQuery({accountId:t}).setNodeAccountIds([t instanceof AccountId?t:AccountId.fromString(t)]).execute(this)}catch(t){}}async pingAll(){for(const t of Object.values(this._network.network))await this.ping(t)}close(){this._network.close(),this._mirrorNetwork.close()}_createNetworkChannel(){throw new Error("not implemented")}_createMirrorNetworkChannel(){throw new Error("not implemented")}}class Channel{constructor(){this._crypto=null,this._smartContract=null,this._file=null,this._consensus=null,this._freeze=null,this._network=null,this._token=null,this._schedule=null}close(){throw new Error("not implemented")}get crypto(){return null!=this._crypto||(this._crypto=lib.CryptoService.create(this._createUnaryClient("CryptoService"))),this._crypto}get smartContract(){return null!=this._smartContract||(this._smartContract=lib.SmartContractService.create(this._createUnaryClient("SmartContractService"))),this._smartContract}get file(){return null!=this._file||(this._file=lib.FileService.create(this._createUnaryClient("FileService"))),this._file}get consensus(){return null!=this._consensus||(this._consensus=lib.ConsensusService.create(this._createUnaryClient("ConsensusService"))),this._consensus}get freeze(){return null!=this._freeze||(this._freeze=lib.FreezeService.create(this._createUnaryClient("FreezeService"))),this._freeze}get network(){return null!=this._network||(this._network=lib.NetworkService.create(this._createUnaryClient("NetworkService"))),this._network}get token(){return null!=this._token||(this._token=lib.TokenService.create(this._createUnaryClient("TokenService"))),this._token}get schedule(){return null!=this._schedule||(this._schedule=lib.ScheduleService.create(this._createUnaryClient("ScheduleService"))),this._schedule}_createUnaryClient(t){throw new Error("not implemented")}}function encodeRequest(t){const e=new ArrayBuffer(t.byteLength+5);return new DataView(e,1,4).setUint32(0,t.length),new Uint8Array(e,5).set(t),e}function decodeUnaryResponse(t,e=0,Q=t.byteLength){const B=new DataView(t,e,Q);let s=0,F=null,U=0;for(;s<B.byteLength;){const e=B.getUint8(s+0)>>7,Q=B.getUint32(s+1),n=s+5;if(n+Q>B.byteLength)throw new Error("(BUG) unexpected frame length past the boundary");const c=new Uint8Array(t,B.byteOffset+n,Q);if(0===e){if(null!=F)throw new Error("(BUG) unexpectedly received more than one data frame");F=c}else{if(1!==e)throw new Error(`(BUG) unexpected frame type: ${e}`);{const t=decode(c),[e,Q]=t.split(":");if("grpc-status"!==e)throw new Error(`(BUG) unhandled trailer, ${t}`);U=parseInt(Q)}}s+=Q+5}if(0!==U)throw new Error(`(BUG) unhandled grpc-status: ${U}`);if(null==F)throw new Error("(BUG) unexpectedly received no response");return F}class WebChannel extends Channel{constructor(t){super(),this._address=t}close(){}_createUnaryClient(t){return async(e,Q,B)=>{const s=await fetch(`${this._address}/proto.${t}/${e.name}`,{method:"POST",headers:{"content-type":"application/grpc-web+proto","x-user-agent":"hedera-sdk-js/v2","x-grpc-web":"1"},body:encodeRequest(Q)});B(null,decodeUnaryResponse(await s.arrayBuffer()))}}}const Network={fromName(t){switch(t){case"mainnet":return Network.MAINNET;case"testnet":return Network.TESTNET;case"previewnet":return Network.PREVIEWNET;default:throw new Error(`unknown network name: ${t}`)}},MAINNET:{"https://grpc-web.myhbarwallet.com:443":new AccountId(3)},TESTNET:{"https://grpc-web.testnet.myhbarwallet.com:443":new AccountId(3)},PREVIEWNET:{"https://grpc-web.previewnet.myhbarwallet.com:443":new AccountId(3)}};class WebClient extends Client{constructor(t){if(super(t),null!=t)if("string"==typeof t.network)switch(t.network){case"mainnet":this.setNetwork(Network.MAINNET),this.setLedgerId(LedgerId.MAINNET);break;case"testnet":this.setNetwork(Network.TESTNET),this.setLedgerId(LedgerId.TESTNET);break;case"previewnet":this.setNetwork(Network.PREVIEWNET),this.setLedgerId(LedgerId.PREVIEWNET);break;default:throw new Error(`unknown network: ${t.network}`)}else null!=t.network&&this.setNetwork(t.network)}static fromConfig(t){return new WebClient("string"==typeof t?JSON.parse(t):t)}static forNetwork(t){return new WebClient({network:t})}static forName(t){return new WebClient({network:t})}static forMainnet(){return new WebClient({network:"mainnet"})}static forTestnet(){return new WebClient({network:"testnet"})}static forPreviewnet(){return new WebClient({network:"previewnet"})}setNetwork(t){if("string"==typeof t)switch(t){case"previewnet":this._network.setNetwork(Network.PREVIEWNET);break;case"testnet":this._network.setNetwork(Network.TESTNET);break;case"mainnet":this._network.setNetwork(Network.MAINNET)}else this._network.setNetwork(t)}setMirrorNetwork(t){return"string"==typeof t?this._mirrorNetwork.setNetwork([]):this._mirrorNetwork.setNetwork(t),this}_createNetworkChannel(){return t=>new WebChannel(t)}_createMirrorNetworkChannel(){return()=>{throw new Error("mirror support is not supported in browsers")}}}var events={exports:{}},R="object"==typeof Reflect?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function(t,e,Q){return Function.prototype.apply.call(t,e,Q)},ReflectOwnKeys;function ProcessEmitWarning(t){console&&console.warn&&console.warn(t)}ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var NumberIsNaN=Number.isNaN||function(t){return t!=t};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter,events.exports.once=once$2,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function _getMaxListeners(t){return void 0===t._maxListeners?EventEmitter.defaultMaxListeners:t._maxListeners}function _addListener(t,e,Q,B){var s,F,U;if(checkListener(Q),void 0===(F=t._events)?(F=t._events=Object.create(null),t._eventsCount=0):(void 0!==F.newListener&&(t.emit("newListener",e,Q.listener?Q.listener:Q),F=t._events),U=F[e]),void 0===U)U=F[e]=Q,++t._eventsCount;else if("function"==typeof U?U=F[e]=B?[Q,U]:[U,Q]:B?U.unshift(Q):U.push(Q),(s=_getMaxListeners(t))>0&&U.length>s&&!U.warned){U.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=t,n.type=e,n.count=U.length,ProcessEmitWarning(n)}return t}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(t,e,Q){var B={fired:!1,wrapFn:void 0,target:t,type:e,listener:Q},s=onceWrapper.bind(B);return s.listener=Q,B.wrapFn=s,s}function _listeners(t,e,Q){var B=t._events;if(void 0===B)return[];var s=B[e];return void 0===s?[]:"function"==typeof s?Q?[s.listener||s]:[s]:Q?unwrapListeners(s):arrayClone(s,s.length)}function listenerCount(t){var e=this._events;if(void 0!==e){var Q=e[t];if("function"==typeof Q)return 1;if(void 0!==Q)return Q.length}return 0}function arrayClone(t,e){for(var Q=new Array(e),B=0;B<e;++B)Q[B]=t[B];return Q}function spliceOne(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function unwrapListeners(t){for(var e=new Array(t.length),Q=0;Q<e.length;++Q)e[Q]=t[Q].listener||t[Q];return e}function once$2(t,e){return new Promise((function(Q,B){function s(Q){t.removeListener(e,F),B(Q)}function F(){"function"==typeof t.removeListener&&t.removeListener("error",s),Q([].slice.call(arguments))}eventTargetAgnosticAddListener(t,e,F,{once:!0}),"error"!==e&&addErrorHandlerIfEventEmitter(t,s,{once:!0})}))}function addErrorHandlerIfEventEmitter(t,e,Q){"function"==typeof t.on&&eventTargetAgnosticAddListener(t,"error",e,Q)}function eventTargetAgnosticAddListener(t,e,Q,B){if("function"==typeof t.on)B.once?t.once(e,Q):t.on(e,Q);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function s(F){B.once&&t.removeEventListener(e,s),Q(F)}))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(t){if("number"!=typeof t||t<0||NumberIsNaN(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");defaultMaxListeners=t}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||NumberIsNaN(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(t){for(var e=[],Q=1;Q<arguments.length;Q++)e.push(arguments[Q]);var B="error"===t,s=this._events;if(void 0!==s)B=B&&void 0===s.error;else if(!B)return!1;if(B){var F;if(e.length>0&&(F=e[0]),F instanceof Error)throw F;var U=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw U.context=F,U}var n=s[t];if(void 0===n)return!1;if("function"==typeof n)ReflectApply(n,this,e);else{var c=n.length,o=arrayClone(n,c);for(Q=0;Q<c;++Q)ReflectApply(o[Q],this,e)}return!0},EventEmitter.prototype.addListener=function(t,e){return _addListener(this,t,e,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(t,e){return _addListener(this,t,e,!0)},EventEmitter.prototype.once=function(t,e){return checkListener(e),this.on(t,_onceWrap(this,t,e)),this},EventEmitter.prototype.prependOnceListener=function(t,e){return checkListener(e),this.prependListener(t,_onceWrap(this,t,e)),this},EventEmitter.prototype.removeListener=function(t,e){var Q,B,s,F,U;if(checkListener(e),void 0===(B=this._events))return this;if(void 0===(Q=B[t]))return this;if(Q===e||Q.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete B[t],B.removeListener&&this.emit("removeListener",t,Q.listener||e));else if("function"!=typeof Q){for(s=-1,F=Q.length-1;F>=0;F--)if(Q[F]===e||Q[F].listener===e){U=Q[F].listener,s=F;break}if(s<0)return this;0===s?Q.shift():spliceOne(Q,s),1===Q.length&&(B[t]=Q[0]),void 0!==B.removeListener&&this.emit("removeListener",t,U||e)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(t){var e,Q,B;if(void 0===(Q=this._events))return this;if(void 0===Q.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Q[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete Q[t]),this;if(0===arguments.length){var s,F=Object.keys(Q);for(B=0;B<F.length;++B)"removeListener"!==(s=F[B])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=Q[t]))this.removeListener(t,e);else if(void 0!==e)for(B=e.length-1;B>=0;B--)this.removeListener(t,e[B]);return this},EventEmitter.prototype.listeners=function(t){return _listeners(this,t,!0)},EventEmitter.prototype.rawListeners=function(t){return _listeners(this,t,!1)},EventEmitter.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):listenerCount.call(t,e)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};const version$9="logger/5.6.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(Q){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const _normalizeError=_checkNormalize();var LogLevel,ErrorCode;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(LogLevel||(LogLevel={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const Q=t.toLowerCase();null==LogLevels[Q]&&this.throwArgumentError("invalid log level name","logLevel",t),_logLevel>LogLevels[Q]||console.log.apply(console,e)}debug(...t){this._log(Logger.levels.DEBUG,t)}info(...t){this._log(Logger.levels.INFO,t)}warn(...t){this._log(Logger.levels.WARNING,t)}makeError(t,e,Q){if(_censorErrors)return this.makeError("censored error",e,{});e||(e=Logger.errors.UNKNOWN_ERROR),Q||(Q={});const B=[];Object.keys(Q).forEach((t=>{const e=Q[t];try{if(e instanceof Uint8Array){let Q="";for(let t=0;t<e.length;t++)Q+=HEX[e[t]>>4],Q+=HEX[15&e[t]];B.push(t+"=Uint8Array(0x"+Q+")")}else B.push(t+"="+JSON.stringify(e))}catch(e){B.push(t+"="+JSON.stringify(Q[t].toString()))}})),B.push(`code=${e}`),B.push(`version=${this.version}`);const s=t;let F="";switch(e){case ErrorCode.NUMERIC_FAULT:{F="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":F+="-"+e;break;case"negative-power":case"negative-width":F+="-unsupported";break;case"unbound-bitwise-result":F+="-unbound-result"}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:F=e}F&&(t+=" [ See: https://links.ethers.org/v5-errors-"+F+" ]"),B.length&&(t+=" ("+B.join(", ")+")");const U=new Error(t);return U.reason=s,U.code=e,Object.keys(Q).forEach((function(t){U[t]=Q[t]})),U}throwError(t,e,Q){throw this.makeError(t,e,Q)}throwArgumentError(t,e,Q){return this.throwError(t,Logger.errors.INVALID_ARGUMENT,{argument:e,value:Q})}assert(t,e,Q,B){t||this.throwError(e,Q,B)}assertArgument(t,e,Q,B){t||this.throwArgumentError(e,Q,B)}checkNormalize(t){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,Q){Q=Q?": "+Q:"",t<e&&this.throwError("missing argument"+Q,Logger.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+Q,Logger.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Logger.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Logger.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$9)),_globalLogger}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!t)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!t,_permanentCensorErrors=!!e}static setLogLevel(t){const e=LogLevels[t.toLowerCase()];null!=e?_logLevel=e:Logger.globalLogger().warn("invalid log level - "+t)}static from(t){return new Logger(t)}}Logger.errors=ErrorCode,Logger.levels=LogLevel;const version$8="bytes/5.6.1",logger$9=new Logger(version$8);function isHexable(t){return!!t.toHexString}function addSlice(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function isInteger(t){return"number"==typeof t&&t==t&&t%1==0}function isBytes(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!isInteger(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const Q=t[e];if(!isInteger(Q)||Q<0||Q>=256)return!1}return!0}function arrayify(t,e){if(e||(e={}),"number"==typeof t){logger$9.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),addSlice(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),isHexable(t)&&(t=t.toHexString()),isHexString(t)){let Q=t.substring(2);Q.length%2&&("left"===e.hexPad?Q="0"+Q:"right"===e.hexPad?Q+="0":logger$9.throwArgumentError("hex data is odd-length","value",t));const B=[];for(let t=0;t<Q.length;t+=2)B.push(parseInt(Q.substring(t,t+2),16));return addSlice(new Uint8Array(B))}return isBytes(t)?addSlice(new Uint8Array(t)):logger$9.throwArgumentError("invalid arrayify value","value",t)}function concat(t){const e=t.map((t=>arrayify(t))),Q=e.reduce(((t,e)=>t+e.length),0),B=new Uint8Array(Q);return e.reduce(((t,e)=>(B.set(e,t),t+e.length)),0),addSlice(B)}function isHexString(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const HexCharacters="0123456789abcdef";function hexlify(t,e){if(e||(e={}),"number"==typeof t){logger$9.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=HexCharacters[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),isHexable(t))return t.toHexString();if(isHexString(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":logger$9.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(isBytes(t)){let e="0x";for(let Q=0;Q<t.length;Q++){let B=t[Q];e+=HexCharacters[(240&B)>>4]+HexCharacters[15&B]}return e}return logger$9.throwArgumentError("invalid hexlify value","value",t)}function hexDataSlice(t,e,Q){return"string"!=typeof t?t=hexlify(t):(!isHexString(t)||t.length%2)&&logger$9.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=Q?"0x"+t.substring(e,2+2*Q):"0x"+t.substring(e)}function hexConcat(t){let e="0x";return t.forEach((t=>{e+=hexlify(t).substring(2)})),e}function hexZeroPad(t,e){for("string"!=typeof t?t=hexlify(t):isHexString(t)||logger$9.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&logger$9.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}const version$7="bignumber/5.6.0";var BN=_BN.BN;const logger$8=new Logger(version$7),_constructorGuard$1={},MAX_SAFE=9007199254740991;let _warnedToStringRadix=!1;class BigNumber{constructor(t,e){logger$8.checkNew(new.target,BigNumber),t!==_constructorGuard$1&&logger$8.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return toBigNumber(toBN(this).fromTwos(t))}toTwos(t){return toBigNumber(toBN(this).toTwos(t))}abs(){return"-"===this._hex[0]?BigNumber.from(this._hex.substring(1)):this}add(t){return toBigNumber(toBN(this).add(toBN(t)))}sub(t){return toBigNumber(toBN(this).sub(toBN(t)))}div(t){return BigNumber.from(t).isZero()&&throwFault("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(t)))}mul(t){return toBigNumber(toBN(this).mul(toBN(t)))}mod(t){const e=toBN(t);return e.isNeg()&&throwFault("division-by-zero","mod"),toBigNumber(toBN(this).umod(e))}pow(t){const e=toBN(t);return e.isNeg()&&throwFault("negative-power","pow"),toBigNumber(toBN(this).pow(e))}and(t){const e=toBN(t);return(this.isNegative()||e.isNeg())&&throwFault("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(e))}or(t){const e=toBN(t);return(this.isNegative()||e.isNeg())&&throwFault("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(e))}xor(t){const e=toBN(t);return(this.isNegative()||e.isNeg())&&throwFault("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&throwFault("negative-width","mask"),toBigNumber(toBN(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&throwFault("negative-width","shl"),toBigNumber(toBN(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&throwFault("negative-width","shr"),toBigNumber(toBN(this).shrn(t))}eq(t){return toBN(this).eq(toBN(t))}lt(t){return toBN(this).lt(toBN(t))}lte(t){return toBN(this).lte(toBN(t))}gt(t){return toBN(this).gt(toBN(t))}gte(t){return toBN(this).gte(toBN(t))}isNegative(){return"-"===this._hex[0]}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch(t){throwFault("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return logger$8.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$8.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?logger$8.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$8.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof BigNumber)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$1,toHex(t)):t.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$1,toHex(new BN(t))):logger$8.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&throwFault("underflow","BigNumber.from",t),(t>=MAX_SAFE||t<=-MAX_SAFE)&&throwFault("overflow","BigNumber.from",t),BigNumber.from(String(t));const e=t;if("bigint"==typeof e)return BigNumber.from(e.toString());if(isBytes(e))return BigNumber.from(hexlify(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return BigNumber.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(isHexString(t)||"-"===t[0]&&isHexString(t.substring(1))))return BigNumber.from(t)}return logger$8.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function toHex(t){if("string"!=typeof t)return toHex(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&logger$8.throwArgumentError("invalid hex","value",t),"0x00"===(t=toHex(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function toBigNumber(t){return BigNumber.from(toHex(t))}function toBN(t){const e=BigNumber.from(t).toHexString();return"-"===e[0]?new BN("-"+e.substring(3),16):new BN(e.substring(2),16)}function throwFault(t,e,Q){const B={fault:t,operation:e};return null!=Q&&(B.value=Q),logger$8.throwError(t,Logger.errors.NUMERIC_FAULT,B)}function _base36To16(t){return new BN(t,36).toString(16)}const version$6="properties/5.6.0";window&&window.__awaiter;const logger$7=new Logger(version$6);function defineReadOnly(t,e,Q){Object.defineProperty(t,e,{enumerable:!0,value:Q,writable:!1})}function getStatic(t,e){for(let Q=0;Q<32;Q++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(t){if(null==t||opaque[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let Q=0;Q<e.length;Q++){let B=null;try{B=t[e[Q]]}catch(t){continue}if(!_isFrozen(B))return!1}return!0}return logger$7.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function _deepCopy(t){if(_isFrozen(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>deepCopy(t))));if("object"==typeof t){const e={};for(const Q in t){const B=t[Q];void 0!==B&&defineReadOnly(e,Q,deepCopy(B))}return e}return logger$7.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function deepCopy(t){return _deepCopy(t)}class Description{constructor(t){for(const e in t)this[e]=deepCopy(t[e])}}const version$5="abi/5.6.1",logger$6=new Logger(version$5),_constructorGuard={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(t,e){if("bytes"===t||"string"===t){if(ModifiersBytes[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&ModifiersNest[e])return!0;return(ModifiersBytes[e]||"payable"===e)&&logger$6.throwArgumentError("invalid modifier","name",e),!1}function parseParamType(t,e){let Q=t;function B(e){logger$6.throwArgumentError(`unexpected character at position ${e}`,"param",t)}function s(t){let Q={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(Q.indexed=!1),Q}t=t.replace(/\s/g," ");let F={type:"",name:"",state:{allowType:!0}},U=F;for(let Q=0;Q<t.length;Q++){let F=t[Q];switch(F){case"(":U.state.allowType&&""===U.type?U.type="tuple":U.state.allowParams||B(Q),U.state.allowType=!1,U.type=verifyType(U.type),U.components=[s(U)],U=U.components[0];break;case")":delete U.state,"indexed"===U.name&&(e||B(Q),U.indexed=!0,U.name=""),checkModifier(U.type,U.name)&&(U.name=""),U.type=verifyType(U.type);let t=U;U=U.parent,U||B(Q),delete t.parent,U.state.allowParams=!1,U.state.allowName=!0,U.state.allowArray=!0;break;case",":delete U.state,"indexed"===U.name&&(e||B(Q),U.indexed=!0,U.name=""),checkModifier(U.type,U.name)&&(U.name=""),U.type=verifyType(U.type);let n=s(U.parent);U.parent.components.push(n),delete U.parent,U=n;break;case" ":U.state.allowType&&""!==U.type&&(U.type=verifyType(U.type),delete U.state.allowType,U.state.allowName=!0,U.state.allowParams=!0),U.state.allowName&&""!==U.name&&("indexed"===U.name?(e||B(Q),U.indexed&&B(Q),U.indexed=!0,U.name=""):checkModifier(U.type,U.name)?U.name="":U.state.allowName=!1);break;case"[":U.state.allowArray||B(Q),U.type+=F,U.state.allowArray=!1,U.state.allowName=!1,U.state.readArray=!0;break;case"]":U.state.readArray||B(Q),U.type+=F,U.state.readArray=!1,U.state.allowArray=!0,U.state.allowName=!0;break;default:U.state.allowType?(U.type+=F,U.state.allowParams=!0,U.state.allowArray=!0):U.state.allowName?(U.name+=F,delete U.state.allowArray):U.state.readArray?U.type+=F:B(Q)}}return U.parent&&logger$6.throwArgumentError("unexpected eof","param",t),delete F.state,"indexed"===U.name?(e||B(Q.length-7),U.indexed&&B(Q.length-7),U.indexed=!0,U.name=""):checkModifier(U.type,U.name)&&(U.name=""),F.type=verifyType(F.type),F}function populate(t,e){for(let Q in e)defineReadOnly(t,Q,e[Q])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(t,e){t!==_constructorGuard&&logger$6.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,e);let Q=this.type.match(paramTypeArray);populate(this,Q?{arrayLength:parseInt(Q[2]||"-1"),arrayChildren:ParamType.fromObject({type:Q[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=FormatTypes.sighash),FormatTypes[t]||logger$6.throwArgumentError("invalid format type","format",t),t===FormatTypes.json){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(e)}let e="";return"array"===this.baseType?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==FormatTypes.sighash&&(e+=this.type),e+="("+this.components.map((e=>e.format(t))).join(t===FormatTypes.full?", ":",")+")"):e+=this.type,t!==FormatTypes.sighash&&(!0===this.indexed&&(e+=" indexed"),t===FormatTypes.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return"string"==typeof t?ParamType.fromString(t,e):ParamType.fromObject(t)}static fromObject(t){return ParamType.isParamType(t)?t:new ParamType(_constructorGuard,{name:t.name||null,type:verifyType(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(ParamType.fromObject):null})}static fromString(t,e){return Q=parseParamType(t,!!e),ParamType.fromObject({name:Q.name,type:Q.type,indexed:Q.indexed,components:Q.components});var Q}static isParamType(t){return!(null==t||!t._isParamType)}}function parseParams(t,e){return splitNesting(t).map((t=>ParamType.fromString(t,e)))}class Fragment{constructor(t,e){t!==_constructorGuard&&logger$6.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return Fragment.isFragment(t)?t:"string"==typeof t?Fragment.fromString(t):Fragment.fromObject(t)}static fromObject(t){if(Fragment.isFragment(t))return t;switch(t.type){case"function":return FunctionFragment.fromObject(t);case"event":return EventFragment.fromObject(t);case"constructor":return ConstructorFragment.fromObject(t);case"error":return ErrorFragment.fromObject(t);case"fallback":case"receive":return null}return logger$6.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?EventFragment.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?FunctionFragment.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?ConstructorFragment.fromString(t.trim()):"error"===t.split(" ")[0]?ErrorFragment.fromString(t.substring(5).trim()):logger$6.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!(!t||!t._isFragment)}}class EventFragment extends Fragment{format(t){if(t||(t=FormatTypes.sighash),FormatTypes[t]||logger$6.throwArgumentError("invalid format type","format",t),t===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==FormatTypes.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===FormatTypes.full?", ":",")+") ",t!==FormatTypes.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return"string"==typeof t?EventFragment.fromString(t):EventFragment.fromObject(t)}static fromObject(t){if(EventFragment.isEventFragment(t))return t;"event"!==t.type&&logger$6.throwArgumentError("invalid event object","value",t);const e={name:verifyIdentifier(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard,e)}static fromString(t){let e=t.match(regexParen);e||logger$6.throwArgumentError("invalid event string","value",t);let Q=!1;return e[3].split(" ").forEach((t=>{switch(t.trim()){case"anonymous":Q=!0;break;case"":break;default:logger$6.warn("unknown modifier: "+t)}})),EventFragment.fromObject({name:e[1].trim(),anonymous:Q,inputs:parseParams(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&"event"===t.type}}function parseGas(t,e){e.gas=null;let Q=t.split("@");return 1!==Q.length?(Q.length>2&&logger$6.throwArgumentError("invalid human-readable ABI signature","value",t),Q[1].match(/^[0-9]+$/)||logger$6.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=BigNumber.from(Q[1]),Q[0]):t}function parseModifiers(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function verifyState(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&logger$6.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&logger$6.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||logger$6.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&logger$6.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&logger$6.throwArgumentError("unable to determine stateMutability","value",t),e}class ConstructorFragment extends Fragment{format(t){if(t||(t=FormatTypes.sighash),FormatTypes[t]||logger$6.throwArgumentError("invalid format type","format",t),t===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});t===FormatTypes.sighash&&logger$6.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map((e=>e.format(t))).join(t===FormatTypes.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}static from(t){return"string"==typeof t?ConstructorFragment.fromString(t):ConstructorFragment.fromObject(t)}static fromObject(t){if(ConstructorFragment.isConstructorFragment(t))return t;"constructor"!==t.type&&logger$6.throwArgumentError("invalid constructor object","value",t);let e=verifyState(t);e.constant&&logger$6.throwArgumentError("constructor cannot be constant","value",t);const Q={name:null,type:t.type,inputs:t.inputs?t.inputs.map(ParamType.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?BigNumber.from(t.gas):null};return new ConstructorFragment(_constructorGuard,Q)}static fromString(t){let e={type:"constructor"},Q=(t=parseGas(t,e)).match(regexParen);return Q&&"constructor"===Q[1].trim()||logger$6.throwArgumentError("invalid constructor string","value",t),e.inputs=parseParams(Q[2].trim(),!1),parseModifiers(Q[3].trim(),e),ConstructorFragment.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&"constructor"===t.type}}class FunctionFragment extends ConstructorFragment{format(t){if(t||(t=FormatTypes.sighash),FormatTypes[t]||logger$6.throwArgumentError("invalid format type","format",t),t===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==FormatTypes.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===FormatTypes.full?", ":",")+") ",t!==FormatTypes.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((e=>e.format(t))).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return"string"==typeof t?FunctionFragment.fromString(t):FunctionFragment.fromObject(t)}static fromObject(t){if(FunctionFragment.isFunctionFragment(t))return t;"function"!==t.type&&logger$6.throwArgumentError("invalid function object","value",t);let e=verifyState(t);const Q={type:t.type,name:verifyIdentifier(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(ParamType.fromObject):[],outputs:t.outputs?t.outputs.map(ParamType.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?BigNumber.from(t.gas):null};return new FunctionFragment(_constructorGuard,Q)}static fromString(t){let e={type:"function"},Q=(t=parseGas(t,e)).split(" returns ");Q.length>2&&logger$6.throwArgumentError("invalid function string","value",t);let B=Q[0].match(regexParen);if(B||logger$6.throwArgumentError("invalid function signature","value",t),e.name=B[1].trim(),e.name&&verifyIdentifier(e.name),e.inputs=parseParams(B[2],!1),parseModifiers(B[3].trim(),e),Q.length>1){let B=Q[1].match(regexParen);""==B[1].trim()&&""==B[3].trim()||logger$6.throwArgumentError("unexpected tokens","value",t),e.outputs=parseParams(B[2],!1)}else e.outputs=[];return FunctionFragment.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&"function"===t.type}}function checkForbidden(t){const e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||logger$6.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class ErrorFragment extends Fragment{format(t){if(t||(t=FormatTypes.sighash),FormatTypes[t]||logger$6.throwArgumentError("invalid format type","format",t),t===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==FormatTypes.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===FormatTypes.full?", ":",")+") ",e.trim()}static from(t){return"string"==typeof t?ErrorFragment.fromString(t):ErrorFragment.fromObject(t)}static fromObject(t){if(ErrorFragment.isErrorFragment(t))return t;"error"!==t.type&&logger$6.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:verifyIdentifier(t.name),inputs:t.inputs?t.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard,e))}static fromString(t){let e={type:"error"},Q=t.match(regexParen);return Q||logger$6.throwArgumentError("invalid error signature","value",t),e.name=Q[1].trim(),e.name&&verifyIdentifier(e.name),e.inputs=parseParams(Q[2],!1),checkForbidden(ErrorFragment.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&"error"===t.type}}function verifyType(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(t){return t&&t.match(regexIdentifier)||logger$6.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(t){t=t.trim();let e=[],Q="",B=0;for(let s=0;s<t.length;s++){let F=t[s];","===F&&0===B?(e.push(Q),Q=""):(Q+=F,"("===F?B++:")"===F&&(B--,-1===B&&logger$6.throwArgumentError("unbalanced parenthesis","value",t)))}return Q&&e.push(Q),e}const logger$5=new Logger(version$5);class Coder{constructor(t,e,Q,B){this.name=t,this.type=e,this.localName=Q,this.dynamic=B}_throwError(t,e){logger$5.throwArgumentError(t,this.localName,e)}}class Writer{constructor(t){defineReadOnly(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(concat(t._data))}writeBytes(t){let e=arrayify(t);const Q=e.length%this.wordSize;return Q&&(e=concat([e,this._padding.slice(Q)])),this._writeData(e)}_getValue(t){let e=arrayify(BigNumber.from(t));return e.length>this.wordSize&&logger$5.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=concat([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class Reader{constructor(t,e,Q,B){defineReadOnly(this,"_data",arrayify(t)),defineReadOnly(this,"wordSize",e||32),defineReadOnly(this,"_coerceFunc",Q),defineReadOnly(this,"allowLoose",B),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(t,e){let Q=t.match("^u?int([0-9]+)$");return Q&&parseInt(Q[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):Reader.coerce(t,e)}_peekBytes(t,e,Q){let B=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+B>this._data.length&&(this.allowLoose&&Q&&this._offset+e<=this._data.length?B=e:logger$5.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+B})),this._data.slice(this._offset,this._offset+B)}subReader(t){return new Reader(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let Q=this._peekBytes(0,t,!!e);return this._offset+=Q.length,Q.slice(0,t)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}}var global$2="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function defaultSetTimout$1(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout$1(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout$1=defaultSetTimout$1,cachedClearTimeout$1=defaultClearTimeout$1;function runTimeout$1(t){if(cachedSetTimeout$1===setTimeout)return setTimeout(t,0);if((cachedSetTimeout$1===defaultSetTimout$1||!cachedSetTimeout$1)&&setTimeout)return cachedSetTimeout$1=setTimeout,setTimeout(t,0);try{return cachedSetTimeout$1(t,0)}catch(e){try{return cachedSetTimeout$1.call(null,t,0)}catch(e){return cachedSetTimeout$1.call(this,t,0)}}}function runClearTimeout$1(t){if(cachedClearTimeout$1===clearTimeout)return clearTimeout(t);if((cachedClearTimeout$1===defaultClearTimeout$1||!cachedClearTimeout$1)&&clearTimeout)return cachedClearTimeout$1=clearTimeout,clearTimeout(t);try{return cachedClearTimeout$1(t)}catch(e){try{return cachedClearTimeout$1.call(null,t)}catch(e){return cachedClearTimeout$1.call(this,t)}}}"function"==typeof global$2.setTimeout&&(cachedSetTimeout$1=setTimeout),"function"==typeof global$2.clearTimeout&&(cachedClearTimeout$1=clearTimeout);var queue$1=[],draining$1=!1,currentQueue$1,queueIndex$1=-1;function cleanUpNextTick$1(){draining$1&&currentQueue$1&&(draining$1=!1,currentQueue$1.length?queue$1=currentQueue$1.concat(queue$1):queueIndex$1=-1,queue$1.length&&drainQueue$1())}function drainQueue$1(){if(!draining$1){var t=runTimeout$1(cleanUpNextTick$1);draining$1=!0;for(var e=queue$1.length;e;){for(currentQueue$1=queue$1,queue$1=[];++queueIndex$1<e;)currentQueue$1&&currentQueue$1[queueIndex$1].run();queueIndex$1=-1,e=queue$1.length}currentQueue$1=null,draining$1=!1,runClearTimeout$1(t)}}function nextTick$1(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var Q=1;Q<arguments.length;Q++)e[Q-1]=arguments[Q];queue$1.push(new Item$1(t,e)),1!==queue$1.length||draining$1||runTimeout$1(drainQueue$1)}function Item$1(t,e){this.fun=t,this.array=e}Item$1.prototype.run=function(){this.fun.apply(null,this.array)};var title$1="browser",platform$1="browser",browser$2=!0,env$1={},argv$1=[],version$4="",versions$1={},release$1={},config$2={};function noop$1(){}var on$1=noop$1,addListener$1=noop$1,once$1=noop$1,off$1=noop$1,removeListener$1=noop$1,removeAllListeners$1=noop$1,emit$1=noop$1;function binding$1(t){throw new Error("process.binding is not supported")}function cwd$1(){return"/"}function chdir$1(t){throw new Error("process.chdir is not supported")}function umask$1(){return 0}var performance$1=global$2.performance||{},performanceNow$1=performance$1.now||performance$1.mozNow||performance$1.msNow||performance$1.oNow||performance$1.webkitNow||function(){return(new Date).getTime()};function hrtime$1(t){var e=.001*performanceNow$1.call(performance$1),Q=Math.floor(e),B=Math.floor(e%1*1e9);return t&&(Q-=t[0],(B-=t[1])<0&&(Q--,B+=1e9)),[Q,B]}var startTime$1=new Date;function uptime$1(){return(new Date-startTime$1)/1e3}var browser$1$1={nextTick:nextTick$1,title:title$1,browser:browser$2,env:env$1,argv:argv$1,version:version$4,versions:versions$1,on:on$1,addListener:addListener$1,once:once$1,off:off$1,removeListener:removeListener$1,removeAllListeners:removeAllListeners$1,emit:emit$1,binding:binding$1,cwd:cwd$1,chdir:chdir$1,umask:umask$1,hrtime:hrtime$1,platform:platform$1,release:release$1,config:config$2,uptime:uptime$1},process$2=browser$1$1,sha3$2={exports:{}};!function(t){!function(){var e="input is invalid type",Q="object"==typeof window,B=Q?window:{};B.JS_SHA3_NO_WINDOW&&(Q=!1);var s=!Q&&"object"==typeof self;!B.JS_SHA3_NO_NODE_JS&&"object"==typeof process$2&&process$2.versions&&process$2.versions.node?B=commonjsGlobal:s&&(B=self);var F=!B.JS_SHA3_NO_COMMON_JS&&t.exports,U=!B.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,n="0123456789abcdef".split(""),c=[4,1024,262144,67108864],o=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],l=[224,256,384,512],I=[128,256],r=["hex","buffer","arrayBuffer","array","digest"],i={128:168,256:136};!B.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!U||!B.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var a=function(t,e,Q){return function(B){return new R(t,e,t).update(B)[Q]()}},d=function(t,e,Q){return function(B,s){return new R(t,e,s).update(B)[Q]()}},u=function(t,e,Q){return function(e,B,s,F){return m["cshake"+t].update(e,B,s,F)[Q]()}},C=function(t,e,Q){return function(e,B,s,F){return m["kmac"+t].update(e,B,s,F)[Q]()}},y=function(t,e,Q,B){for(var s=0;s<r.length;++s){var F=r[s];t[F]=e(Q,B,F)}return t},S=function(t,e){var Q=a(t,e,"hex");return Q.create=function(){return new R(t,e,t)},Q.update=function(t){return Q.create().update(t)},y(Q,a,t,e)},b=[{name:"keccak",padding:[1,256,65536,16777216],bits:l,createMethod:S},{name:"sha3",padding:[6,1536,393216,100663296],bits:l,createMethod:S},{name:"shake",padding:[31,7936,2031616,520093696],bits:I,createMethod:function(t,e){var Q=d(t,e,"hex");return Q.create=function(Q){return new R(t,e,Q)},Q.update=function(t,e){return Q.create(e).update(t)},y(Q,d,t,e)}},{name:"cshake",padding:c,bits:I,createMethod:function(t,e){var Q=i[t],B=u(t,0,"hex");return B.create=function(B,s,F){return s||F?new R(t,e,B).bytepad([s,F],Q):m["shake"+t].create(B)},B.update=function(t,e,Q,s){return B.create(e,Q,s).update(t)},y(B,u,t,e)}},{name:"kmac",padding:c,bits:I,createMethod:function(t,e){var Q=i[t],B=C(t,0,"hex");return B.create=function(B,s,F){return new V(t,e,s).bytepad(["KMAC",F],Q).bytepad([B],Q)},B.update=function(t,e,Q,s){return B.create(t,Q,s).update(e)},y(B,C,t,e)}}],m={},G=[],x=0;x<b.length;++x)for(var L=b[x],Z=L.bits,A=0;A<Z.length;++A){var h=L.name+"_"+Z[A];if(G.push(h),m[h]=L.createMethod(Z[A],L.padding),"sha3"!==L.name){var N=L.name+Z[A];G.push(N),m[N]=m[h]}}function R(t,e,Q){this.blocks=[],this.s=[],this.padding=e,this.outputBits=Q,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Q>>5,this.extraBytes=(31&Q)>>3;for(var B=0;B<50;++B)this.s[B]=0}function V(t,e,Q){R.call(this,t,e,Q)}R.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var Q,B=typeof t;if("string"!==B){if("object"!==B)throw new Error(e);if(null===t)throw new Error(e);if(U&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||U&&ArrayBuffer.isView(t)))throw new Error(e);Q=!0}for(var s,F,n=this.blocks,c=this.byteCount,g=t.length,l=this.blockCount,I=0,r=this.s;I<g;){if(this.reset)for(this.reset=!1,n[0]=this.block,s=1;s<l+1;++s)n[s]=0;if(Q)for(s=this.start;I<g&&s<c;++I)n[s>>2]|=t[I]<<o[3&s++];else for(s=this.start;I<g&&s<c;++I)(F=t.charCodeAt(I))<128?n[s>>2]|=F<<o[3&s++]:F<2048?(n[s>>2]|=(192|F>>6)<<o[3&s++],n[s>>2]|=(128|63&F)<<o[3&s++]):F<55296||F>=57344?(n[s>>2]|=(224|F>>12)<<o[3&s++],n[s>>2]|=(128|F>>6&63)<<o[3&s++],n[s>>2]|=(128|63&F)<<o[3&s++]):(F=65536+((1023&F)<<10|1023&t.charCodeAt(++I)),n[s>>2]|=(240|F>>18)<<o[3&s++],n[s>>2]|=(128|F>>12&63)<<o[3&s++],n[s>>2]|=(128|F>>6&63)<<o[3&s++],n[s>>2]|=(128|63&F)<<o[3&s++]);if(this.lastByteIndex=s,s>=c){for(this.start=s-c,this.block=n[l],s=0;s<l;++s)r[s]^=n[s];E(r),this.reset=!0}else this.start=s}return this},R.prototype.encode=function(t,e){var Q=255&t,B=1,s=[Q];for(Q=255&(t>>=8);Q>0;)s.unshift(Q),Q=255&(t>>=8),++B;return e?s.push(B):s.unshift(B),this.update(s),s.length},R.prototype.encodeString=function(t){var Q,B=typeof t;if("string"!==B){if("object"!==B)throw new Error(e);if(null===t)throw new Error(e);if(U&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||U&&ArrayBuffer.isView(t)))throw new Error(e);Q=!0}var s=0,F=t.length;if(Q)s=F;else for(var n=0;n<t.length;++n){var c=t.charCodeAt(n);c<128?s+=1:c<2048?s+=2:c<55296||c>=57344?s+=3:(c=65536+((1023&c)<<10|1023&t.charCodeAt(++n)),s+=4)}return s+=this.encode(8*s),this.update(t),s},R.prototype.bytepad=function(t,e){for(var Q=this.encode(e),B=0;B<t.length;++B)Q+=this.encodeString(t[B]);var s=e-Q%e,F=[];return F.length=s,this.update(F),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,Q=this.blockCount,B=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[Q],e=1;e<Q+1;++e)t[e]=0;for(t[Q-1]|=2147483648,e=0;e<Q;++e)B[e]^=t[e];E(B)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,Q=this.s,B=this.outputBlocks,s=this.extraBytes,F=0,U=0,c="";U<B;){for(F=0;F<e&&U<B;++F,++U)t=Q[F],c+=n[t>>4&15]+n[15&t]+n[t>>12&15]+n[t>>8&15]+n[t>>20&15]+n[t>>16&15]+n[t>>28&15]+n[t>>24&15];U%e==0&&(E(Q),F=0)}return s&&(t=Q[F],c+=n[t>>4&15]+n[15&t],s>1&&(c+=n[t>>12&15]+n[t>>8&15]),s>2&&(c+=n[t>>20&15]+n[t>>16&15])),c},R.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,Q=this.s,B=this.outputBlocks,s=this.extraBytes,F=0,U=0,n=this.outputBits>>3;t=s?new ArrayBuffer(B+1<<2):new ArrayBuffer(n);for(var c=new Uint32Array(t);U<B;){for(F=0;F<e&&U<B;++F,++U)c[U]=Q[F];U%e==0&&E(Q)}return s&&(c[F]=Q[F],t=t.slice(0,n)),t},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var t,e,Q=this.blockCount,B=this.s,s=this.outputBlocks,F=this.extraBytes,U=0,n=0,c=[];n<s;){for(U=0;U<Q&&n<s;++U,++n)t=n<<2,e=B[U],c[t]=255&e,c[t+1]=e>>8&255,c[t+2]=e>>16&255,c[t+3]=e>>24&255;n%Q==0&&E(B)}return F&&(t=n<<2,e=B[U],c[t]=255&e,F>1&&(c[t+1]=e>>8&255),F>2&&(c[t+2]=e>>16&255)),c},V.prototype=new R,V.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var E=function(t){var e,Q,B,s,F,U,n,c,o,l,I,r,i,a,d,u,C,y,S,b,m,G,x,L,Z,A,h,N,R,V,E,p,D,J,X,H,W,k,T,f,Y,w,M,v,z,K,O,P,j,_,q,$,tt,et,Qt,Bt,st,Ft,Ut,nt,ct,ot,gt;for(B=0;B<48;B+=2)s=t[0]^t[10]^t[20]^t[30]^t[40],F=t[1]^t[11]^t[21]^t[31]^t[41],U=t[2]^t[12]^t[22]^t[32]^t[42],n=t[3]^t[13]^t[23]^t[33]^t[43],c=t[4]^t[14]^t[24]^t[34]^t[44],o=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],I=t[7]^t[17]^t[27]^t[37]^t[47],e=(r=t[8]^t[18]^t[28]^t[38]^t[48])^(U<<1|n>>>31),Q=(i=t[9]^t[19]^t[29]^t[39]^t[49])^(n<<1|U>>>31),t[0]^=e,t[1]^=Q,t[10]^=e,t[11]^=Q,t[20]^=e,t[21]^=Q,t[30]^=e,t[31]^=Q,t[40]^=e,t[41]^=Q,e=s^(c<<1|o>>>31),Q=F^(o<<1|c>>>31),t[2]^=e,t[3]^=Q,t[12]^=e,t[13]^=Q,t[22]^=e,t[23]^=Q,t[32]^=e,t[33]^=Q,t[42]^=e,t[43]^=Q,e=U^(l<<1|I>>>31),Q=n^(I<<1|l>>>31),t[4]^=e,t[5]^=Q,t[14]^=e,t[15]^=Q,t[24]^=e,t[25]^=Q,t[34]^=e,t[35]^=Q,t[44]^=e,t[45]^=Q,e=c^(r<<1|i>>>31),Q=o^(i<<1|r>>>31),t[6]^=e,t[7]^=Q,t[16]^=e,t[17]^=Q,t[26]^=e,t[27]^=Q,t[36]^=e,t[37]^=Q,t[46]^=e,t[47]^=Q,e=l^(s<<1|F>>>31),Q=I^(F<<1|s>>>31),t[8]^=e,t[9]^=Q,t[18]^=e,t[19]^=Q,t[28]^=e,t[29]^=Q,t[38]^=e,t[39]^=Q,t[48]^=e,t[49]^=Q,a=t[0],d=t[1],K=t[11]<<4|t[10]>>>28,O=t[10]<<4|t[11]>>>28,N=t[20]<<3|t[21]>>>29,R=t[21]<<3|t[20]>>>29,nt=t[31]<<9|t[30]>>>23,ct=t[30]<<9|t[31]>>>23,w=t[40]<<18|t[41]>>>14,M=t[41]<<18|t[40]>>>14,J=t[2]<<1|t[3]>>>31,X=t[3]<<1|t[2]>>>31,u=t[13]<<12|t[12]>>>20,C=t[12]<<12|t[13]>>>20,P=t[22]<<10|t[23]>>>22,j=t[23]<<10|t[22]>>>22,V=t[33]<<13|t[32]>>>19,E=t[32]<<13|t[33]>>>19,ot=t[42]<<2|t[43]>>>30,gt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,Qt=t[4]<<30|t[5]>>>2,H=t[14]<<6|t[15]>>>26,W=t[15]<<6|t[14]>>>26,y=t[25]<<11|t[24]>>>21,S=t[24]<<11|t[25]>>>21,_=t[34]<<15|t[35]>>>17,q=t[35]<<15|t[34]>>>17,p=t[45]<<29|t[44]>>>3,D=t[44]<<29|t[45]>>>3,L=t[6]<<28|t[7]>>>4,Z=t[7]<<28|t[6]>>>4,Bt=t[17]<<23|t[16]>>>9,st=t[16]<<23|t[17]>>>9,k=t[26]<<25|t[27]>>>7,T=t[27]<<25|t[26]>>>7,b=t[36]<<21|t[37]>>>11,m=t[37]<<21|t[36]>>>11,$=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,v=t[8]<<27|t[9]>>>5,z=t[9]<<27|t[8]>>>5,A=t[18]<<20|t[19]>>>12,h=t[19]<<20|t[18]>>>12,Ft=t[29]<<7|t[28]>>>25,Ut=t[28]<<7|t[29]>>>25,f=t[38]<<8|t[39]>>>24,Y=t[39]<<8|t[38]>>>24,G=t[48]<<14|t[49]>>>18,x=t[49]<<14|t[48]>>>18,t[0]=a^~u&y,t[1]=d^~C&S,t[10]=L^~A&N,t[11]=Z^~h&R,t[20]=J^~H&k,t[21]=X^~W&T,t[30]=v^~K&P,t[31]=z^~O&j,t[40]=et^~Bt&Ft,t[41]=Qt^~st&Ut,t[2]=u^~y&b,t[3]=C^~S&m,t[12]=A^~N&V,t[13]=h^~R&E,t[22]=H^~k&f,t[23]=W^~T&Y,t[32]=K^~P&_,t[33]=O^~j&q,t[42]=Bt^~Ft&nt,t[43]=st^~Ut&ct,t[4]=y^~b&G,t[5]=S^~m&x,t[14]=N^~V&p,t[15]=R^~E&D,t[24]=k^~f&w,t[25]=T^~Y&M,t[34]=P^~_&$,t[35]=j^~q&tt,t[44]=Ft^~nt&ot,t[45]=Ut^~ct&gt,t[6]=b^~G&a,t[7]=m^~x&d,t[16]=V^~p&L,t[17]=E^~D&Z,t[26]=f^~w&J,t[27]=Y^~M&X,t[36]=_^~$&v,t[37]=q^~tt&z,t[46]=nt^~ot&et,t[47]=ct^~gt&Qt,t[8]=G^~a&u,t[9]=x^~d&C,t[18]=p^~L&A,t[19]=D^~Z&h,t[28]=w^~J&H,t[29]=M^~X&W,t[38]=$^~v&K,t[39]=tt^~z&O,t[48]=ot^~et&Bt,t[49]=gt^~Qt&st,t[0]^=g[B],t[1]^=g[B+1]};if(F)t.exports=m;else for(x=0;x<G.length;++x)B[G[x]]=m[G[x]]}()}(sha3$2);var sha3$1=sha3$2.exports;function keccak256(t){return"0x"+sha3$1.keccak_256(arrayify(t))}const version$3="address/5.6.0",logger$4=new Logger(version$3);function getChecksumAddress(t){isHexString(t,20)||logger$4.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),Q=new Uint8Array(40);for(let t=0;t<40;t++)Q[t]=e[t].charCodeAt(0);const B=arrayify(keccak256(Q));for(let t=0;t<40;t+=2)B[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&B[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const ibanLookup={};for(let t=0;t<10;t++)ibanLookup[String(t)]=String(t);for(let t=0;t<26;t++)ibanLookup[String.fromCharCode(65+t)]=String(10+t);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>ibanLookup[t])).join("");for(;e.length>=safeDigits;){let t=e.substring(0,safeDigits);e=parseInt(t,10)%97+e.substring(t.length)}let Q=String(98-parseInt(e,10)%97);for(;Q.length<2;)Q="0"+Q;return Q}function getAddress(t){let e=null;if("string"!=typeof t&&logger$4.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=getChecksumAddress(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&logger$4.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==ibanChecksum(t)&&logger$4.throwArgumentError("bad icap checksum","address",t),e=_base36To16(t.substring(4));e.length<40;)e="0"+e;e=getChecksumAddress("0x"+e)}else logger$4.throwArgumentError("invalid address","address",t);return e}class AddressCoder extends Coder{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{e=getAddress(e)}catch(t){this._throwError(t.message,e)}return t.writeValue(e)}decode(t){return getAddress(hexZeroPad(t.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const logger$3=new Logger(version$5);function pack(t,e,Q){let B=null;if(Array.isArray(Q))B=Q;else if(Q&&"object"==typeof Q){let t={};B=e.map((e=>{const B=e.localName;return B||logger$3.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:Q}),t[B]&&logger$3.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:Q}),t[B]=!0,Q[B]}))}else logger$3.throwArgumentError("invalid tuple value","tuple",Q);e.length!==B.length&&logger$3.throwArgumentError("types/value length mismatch","tuple",Q);let s=new Writer(t.wordSize),F=new Writer(t.wordSize),U=[];e.forEach(((t,e)=>{let Q=B[e];if(t.dynamic){let e=F.length;t.encode(F,Q);let B=s.writeUpdatableValue();U.push((t=>{B(t+e)}))}else t.encode(s,Q)})),U.forEach((t=>{t(s.length)}));let n=t.appendWriter(s);return n+=t.appendWriter(F),n}function unpack(t,e){let Q=[],B=t.subReader(0);e.forEach((e=>{let s=null;if(e.dynamic){let Q=t.readValue(),F=B.subReader(Q.toNumber());try{s=e.decode(F)}catch(t){if(t.code===Logger.errors.BUFFER_OVERRUN)throw t;s=t,s.baseType=e.name,s.name=e.localName,s.type=e.type}}else try{s=e.decode(t)}catch(t){if(t.code===Logger.errors.BUFFER_OVERRUN)throw t;s=t,s.baseType=e.name,s.name=e.localName,s.type=e.type}null!=s&&Q.push(s)}));const s=e.reduce(((t,e)=>{const Q=e.localName;return Q&&(t[Q]||(t[Q]=0),t[Q]++),t}),{});e.forEach(((t,e)=>{let B=t.localName;if(!B||1!==s[B])return;if("length"===B&&(B="_length"),null!=Q[B])return;const F=Q[e];F instanceof Error?Object.defineProperty(Q,B,{enumerable:!0,get:()=>{throw F}}):Q[B]=F}));for(let t=0;t<Q.length;t++){const e=Q[t];e instanceof Error&&Object.defineProperty(Q,t,{enumerable:!0,get:()=>{throw e}})}return Object.freeze(Q)}class ArrayCoder extends Coder{constructor(t,e,Q){super("array",t.type+"["+(e>=0?e:"")+"]",Q,-1===e||t.dynamic),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let Q=0;Q<this.length;Q++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let Q=this.length;-1===Q&&(Q=e.length,t.writeValue(e.length)),logger$3.checkArgumentCount(e.length,Q,"coder array"+(this.localName?" "+this.localName:""));let B=[];for(let t=0;t<e.length;t++)B.push(this.coder);return pack(t,B,e)}decode(t){let e=this.length;-1===e&&(e=t.readValue().toNumber(),32*e>t._data.length&&logger$3.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let Q=[];for(let t=0;t<e;t++)Q.push(new AnonymousCoder(this.coder));return t.coerce(this.name,unpack(t,Q))}}class BooleanCoder extends Coder{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=arrayify(e);let Q=t.writeValue(e.length);return Q+=t.writeBytes(e),Q}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,hexlify(super.decode(t)))}}class FixedBytesCoder extends Coder{constructor(t,e){let Q="bytes"+String(t);super(Q,Q,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let Q=arrayify(e);return Q.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(Q)}decode(t){return t.coerce(this.name,hexlify(t.readBytes(this.size)))}}class NullCoder extends Coder{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class NumberCoder extends Coder{constructor(t,e,Q){const B=(e?"int":"uint")+8*t;super(B,B,Q,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let Q=BigNumber.from(e),B=MaxUint256.mask(8*t.wordSize);if(this.signed){let t=B.mask(8*this.size-1);(Q.gt(t)||Q.lt(t.add(One).mul(NegativeOne)))&&this._throwError("value out-of-bounds",e)}else(Q.lt(Zero)||Q.gt(B.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return Q=Q.toTwos(8*this.size).mask(8*this.size),this.signed&&(Q=Q.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(Q)}decode(t){let e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}const version$2="strings/5.6.0",logger$2=new Logger(version$2);var UnicodeNormalizationForm,Utf8ErrorReason;function errorFunc(t,e,Q,B,s){return logger$2.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",Q)}function ignoreFunc(t,e,Q,B,s){if(t===Utf8ErrorReason.BAD_PREFIX||t===Utf8ErrorReason.UNEXPECTED_CONTINUE){let t=0;for(let B=e+1;B<Q.length&&Q[B]>>6==2;B++)t++;return t}return t===Utf8ErrorReason.OVERRUN?Q.length-e-1:0}function replaceFunc(t,e,Q,B,s){return t===Utf8ErrorReason.OVERLONG?(B.push(s),0):(B.push(65533),ignoreFunc(t,e,Q))}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(UnicodeNormalizationForm||(UnicodeNormalizationForm={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Utf8ErrorReason||(Utf8ErrorReason={}));const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(t,e){null==e&&(e=Utf8ErrorFuncs.error),t=arrayify(t);const Q=[];let B=0;for(;B<t.length;){const s=t[B++];if(s>>7==0){Q.push(s);continue}let F=null,U=null;if(192==(224&s))F=1,U=127;else if(224==(240&s))F=2,U=2047;else{if(240!=(248&s)){B+=e(128==(192&s)?Utf8ErrorReason.UNEXPECTED_CONTINUE:Utf8ErrorReason.BAD_PREFIX,B-1,t,Q);continue}F=3,U=65535}if(B-1+F>=t.length){B+=e(Utf8ErrorReason.OVERRUN,B-1,t,Q);continue}let n=s&(1<<8-F-1)-1;for(let s=0;s<F;s++){let s=t[B];if(128!=(192&s)){B+=e(Utf8ErrorReason.MISSING_CONTINUE,B,t,Q),n=null;break}n=n<<6|63&s,B++}null!==n&&(n>1114111?B+=e(Utf8ErrorReason.OUT_OF_RANGE,B-1-F,t,Q,n):n>=55296&&n<=57343?B+=e(Utf8ErrorReason.UTF16_SURROGATE,B-1-F,t,Q,n):n<=U?B+=e(Utf8ErrorReason.OVERLONG,B-1-F,t,Q,n):Q.push(n))}return Q}function toUtf8Bytes(t,e=UnicodeNormalizationForm.current){e!=UnicodeNormalizationForm.current&&(logger$2.checkNormalize(),t=t.normalize(e));let Q=[];for(let e=0;e<t.length;e++){const B=t.charCodeAt(e);if(B<128)Q.push(B);else if(B<2048)Q.push(B>>6|192),Q.push(63&B|128);else if(55296==(64512&B)){e++;const s=t.charCodeAt(e);if(e>=t.length||56320!=(64512&s))throw new Error("invalid utf-8 string");const F=65536+((1023&B)<<10)+(1023&s);Q.push(F>>18|240),Q.push(F>>12&63|128),Q.push(F>>6&63|128),Q.push(63&F|128)}else Q.push(B>>12|224),Q.push(B>>6&63|128),Q.push(63&B|128)}return arrayify(Q)}function _toUtf8String(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function toUtf8String(t,e){return _toUtf8String(getUtf8CodePoints(t,e))}class StringCoder extends DynamicBytesCoder{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,toUtf8Bytes(e))}decode(t){return toUtf8String(super.decode(t))}}class TupleCoder extends Coder{constructor(t,e){let Q=!1;const B=[];t.forEach((t=>{t.dynamic&&(Q=!0),B.push(t.type)}));super("tuple","tuple("+B.join(",")+")",e,Q),this.coders=t}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const Q=e.localName;return Q&&(t[Q]||(t[Q]=0),t[Q]++),t}),{});return this.coders.forEach(((Q,B)=>{let s=Q.localName;s&&1===e[s]&&("length"===s&&(s="_length"),null==t[s]&&(t[s]=t[B]))})),Object.freeze(t)}encode(t,e){return pack(t,this.coders,e)}decode(t){return t.coerce(this.name,unpack(t,this.coders))}}const logger$1=new Logger(version$5),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(t){logger$1.checkNew(new.target,AbiCoder),defineReadOnly(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new AddressCoder(t.name);case"bool":return new BooleanCoder(t.name);case"string":return new StringCoder(t.name);case"bytes":return new BytesCoder(t.name);case"array":return new ArrayCoder(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new TupleCoder((t.components||[]).map((t=>this._getCoder(t))),t.name);case"":return new NullCoder(t.name)}let e=t.type.match(paramTypeNumber);if(e){let Q=parseInt(e[2]||"256");return(0===Q||Q>256||Q%8!=0)&&logger$1.throwArgumentError("invalid "+e[1]+" bit length","param",t),new NumberCoder(Q/8,"int"===e[1],t.name)}if(e=t.type.match(paramTypeBytes),e){let Q=parseInt(e[1]);return(0===Q||Q>32)&&logger$1.throwArgumentError("invalid bytes length","param",t),new FixedBytesCoder(Q,t.name)}return logger$1.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new Reader(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new Writer(this._getWordSize())}getDefaultValue(t){const e=t.map((t=>this._getCoder(ParamType.from(t))));return new TupleCoder(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&logger$1.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const Q=t.map((t=>this._getCoder(ParamType.from(t)))),B=new TupleCoder(Q,"_"),s=this._getWriter();return B.encode(s,e),s.data}decode(t,e,Q){const B=t.map((t=>this._getCoder(ParamType.from(t))));return new TupleCoder(B,"_").decode(this._getReader(arrayify(e),Q))}}const defaultAbiCoder=new AbiCoder;function id(t){return keccak256(toUtf8Bytes(t))}const logger=new Logger(version$5);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(t){return!(!t||!t._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(t,e){const Q=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return Q.error=e,Q}class Interface{constructor(t){logger.checkNew(new.target,Interface);let e=[];e="string"==typeof t?JSON.parse(t):t,defineReadOnly(this,"fragments",e.map((t=>Fragment.from(t))).filter((t=>null!=t))),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach((t=>{let e=null;switch(t.type){case"constructor":return this.deploy?void logger.warn("duplicate definition - constructor"):void defineReadOnly(this,"deploy",t);case"function":e=this.functions;break;case"event":e=this.events;break;case"error":e=this.errors;break;default:return}let Q=t.format();e[Q]?logger.warn("duplicate definition - "+Q):e[Q]=t})),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(t){t||(t=FormatTypes.full),t===FormatTypes.sighash&&logger.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map((e=>e.format(t)));return t===FormatTypes.json?JSON.stringify(e.map((t=>JSON.parse(t)))):e}static getAbiCoder(){return defaultAbiCoder}static getAddress(t){return getAddress(t)}static getSighash(t){return hexDataSlice(id(t.format()),0,4)}static getEventTopic(t){return id(t.format())}getFunction(t){if(isHexString(t)){for(const e in this.functions)if(t===this.getSighash(e))return this.functions[e];logger.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),Q=Object.keys(this.functions).filter((t=>t.split("(")[0]===e));return 0===Q.length?logger.throwArgumentError("no matching function","name",e):Q.length>1&&logger.throwArgumentError("multiple matching functions","name",e),this.functions[Q[0]]}const e=this.functions[FunctionFragment.fromString(t).format()];return e||logger.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(isHexString(t)){const e=t.toLowerCase();for(const t in this.events)if(e===this.getEventTopic(t))return this.events[t];logger.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){const e=t.trim(),Q=Object.keys(this.events).filter((t=>t.split("(")[0]===e));return 0===Q.length?logger.throwArgumentError("no matching event","name",e):Q.length>1&&logger.throwArgumentError("multiple matching events","name",e),this.events[Q[0]]}const e=this.events[EventFragment.fromString(t).format()];return e||logger.throwArgumentError("no matching event","signature",t),e}getError(t){if(isHexString(t)){const e=getStatic(this.constructor,"getSighash");for(const Q in this.errors){if(t===e(this.errors[Q]))return this.errors[Q]}logger.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),Q=Object.keys(this.errors).filter((t=>t.split("(")[0]===e));return 0===Q.length?logger.throwArgumentError("no matching error","name",e):Q.length>1&&logger.throwArgumentError("multiple matching errors","name",e),this.errors[Q[0]]}const e=this.errors[FunctionFragment.fromString(t).format()];return e||logger.throwArgumentError("no matching error","signature",t),e}getSighash(t){if("string"==typeof t)try{t=this.getFunction(t)}catch(e){try{t=this.getError(t)}catch(t){throw e}}return getStatic(this.constructor,"getSighash")(t)}getEventTopic(t){return"string"==typeof t&&(t=this.getEvent(t)),getStatic(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){"string"==typeof t&&(t=this.getError(t));const Q=arrayify(e);return hexlify(Q.slice(0,4))!==this.getSighash(t)&&logger.throwArgumentError(`data signature does not match error ${t.name}.`,"data",hexlify(Q)),this._decodeParams(t.inputs,Q.slice(4))}encodeErrorResult(t,e){return"string"==typeof t&&(t=this.getError(t)),hexlify(concat([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionData(t,e){"string"==typeof t&&(t=this.getFunction(t));const Q=arrayify(e);return hexlify(Q.slice(0,4))!==this.getSighash(t)&&logger.throwArgumentError(`data signature does not match function ${t.name}.`,"data",hexlify(Q)),this._decodeParams(t.inputs,Q.slice(4))}encodeFunctionData(t,e){return"string"==typeof t&&(t=this.getFunction(t)),hexlify(concat([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){"string"==typeof t&&(t=this.getFunction(t));let Q=arrayify(e),B=null,s="",F=null,U=null,n=null;switch(Q.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,Q)}catch(t){}break;case 4:{const t=hexlify(Q.slice(0,4)),e=BuiltinErrors[t];if(e)F=this._abiCoder.decode(e.inputs,Q.slice(4)),U=e.name,n=e.signature,e.reason&&(B=F[0]),"Error"===U?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(F[0])}`:"Panic"===U&&(s=`; VM Exception while processing transaction: reverted with panic code ${F[0]}`);else try{const e=this.getError(t);F=this._abiCoder.decode(e.inputs,Q.slice(4)),U=e.name,n=e.format()}catch(t){}break}}return logger.throwError("call revert exception"+s,Logger.errors.CALL_EXCEPTION,{method:t.format(),data:hexlify(e),errorArgs:F,errorName:U,errorSignature:n,reason:B})}encodeFunctionResult(t,e){return"string"==typeof t&&(t=this.getFunction(t)),hexlify(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){"string"==typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&logger.throwError("too many arguments for "+t.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let Q=[];t.anonymous||Q.push(this.getEventTopic(t));const B=(t,e)=>"string"===t.type?id(e):"bytes"===t.type?keccak256(hexlify(e)):("address"===t.type&&this._abiCoder.encode(["address"],[e]),hexZeroPad(hexlify(e),32));for(e.forEach(((e,s)=>{let F=t.inputs[s];F.indexed?null==e?Q.push(null):"array"===F.baseType||"tuple"===F.baseType?logger.throwArgumentError("filtering with tuples or arrays not supported","contract."+F.name,e):Array.isArray(e)?Q.push(e.map((t=>B(F,t)))):Q.push(B(F,e)):null!=e&&logger.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+F.name,e)}));Q.length&&null===Q[Q.length-1];)Q.pop();return Q}encodeEventLog(t,e){"string"==typeof t&&(t=this.getEvent(t));const Q=[],B=[],s=[];return t.anonymous||Q.push(this.getEventTopic(t)),e.length!==t.inputs.length&&logger.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach(((t,F)=>{const U=e[F];if(t.indexed)if("string"===t.type)Q.push(id(U));else if("bytes"===t.type)Q.push(keccak256(U));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");Q.push(this._abiCoder.encode([t.type],[U]))}else B.push(t),s.push(U)})),{data:this._abiCoder.encode(B,s),topics:Q}}decodeEventLog(t,e,Q){if("string"==typeof t&&(t=this.getEvent(t)),null!=Q&&!t.anonymous){let e=this.getEventTopic(t);isHexString(Q[0],32)&&Q[0].toLowerCase()===e||logger.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:e,value:Q[0]}),Q=Q.slice(1)}let B=[],s=[],F=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(B.push(ParamType.fromObject({type:"bytes32",name:t.name})),F.push(!0)):(B.push(t),F.push(!1)):(s.push(t),F.push(!1))}));let U=null!=Q?this._abiCoder.decode(B,concat(Q)):null,n=this._abiCoder.decode(s,e,!0),c=[],o=0,g=0;t.inputs.forEach(((t,e)=>{if(t.indexed)if(null==U)c[e]=new Indexed({_isIndexed:!0,hash:null});else if(F[e])c[e]=new Indexed({_isIndexed:!0,hash:U[g++]});else try{c[e]=U[g++]}catch(t){c[e]=t}else try{c[e]=n[o++]}catch(t){c[e]=t}if(t.name&&null==c[t.name]){const Q=c[e];Q instanceof Error?Object.defineProperty(c,t.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(t.name)}`,Q)}}):c[t.name]=Q}}));for(let t=0;t<c.length;t++){const e=c[t];e instanceof Error&&Object.defineProperty(c,t,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${t}`,e)}})}return Object.freeze(c)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new TransactionDescription({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:BigNumber.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new LogDescription({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}parseError(t){const e=hexlify(t);let Q=this.getError(e.substring(0,10).toLowerCase());return Q?new ErrorDescription({args:this._abiCoder.decode(Q.inputs,"0x"+e.substring(10)),errorFragment:Q,name:Q.name,signature:Q.format(),sighash:this.getSighash(Q)}):null}static isInterface(t){return!(!t||!t._isInterface)}}var traverse$2={exports:{}},traverse=traverse$2.exports=function(t){return new Traverse(t)};function Traverse(t){this.value=t}function walk(t,e,Q){var B=[],s=[],F=!0;return function t(U){var n=Q?copy(U):U,c={},o=!0,g={node:n,node_:U,path:[].concat(B),parent:s[s.length-1],parents:s,key:B.slice(-1)[0],isRoot:0===B.length,level:B.length,circular:null,update:function(t,e){g.isRoot||(g.parent.node[g.key]=t),g.node=t,e&&(o=!1)},delete:function(t){delete g.parent.node[g.key],t&&(o=!1)},remove:function(t){isArray(g.parent.node)?g.parent.node.splice(g.key,1):delete g.parent.node[g.key],t&&(o=!1)},keys:null,before:function(t){c.before=t},after:function(t){c.after=t},pre:function(t){c.pre=t},post:function(t){c.post=t},stop:function(){F=!1},block:function(){o=!1}};if(!F)return g;function l(){if("object"==typeof g.node&&null!==g.node){g.keys&&g.node_===g.node||(g.keys=objectKeys(g.node)),g.isLeaf=0==g.keys.length;for(var t=0;t<s.length;t++)if(s[t].node_===U){g.circular=s[t];break}}else g.isLeaf=!0,g.keys=null;g.notLeaf=!g.isLeaf,g.notRoot=!g.isRoot}l();var I=e.call(g,g.node);return void 0!==I&&g.update&&g.update(I),c.before&&c.before.call(g,g.node),o?("object"!=typeof g.node||null===g.node||g.circular||(s.push(g),l(),forEach(g.keys,(function(e,s){B.push(e),c.pre&&c.pre.call(g,g.node[e],e);var F=t(g.node[e]);Q&&hasOwnProperty.call(g.node,e)&&(g.node[e]=F.node),F.isLast=s==g.keys.length-1,F.isFirst=0==s,c.post&&c.post.call(g,F),B.pop()})),s.pop()),c.after&&c.after.call(g,g.node),g):g}(t).node}function copy(t){if("object"==typeof t&&null!==t){var e;if(isArray(t))e=[];else if(isDate(t))e=new Date(t.getTime?t.getTime():t);else if(isRegExp(t))e=new RegExp(t);else if(isError(t))e={message:t.message};else if(isBoolean(t))e=new Boolean(t);else if(isNumber(t))e=new Number(t);else if(isString(t))e=new String(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var Q=t.constructor&&t.constructor.prototype||t.__proto__||{},B=function(){};B.prototype=Q,e=new B}return forEach(objectKeys(t),(function(Q){e[Q]=t[Q]})),e}return t}Traverse.prototype.get=function(t){for(var e=this.value,Q=0;Q<t.length;Q++){var B=t[Q];if(!e||!hasOwnProperty.call(e,B)){e=void 0;break}e=e[B]}return e},Traverse.prototype.has=function(t){for(var e=this.value,Q=0;Q<t.length;Q++){var B=t[Q];if(!e||!hasOwnProperty.call(e,B))return!1;e=e[B]}return!0},Traverse.prototype.set=function(t,e){for(var Q=this.value,B=0;B<t.length-1;B++){var s=t[B];hasOwnProperty.call(Q,s)||(Q[s]={}),Q=Q[s]}return Q[t[B]]=e,e},Traverse.prototype.map=function(t){return walk(this.value,t,!0)},Traverse.prototype.forEach=function(t){return this.value=walk(this.value,t,!1),this.value},Traverse.prototype.reduce=function(t,e){var Q=1===arguments.length,B=Q?this.value:e;return this.forEach((function(e){this.isRoot&&Q||(B=t.call(this,B,e))})),B},Traverse.prototype.paths=function(){var t=[];return this.forEach((function(e){t.push(this.path)})),t},Traverse.prototype.nodes=function(){var t=[];return this.forEach((function(e){t.push(this.node)})),t},Traverse.prototype.clone=function(){var t=[],e=[];return function Q(B){for(var s=0;s<t.length;s++)if(t[s]===B)return e[s];if("object"==typeof B&&null!==B){var F=copy(B);return t.push(B),e.push(F),forEach(objectKeys(B),(function(t){F[t]=Q(B[t])})),t.pop(),e.pop(),F}return B}(this.value)};var objectKeys=Object.keys||function(t){var e=[];for(var Q in t)e.push(Q);return e};function toS(t){return Object.prototype.toString.call(t)}function isDate(t){return"[object Date]"===toS(t)}function isRegExp(t){return"[object RegExp]"===toS(t)}function isError(t){return"[object Error]"===toS(t)}function isBoolean(t){return"[object Boolean]"===toS(t)}function isNumber(t){return"[object Number]"===toS(t)}function isString(t){return"[object String]"===toS(t)}var isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var Q=0;Q<t.length;Q++)e(t[Q],Q,t)};forEach(objectKeys(Traverse.prototype),(function(t){traverse[t]=function(e){var Q=[].slice.call(arguments,1),B=new Traverse(e);return B[t].apply(B,Q)}}));var hasOwnProperty=Object.hasOwnProperty||function(t,e){return e in t},traverse$1=traverse$2.exports;class LiveEntity{constructor(t,e){this.session=t,this.id=e}get log(){return this.session.log}equals(t){return t instanceof LiveEntity?t.id.toString()===this.id.toString():this._equals(t)}deleteEntity(t){const e=this._getDeleteTransaction(t);return this.executeAndReturnStatus(e)}async updateEntity(t){const e=await this._getUpdateTransaction(t);return this.executeAndReturnStatus(e)}_equals(t){return!1}async executeAndReturnStatus(t){return this.session.execute(t,TypeOfExecutionReturn.Receipt,!1).then((t=>t.status))}}class BaseLiveEntityWithBalance extends LiveEntity{getBalanceOfLiveEntity(){const t=this._getBalancePayload(),e=new AccountBalanceQuery(t);return this.session.execute(e,TypeOfExecutionReturn.Result,!1)}transferHbarToLiveEntity(t){const e=t instanceof Hbar?t:new Hbar(t),Q=(new TransferTransaction).addHbarTransfer(this.session.wallet.account.id,e.negated()).addHbarTransfer(this.id.toString(),e);return this.executeAndReturnStatus(Q)}associateTokensWithLiveEntity(t){const e=(new TokenAssociateTransaction).setAccountId(this.id.toString()).setTokenIds(t);return this.executeAndReturnStatus(e)}_getDeleteTransaction(t){return this.newDeleteTransaction(this._getDeleteArguments(t))}_getDeleteArguments(t){let e=t;return t&&t.has("transferAccountId")&&t.has("transferContractId")||(e={...t,transferAccountId:this.session.wallet.account.id}),e}}function upperCaseFirstOf(t){return t.charAt(0).toUpperCase()+t.slice(1)}class ParamTypeToFunctionNameMapper{constructor(t){this.paramType=t}map({prefix:t=""}){const e=this._geCanonicalTypeFor(this.paramType);return`${t}${this._getFunctionParticleFor(e)}`}_geCanonicalTypeFor(t){return"int"===t.type?"int256":"int[]"===t.type?"int256[]":"uint"===t.type?"uint256":"uint[]"===t.type?"uint256[]":t.type}_getFunctionParticleFor(t){let e=upperCaseFirstOf(t);return e.endsWith("[]")&&(e=e.replace("[]","Array")),e}}function isSolidityAddressable(t){return t&&t.getSolidityAddress&&"function"==typeof t.getSolidityAddress}function extractSolidityAddressFrom(t){const e=/^(?:0x)?([0-9a-fA-F]{40})$/g.exec(t);return null!=e?e[1]:void 0}function transform(t,e){return Array.isArray(t)?t.map((t=>transform(t,e))):e(t)}class ContractFunctionParameters extends ContractFunctionParameters$1{static async newFor(t,e){if(!Array.isArray(e))throw new ContractFunctionParametersParser("I need an array of args in order to construct the ContractFunctionParameters instance for.");if(t.inputs.length!==e.length)throw new ContractFunctionParametersParser(`The contract expects ${t.inputs.length} arguments yet ${e.length} were provided.`);const Q=new ContractFunctionParameters;for(const B in e){const s=t.inputs[B],F=new ParamTypeToFunctionNameMapper(s).map({prefix:"add"}),U=-1!==F.indexOf("64")||-1!==F.indexOf("256");let n=e[B];if(s.type.startsWith("address")){n=transform(n,(t=>isSolidityAddressable(t)?t.getSolidityAddress():t))}else if(!s.type.startsWith("bytes")||n instanceof Uint8Array){if(U){n=transform(n,(t=>t instanceof Hbar?t._valueInTinybar:t instanceof BigNumber$1?t:new BigNumber$1(t)))}}else n=transform(n,arrayify);Q[F](n)}return Q}constructor(){super()}}class ContractFunctionParametersParser extends Error{constructor(t){super(t)}}class BasicCreatableEntity{constructor(t){this.name=t}}let KeyType;!function(t){t[t.ECDSA=0]="ECDSA",t[t.ED25519=1]="ED25519",t[t.Unknown=2]="Unknown"}(KeyType||(KeyType={}));class Account extends BasicCreatableEntity{static async mapAccountFeaturesToAccountArguments(t,e){if(null!==e.keyType){const Q=await Account.considerGenerateKeyFromAccountFeatures(t.log,e);return Object.assign({},e,{key:Q})}return e}static async considerGenerateKeyFromAccountFeatures(t,e){let Q=e.key;if(!e.key){const{keyType:B}=e,s=B===KeyType.ED25519?KeyType[KeyType.ED25519]:KeyType[KeyType.ECDSA];Q=B===KeyType.ED25519?await PrivateKey.generateED25519Async():await PrivateKey.generateECDSAAsync(),t.debug(`A new '${s}' key has been created: ${Q.toStringDer()} . Copy it since this is only time you'll see it.`)}return Q}constructor(t){super("Account"),this.accountFeatures={keyType:KeyType.ED25519,...t}}async createVia({session:t}){let e;this.key&&(e=Object.assign({},this.accountFeatures,{key:this.key})),e=await Account.mapAccountFeaturesToAccountArguments(t,this.accountFeatures);const Q=new AccountCreateTransaction(e),{accountId:B}=await t.execute(Q,TypeOfExecutionReturn.Receipt,!0);return new LiveAccountWithPrivateKey({id:B,privateKey:e.key,session:t})}}class LiveAccount extends BaseLiveEntityWithBalance{constructor({session:t,id:e}){super(t,e)}getSolidityAddress(){return this.id.toSolidityAddress()}getLiveEntityInfo(){const t=(new AccountInfoQuery).setAccountId(this.id);return this.session.execute(t,TypeOfExecutionReturn.Result,!1)}newDeleteTransaction(t){return new AccountDeleteTransaction({accountId:this.id,...t})}async _getUpdateTransaction(t){const e=await Account.mapAccountFeaturesToAccountArguments(this.session,t);return new AccountUpdateTransaction(e)}_getBalancePayload(){return{accountId:this.id}}}class LiveAccountWithPrivateKey extends LiveAccount{constructor({session:t,id:e,privateKey:Q}){super({id:e,session:t}),this.privateKey=Q}tryToSign(t){const e=this.privateKey.signTransaction(t);t.addSignature(this.privateKey.publicKey,e)}async _getUpdateTransaction(t){const e=await super._getUpdateTransaction(t);return this.tryToSign(e),e}_getDeleteTransaction(t){const e=super._getDeleteTransaction(t);return e.freezeWithSigner(this.session.wallet.signer),this.tryToSign(e),e}}class StratoAddress{static getSolidityAddressMatchOrDieTryingFrom(t){const e=extractSolidityAddressFrom(t);if(!e)throw new Error(`The provided address '${t}' does not appear to be a valid Solidity address.`);return e.toLowerCase()}constructor(t,e){this.session=t,this.id=StratoAddress.getSolidityAddressMatchOrDieTryingFrom(e)}getSolidityAddress(){return this.id}async toLiveAccount(){const t=AccountId.fromSolidityAddress(this.getSolidityAddress());return new LiveAccount({id:t,session:this.session})}async toLiveContract(t){const e=ContractId.fromSolidityAddress(this.getSolidityAddress());return new LiveContract({cInterface:t,id:e,session:this.session})}equals(t){return t instanceof LiveEntity?t.id.toString()===this.id.toString():"string"==typeof t?extractSolidityAddressFrom(t).toLocaleLowerCase()===this.id:t instanceof AccountId&&t.toSolidityAddress()===this.id}}var Hex={},interopRequireDefault$1={exports:{}};!function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports}(interopRequireDefault$1);var toConsumableArray={exports:{}},arrayWithoutHoles={exports:{}},arrayLikeToArray={exports:{}};!function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var Q=0,B=new Array(e);Q<e;Q++)B[Q]=t[Q];return B},t.exports.__esModule=!0,t.exports.default=t.exports}(arrayLikeToArray),function(t){var e=arrayLikeToArray.exports;t.exports=function(t){if(Array.isArray(t))return e(t)},t.exports.__esModule=!0,t.exports.default=t.exports}(arrayWithoutHoles);var iterableToArray={exports:{}};!function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports}(iterableToArray);var unsupportedIterableToArray={exports:{}};!function(t){var e=arrayLikeToArray.exports;t.exports=function(t,Q){if(t){if("string"==typeof t)return e(t,Q);var B=Object.prototype.toString.call(t).slice(8,-1);return"Object"===B&&t.constructor&&(B=t.constructor.name),"Map"===B||"Set"===B?Array.from(t):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?e(t,Q):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports}(unsupportedIterableToArray);var nonIterableSpread={exports:{}};!function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports}(nonIterableSpread),function(t){var e=arrayWithoutHoles.exports,Q=iterableToArray.exports,B=unsupportedIterableToArray.exports,s=nonIterableSpread.exports;t.exports=function(t){return e(t)||Q(t)||B(t)||s()},t.exports.__esModule=!0,t.exports.default=t.exports}(toConsumableArray);var _interopRequireDefault$2=interopRequireDefault$1.exports;Object.defineProperty(Hex,"__esModule",{value:!0});var encodeToHex_1=Hex.encodeToHex=encodeToHex,_toConsumableArray2=_interopRequireDefault$2(toConsumableArray.exports);function encodeToHex(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Q=(0,_toConsumableArray2.default)(t).map((function(t){return t.toString(16).padStart(2,"0")})).join("");return e?"0x".concat(Q):Q}const UNHANDLED_EVENT_NAME="UnhandledEventName";function isContractQueryRequest(t){return t instanceof ContractCallQuery}function parseLogs(t,e){return e.map((e=>{const Q=encodeToHex_1(e.data),B=e.topics.map((t=>encodeToHex_1(t)));try{const e=t.parseLog({data:Q,topics:B}),s=Object.keys(e.args).filter((t=>isNaN(Number(t)))).map((t=>({[t]:e.args[t]}))).reduce(((t,e)=>({...t,...e})),{});return{name:e.name,payload:s}}catch(t){return null}})).filter((t=>null!==t))}class LiveContract extends BaseLiveEntityWithBalance{static async newFollowingUpload({session:t,contract:e,emitConstructorLogs:Q,transaction:B}){let s,F;if(Q){const Q=await t.execute(B,TypeOfExecutionReturn.Record,!0);s=Q.receipt.contractId,F=parseLogs(e.interface,Q.contractFunctionResult.logs)}else{s=(await t.execute(B,TypeOfExecutionReturn.Receipt,!0)).contractId,F=[]}return new LiveContractWithLogs({cInterface:e.interface,id:s,logs:F,session:t})}constructor({session:t,id:e,cInterface:Q}){super(t,e),this.events=new events.exports.EventEmitter,this.interface=Q,Object.values(this.interface.functions).forEach((t=>Object.defineProperty(this,t.name,{enumerable:!0,value:async function(t,...e){const{request:Q,meta:B}=await this.createContractRequestFor({fDescription:t,args:e}),s=!(Q instanceof ContractCallQuery)&&B.onlyReceipt?TypeOfExecutionReturn.Receipt:TypeOfExecutionReturn.Result,F=await this.session.execute(Q,s,B.emitReceipt);return s==TypeOfExecutionReturn.Result?(this.tryToProcessForEvents(F),await this.tryExtractingResponse(F,t)):F}.bind(this,t),writable:!1})))}getSolidityAddress(){return this.id.toSolidityAddress()}onEvent(t,e){if(!(void 0!==Object.values(this.interface.events).find((e=>e.name===t)))&&UNHANDLED_EVENT_NAME!==t)throw new Error(`There is no such event named '${t}' defined in this contract.`);e?this.events.on(t,e):this.events.removeAllListeners(t)}onUnhandledEvents(t){this.onEvent(UNHANDLED_EVENT_NAME,t)}async createContractRequestFor({fDescription:t,args:e}){let Q=!1;const B={contractId:this.id,gas:this.session.defaults.contractTransactionGas},s={emitReceipt:this.session.defaults.emitLiveContractReceipts,onlyReceipt:this.session.defaults.onlyReceiptsFromContractRequests};e&&e.length>0&&(e[0].gas instanceof Hbar&&(e[0].gas=e[0].gas.toTinybars()),(Number.isInteger(e[0].gas)||e[0].gas instanceof long)&&(B.gas=e[0].gas,Q=!0));const F=t.constant?new ContractCallQuery(B):new ContractExecuteTransaction(B);if(isContractQueryRequest(F)&&this.session.defaults.paymentForContractQuery>0){const t=Hbar.fromTinybars(this.session.defaults.paymentForContractQuery);F.setQueryPayment(t)}return e&&e.length>0&&(isContractQueryRequest(F)?(e[0].maxQueryPayment instanceof Hbar&&(F.setMaxQueryPayment(e[0].maxQueryPayment),Q=!0),e[0].paymentTransactionId instanceof TransactionId&&(F.setPaymentTransactionId(e[0].paymentTransactionId),Q=!0),e[0].queryPayment instanceof Hbar&&(F.setQueryPayment(e[0].queryPayment),Q=!0)):(e[0].amount&&(F.setPayableAmount(e[0].amount),Q=!0),e[0].maxTransactionFee&&(F.setMaxTransactionFee(e[0].maxTransactionFee),Q=!0),Array.isArray(e[0].nodeAccountIds)&&(F.setNodeAccountIds(e[0].nodeAccountIds),Q=!0),e[0].transactionId instanceof TransactionId&&(F.setTransactionId(e[0].transactionId),Q=!0),e[0].transactionMemo&&(F.setTransactionMemo(e[0].transactionMemo),Q=!0),Number.isInteger(e[0].transactionValidDuration)&&(F.setTransactionValidDuration(e[0].transactionValidDuration),Q=!0))),e&&e.length>0&&(!1!==e[0].emitReceipt&&!0!==e[0].emitReceipt||(s.emitReceipt=e[0].emitReceipt,Q=!0),!1!==e[0].onlyReceipt&&!0!==e[0].onlyReceipt||(s.onlyReceipt=e[0].onlyReceipt,Q=!0)),Q&&(e=e.slice(1)),F.setFunction(t.name,await ContractFunctionParameters.newFor(t,e)),{meta:s,request:F}}tryExtractingResponse(t,e){let Q;const B=this.interface.decodeFunctionResult(e,t.asBytes()),s=Object.keys(B).filter((t=>isNaN(Number(t))));if(e.outputs&&0!==e.outputs.length){if(s.length===e.outputs.length){const t=t=>e.outputs.find((e=>e.name===t)).type.startsWith("bytes"),F=e=>t(e)?arrayify(B[e]):B[e];Q=s.map((t=>({[t]:F(t)}))).reduce(((t,e)=>({...t,...e})),{})}else e.outputs.length>1?(Q=[...B],Q=e.outputs.map(((t,e)=>t.type.startsWith("bytes")?arrayify(Q[e]):Q[e]))):Q=B[0];const t=(t,e)=>{let Q=!1;return"string"==typeof t&&void 0!==extractSolidityAddressFrom(t)?(e(new StratoAddress(this.session,t),!0),Q=!0):BigNumber.isBigNumber(t)&&(e(new BigNumber$1(t.toString()),!1),Q=!0),Q};t(Q,(t=>{Q=t}))||traverse$1(Q).forEach((function(e){t(e,this.update)}))}return Q}tryToProcessForEvents(t){parseLogs(this.interface,t.logs).forEach((({name:t,payload:e})=>{let Q;if(0===this.events.listenerCount(t)){if(0===this.events.listenerCount(UNHANDLED_EVENT_NAME))return;Q=UNHANDLED_EVENT_NAME}else Q=t;try{this.events.emit(Q,e)}catch(e){throw new Error(`The event-emitter handle '${t}' failed to execute with the following reason: ${e.message}`)}}))}getLiveEntityInfo(){const t=(new ContractInfoQuery).setContractId(this.id);return this.session.execute(t,TypeOfExecutionReturn.Result,!1)}newDeleteTransaction(t){return new ContractDeleteTransaction({contractId:this.id,...t})}_getUpdateTransaction(t){throw new Error("Method not implemented.")}_getBalancePayload(){return{contractId:this.id}}}class LiveContractWithLogs extends LiveContract{constructor({session:t,id:e,cInterface:Q,logs:B}){super({cInterface:Q,id:e,session:t}),this.liveContract=this,this.logs=B}}var dotenv={};Object.defineProperty(dotenv,"__esModule",{value:!0});var config_1=dotenv.config=config$1;function config$1(){return{parsed:void 0}}class EnvironmentInvalidError extends Error{constructor(t){super(t)}}const HEDERA_CUSTOM_NET_NAME="customnet",AVAILABLE_NETWORK_NAMES={CustomNet:HEDERA_CUSTOM_NET_NAME,MainNet:"mainnet",PreviewNet:"previewnet",TestNet:"testnet"};class HederaNetwork{static newFrom(t){return new HederaNetwork(t.defaults,t.name,t.nodes)}constructor(t,e,Q){this.defaults=t,this.name=e,this.nodesInfo=Q,this.nodes="string"==typeof Q?this.parseNetworkAddressBookFrom(Q):Q;const B=Object.values(AVAILABLE_NETWORK_NAMES);if(!B.includes(this.name))throw new EnvironmentInvalidError(`There is no such '${this.name}' network available. In order to continue, please choose a valid name from: ${B.join(", ")}`);try{WebClient.forName(this.name)}catch(t){if(HEDERA_CUSTOM_NET_NAME!==this.name)throw new EnvironmentInvalidError(`There is no such ${this.name} network available in this library. Available network names to choose from are: ${B.join(", ")}`);if(!this.nodes||0===Object.keys(this.nodes).length)throw new EnvironmentInvalidError(`Please provide a list of network nodes in order to use a ${this.name} network.`)}}getClient(){return HEDERA_CUSTOM_NET_NAME===this.name?WebClient.forNetwork(this.nodes):WebClient.forName(this.name).setMaxNodesPerTransaction(1)}parseNetworkAddressBookFrom(t){const e={};if(t){const Q=t.split(/\s*,\s*/).map((t=>{if(-1===t.indexOf("#"))throw new EnvironmentInvalidError(`Node definition entry '${t}' is missing the account-id separator (#)`);const[e,Q]=t.split("#"),B=parseInt(Q);return{[e]:new AccountId(B)}}));for(const t of Q){const Q=Object.keys(t)[0];e[Q]=t[Q]}}return e}}class WalletProvider{constructor(t){this.ctx=t,this.setNetwork(t.network)}setNetwork(t){return this.network=t,this}buildFor(t){return this.sanityCheck(),this._buildCold(t)}sanityCheck(){if(!this.network)throw new Error("Please first provide a HederaNetwork to the WalletProvider in order to build a new Wallet.")}}class NotSupportedWalletProvider extends WalletProvider{constructor(t,e){throw super(t),new Error("You're trying to create a wallet-provider for a not-supported wallet-type. Something went wrong since you most likely would not want to ever do that.")}_buildCold(t){return Promise.resolve()}}class BasicStratoWallet{constructor(t){this.wallet=t,this.signer=t}get account(){return{id:this.wallet.getAccountId(),publicKey:this.wallet.getAccountKey()}}async execute(t){return await t.executeWithSigner(this.wallet)}getReceipt(t){return this.wallet.getProvider().getTransactionReceipt(t.transactionId)}}class BrowserWalletProvider extends WalletProvider{constructor(t,e){super(t),this.controller=e}async _buildCold(t){return new BrowserWallet(this.controller,t.propName)}}class BrowserWallet extends BasicStratoWallet{constructor(t,e){super(window[e])}}class CredentialsInvalidError extends Error{constructor(t){super(t)}}class LegacyLocalWallet extends Wallet{constructor(t,e,Q){super(),this.accountId=e,this.client=t.getClient(),this.publicKey=Q.publicKey,this.client.setOperator(e,Q),this.signer=t=>Promise.resolve(Q.sign(t))}getProvider(){return{getTransactionReceipt:async t=>(new TransactionReceiptQuery).setTransactionId(t).execute(this.client)}}getAccountKey(){return this.publicKey}getLedgerId(){return this.client.ledgerId}getAccountId(){return this.accountId}getNetwork(){return this.client.network}getMirrorNetwork(){return this.client.mirrorNetwork}async sign(t){const e=[];for(const Q of t)e.push(new SignerSignature({accountId:this.accountId,publicKey:this.publicKey,signature:await this.signer(Q)}));return e}getAccountBalance(){return(new AccountBalanceQuery).setAccountId(this.accountId).execute(this.client)}getAccountInfo(){return(new AccountInfoQuery).setAccountId(this.accountId).execute(this.client)}getAccountRecords(){return(new AccountRecordsQuery).setAccountId(this.accountId).execute(this.client)}signTransaction(t){return t.signWith(this.publicKey,this.signer)}checkTransaction(t){const e=t.transactionId;if(null!=e.accountId&&0!=e.accountId.compare(this.accountId))throw new Error("transaction's ID constructed with a different account ID");const Q=(null!=t.nodeAccountIds?t.nodeAccountIds:[]).map((t=>t.toString())),B=Object.values(this.getNetwork()).map((t=>t.toString()));if(!Q.reduce(((t,e)=>t&&B.includes(e)),!0))throw new Error("Transaction already set node account IDs to values not within the current network");return Promise.resolve(t)}populateTransaction(t){return t.setTransactionId(TransactionId.generate(this.accountId)),t.setNodeAccountIds(this.client._network.getNodeAccountIdsForExecute()),Promise.resolve(t.freeze())}sendRequest(t){return t.execute(this.client)}}class HederaLocalWalletProvider extends WalletProvider{constructor(t,e){super(t),this.controller=e}async buildOperatedBy(t,e){return this.sanityCheck(),new SdkWallet(this.controller,this.ctx.network,"string"==typeof t?AccountId.fromString(t):t,"string"==typeof e?PrivateKey.fromString(e):e)}async _buildCold(t){return this.buildOperatedBy(t.accountId,t.privateKey)}}class SdkWallet extends BasicStratoWallet{constructor(t,e,Q,B){super(new LegacyLocalWallet(e,Q,B)),this.network=e,this.operatorId=Q,this.operatorKey=B,t.onAccountChanged((t=>{this.operatorKey=PrivateKey.fromString(t.operatorKey),this.wallet=new LegacyLocalWallet(e,AccountId.fromString(t.operatorId),PrivateKey.fromString(t.operatorKey)),this.operatorId=this.wallet.getAccountId()})),t.onNetworkChanged((t=>{this.network=t,this.wallet=new LegacyLocalWallet(t,this.wallet.getAccountId(),B)}))}}class Subscription{constructor(t,e,Q){this.events=t,this.eventName=e,this.clb=Q,t.on(e,Q)}unsubscribe(){this.events.off(this.eventName,this.clb)}}class _NeverFiringSubscription extends Subscription{constructor(){super(new events.exports.EventEmitter,"NeverFiringSubscription",(t=>{}))}}const NeverFiringSubscription=new _NeverFiringSubscription;class BasicWalletController{static NETWORK_CHANGE_REQUESTED="NETWORK_CHANGE_REQUESTED";static ACCOUNT_CHANGE_REQUESTED="ACCOUNT_CHANGE_REQUESTED";constructor(t){this.ctx=t,this.pubSub=new events.exports.EventEmitter}changeAccount(t,...e){const Q=this.getAccountPayload(t,...e);this.pubSub.emit(BasicWalletController.ACCOUNT_CHANGE_REQUESTED,Q)}changeNetwork(t){this.pubSub.emit(BasicWalletController.NETWORK_CHANGE_REQUESTED,t)}onAccountChanged(t){return new Subscription(this.pubSub,BasicWalletController.ACCOUNT_CHANGE_REQUESTED,t)}onNetworkChanged(t){return new Subscription(this.pubSub,BasicWalletController.NETWORK_CHANGE_REQUESTED,t)}}class HederaWalletController extends BasicWalletController{constructor(t){super(t)}getAccountPayload(t,...e){if(0===e.length)throw new Error("The private-key must also be provided in order to switch the account.");try{const Q=e[0]instanceof PrivateKey?e[0]:PrivateKey.fromString(e[0]);return{operatorId:t instanceof AccountId?t.toString():t,operatorKey:Q.toStringDer()}}catch(t){throw new Error("The provided key is not in a valid format. Cannot change account.")}}}class ImpotentWalletController{changeAccount(t,...e){throw new Error("This WalletController cannot change the account of the underlying wallet.")}changeNetwork(t){throw new Error("This WalletController cannot change the network of the underlying wallet.")}onAccountChanged(t){return NeverFiringSubscription}onNetworkChanged(t){return NeverFiringSubscription}}const WALLET_TYPE_CONSTRUCTOR_GUARD={};class WalletType{constructor(t,e,Q=ImpotentWalletController,B=NotSupportedWalletProvider,s){if(this.name=e,this.defaultController=Q,this.providerHaving=B,this.computeColdStartOptionsFrom=s,t!==WALLET_TYPE_CONSTRUCTOR_GUARD)throw new Error("Wallet types cannot be defined from outside this module!")}equals(t){return t instanceof WalletType&&this.name===t.name}}class WalletTypes{unknownWalletType=new WalletType(WALLET_TYPE_CONSTRUCTOR_GUARD,"Unknown");constructor(){this.knownWalletTypes=[new WalletType(WALLET_TYPE_CONSTRUCTOR_GUARD,"Sdk",HederaWalletController,HederaLocalWalletProvider,(t=>{try{return{accountId:AccountId.fromString(t.wallet.sdk.operatorId),privateKey:PrivateKey.fromString(t.wallet.sdk.operatorKey)}}catch(t){throw new CredentialsInvalidError(t.message)}})),new WalletType(WALLET_TYPE_CONSTRUCTOR_GUARD,"Browser",ImpotentWalletController,BrowserWalletProvider,(t=>({propName:t.wallet.window.propName})))]}isKnown(t){return!this.Unknown.equals(t)}get Unknown(){return this.unknownWalletType}getBy({name:t}){const e=this.knownWalletTypes.filter((e=>e.name===t));return 0===e.length?this.Unknown:e[0]}}var StratoLogger$1={},classCallCheck$1={exports:{}};!function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports}(classCallCheck$1);var createClass$1={exports:{}};!function(t){function e(t,e){for(var Q=0;Q<e.length;Q++){var B=e[Q];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(t,B.key,B)}}t.exports=function(t,Q,B){return Q&&e(t.prototype,Q),B&&e(t,B),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}(createClass$1);var inherits={exports:{}},setPrototypeOf={exports:{}};!function(t){function e(Q,B){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(Q,B)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(setPrototypeOf),function(t){var e=setPrototypeOf.exports;t.exports=function(t,Q){if("function"!=typeof Q&&null!==Q)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(Q&&Q.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),Q&&e(t,Q)},t.exports.__esModule=!0,t.exports.default=t.exports}(inherits);var possibleConstructorReturn={exports:{}},_typeof$1={exports:{}};!function(t){function e(Q){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(Q)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(_typeof$1);var assertThisInitialized={exports:{}};!function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports}(assertThisInitialized),function(t){var e=_typeof$1.exports.default,Q=assertThisInitialized.exports;t.exports=function(t,B){if(B&&("object"===e(B)||"function"==typeof B))return B;if(void 0!==B)throw new TypeError("Derived constructors may only return object or undefined");return Q(t)},t.exports.__esModule=!0,t.exports.default=t.exports}(possibleConstructorReturn);var getPrototypeOf={exports:{}};!function(t){function e(Q){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(Q)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(getPrototypeOf);var _interopRequireDefault$1=interopRequireDefault$1.exports;Object.defineProperty(StratoLogger$1,"__esModule",{value:!0});var StratoLogger_2=StratoLogger$1.StratoLogger=void 0,_classCallCheck2$1=_interopRequireDefault$1(classCallCheck$1.exports),_createClass2$1=_interopRequireDefault$1(createClass$1.exports),_inherits2=_interopRequireDefault$1(inherits.exports),_possibleConstructorReturn2=_interopRequireDefault$1(possibleConstructorReturn.exports),_getPrototypeOf2=_interopRequireDefault$1(getPrototypeOf.exports),_events=_interopRequireDefault$1(events.exports);function _createSuper$2(t){var e=_isNativeReflectConstruct$2();return function(){var Q,B=(0,_getPrototypeOf2.default)(t);if(e){var s=(0,_getPrototypeOf2.default)(this).constructor;Q=Reflect.construct(B,arguments,s)}else Q=B.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,Q)}}function _isNativeReflectConstruct$2(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var LEVELS={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},StratoLogger=function(t){(0,_inherits2.default)(Q,t);var e=_createSuper$2(Q);function Q(t){var B;return(0,_classCallCheck2$1.default)(this,Q),(B=e.call(this)).level=LEVELS[t.level],B.isLoggingEnabled=t.enabled,B}return(0,_createClass2$1.default)(Q,[{key:"isSillyLoggingEnabled",get:function(){return this._isLevelEnabled(LEVELS.silly)}},{key:"debug",value:function(t){for(var e=arguments.length,Q=new Array(e>1?e-1:0),B=1;B<e;B++)Q[B-1]=arguments[B];return this._isLevelEnabled(LEVELS.debug)&&this.emit.apply(this,["debug",t].concat(Q)),this}},{key:"error",value:function(t){for(var e=arguments.length,Q=new Array(e>1?e-1:0),B=1;B<e;B++)Q[B-1]=arguments[B];return this._isLevelEnabled(LEVELS.error)&&this.emit.apply(this,["error",t].concat(Q)),this}},{key:"info",value:function(t){for(var e=arguments.length,Q=new Array(e>1?e-1:0),B=1;B<e;B++)Q[B-1]=arguments[B];return this._isLevelEnabled(LEVELS.info)&&this.emit.apply(this,["info",t].concat(Q)),this}},{key:"silly",value:function(t){for(var e=arguments.length,Q=new Array(e>1?e-1:0),B=1;B<e;B++)Q[B-1]=arguments[B];return this._isLevelEnabled(LEVELS.silly)&&this.emit.apply(this,["debug",t].concat(Q)),this}},{key:"verbose",value:function(t){for(var e=arguments.length,Q=new Array(e>1?e-1:0),B=1;B<e;B++)Q[B-1]=arguments[B];return this._isLevelEnabled(LEVELS.verbose)&&this.emit.apply(this,["debug",t].concat(Q)),this}},{key:"warn",value:function(t){for(var e=arguments.length,Q=new Array(e>1?e-1:0),B=1;B<e;B++)Q[B-1]=arguments[B];return this._isLevelEnabled(LEVELS.warn)&&this.emit.apply(this,["warn",t].concat(Q)),this}},{key:"_isLevelEnabled",value:function(t){return this.isLoggingEnabled&&this.level>=t}}]),Q}(_events.default);StratoLogger_2=StratoLogger$1.StratoLogger=StratoLogger;class DefaultPrivateKeyWalletController extends HederaWalletController{constructor(t){super(t)}getAccountPayload(t){return super.getAccountPayload(t,this.ctx.params.wallet.controller.default.operatorKey)}}class WalletControllers{constructor(t){this.impotentController=new ImpotentWalletController,this.knownControllers=[{name:"Hedera",value:new HederaWalletController(t)},{name:"DefaultPrivateKey",value:new DefaultPrivateKeyWalletController(t)}]}get Unknown(){return this.impotentController}getBy({name:t}){const e=this.knownControllers.filter((e=>e.name===t));return 0===e.length?this.Unknown:e[0].value}}const DEFAULT_FILE_CHUNK_SIZE=1024,DefinedNetworkDefaults={[AVAILABLE_NETWORK_NAMES.CustomNet]:{fileChunkSize:DEFAULT_FILE_CHUNK_SIZE},[AVAILABLE_NETWORK_NAMES.MainNet]:{fileChunkSize:DEFAULT_FILE_CHUNK_SIZE},[AVAILABLE_NETWORK_NAMES.TestNet]:{fileChunkSize:DEFAULT_FILE_CHUNK_SIZE},[AVAILABLE_NETWORK_NAMES.PreviewNet]:{fileChunkSize:DEFAULT_FILE_CHUNK_SIZE}};class StratoContext{constructor(t){let e=config_1({path:t.path}).parsed;const Q={},B=t?.params??{};e||(e={HEDERAS_NETWORK:"testnet",HEDERAS_OPERATOR_ID:"0.0.2908307",HEDERAS_OPERATOR_KEY:"302e020100300506032b657004220420261b8e33bc1c3258ce166b8577548462149b422f60f699495eef744368808dee",HEDERAS_DEFAULT_CONTRACT_REQUESTS_RETURN_ONLY_RECEIPTS:"false",HEDERAS_DEFAULT_PAYMENT_FOR_CONTRACT_QUERY:"1000000",HEDERAS_LOGGER_LEVEL:"debug",HEDERAS_LOGGER_ENABLED:"true"}),Object.keys(e).filter((t=>t.startsWith("HEDERAS_"))).forEach((t=>{Q[t]=e[t]}));const s=B.network?.name??Q.HEDERAS_NETWORK??"unspecified";this.walletTypes=new WalletTypes,this.params={logger:{enabled:"true"===(B.logger?.enabled??Q.HEDERAS_LOGGER_ENABLED??"false"),level:B.logger?.level??Q.HEDERAS_LOGGER_LEVEL??"info"},network:{defaults:DefinedNetworkDefaults[B.network?.name??Q.HEDERAS_NETWORK??"unspecified"],name:s,nodes:B.network?.nodes??Q.HEDERAS_NODES??""},session:{defaults:this.parseSessionDefaultsFrom(s,B,Q)},wallet:this.computeWalletSpecsFrom(B,Q)},this.walletControllers=new WalletControllers(this),this.log=new StratoLogger_2(this.params.logger),this.network=HederaNetwork.newFrom(this.params.network)}async getWallet(t){const e="string"==typeof this.params.wallet.type?this.walletTypes.getBy({name:this.params.wallet.type}):this.params.wallet.type,Q=t??this.walletControllers.getBy({name:this.params.wallet.controller.type})??new e.defaultController(this),B=new e.providerHaving(this,Q),s=e.computeColdStartOptionsFrom(this.params);if(s)return{controller:Q,wallet:await B.buildFor(s)};throw new Error("Please provide either the cold-start data or a saved-state from where to create the bounded underlying Wallet with.")}computeWalletSpecsFrom(t,e){const Q=t.wallet?.controller?.default?.operatorKey??e.HEDERAS_WALLET_CONTROLLER_DEFAULT_PRIVATE_KEY,B=t.wallet?.controller?.type??e.HEDERAS_WALLET_CONTROLLER??"Hedera",s=this.walletTypes.getBy({name:"string"==typeof t.wallet?.type?t.wallet?.type:e.HEDERAS_WALLET_TYPE?e.HEDERAS_WALLET_TYPE:"Sdk"}),F=t.wallet?.window?.propName??e.HEDERAS_WALLET_WINDOW_PROPERTY_NAME??"hedera";if(!this.walletTypes.isKnown(s))throw new Error("Only 'Sdk' and 'Browser' wallet types are currently supported. If not specified, it defaults to 'Sdk'.");return{controller:{default:{operatorKey:Q},type:B},sdk:{operatorId:t.wallet?.sdk?.operatorId??e.HEDERAS_OPERATOR_ID,operatorKey:t.wallet?.sdk?.operatorKey??e.HEDERAS_OPERATOR_KEY},type:s,window:{propName:F}}}parseSessionDefaultsFrom(t,e,Q){const B=e=>Q[`HEDERAS_${t.toUpperCase()}_DEFAULT_${e.toUpperCase()}`]||Q[`HEDERAS_DEFAULT_${e.toUpperCase()}`];return{contractCreationGas:e.session?.defaults?.contractCreationGas??parseInt(B("contract_creation_gas")??"150000"),contractTransactionGas:e.session?.defaults?.contractCreationGas??parseInt(B("contract_transaction_gas")??"169000"),emitConstructorLogs:e.session?.defaults?.emitConstructorLogs??"true"===(B("emit_constructor_logs")??"true"),emitLiveContractReceipts:e.session?.defaults?.emitLiveContractReceipts??"true"===(B("emit_live_contracts_receipts")??"false"),onlyReceiptsFromContractRequests:e.session?.defaults?.onlyReceiptsFromContractRequests??"true"===(B("contract_requests_return_only_receipts")??"true"),paymentForContractQuery:e.session?.defaults?.paymentForContractQuery??parseInt(B("payment_for_contract_query")??"1000000")}}}class BasicUploadableEntity{constructor(t){this.nameOfUpload=t}async uploadTo({session:t,args:e=[]}){const Q=await this.getContent(),{appendTxCount:B,areOverridesProvided:s,fileTransactions:F}=await this._getFileTransactionsFor({args:e,content:Q,session:t}),U=await t.execute(F[0],TypeOfExecutionReturn.Receipt,!0);if(U.status!==Status.Success)throw new Error(`There was an issue while creating the file (status ${U.status}). Aborting file upload.`);return t.log.debug(`Uploaded content to HFS resulting in file id ${U.fileId}`),F.length>1&&F[1]instanceof FileAppendTransaction&&(t.log.debug(`Appending the remaining content with a total of ${B} file-append transactions.`),await t.execute(F[1].setFileId(U.fileId),TypeOfExecutionReturn.Result,!0),t.log.verbose(`Done appending. Content has been successfully uploaded and is available at HFS id ${U.fileId}`)),s&&(e=e.slice(1)),this.onFileUploaded({args:e,receipt:U,session:t})}async _getFileTransactionsFor({content:t,session:e,args:Q=[]}){const B=e.network.defaults.fileChunkSize,s=[];let F={};Q.length>0&&0!==Object.keys(Q[0]).length&&"_file"===Object.keys(Q[0])[0]&&(F=Q[0]._file),s.push(new FileCreateTransaction(Object.assign({},{keys:[e.wallet.account.publicKey],...F},{contents:t.length>B?t.slice(0,B):t})));let U=0;if(t.length>B){const e=t.slice(B);U=Math.ceil(e.length/B),s.push(new FileAppendTransaction({contents:e,maxChunks:U}))}return{appendTxCount:U,areOverridesProvided:0!==Object.keys(F).length,fileTransactions:s}}}class LiveFile extends LiveEntity{constructor({session:t,id:e,data:Q}){super(t,e instanceof FileId?e:FileId.fromString(e)),this.data=Q}getLiveEntityInfo(){const t=new FileInfoQuery({fileId:this.id});return this.session.execute(t,TypeOfExecutionReturn.Result,!1)}getSolidityAddress(){return this.id.toSolidityAddress()}_getDeleteTransaction(t){return new FileDeleteTransaction({fileId:this.id})}async _getUpdateTransaction(t){return new FileUpdateTransaction({...t,fileId:this.id})}async getContents(){const t=new FileContentsQuery({fileId:this.id});return await this.session.execute(t,TypeOfExecutionReturn.Result,!1)}}class File extends BasicUploadableEntity{constructor(t){super("File"),this.info=t}async getContent(){return this.info}async onFileUploaded({session:t,receipt:e,args:Q=[]}){return new LiveFile({data:this.info,id:e.fileId,session:t})}}class LiveJson extends LiveFile{constructor({session:t,id:e,data:Q}){super({data:Q,id:e,session:t}),"string"==typeof Q&&(Q=JSON.parse(Q)),Object.keys(Q).forEach((t=>Object.defineProperty(this,t,{enumerable:!0,value:Q[t],writable:!1})))}}class Json extends BasicUploadableEntity{static isInfoAcceptable(t){try{return Json._guardForInvalid(t),!0}catch(t){}return!1}static _guardForInvalid(t){if(null===t||"object"!=typeof t)throw new Error("Please provide a valid JSON object to instantiate a static Json with.");if(void 0!==Object.keys(t).find((t=>t.length>0&&("_"===t[0]||"id"===t))))throw new Error("Static Jsons can only be constructed from JSON objects who's properties don't start with '_' or has the 'id' naming.")}constructor(t){super("Json"),this.info=t,Json._guardForInvalid(t)}async getContent(){return JSON.stringify(this.info)}async onFileUploaded({session:t,receipt:e,args:Q=[]}){return new LiveJson({data:JSON.stringify(this.info),id:e.fileId,session:t})}}let TypeOfExecutionReturn;!function(t){t.Receipt="Receipt",t.Record="Record",t.Result="Result"}(TypeOfExecutionReturn||(TypeOfExecutionReturn={}));const SESSION_CONSTRUCTOR_GUARD={},TRANSACTION_ON_RECEIPT_EVENT_NAME="__TransactionOnReceiptAvailable_EventName__";class ApiSession{static async default(t={},e=".env"){const Q=new StratoContext("string"==typeof t?{params:{},path:t}:{params:t,path:e});return ApiSession.buildFrom(Q)}static async buildFrom(t){const{wallet:e,controller:Q}=await t.getWallet();return{controller:Q,session:new ApiSession(SESSION_CONSTRUCTOR_GUARD,{client:e,ctx:t})}}constructor(t,{ctx:e,client:Q}){if(t!==SESSION_CONSTRUCTOR_GUARD)throw new Error("API sessions can only be constructed through a SessionBuilder instance!");this.log=e.log,this.network=e.network,this.client=Q,this.defaults=e.params.session.defaults,this.events=new events.exports.EventEmitter}get wallet(){return this.client}async create(t){this.log.info(`Creating a new Hedera ${t.name}`);const e=await t.createVia({session:this});return this.log.info(`Successfully created ${t.name} id ${e.id}`),e}async execute(t,e,Q=!1){const B=t instanceof ContractCallQuery||t instanceof ContractExecuteTransaction;let s,F,U;const n=await this.client.execute(t);if(s=n,n instanceof TransactionResponse){if(F=await this.client.getReceipt(n),e===TypeOfExecutionReturn.Record||B&&e===TypeOfExecutionReturn.Result){const t=(new TransactionRecordQuery).setTransactionId(n.transactionId);U=await this.client.execute(t),s=U.contractFunctionResult}this.canReceiptBeEmitted(Q)&&this.events.emit(TRANSACTION_ON_RECEIPT_EVENT_NAME,{receipt:F,transaction:t})}return{[TypeOfExecutionReturn.Record]:U,[TypeOfExecutionReturn.Receipt]:F,[TypeOfExecutionReturn.Result]:s}[e]}getSolidityAddress(){return this.wallet.account.id.toSolidityAddress()}async getLiveContract({id:t,abi:e=[]}){let Q;const B=await e;try{Q=t instanceof ContractId?t:ContractId.fromString(t)}catch(t){throw new Error("Please provide a valid Hedera contract id in order try to lock onto an already-deployed contract.")}return new LiveContract({cInterface:B instanceof Interface?B:new Interface(B),id:Q,session:this})}async getLiveJson({id:t}){let e;try{e=t instanceof FileId?t:FileId.fromString(t)}catch(t){throw new Error("Please provide a valid Hedera file id in order try to lock onto an already-deployed Json object.")}const Q=(new FileContentsQuery).setFileId(e),B=await this.execute(Q,TypeOfExecutionReturn.Result,!1),s=new TextDecoder("utf8").decode(B);return new LiveJson({data:JSON.parse(s),id:e,session:this})}subscribeToReceiptsWith(t){return new Subscription(this.events,TRANSACTION_ON_RECEIPT_EVENT_NAME,t)}async upload(t,...e){let Q;if(t instanceof BasicUploadableEntity==!1)if("string"==typeof t||t instanceof Uint8Array)Q=new File(t);else{if(!Json.isInfoAcceptable(t))throw new Error("Can only upload UploadableFile-s or Json-file acceptable content.");Q=new Json(t)}else Q=t;this.log.info(`Uploading a new ${Q.nameOfUpload} to Hedera File Service (HFS).`);const B=await Q.uploadTo({args:e,session:this});return this.log.info(`Successfully created a ${Q.nameOfUpload} id ${B.id}.`),B}canReceiptBeEmitted(t){return t&&0!==this.events.listenerCount(TRANSACTION_ON_RECEIPT_EVENT_NAME)}}const _GUARD_OBJ={};class TokenType{constructor(t,e){if(this.hTokenType=e,t!==_GUARD_OBJ)throw new Error("TokenType-s can only be created from within the static/Token module")}equals(t){return t instanceof TokenType?this.hTokenType._code===t.hTokenType._code:t instanceof TokenType$1&&this.hTokenType._code===t._code}}const TokenTypes={FungibleCommon:new TokenType(_GUARD_OBJ,TokenType$1.FungibleCommon),NonFungibleUnique:new TokenType(_GUARD_OBJ,TokenType$1.NonFungibleUnique)};class Token extends BasicCreatableEntity{static mapTokenFeaturesToTokenUpgradeArguments(t){const e={};return t.keys?.admin&&(e.adminKey=t.keys?.admin),t.keys?.feeSchedule&&(e.feeScheduleKey=t.keys?.feeSchedule),t.keys?.freeze&&(e.freezeKey=t.keys?.freeze),t.keys?.kyc&&(e.kycKey=t.keys?.kyc),t.keys?.pause&&(e.pauseKey=t.keys?.pause),t.keys?.supply&&(e.supplyKey=t.keys?.supply),t.keys?.wipe&&(e.wipeKey=t.keys?.wipe),t.name&&(e.tokenName=t.name),t.symbol&&(e.tokenSymbol=t.symbol),t.treasuryAccountId&&(e.treasuryAccountId=t.treasuryAccountId),{...e,...t}}static mapTokenFeaturesToTokenArguments(t,e){const Q=e.wallet.account.publicKey,B=e.wallet.account.id;return{adminKey:null!==t.keys?.admin?t.keys?.admin??Q:void 0,feeScheduleKey:null!==t.keys?.feeSchedule?t.keys?.feeSchedule??Q:void 0,freezeKey:null!==t.keys?.freeze?t.keys?.freeze??Q:void 0,kycKey:null!==t.keys?.kyc?t.keys?.kyc??Q:void 0,pauseKey:null!==t.keys?.pause?t.keys?.pause??Q:void 0,supplyKey:null!==t.keys?.supply?t.keys?.supply??Q:void 0,tokenName:t.name,tokenSymbol:t.symbol,tokenType:t.type.hTokenType??TokenType$1.FungibleCommon,treasuryAccountId:t.treasuryAccountId??B,wipeKey:null!==t.keys?.wipe?t.keys?.wipe??Q:void 0,...t}}constructor(t){super("Token"),this.info=t}async createVia({session:t}){const e=Token.mapTokenFeaturesToTokenArguments(this.info,t),Q=new TokenCreateTransaction(e),B=await t.execute(Q,TypeOfExecutionReturn.Receipt,!0);return new LiveToken({id:B.tokenId,session:t})}}class LiveToken extends LiveEntity{constructor({session:t,id:e}){super(t,e)}getSolidityAddress(){return this.id.toSolidityAddress()}async assignSupplyControlTo(t){const e=(new TokenUpdateTransaction).setTokenId(this.id).setSupplyKey(t instanceof Key?t:t.id);await this.session.execute(e,TypeOfExecutionReturn.Receipt,!0)}async getLiveEntityInfo(){const t=(new TokenInfoQuery).setTokenId(this.id);return this.session.execute(t,TypeOfExecutionReturn.Result,!1)}_getDeleteTransaction(t){return new TokenDeleteTransaction({tokenId:this.id})}async _getUpdateTransaction(t){const e=Token.mapTokenFeaturesToTokenUpgradeArguments(t);return new TokenUpdateTransaction({...e,tokenId:this.id})}}class Topic extends BasicCreatableEntity{static mapTopicFeaturesToTopicArguments(t){return{adminKey:t.keys?.admin,autoRenewAccountId:t.autoRenewAccountId,autoRenewPeriod:t.autoRenewPeriod,submitKey:t.keys?.submit,topicMemo:t.memo}}constructor(t={}){super("Topic"),this.topicFeatures=t}async createVia({session:t}){const e=Topic.mapTopicFeaturesToTopicArguments(this.topicFeatures),Q=new TopicCreateTransaction(e),B=await t.execute(Q,TypeOfExecutionReturn.Receipt,!0);return new LiveTopic({session:t,topicId:B.topicId})}}class LiveTopic extends LiveEntity{constructor({session:t,topicId:e}){super(t,e instanceof TopicId?e:TopicId.fromString(e))}getLiveEntityInfo(){const t=new TopicInfoQuery({topicId:this.id});return this.session.execute(t,TypeOfExecutionReturn.Result,!1)}getSolidityAddress(){return this.id.toSolidityAddress()}_getDeleteTransaction(t){return new TopicDeleteTransaction({topicId:this.id})}async _getUpdateTransaction(t){const e=Topic.mapTopicFeaturesToTopicArguments(t);return new TopicUpdateTransaction({...e,topicId:this.id})}submitMessage(t){const e=new TopicMessageSubmitTransaction({message:t,topicId:this.id});return this.executeAndReturnStatus(e)}}var _hederaStrato_ContractsInFileStorage={"counter.sol":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.9;\n\ncontract Counter {\n  uint public count;\n\n  // Function to get the current count\n  function get() public view returns (uint) {\n    return count;\n  }\n\n  // Function to increment count by 1\n  function inc() public {\n    count += 1;\n  }\n\n  // Function to decrement count by 1\n  function dec() public {\n    count -= 1;\n  }\n}\n","events.sol":'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.9;\n\ncontract Event {\n  // Event declaration\n  // Up to 3 parameters can be indexed.\n  // Indexed parameters helps you filter the logs by the indexed parameter\n  event Log(address indexed sender, string message);\n  event AnotherLog();\n\n  constructor() {\n    emit Log(msg.sender, "Event contract constructed!");\n  }\n\n  function test() public {\n    emit Log(msg.sender, "Hello World!");\n    emit Log(msg.sender, "Hello EVM!");\n    emit AnotherLog();\n  }\n}\n',"hello_world.sol":'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.9;\n\ncontract HelloWorld {\n  string public greet = "Hello World!";\n}\n',"increment.sol":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.9;\n\ncontract Incrementer {\n  uint public count;\n\n  function get() public view returns (uint) {\n    return count;\n  }\n\n  function inc() public {\n    count += 1;\n  }\n}\n","state_variables.sol":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.9;\n\ncontract SimpleStorage {\n  // State variable to store a number\n  uint public num;\n\n  // You need to send a transaction to write to a state variable.\n  function set(uint _num) public {\n    num = _num;\n  }\n\n  // You can read from a state variable without sending a transaction.\n  function get() public view returns (uint) {\n    return num;\n  }\n}\n"},ContractsInFileStorage=Object.freeze({__proto__:null,default:_hederaStrato_ContractsInFileStorage}),global$1="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch(e){try{return cachedSetTimeout.call(null,t,0)}catch(e){return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch(e){try{return cachedClearTimeout.call(null,t)}catch(e){return cachedClearTimeout.call(this,t)}}}"function"==typeof global$1.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global$1.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var t=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(t)}}function nextTick(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var Q=1;Q<arguments.length;Q++)e[Q-1]=arguments[Q];queue.push(new Item(t,e)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(t,e){this.fun=t,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version$1="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(t){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(t){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global$1.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(t){var e=.001*performanceNow.call(performance),Q=Math.floor(e),B=Math.floor(e%1*1e9);return t&&(Q-=t[0],(B-=t[1])<0&&(Q--,B+=1e9)),[Q,B]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var browser$1={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version$1,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},process$1=browser$1;function getDefaultExportFromNamespaceIfPresent(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SolidityCompiler$1={},interopRequireDefault={exports:{}};!function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports}(interopRequireDefault);var classCallCheck={exports:{}};!function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports}(classCallCheck);var createClass={exports:{}};!function(t){function e(t,e){for(var Q=0;Q<e.length;Q++){var B=e[Q];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(t,B.key,B)}}t.exports=function(t,Q,B){return Q&&e(t.prototype,Q),B&&e(t,B),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}(createClass);var defineProperty={exports:{}};!function(t){t.exports=function(t,e,Q){return e in t?Object.defineProperty(t,e,{value:Q,enumerable:!0,configurable:!0,writable:!0}):t[e]=Q,t},t.exports.__esModule=!0,t.exports.default=t.exports}(defineProperty);var WorkerClass=null;try{var WorkerThreads="undefined"!=typeof module&&"function"==typeof module.require&&module.require("worker_threads")||"function"==typeof __non_webpack_require__&&__non_webpack_require__("worker_threads")||"function"==typeof require&&require("worker_threads");WorkerClass=WorkerThreads.Worker}catch(t){}function decodeBase64$1(t,e){return Buffer.from(t,"base64").toString(e?"utf16":"utf8")}function createBase64WorkerFactory$2(t,e,Q){var B=void 0===e?null:e,s=decodeBase64$1(t,void 0!==Q&&Q),F=s.indexOf("\n",10)+1,U=s.substring(F)+(B?"//# sourceMappingURL="+B:"");return function(t){return new WorkerClass(U,Object.assign({},t,{eval:!0}))}}function decodeBase64(t,e){var Q=atob(t);if(e){for(var B=new Uint8Array(Q.length),s=0,F=Q.length;s<F;++s)B[s]=Q.charCodeAt(s);return String.fromCharCode.apply(null,new Uint16Array(B.buffer))}return Q}function createURL(t,e,Q){var B=void 0===e?null:e,s=decodeBase64(t,void 0!==Q&&Q),F=s.indexOf("\n",10)+1,U=s.substring(F)+(B?"//# sourceMappingURL="+B:""),n=new Blob([U],{type:"application/javascript"});return URL.createObjectURL(n)}function createBase64WorkerFactory$1(t,e,Q){var B;return function(s){return B=B||createURL(t,e,Q),new Worker(B,s)}}var kIsNodeJS="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);function isNodeJS(){return kIsNodeJS}function createBase64WorkerFactory(t,e,Q){return isNodeJS()?createBase64WorkerFactory$2(t,e,Q):createBase64WorkerFactory$1(t,e,Q)}var WorkerFactory=createBase64WorkerFactory("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGUgPSAoZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCXZhciBTb2xpZGl0eUNvbXBpbGVyX3dvcmtlciA9IHt9OwoKCXZhciBpbnRlcm9wUmVxdWlyZURlZmF1bHQgPSB7ZXhwb3J0czoge319OwoKCShmdW5jdGlvbiAobW9kdWxlKSB7CglmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewoJICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogewoJICAgICJkZWZhdWx0Ijogb2JqCgkgIH07Cgl9CgoJbW9kdWxlLmV4cG9ydHMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbImRlZmF1bHQiXSA9IG1vZHVsZS5leHBvcnRzOwoJfShpbnRlcm9wUmVxdWlyZURlZmF1bHQpKTsKCgl2YXIgZ2xvYmFsJDEgPSAodHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOgoJICB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDoKCSAgdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSk7CgoJdmFyIGJ1ZmZlciA9IHt9OwoKCXZhciBiYXNlNjRKcyA9IHt9OwoKCWJhc2U2NEpzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoOwoJYmFzZTY0SnMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheTsKCWJhc2U2NEpzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5OwoKCXZhciBsb29rdXAgPSBbXTsKCXZhciByZXZMb29rdXAgPSBbXTsKCXZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXk7CgoJdmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7Cglmb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkgewoJICBsb29rdXBbaV0gPSBjb2RlW2ldOwoJICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGk7Cgl9CgoJLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLgoJLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9ucwoJcmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyOwoJcmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzOwoKCWZ1bmN0aW9uIGdldExlbnMgKGI2NCkgewoJICB2YXIgbGVuID0gYjY0Lmxlbmd0aDsKCgkgIGlmIChsZW4gJSA0ID4gMCkgewoJICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpCgkgIH0KCgkgIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZAoJICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDIKCSAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKTsKCSAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW47CgoJICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlbgoJICAgID8gMAoJICAgIDogNCAtICh2YWxpZExlbiAlIDQpOwoKCSAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXQoJfQoKCS8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YQoJZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7CgkgIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpOwoJICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdOwoJICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXTsKCSAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuCgl9CgoJZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikgewoJICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW4KCX0KCglmdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7CgkgIHZhciB0bXA7CgkgIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpOwoJICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdOwoJICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXTsKCgkgIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpOwoKCSAgdmFyIGN1ckJ5dGUgPSAwOwoKCSAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFycwoJICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMAoJICAgID8gdmFsaWRMZW4gLSA0CgkgICAgOiB2YWxpZExlbjsKCgkgIHZhciBpOwoJICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHsKCSAgICB0bXAgPQoJICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHwKCSAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfAoJICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHwKCSAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldOwoJICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGOwoJICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkY7CgkgICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGOwoJICB9CgoJICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7CgkgICAgdG1wID0KCSAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHwKCSAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KTsKCSAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkY7CgkgIH0KCgkgIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHsKCSAgICB0bXAgPQoJICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHwKCSAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8CgkgICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMik7CgkgICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRjsKCSAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkY7CgkgIH0KCgkgIHJldHVybiBhcnIKCX0KCglmdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkgewoJICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICsKCSAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gKwoJICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICsKCSAgICBsb29rdXBbbnVtICYgMHgzRl0KCX0KCglmdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHsKCSAgdmFyIHRtcDsKCSAgdmFyIG91dHB1dCA9IFtdOwoJICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykgewoJICAgIHRtcCA9CgkgICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArCgkgICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgKwoJICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpOwoJICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKTsKCSAgfQoJICByZXR1cm4gb3V0cHV0LmpvaW4oJycpCgl9CgoJZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHsKCSAgdmFyIHRtcDsKCSAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aDsKCSAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzOyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlcwoJICB2YXIgcGFydHMgPSBbXTsKCSAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODM7IC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgMwoKCSAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlcgoJICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7CgkgICAgcGFydHMucHVzaChlbmNvZGVDaHVuayh1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpKSk7CgkgIH0KCgkgIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXMKCSAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHsKCSAgICB0bXAgPSB1aW50OFtsZW4gLSAxXTsKCSAgICBwYXJ0cy5wdXNoKAoJICAgICAgbG9va3VwW3RtcCA+PiAyXSArCgkgICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICsKCSAgICAgICc9PScKCSAgICApOwoJICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHsKCSAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXTsKCSAgICBwYXJ0cy5wdXNoKAoJICAgICAgbG9va3VwW3RtcCA+PiAxMF0gKwoJICAgICAgbG9va3VwWyh0bXAgPj4gNCkgJiAweDNGXSArCgkgICAgICBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdICsKCSAgICAgICc9JwoJICAgICk7CgkgIH0KCgkgIHJldHVybiBwYXJ0cy5qb2luKCcnKQoJfQoKCXZhciBpZWVlNzU0ID0ge307CgoJLyohIGllZWU3NTQuIEJTRC0zLUNsYXVzZSBMaWNlbnNlLiBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmcvb3BlbnNvdXJjZT4gKi8KCglpZWVlNzU0LnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykgewoJICB2YXIgZSwgbTsKCSAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMTsKCSAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDE7CgkgIHZhciBlQmlhcyA9IGVNYXggPj4gMTsKCSAgdmFyIG5CaXRzID0gLTc7CgkgIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDA7CgkgIHZhciBkID0gaXNMRSA/IC0xIDogMTsKCSAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV07CgoJICBpICs9IGQ7CgoJICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKTsKCSAgcyA+Pj0gKC1uQml0cyk7CgkgIG5CaXRzICs9IGVMZW47CgkgIGZvciAoOyBuQml0cyA+IDA7IGUgPSAoZSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge30KCgkgIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpOwoJICBlID4+PSAoLW5CaXRzKTsKCSAgbkJpdHMgKz0gbUxlbjsKCSAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fQoKCSAgaWYgKGUgPT09IDApIHsKCSAgICBlID0gMSAtIGVCaWFzOwoJICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHsKCSAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSkKCSAgfSBlbHNlIHsKCSAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pOwoJICAgIGUgPSBlIC0gZUJpYXM7CgkgIH0KCSAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbikKCX07CgoJaWVlZTc1NC53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykgewoJICB2YXIgZSwgbSwgYzsKCSAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMTsKCSAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDE7CgkgIHZhciBlQmlhcyA9IGVNYXggPj4gMTsKCSAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKTsKCSAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKTsKCSAgdmFyIGQgPSBpc0xFID8gMSA6IC0xOwoJICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMDsKCgkgIHZhbHVlID0gTWF0aC5hYnModmFsdWUpOwoKCSAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHsKCSAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDA7CgkgICAgZSA9IGVNYXg7CgkgIH0gZWxzZSB7CgkgICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpOwoJICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHsKCSAgICAgIGUtLTsKCSAgICAgIGMgKj0gMjsKCSAgICB9CgkgICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7CgkgICAgICB2YWx1ZSArPSBydCAvIGM7CgkgICAgfSBlbHNlIHsKCSAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKTsKCSAgICB9CgkgICAgaWYgKHZhbHVlICogYyA+PSAyKSB7CgkgICAgICBlKys7CgkgICAgICBjIC89IDI7CgkgICAgfQoKCSAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHsKCSAgICAgIG0gPSAwOwoJICAgICAgZSA9IGVNYXg7CgkgICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkgewoJICAgICAgbSA9ICgodmFsdWUgKiBjKSAtIDEpICogTWF0aC5wb3coMiwgbUxlbik7CgkgICAgICBlID0gZSArIGVCaWFzOwoJICAgIH0gZWxzZSB7CgkgICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbik7CgkgICAgICBlID0gMDsKCSAgICB9CgkgIH0KCgkgIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9CgoJICBlID0gKGUgPDwgbUxlbikgfCBtOwoJICBlTGVuICs9IG1MZW47CgkgIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge30KCgkgIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyODsKCX07CgoJLyohCgkgKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci4KCSAqCgkgKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPgoJICogQGxpY2Vuc2UgIE1JVAoJICovCgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgoJY29uc3QgYmFzZTY0ID0gYmFzZTY0SnM7Cgljb25zdCBpZWVlNzU0JDEgPSBpZWVlNzU0OwoJY29uc3QgY3VzdG9tSW5zcGVjdFN5bWJvbCA9CgkgICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2xbJ2ZvciddID09PSAnZnVuY3Rpb24nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvbgoJICAgID8gU3ltYm9sWydmb3InXSgnbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvbgoJICAgIDogbnVsbDsKCglleHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlcjsKCWV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXI7CglleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTA7CgoJY29uc3QgS19NQVhfTEVOR1RIID0gMHg3ZmZmZmZmZjsKCWV4cG9ydHMua01heExlbmd0aCA9IEtfTUFYX0xFTkdUSDsKCgkvKioKCSAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6CgkgKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KQoJICogICA9PT0gZmFsc2UgICBQcmludCB3YXJuaW5nIGFuZCByZWNvbW1lbmQgdXNpbmcgYGJ1ZmZlcmAgdjQueCB3aGljaCBoYXMgYW4gT2JqZWN0CgkgKiAgICAgICAgICAgICAgIGltcGxlbWVudGF0aW9uIChtb3N0IGNvbXBhdGlibGUsIGV2ZW4gSUU2KQoJICoKCSAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKywKCSAqIE9wZXJhIDExLjYrLCBpT1MgNC4yKy4KCSAqCgkgKiBXZSByZXBvcnQgdGhhdCB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBpZiB0aGUgYXJlIG5vdCBzdWJjbGFzc2FibGUKCSAqIHVzaW5nIF9fcHJvdG9fXy4gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAKCSAqIChTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOCkuIElFIDEwIGxhY2tzIHN1cHBvcnQKCSAqIGZvciBfX3Byb3RvX18gYW5kIGhhcyBhIGJ1Z2d5IHR5cGVkIGFycmF5IGltcGxlbWVudGF0aW9uLgoJICovCglCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCA9IHR5cGVkQXJyYXlTdXBwb3J0KCk7CgoJaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYKCSAgICB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykgewoJICBjb25zb2xlLmVycm9yKAoJICAgICdUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgJyArCgkgICAgJ2BidWZmZXJgIHY1LnguIFVzZSBgYnVmZmVyYCB2NC54IGlmIHlvdSByZXF1aXJlIG9sZCBicm93c2VyIHN1cHBvcnQuJwoJICApOwoJfQoKCWZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0ICgpIHsKCSAgLy8gQ2FuIHR5cGVkIGFycmF5IGluc3RhbmNlcyBjYW4gYmUgYXVnbWVudGVkPwoJICB0cnkgewoJICAgIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KDEpOwoJICAgIGNvbnN0IHByb3RvID0geyBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH0gfTsKCSAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YocHJvdG8sIFVpbnQ4QXJyYXkucHJvdG90eXBlKTsKCSAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXJyLCBwcm90byk7CgkgICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIKCSAgfSBjYXRjaCAoZSkgewoJICAgIHJldHVybiBmYWxzZQoJICB9Cgl9CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsICdwYXJlbnQnLCB7CgkgIGVudW1lcmFibGU6IHRydWUsCgkgIGdldDogZnVuY3Rpb24gKCkgewoJICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRoaXMpKSByZXR1cm4gdW5kZWZpbmVkCgkgICAgcmV0dXJuIHRoaXMuYnVmZmVyCgkgIH0KCX0pOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLCAnb2Zmc2V0JywgewoJICBlbnVtZXJhYmxlOiB0cnVlLAoJICBnZXQ6IGZ1bmN0aW9uICgpIHsKCSAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSkgcmV0dXJuIHVuZGVmaW5lZAoJICAgIHJldHVybiB0aGlzLmJ5dGVPZmZzZXQKCSAgfQoJfSk7CgoJZnVuY3Rpb24gY3JlYXRlQnVmZmVyIChsZW5ndGgpIHsKCSAgaWYgKGxlbmd0aCA+IEtfTUFYX0xFTkdUSCkgewoJICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgIicgKyBsZW5ndGggKyAnIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gInNpemUiJykKCSAgfQoJICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZQoJICBjb25zdCBidWYgPSBuZXcgVWludDhBcnJheShsZW5ndGgpOwoJICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYnVmLCBCdWZmZXIucHJvdG90eXBlKTsKCSAgcmV0dXJuIGJ1ZgoJfQoKCS8qKgoJICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyCgkgKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mCgkgKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzCgkgKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdAoJICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC4KCSAqCgkgKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuCgkgKi8KCglmdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7CgkgIC8vIENvbW1vbiBjYXNlLgoJICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHsKCSAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7CgkgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKAoJICAgICAgICAnVGhlICJzdHJpbmciIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmcuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJwoJICAgICAgKQoJICAgIH0KCSAgICByZXR1cm4gYWxsb2NVbnNhZmUoYXJnKQoJICB9CgkgIHJldHVybiBmcm9tKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKQoJfQoKCUJ1ZmZlci5wb29sU2l6ZSA9IDgxOTI7IC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb24KCglmdW5jdGlvbiBmcm9tICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7CgkgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7CgkgICAgcmV0dXJuIGZyb21TdHJpbmcodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpCgkgIH0KCgkgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpKSB7CgkgICAgcmV0dXJuIGZyb21BcnJheVZpZXcodmFsdWUpCgkgIH0KCgkgIGlmICh2YWx1ZSA9PSBudWxsKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigKCSAgICAgICdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCAnICsKCSAgICAgICdvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB2YWx1ZSkKCSAgICApCgkgIH0KCgkgIGlmIChpc0luc3RhbmNlKHZhbHVlLCBBcnJheUJ1ZmZlcikgfHwKCSAgICAgICh2YWx1ZSAmJiBpc0luc3RhbmNlKHZhbHVlLmJ1ZmZlciwgQXJyYXlCdWZmZXIpKSkgewoJICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkKCSAgfQoKCSAgaWYgKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYKCSAgICAgIChpc0luc3RhbmNlKHZhbHVlLCBTaGFyZWRBcnJheUJ1ZmZlcikgfHwKCSAgICAgICh2YWx1ZSAmJiBpc0luc3RhbmNlKHZhbHVlLmJ1ZmZlciwgU2hhcmVkQXJyYXlCdWZmZXIpKSkpIHsKCSAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpCgkgIH0KCgkgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigKCSAgICAgICdUaGUgInZhbHVlIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInCgkgICAgKQoJICB9CgoJICBjb25zdCB2YWx1ZU9mID0gdmFsdWUudmFsdWVPZiAmJiB2YWx1ZS52YWx1ZU9mKCk7CgkgIGlmICh2YWx1ZU9mICE9IG51bGwgJiYgdmFsdWVPZiAhPT0gdmFsdWUpIHsKCSAgICByZXR1cm4gQnVmZmVyLmZyb20odmFsdWVPZiwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKQoJICB9CgoJICBjb25zdCBiID0gZnJvbU9iamVjdCh2YWx1ZSk7CgkgIGlmIChiKSByZXR1cm4gYgoKCSAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1ByaW1pdGl2ZSAhPSBudWxsICYmCgkgICAgICB0eXBlb2YgdmFsdWVbU3ltYm9sLnRvUHJpbWl0aXZlXSA9PT0gJ2Z1bmN0aW9uJykgewoJICAgIHJldHVybiBCdWZmZXIuZnJvbSh2YWx1ZVtTeW1ib2wudG9QcmltaXRpdmVdKCdzdHJpbmcnKSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKQoJICB9CgoJICB0aHJvdyBuZXcgVHlwZUVycm9yKAoJICAgICdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCAnICsKCSAgICAnb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdmFsdWUpCgkgICkKCX0KCgkvKioKCSAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yCgkgKiBpZiB2YWx1ZSBpcyBhIG51bWJlci4KCSAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSkKCSAqIEJ1ZmZlci5mcm9tKGFycmF5KQoJICogQnVmZmVyLmZyb20oYnVmZmVyKQoJICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pCgkgKiovCglCdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7CgkgIHJldHVybiBmcm9tKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpCgl9OwoKCS8vIE5vdGU6IENoYW5nZSBwcm90b3R5cGUgKmFmdGVyKiBCdWZmZXIuZnJvbSBpcyBkZWZpbmVkIHRvIHdvcmthcm91bmQgQ2hyb21lIGJ1ZzoKCS8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvMTQ4CglPYmplY3Quc2V0UHJvdG90eXBlT2YoQnVmZmVyLnByb3RvdHlwZSwgVWludDhBcnJheS5wcm90b3R5cGUpOwoJT2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlciwgVWludDhBcnJheSk7CgoJZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkgewoJICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignInNpemUiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXInKQoJICB9IGVsc2UgaWYgKHNpemUgPCAwKSB7CgkgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSAiJyArIHNpemUgKyAnIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gInNpemUiJykKCSAgfQoJfQoKCWZ1bmN0aW9uIGFsbG9jIChzaXplLCBmaWxsLCBlbmNvZGluZykgewoJICBhc3NlcnRTaXplKHNpemUpOwoJICBpZiAoc2l6ZSA8PSAwKSB7CgkgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcihzaXplKQoJICB9CgkgIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHsKCSAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpcwoJICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGQKCSAgICAvLyBiZSBpbnRlcnByZXRlZCBhcyBhIHN0YXJ0IG9mZnNldC4KCSAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJwoJICAgICAgPyBjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZykKCSAgICAgIDogY3JlYXRlQnVmZmVyKHNpemUpLmZpbGwoZmlsbCkKCSAgfQoJICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpCgl9CgoJLyoqCgkgKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuCgkgKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pCgkgKiovCglCdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHsKCSAgcmV0dXJuIGFsbG9jKHNpemUsIGZpbGwsIGVuY29kaW5nKQoJfTsKCglmdW5jdGlvbiBhbGxvY1Vuc2FmZSAoc2l6ZSkgewoJICBhc3NlcnRTaXplKHNpemUpOwoJICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKQoJfQoKCS8qKgoJICogRXF1aXZhbGVudCB0byBCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS4KCSAqICovCglCdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkgewoJICByZXR1cm4gYWxsb2NVbnNhZmUoc2l6ZSkKCX07CgkvKioKCSAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLgoJICovCglCdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHsKCSAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpCgl9OwoKCWZ1bmN0aW9uIGZyb21TdHJpbmcgKHN0cmluZywgZW5jb2RpbmcpIHsKCSAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7CgkgICAgZW5jb2RpbmcgPSAndXRmOCc7CgkgIH0KCgkgIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKQoJICB9CgoJICBjb25zdCBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMDsKCSAgbGV0IGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW5ndGgpOwoKCSAgY29uc3QgYWN0dWFsID0gYnVmLndyaXRlKHN0cmluZywgZW5jb2RpbmcpOwoKCSAgaWYgKGFjdHVhbCAhPT0gbGVuZ3RoKSB7CgkgICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsCgkgICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy4KCSAgICAvLyAnYWJ4eGNkJyB3aWxsIGJlIHRyZWF0ZWQgYXMgJ2FiJykKCSAgICBidWYgPSBidWYuc2xpY2UoMCwgYWN0dWFsKTsKCSAgfQoKCSAgcmV0dXJuIGJ1ZgoJfQoKCWZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKGFycmF5KSB7CgkgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMDsKCSAgY29uc3QgYnVmID0gY3JlYXRlQnVmZmVyKGxlbmd0aCk7CgkgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHsKCSAgICBidWZbaV0gPSBhcnJheVtpXSAmIDI1NTsKCSAgfQoJICByZXR1cm4gYnVmCgl9CgoJZnVuY3Rpb24gZnJvbUFycmF5VmlldyAoYXJyYXlWaWV3KSB7CgkgIGlmIChpc0luc3RhbmNlKGFycmF5VmlldywgVWludDhBcnJheSkpIHsKCSAgICBjb25zdCBjb3B5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlWaWV3KTsKCSAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKGNvcHkuYnVmZmVyLCBjb3B5LmJ5dGVPZmZzZXQsIGNvcHkuYnl0ZUxlbmd0aCkKCSAgfQoJICByZXR1cm4gZnJvbUFycmF5TGlrZShhcnJheVZpZXcpCgl9CgoJZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyIChhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7CgkgIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkgewoJICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCcib2Zmc2V0IiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKQoJICB9CgoJICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7CgkgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJsZW5ndGgiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpCgkgIH0KCgkgIGxldCBidWY7CgkgIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHsKCSAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSk7CgkgIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHsKCSAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCk7CgkgIH0gZWxzZSB7CgkgICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCk7CgkgIH0KCgkgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlCgkgIE9iamVjdC5zZXRQcm90b3R5cGVPZihidWYsIEJ1ZmZlci5wcm90b3R5cGUpOwoKCSAgcmV0dXJuIGJ1ZgoJfQoKCWZ1bmN0aW9uIGZyb21PYmplY3QgKG9iaikgewoJICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHsKCSAgICBjb25zdCBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMDsKCSAgICBjb25zdCBidWYgPSBjcmVhdGVCdWZmZXIobGVuKTsKCgkgICAgaWYgKGJ1Zi5sZW5ndGggPT09IDApIHsKCSAgICAgIHJldHVybiBidWYKCSAgICB9CgoJICAgIG9iai5jb3B5KGJ1ZiwgMCwgMCwgbGVuKTsKCSAgICByZXR1cm4gYnVmCgkgIH0KCgkgIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHsKCSAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IG51bWJlcklzTmFOKG9iai5sZW5ndGgpKSB7CgkgICAgICByZXR1cm4gY3JlYXRlQnVmZmVyKDApCgkgICAgfQoJICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKG9iaikKCSAgfQoKCSAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBBcnJheS5pc0FycmF5KG9iai5kYXRhKSkgewoJICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKG9iai5kYXRhKQoJICB9Cgl9CgoJZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7CgkgIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IEtfTUFYX0xFTkdUSGAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlbgoJICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLikKCSAgaWYgKGxlbmd0aCA+PSBLX01BWF9MRU5HVEgpIHsKCSAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICsKCSAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsgS19NQVhfTEVOR1RILnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKQoJICB9CgkgIHJldHVybiBsZW5ndGggfCAwCgl9CgoJZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7CgkgIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcQoJICAgIGxlbmd0aCA9IDA7CgkgIH0KCSAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKQoJfQoKCUJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7CgkgIHJldHVybiBiICE9IG51bGwgJiYgYi5faXNCdWZmZXIgPT09IHRydWUgJiYKCSAgICBiICE9PSBCdWZmZXIucHJvdG90eXBlIC8vIHNvIEJ1ZmZlci5pc0J1ZmZlcihCdWZmZXIucHJvdG90eXBlKSB3aWxsIGJlIGZhbHNlCgl9OwoKCUJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikgewoJICBpZiAoaXNJbnN0YW5jZShhLCBVaW50OEFycmF5KSkgYSA9IEJ1ZmZlci5mcm9tKGEsIGEub2Zmc2V0LCBhLmJ5dGVMZW5ndGgpOwoJICBpZiAoaXNJbnN0YW5jZShiLCBVaW50OEFycmF5KSkgYiA9IEJ1ZmZlci5mcm9tKGIsIGIub2Zmc2V0LCBiLmJ5dGVMZW5ndGgpOwoJICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigKCSAgICAgICdUaGUgImJ1ZjEiLCAiYnVmMiIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknCgkgICAgKQoJICB9CgoJICBpZiAoYSA9PT0gYikgcmV0dXJuIDAKCgkgIGxldCB4ID0gYS5sZW5ndGg7CgkgIGxldCB5ID0gYi5sZW5ndGg7CgoJICBmb3IgKGxldCBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkgewoJICAgIGlmIChhW2ldICE9PSBiW2ldKSB7CgkgICAgICB4ID0gYVtpXTsKCSAgICAgIHkgPSBiW2ldOwoJICAgICAgYnJlYWsKCSAgICB9CgkgIH0KCgkgIGlmICh4IDwgeSkgcmV0dXJuIC0xCgkgIGlmICh5IDwgeCkgcmV0dXJuIDEKCSAgcmV0dXJuIDAKCX07CgoJQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykgewoJICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkgewoJICAgIGNhc2UgJ2hleCc6CgkgICAgY2FzZSAndXRmOCc6CgkgICAgY2FzZSAndXRmLTgnOgoJICAgIGNhc2UgJ2FzY2lpJzoKCSAgICBjYXNlICdsYXRpbjEnOgoJICAgIGNhc2UgJ2JpbmFyeSc6CgkgICAgY2FzZSAnYmFzZTY0JzoKCSAgICBjYXNlICd1Y3MyJzoKCSAgICBjYXNlICd1Y3MtMic6CgkgICAgY2FzZSAndXRmMTZsZSc6CgkgICAgY2FzZSAndXRmLTE2bGUnOgoJICAgICAgcmV0dXJuIHRydWUKCSAgICBkZWZhdWx0OgoJICAgICAgcmV0dXJuIGZhbHNlCgkgIH0KCX07CgoJQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7CgkgIGlmICghQXJyYXkuaXNBcnJheShsaXN0KSkgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKQoJICB9CgoJICBpZiAobGlzdC5sZW5ndGggPT09IDApIHsKCSAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApCgkgIH0KCgkgIGxldCBpOwoJICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHsKCSAgICBsZW5ndGggPSAwOwoJICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7CgkgICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGg7CgkgICAgfQoJICB9CgoJICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKTsKCSAgbGV0IHBvcyA9IDA7CgkgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7CgkgICAgbGV0IGJ1ZiA9IGxpc3RbaV07CgkgICAgaWYgKGlzSW5zdGFuY2UoYnVmLCBVaW50OEFycmF5KSkgewoJICAgICAgaWYgKHBvcyArIGJ1Zi5sZW5ndGggPiBidWZmZXIubGVuZ3RoKSB7CgkgICAgICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIGJ1ZiA9IEJ1ZmZlci5mcm9tKGJ1Zik7CgkgICAgICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKTsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKAoJICAgICAgICAgIGJ1ZmZlciwKCSAgICAgICAgICBidWYsCgkgICAgICAgICAgcG9zCgkgICAgICAgICk7CgkgICAgICB9CgkgICAgfSBlbHNlIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHsKCSAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKQoJICAgIH0gZWxzZSB7CgkgICAgICBidWYuY29weShidWZmZXIsIHBvcyk7CgkgICAgfQoJICAgIHBvcyArPSBidWYubGVuZ3RoOwoJICB9CgkgIHJldHVybiBidWZmZXIKCX07CgoJZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykgewoJICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHsKCSAgICByZXR1cm4gc3RyaW5nLmxlbmd0aAoJICB9CgkgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBpc0luc3RhbmNlKHN0cmluZywgQXJyYXlCdWZmZXIpKSB7CgkgICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoCgkgIH0KCSAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigKCSAgICAgICdUaGUgInN0cmluZyIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgb3IgQXJyYXlCdWZmZXIuICcgKwoJICAgICAgJ1JlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBzdHJpbmcKCSAgICApCgkgIH0KCgkgIGNvbnN0IGxlbiA9IHN0cmluZy5sZW5ndGg7CgkgIGNvbnN0IG11c3RNYXRjaCA9IChhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gPT09IHRydWUpOwoJICBpZiAoIW11c3RNYXRjaCAmJiBsZW4gPT09IDApIHJldHVybiAwCgoJICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb24KCSAgbGV0IGxvd2VyZWRDYXNlID0gZmFsc2U7CgkgIGZvciAoOzspIHsKCSAgICBzd2l0Y2ggKGVuY29kaW5nKSB7CgkgICAgICBjYXNlICdhc2NpaSc6CgkgICAgICBjYXNlICdsYXRpbjEnOgoJICAgICAgY2FzZSAnYmluYXJ5JzoKCSAgICAgICAgcmV0dXJuIGxlbgoJICAgICAgY2FzZSAndXRmOCc6CgkgICAgICBjYXNlICd1dGYtOCc6CgkgICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aAoJICAgICAgY2FzZSAndWNzMic6CgkgICAgICBjYXNlICd1Y3MtMic6CgkgICAgICBjYXNlICd1dGYxNmxlJzoKCSAgICAgIGNhc2UgJ3V0Zi0xNmxlJzoKCSAgICAgICAgcmV0dXJuIGxlbiAqIDIKCSAgICAgIGNhc2UgJ2hleCc6CgkgICAgICAgIHJldHVybiBsZW4gPj4+IDEKCSAgICAgIGNhc2UgJ2Jhc2U2NCc6CgkgICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoCgkgICAgICBkZWZhdWx0OgoJICAgICAgICBpZiAobG93ZXJlZENhc2UpIHsKCSAgICAgICAgICByZXR1cm4gbXVzdE1hdGNoID8gLTEgOiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOAoJICAgICAgICB9CgkgICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCk7CgkgICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZTsKCSAgICB9CgkgIH0KCX0KCUJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aDsKCglmdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7CgkgIGxldCBsb3dlcmVkQ2FzZSA9IGZhbHNlOwoKCSAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCAidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMiIgc2luY2UgaXQncyBhIHJlYWQtb25seQoJICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LgoKCSAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kCgkgIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS4KCSAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbiwKCSAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uCgkgIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkgewoJICAgIHN0YXJ0ID0gMDsKCSAgfQoJICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMgoJICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LgoJICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkgewoJICAgIHJldHVybiAnJwoJICB9CgoJICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHsKCSAgICBlbmQgPSB0aGlzLmxlbmd0aDsKCSAgfQoKCSAgaWYgKGVuZCA8PSAwKSB7CgkgICAgcmV0dXJuICcnCgkgIH0KCgkgIC8vIEZvcmNlIGNvZXJjaW9uIHRvIHVpbnQzMi4gVGhpcyB3aWxsIGFsc28gY29lcmNlIGZhbHNleS9OYU4gdmFsdWVzIHRvIDAuCgkgIGVuZCA+Pj49IDA7CgkgIHN0YXJ0ID4+Pj0gMDsKCgkgIGlmIChlbmQgPD0gc3RhcnQpIHsKCSAgICByZXR1cm4gJycKCSAgfQoKCSAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCc7CgoJICB3aGlsZSAodHJ1ZSkgewoJICAgIHN3aXRjaCAoZW5jb2RpbmcpIHsKCSAgICAgIGNhc2UgJ2hleCc6CgkgICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKQoKCSAgICAgIGNhc2UgJ3V0ZjgnOgoJICAgICAgY2FzZSAndXRmLTgnOgoJICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpCgoJICAgICAgY2FzZSAnYXNjaWknOgoJICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKQoKCSAgICAgIGNhc2UgJ2xhdGluMSc6CgkgICAgICBjYXNlICdiaW5hcnknOgoJICAgICAgICByZXR1cm4gbGF0aW4xU2xpY2UodGhpcywgc3RhcnQsIGVuZCkKCgkgICAgICBjYXNlICdiYXNlNjQnOgoJICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZCkKCgkgICAgICBjYXNlICd1Y3MyJzoKCSAgICAgIGNhc2UgJ3Vjcy0yJzoKCSAgICAgIGNhc2UgJ3V0ZjE2bGUnOgoJICAgICAgY2FzZSAndXRmLTE2bGUnOgoJICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpCgoJICAgICAgZGVmYXVsdDoKCSAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpCgkgICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKCk7CgkgICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZTsKCSAgICB9CgkgIH0KCX0KCgkvLyBUaGlzIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgKGFuZCB0aGUgYGlzLWJ1ZmZlcmAgbnBtIHBhY2thZ2UpCgkvLyB0byBkZXRlY3QgYSBCdWZmZXIgaW5zdGFuY2UuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBgaW5zdGFuY2VvZiBCdWZmZXJgCgkvLyByZWxpYWJseSBpbiBhIGJyb3dzZXJpZnkgY29udGV4dCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG11bHRpcGxlIGRpZmZlcmVudAoJLy8gY29waWVzIG9mIHRoZSAnYnVmZmVyJyBwYWNrYWdlIGluIHVzZS4gVGhpcyBtZXRob2Qgd29ya3MgZXZlbiBmb3IgQnVmZmVyCgkvLyBpbnN0YW5jZXMgdGhhdCB3ZXJlIGNyZWF0ZWQgZnJvbSBhbm90aGVyIGNvcHkgb2YgdGhlIGBidWZmZXJgIHBhY2thZ2UuCgkvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8xNTQKCUJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZTsKCglmdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7CgkgIGNvbnN0IGkgPSBiW25dOwoJICBiW25dID0gYlttXTsKCSAgYlttXSA9IGk7Cgl9CgoJQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkgewoJICBjb25zdCBsZW4gPSB0aGlzLmxlbmd0aDsKCSAgaWYgKGxlbiAlIDIgIT09IDApIHsKCSAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKQoJICB9CgkgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHsKCSAgICBzd2FwKHRoaXMsIGksIGkgKyAxKTsKCSAgfQoJICByZXR1cm4gdGhpcwoJfTsKCglCdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7CgkgIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoOwoJICBpZiAobGVuICUgNCAhPT0gMCkgewoJICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpCgkgIH0KCSAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkgewoJICAgIHN3YXAodGhpcywgaSwgaSArIDMpOwoJICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKTsKCSAgfQoJICByZXR1cm4gdGhpcwoJfTsKCglCdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7CgkgIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoOwoJICBpZiAobGVuICUgOCAhPT0gMCkgewoJICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpCgkgIH0KCSAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkgewoJICAgIHN3YXAodGhpcywgaSwgaSArIDcpOwoJICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyA2KTsKCSAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSk7CgkgICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpOwoJICB9CgkgIHJldHVybiB0aGlzCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7CgkgIGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoOwoJICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJycKCSAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKQoJICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykKCX07CgoJQnVmZmVyLnByb3RvdHlwZS50b0xvY2FsZVN0cmluZyA9IEJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmc7CgoJQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHsKCSAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKQoJICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWUKCSAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkgewoJICBsZXQgc3RyID0gJyc7CgkgIGNvbnN0IG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVM7CgkgIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkucmVwbGFjZSgvKC57Mn0pL2csICckMSAnKS50cmltKCk7CgkgIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICc7CgkgIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nCgl9OwoJaWYgKGN1c3RvbUluc3BlY3RTeW1ib2wpIHsKCSAgQnVmZmVyLnByb3RvdHlwZVtjdXN0b21JbnNwZWN0U3ltYm9sXSA9IEJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdDsKCX0KCglCdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkgewoJICBpZiAoaXNJbnN0YW5jZSh0YXJnZXQsIFVpbnQ4QXJyYXkpKSB7CgkgICAgdGFyZ2V0ID0gQnVmZmVyLmZyb20odGFyZ2V0LCB0YXJnZXQub2Zmc2V0LCB0YXJnZXQuYnl0ZUxlbmd0aCk7CgkgIH0KCSAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoCgkgICAgICAnVGhlICJ0YXJnZXQiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXkuICcgKwoJICAgICAgJ1JlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdGFyZ2V0KQoJICAgICkKCSAgfQoKCSAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHsKCSAgICBzdGFydCA9IDA7CgkgIH0KCSAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7CgkgICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDA7CgkgIH0KCSAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7CgkgICAgdGhpc1N0YXJ0ID0gMDsKCSAgfQoJICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7CgkgICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoOwoJICB9CgoJICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHsKCSAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JykKCSAgfQoKCSAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkgewoJICAgIHJldHVybiAwCgkgIH0KCSAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7CgkgICAgcmV0dXJuIC0xCgkgIH0KCSAgaWYgKHN0YXJ0ID49IGVuZCkgewoJICAgIHJldHVybiAxCgkgIH0KCgkgIHN0YXJ0ID4+Pj0gMDsKCSAgZW5kID4+Pj0gMDsKCSAgdGhpc1N0YXJ0ID4+Pj0gMDsKCSAgdGhpc0VuZCA+Pj49IDA7CgoJICBpZiAodGhpcyA9PT0gdGFyZ2V0KSByZXR1cm4gMAoKCSAgbGV0IHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0OwoJICBsZXQgeSA9IGVuZCAtIHN0YXJ0OwoJICBjb25zdCBsZW4gPSBNYXRoLm1pbih4LCB5KTsKCgkgIGNvbnN0IHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpOwoJICBjb25zdCB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpOwoKCSAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkgewoJICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkgewoJICAgICAgeCA9IHRoaXNDb3B5W2ldOwoJICAgICAgeSA9IHRhcmdldENvcHlbaV07CgkgICAgICBicmVhawoJICAgIH0KCSAgfQoKCSAgaWYgKHggPCB5KSByZXR1cm4gLTEKCSAgaWYgKHkgPCB4KSByZXR1cm4gMQoJICByZXR1cm4gMAoJfTsKCgkvLyBGaW5kcyBlaXRoZXIgdGhlIGZpcnN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA+PSBgYnl0ZU9mZnNldGAsCgkvLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLgoJLy8KCS8vIEFyZ3VtZW50czoKCS8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoCgkvLyAtIHZhbCAtIGEgc3RyaW5nLCBCdWZmZXIsIG9yIG51bWJlcgoJLy8gLSBieXRlT2Zmc2V0IC0gYW4gaW5kZXggaW50byBgYnVmZmVyYDsgd2lsbCBiZSBjbGFtcGVkIHRvIGFuIGludDMyCgkvLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZwoJLy8gLSBkaXIgLSB0cnVlIGZvciBpbmRleE9mLCBmYWxzZSBmb3IgbGFzdEluZGV4T2YKCWZ1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mIChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikgewoJICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2gKCSAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHJldHVybiAtMQoKCSAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQKCSAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykgewoJICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldDsKCSAgICBieXRlT2Zmc2V0ID0gMDsKCSAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikgewoJICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmOwoJICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkgewoJICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMDsKCSAgfQoJICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQ7IC8vIENvZXJjZSB0byBOdW1iZXIuCgkgIGlmIChudW1iZXJJc05hTihieXRlT2Zmc2V0KSkgewoJICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sICJmb28iLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXIKCSAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSk7CgkgIH0KCgkgIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyCgkgIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0OwoJICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7CgkgICAgaWYgKGRpcikgcmV0dXJuIC0xCgkgICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDE7CgkgIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHsKCSAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMDsKCSAgICBlbHNlIHJldHVybiAtMQoJICB9CgoJICAvLyBOb3JtYWxpemUgdmFsCgkgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykgewoJICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpOwoJICB9CgoJICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZgoJICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHsKCSAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzCgkgICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHsKCSAgICAgIHJldHVybiAtMQoJICAgIH0KCSAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKQoJICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7CgkgICAgdmFsID0gdmFsICYgMHhGRjsgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XQoJICAgIGlmICh0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykgewoJICAgICAgaWYgKGRpcikgewoJICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KQoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpCgkgICAgICB9CgkgICAgfQoJICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbdmFsXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikKCSAgfQoKCSAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJykKCX0KCglmdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7CgkgIGxldCBpbmRleFNpemUgPSAxOwoJICBsZXQgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aDsKCSAgbGV0IHZhbExlbmd0aCA9IHZhbC5sZW5ndGg7CgoJICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkgewoJICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpOwoJICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8CgkgICAgICAgIGVuY29kaW5nID09PSAndXRmMTZsZScgfHwgZW5jb2RpbmcgPT09ICd1dGYtMTZsZScpIHsKCSAgICAgIGlmIChhcnIubGVuZ3RoIDwgMiB8fCB2YWwubGVuZ3RoIDwgMikgewoJICAgICAgICByZXR1cm4gLTEKCSAgICAgIH0KCSAgICAgIGluZGV4U2l6ZSA9IDI7CgkgICAgICBhcnJMZW5ndGggLz0gMjsKCSAgICAgIHZhbExlbmd0aCAvPSAyOwoJICAgICAgYnl0ZU9mZnNldCAvPSAyOwoJICAgIH0KCSAgfQoKCSAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7CgkgICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkgewoJICAgICAgcmV0dXJuIGJ1ZltpXQoJICAgIH0gZWxzZSB7CgkgICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZCRShpICogaW5kZXhTaXplKQoJICAgIH0KCSAgfQoKCSAgbGV0IGk7CgkgIGlmIChkaXIpIHsKCSAgICBsZXQgZm91bmRJbmRleCA9IC0xOwoJICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykgewoJICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkgewoJICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpOwoJICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplCgkgICAgICB9IGVsc2UgewoJICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXg7CgkgICAgICAgIGZvdW5kSW5kZXggPSAtMTsKCSAgICAgIH0KCSAgICB9CgkgIH0gZWxzZSB7CgkgICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGg7CgkgICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHsKCSAgICAgIGxldCBmb3VuZCA9IHRydWU7CgkgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7CgkgICAgICAgIGlmIChyZWFkKGFyciwgaSArIGopICE9PSByZWFkKHZhbCwgaikpIHsKCSAgICAgICAgICBmb3VuZCA9IGZhbHNlOwoJICAgICAgICAgIGJyZWFrCgkgICAgICAgIH0KCSAgICAgIH0KCSAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGkKCSAgICB9CgkgIH0KCgkgIHJldHVybiAtMQoJfQoKCUJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgewoJICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMQoJfTsKCglCdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7CgkgIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKQoJfTsKCglCdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHsKCSAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKQoJfTsKCglmdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7CgkgIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDA7CgkgIGNvbnN0IHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXQ7CgkgIGlmICghbGVuZ3RoKSB7CgkgICAgbGVuZ3RoID0gcmVtYWluaW5nOwoJICB9IGVsc2UgewoJICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpOwoJICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHsKCSAgICAgIGxlbmd0aCA9IHJlbWFpbmluZzsKCSAgICB9CgkgIH0KCgkgIGNvbnN0IHN0ckxlbiA9IHN0cmluZy5sZW5ndGg7CgoJICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikgewoJICAgIGxlbmd0aCA9IHN0ckxlbiAvIDI7CgkgIH0KCSAgbGV0IGk7CgkgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkgewoJICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNik7CgkgICAgaWYgKG51bWJlcklzTmFOKHBhcnNlZCkpIHJldHVybiBpCgkgICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkOwoJICB9CgkgIHJldHVybiBpCgl9CgoJZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHsKCSAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aCkKCX0KCglmdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHsKCSAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpCgl9CgoJZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkgewoJICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpCgl9CgoJZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHsKCSAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aCkKCX0KCglCdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7CgkgIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpCgkgIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkgewoJICAgIGVuY29kaW5nID0gJ3V0ZjgnOwoJICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoOwoJICAgIG9mZnNldCA9IDA7CgkgIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKQoJICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7CgkgICAgZW5jb2RpbmcgPSBvZmZzZXQ7CgkgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGg7CgkgICAgb2Zmc2V0ID0gMDsKCSAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSkKCSAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7CgkgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7CgkgICAgICBsZW5ndGggPSBsZW5ndGggPj4+IDA7CgkgICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCc7CgkgICAgfSBlbHNlIHsKCSAgICAgIGVuY29kaW5nID0gbGVuZ3RoOwoJICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkOwoJICAgIH0KCSAgfSBlbHNlIHsKCSAgICB0aHJvdyBuZXcgRXJyb3IoCgkgICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnCgkgICAgKQoJICB9CgoJICBjb25zdCByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldDsKCSAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nOwoKCSAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHsKCSAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKQoJICB9CgoJICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4JzsKCgkgIGxldCBsb3dlcmVkQ2FzZSA9IGZhbHNlOwoJICBmb3IgKDs7KSB7CgkgICAgc3dpdGNoIChlbmNvZGluZykgewoJICAgICAgY2FzZSAnaGV4JzoKCSAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpCgoJICAgICAgY2FzZSAndXRmOCc6CgkgICAgICBjYXNlICd1dGYtOCc6CgkgICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkKCgkgICAgICBjYXNlICdhc2NpaSc6CgkgICAgICBjYXNlICdsYXRpbjEnOgoJICAgICAgY2FzZSAnYmluYXJ5JzoKCSAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkKCgkgICAgICBjYXNlICdiYXNlNjQnOgoJICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZQoJICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkKCgkgICAgICBjYXNlICd1Y3MyJzoKCSAgICAgIGNhc2UgJ3Vjcy0yJzoKCSAgICAgIGNhc2UgJ3V0ZjE2bGUnOgoJICAgICAgY2FzZSAndXRmLTE2bGUnOgoJICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpCgoJICAgICAgZGVmYXVsdDoKCSAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpCgkgICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCk7CgkgICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZTsKCSAgICB9CgkgIH0KCX07CgoJQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkgewoJICByZXR1cm4gewoJICAgIHR5cGU6ICdCdWZmZXInLAoJICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKQoJICB9Cgl9OwoKCWZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHsKCSAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkgewoJICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpCgkgIH0gZWxzZSB7CgkgICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSkKCSAgfQoJfQoKCWZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7CgkgIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZCk7CgkgIGNvbnN0IHJlcyA9IFtdOwoKCSAgbGV0IGkgPSBzdGFydDsKCSAgd2hpbGUgKGkgPCBlbmQpIHsKCSAgICBjb25zdCBmaXJzdEJ5dGUgPSBidWZbaV07CgkgICAgbGV0IGNvZGVQb2ludCA9IG51bGw7CgkgICAgbGV0IGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikKCSAgICAgID8gNAoJICAgICAgOiAoZmlyc3RCeXRlID4gMHhERikKCSAgICAgICAgICA/IDMKCSAgICAgICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKQoJICAgICAgICAgICAgICA/IDIKCSAgICAgICAgICAgICAgOiAxOwoKCSAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7CgkgICAgICBsZXQgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50OwoKCSAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkgewoJICAgICAgICBjYXNlIDE6CgkgICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHsKCSAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZTsKCSAgICAgICAgICB9CgkgICAgICAgICAgYnJlYWsKCSAgICAgICAgY2FzZSAyOgoJICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdOwoJICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRik7CgkgICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHsKCSAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICB9CgkgICAgICAgICAgYnJlYWsKCSAgICAgICAgY2FzZSAzOgoJICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdOwoJICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl07CgkgICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRik7CgkgICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7CgkgICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgfQoJICAgICAgICAgIGJyZWFrCgkgICAgICAgIGNhc2UgNDoKCSAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXTsKCSAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdOwoJICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdOwoJICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRik7CgkgICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHsKCSAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICB9CgkgICAgICB9CgkgICAgfQoKCSAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7CgkgICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhCgkgICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlCgkgICAgICBjb2RlUG9pbnQgPSAweEZGRkQ7CgkgICAgICBieXRlc1BlclNlcXVlbmNlID0gMTsKCSAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikgewoJICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSkKCSAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwOwoJICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTsKCSAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGOwoJICAgIH0KCgkgICAgcmVzLnB1c2goY29kZVBvaW50KTsKCSAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2U7CgkgIH0KCgkgIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKQoJfQoKCS8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aAoJLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLgoJLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eQoJY29uc3QgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDA7CgoJZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7CgkgIGNvbnN0IGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoOwoJICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7CgkgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpCgkgIH0KCgkgIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZCIuCgkgIGxldCByZXMgPSAnJzsKCSAgbGV0IGkgPSAwOwoJICB3aGlsZSAoaSA8IGxlbikgewoJICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KAoJICAgICAgU3RyaW5nLAoJICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKQoJICAgICk7CgkgIH0KCSAgcmV0dXJuIHJlcwoJfQoKCWZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkgewoJICBsZXQgcmV0ID0gJyc7CgkgIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZCk7CgoJICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkgewoJICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpOwoJICB9CgkgIHJldHVybiByZXQKCX0KCglmdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7CgkgIGxldCByZXQgPSAnJzsKCSAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKTsKCgkgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7CgkgICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKTsKCSAgfQoJICByZXR1cm4gcmV0Cgl9CgoJZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkgewoJICBjb25zdCBsZW4gPSBidWYubGVuZ3RoOwoKCSAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMDsKCSAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlbjsKCgkgIGxldCBvdXQgPSAnJzsKCSAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHsKCSAgICBvdXQgKz0gaGV4U2xpY2VMb29rdXBUYWJsZVtidWZbaV1dOwoJICB9CgkgIHJldHVybiBvdXQKCX0KCglmdW5jdGlvbiB1dGYxNmxlU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkgewoJICBjb25zdCBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKTsKCSAgbGV0IHJlcyA9ICcnOwoJICAvLyBJZiBieXRlcy5sZW5ndGggaXMgb2RkLCB0aGUgbGFzdCA4IGJpdHMgbXVzdCBiZSBpZ25vcmVkIChzYW1lIGFzIG5vZGUuanMpCgkgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoIC0gMTsgaSArPSAyKSB7CgkgICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyAoYnl0ZXNbaSArIDFdICogMjU2KSk7CgkgIH0KCSAgcmV0dXJuIHJlcwoJfQoKCUJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkgewoJICBjb25zdCBsZW4gPSB0aGlzLmxlbmd0aDsKCSAgc3RhcnQgPSB+fnN0YXJ0OwoJICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kOwoKCSAgaWYgKHN0YXJ0IDwgMCkgewoJICAgIHN0YXJ0ICs9IGxlbjsKCSAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDA7CgkgIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHsKCSAgICBzdGFydCA9IGxlbjsKCSAgfQoKCSAgaWYgKGVuZCA8IDApIHsKCSAgICBlbmQgKz0gbGVuOwoJICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwOwoJICB9IGVsc2UgaWYgKGVuZCA+IGxlbikgewoJICAgIGVuZCA9IGxlbjsKCSAgfQoKCSAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydDsKCgkgIGNvbnN0IG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCk7CgkgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlCgkgIE9iamVjdC5zZXRQcm90b3R5cGVPZihuZXdCdWYsIEJ1ZmZlci5wcm90b3R5cGUpOwoKCSAgcmV0dXJuIG5ld0J1ZgoJfTsKCgkvKgoJICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuCgkgKi8KCWZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7CgkgIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpCgkgIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJykKCX0KCglCdWZmZXIucHJvdG90eXBlLnJlYWRVaW50TEUgPQoJQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkgewoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKTsKCgkgIGxldCB2YWwgPSB0aGlzW29mZnNldF07CgkgIGxldCBtdWwgPSAxOwoJICBsZXQgaSA9IDA7CgkgIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7CgkgICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWw7CgkgIH0KCgkgIHJldHVybiB2YWwKCX07CgoJQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludEJFID0KCUJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgewoJICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpOwoJICB9CgoJICBsZXQgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdOwoJICBsZXQgbXVsID0gMTsKCSAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7CgkgICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bDsKCSAgfQoKCSAgcmV0dXJuIHZhbAoJfTsKCglCdWZmZXIucHJvdG90eXBlLnJlYWRVaW50OCA9CglCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkgewoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpOwoJICByZXR1cm4gdGhpc1tvZmZzZXRdCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQxNkxFID0KCUJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aCk7CgkgIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KQoJfTsKCglCdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MTZCRSA9CglCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkgewoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpOwoJICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV0KCX07CgoJQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDMyTEUgPQoJQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKTsKCgkgIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfAoJICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfAoJICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArCgkgICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMCkKCX07CgoJQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDMyQkUgPQoJQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKTsKCgkgIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArCgkgICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8CgkgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfAoJICAgIHRoaXNbb2Zmc2V0ICsgM10pCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NExFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHJlYWRCaWdVSW50NjRMRSAob2Zmc2V0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0Jyk7CgkgIGNvbnN0IGZpcnN0ID0gdGhpc1tvZmZzZXRdOwoJICBjb25zdCBsYXN0ID0gdGhpc1tvZmZzZXQgKyA3XTsKCSAgaWYgKGZpcnN0ID09PSB1bmRlZmluZWQgfHwgbGFzdCA9PT0gdW5kZWZpbmVkKSB7CgkgICAgYm91bmRzRXJyb3Iob2Zmc2V0LCB0aGlzLmxlbmd0aCAtIDgpOwoJICB9CgoJICBjb25zdCBsbyA9IGZpcnN0ICsKCSAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArCgkgICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICsKCSAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMjQ7CgoJICBjb25zdCBoaSA9IHRoaXNbKytvZmZzZXRdICsKCSAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArCgkgICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICsKCSAgICBsYXN0ICogMiAqKiAyNDsKCgkgIHJldHVybiBCaWdJbnQobG8pICsgKEJpZ0ludChoaSkgPDwgQmlnSW50KDMyKSkKCX0pOwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NEJFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHJlYWRCaWdVSW50NjRCRSAob2Zmc2V0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0Jyk7CgkgIGNvbnN0IGZpcnN0ID0gdGhpc1tvZmZzZXRdOwoJICBjb25zdCBsYXN0ID0gdGhpc1tvZmZzZXQgKyA3XTsKCSAgaWYgKGZpcnN0ID09PSB1bmRlZmluZWQgfHwgbGFzdCA9PT0gdW5kZWZpbmVkKSB7CgkgICAgYm91bmRzRXJyb3Iob2Zmc2V0LCB0aGlzLmxlbmd0aCAtIDgpOwoJICB9CgoJICBjb25zdCBoaSA9IGZpcnN0ICogMiAqKiAyNCArCgkgICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICsKCSAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArCgkgICAgdGhpc1srK29mZnNldF07CgoJICBjb25zdCBsbyA9IHRoaXNbKytvZmZzZXRdICogMiAqKiAyNCArCgkgICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICsKCSAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArCgkgICAgbGFzdDsKCgkgIHJldHVybiAoQmlnSW50KGhpKSA8PCBCaWdJbnQoMzIpKSArIEJpZ0ludChsbykKCX0pOwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpOwoKCSAgbGV0IHZhbCA9IHRoaXNbb2Zmc2V0XTsKCSAgbGV0IG11bCA9IDE7CgkgIGxldCBpID0gMDsKCSAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHsKCSAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bDsKCSAgfQoJICBtdWwgKj0gMHg4MDsKCgkgIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpOwoKCSAgcmV0dXJuIHZhbAoJfTsKCglCdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkgewoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKTsKCgkgIGxldCBpID0gYnl0ZUxlbmd0aDsKCSAgbGV0IG11bCA9IDE7CgkgIGxldCB2YWwgPSB0aGlzW29mZnNldCArIC0taV07CgkgIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkgewoJICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWw7CgkgIH0KCSAgbXVsICo9IDB4ODA7CgoJICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKTsKCgkgIHJldHVybiB2YWwKCX07CgoJQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aCk7CgkgIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSkKCSAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkgewoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpOwoJICBjb25zdCB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KTsKCSAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbAoJfTsKCglCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKTsKCSAgY29uc3QgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOCk7CgkgIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWwKCX07CgoJQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aCk7CgoJICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfAoJICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHwKCSAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfAoJICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KQoJfTsKCglCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKTsKCgkgIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8CgkgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHwKCSAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8CgkgICAgKHRoaXNbb2Zmc2V0ICsgM10pCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZEJpZ0ludDY0TEUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gcmVhZEJpZ0ludDY0TEUgKG9mZnNldCkgewoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpOwoJICBjb25zdCBmaXJzdCA9IHRoaXNbb2Zmc2V0XTsKCSAgY29uc3QgbGFzdCA9IHRoaXNbb2Zmc2V0ICsgN107CgkgIGlmIChmaXJzdCA9PT0gdW5kZWZpbmVkIHx8IGxhc3QgPT09IHVuZGVmaW5lZCkgewoJICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgdGhpcy5sZW5ndGggLSA4KTsKCSAgfQoKCSAgY29uc3QgdmFsID0gdGhpc1tvZmZzZXQgKyA0XSArCgkgICAgdGhpc1tvZmZzZXQgKyA1XSAqIDIgKiogOCArCgkgICAgdGhpc1tvZmZzZXQgKyA2XSAqIDIgKiogMTYgKwoJICAgIChsYXN0IDw8IDI0KTsgLy8gT3ZlcmZsb3cKCgkgIHJldHVybiAoQmlnSW50KHZhbCkgPDwgQmlnSW50KDMyKSkgKwoJICAgIEJpZ0ludChmaXJzdCArCgkgICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggKwoJICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArCgkgICAgdGhpc1srK29mZnNldF0gKiAyICoqIDI0KQoJfSk7CgoJQnVmZmVyLnByb3RvdHlwZS5yZWFkQmlnSW50NjRCRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiByZWFkQmlnSW50NjRCRSAob2Zmc2V0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0Jyk7CgkgIGNvbnN0IGZpcnN0ID0gdGhpc1tvZmZzZXRdOwoJICBjb25zdCBsYXN0ID0gdGhpc1tvZmZzZXQgKyA3XTsKCSAgaWYgKGZpcnN0ID09PSB1bmRlZmluZWQgfHwgbGFzdCA9PT0gdW5kZWZpbmVkKSB7CgkgICAgYm91bmRzRXJyb3Iob2Zmc2V0LCB0aGlzLmxlbmd0aCAtIDgpOwoJICB9CgoJICBjb25zdCB2YWwgPSAoZmlyc3QgPDwgMjQpICsgLy8gT3ZlcmZsb3cKCSAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgKwoJICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICsKCSAgICB0aGlzWysrb2Zmc2V0XTsKCgkgIHJldHVybiAoQmlnSW50KHZhbCkgPDwgQmlnSW50KDMyKSkgKwoJICAgIEJpZ0ludCh0aGlzWysrb2Zmc2V0XSAqIDIgKiogMjQgKwoJICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArCgkgICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggKwoJICAgIGxhc3QpCgl9KTsKCglCdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKTsKCSAgcmV0dXJuIGllZWU3NTQkMS5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkgewoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpOwoJICByZXR1cm4gaWVlZTc1NCQxLnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aCk7CgkgIHJldHVybiBpZWVlNzU0JDEucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KQoJfTsKCglCdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkgewoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpOwoJICByZXR1cm4gaWVlZTc1NCQxLnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpCgl9OwoKCWZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHsKCSAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignImJ1ZmZlciIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpCgkgIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpCgkgIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJykKCX0KCglCdWZmZXIucHJvdG90eXBlLndyaXRlVWludExFID0KCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIHsKCSAgICBjb25zdCBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDE7CgkgICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApOwoJICB9CgoJICBsZXQgbXVsID0gMTsKCSAgbGV0IGkgPSAwOwoJICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkY7CgkgIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7CgkgICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGOwoJICB9CgoJICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aAoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlVWludEJFID0KCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIHsKCSAgICBjb25zdCBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDE7CgkgICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApOwoJICB9CgoJICBsZXQgaSA9IGJ5dGVMZW5ndGggLSAxOwoJICBsZXQgbXVsID0gMTsKCSAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRjsKCSAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7CgkgICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGOwoJICB9CgoJICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aAoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlVWludDggPQoJQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMCk7CgkgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpOwoJICByZXR1cm4gb2Zmc2V0ICsgMQoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlVWludDE2TEUgPQoJQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKTsKCSAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZik7CgkgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpOwoJICByZXR1cm4gb2Zmc2V0ICsgMgoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlVWludDE2QkUgPQoJQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKTsKCSAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KTsKCSAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpOwoJICByZXR1cm4gb2Zmc2V0ICsgMgoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlVWludDMyTEUgPQoJQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMCk7CgkgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KTsKCSAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpOwoJICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KTsKCSAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZik7CgkgIHJldHVybiBvZmZzZXQgKyA0Cgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50MzJCRSA9CglCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkgewoJICB2YWx1ZSA9ICt2YWx1ZTsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKTsKCSAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNCk7CgkgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KTsKCSAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOCk7CgkgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKTsKCSAgcmV0dXJuIG9mZnNldCArIDQKCX07CgoJZnVuY3Rpb24gd3J0QmlnVUludDY0TEUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbWluLCBtYXgpIHsKCSAgY2hlY2tJbnRCSSh2YWx1ZSwgbWluLCBtYXgsIGJ1Ziwgb2Zmc2V0LCA3KTsKCgkgIGxldCBsbyA9IE51bWJlcih2YWx1ZSAmIEJpZ0ludCgweGZmZmZmZmZmKSk7CgkgIGJ1ZltvZmZzZXQrK10gPSBsbzsKCSAgbG8gPSBsbyA+PiA4OwoJICBidWZbb2Zmc2V0KytdID0gbG87CgkgIGxvID0gbG8gPj4gODsKCSAgYnVmW29mZnNldCsrXSA9IGxvOwoJICBsbyA9IGxvID4+IDg7CgkgIGJ1ZltvZmZzZXQrK10gPSBsbzsKCSAgbGV0IGhpID0gTnVtYmVyKHZhbHVlID4+IEJpZ0ludCgzMikgJiBCaWdJbnQoMHhmZmZmZmZmZikpOwoJICBidWZbb2Zmc2V0KytdID0gaGk7CgkgIGhpID0gaGkgPj4gODsKCSAgYnVmW29mZnNldCsrXSA9IGhpOwoJICBoaSA9IGhpID4+IDg7CgkgIGJ1ZltvZmZzZXQrK10gPSBoaTsKCSAgaGkgPSBoaSA+PiA4OwoJICBidWZbb2Zmc2V0KytdID0gaGk7CgkgIHJldHVybiBvZmZzZXQKCX0KCglmdW5jdGlvbiB3cnRCaWdVSW50NjRCRSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBtaW4sIG1heCkgewoJICBjaGVja0ludEJJKHZhbHVlLCBtaW4sIG1heCwgYnVmLCBvZmZzZXQsIDcpOwoKCSAgbGV0IGxvID0gTnVtYmVyKHZhbHVlICYgQmlnSW50KDB4ZmZmZmZmZmYpKTsKCSAgYnVmW29mZnNldCArIDddID0gbG87CgkgIGxvID0gbG8gPj4gODsKCSAgYnVmW29mZnNldCArIDZdID0gbG87CgkgIGxvID0gbG8gPj4gODsKCSAgYnVmW29mZnNldCArIDVdID0gbG87CgkgIGxvID0gbG8gPj4gODsKCSAgYnVmW29mZnNldCArIDRdID0gbG87CgkgIGxldCBoaSA9IE51bWJlcih2YWx1ZSA+PiBCaWdJbnQoMzIpICYgQmlnSW50KDB4ZmZmZmZmZmYpKTsKCSAgYnVmW29mZnNldCArIDNdID0gaGk7CgkgIGhpID0gaGkgPj4gODsKCSAgYnVmW29mZnNldCArIDJdID0gaGk7CgkgIGhpID0gaGkgPj4gODsKCSAgYnVmW29mZnNldCArIDFdID0gaGk7CgkgIGhpID0gaGkgPj4gODsKCSAgYnVmW29mZnNldF0gPSBoaTsKCSAgcmV0dXJuIG9mZnNldCArIDgKCX0KCglCdWZmZXIucHJvdG90eXBlLndyaXRlQmlnVUludDY0TEUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gd3JpdGVCaWdVSW50NjRMRSAodmFsdWUsIG9mZnNldCA9IDApIHsKCSAgcmV0dXJuIHdydEJpZ1VJbnQ2NExFKHRoaXMsIHZhbHVlLCBvZmZzZXQsIEJpZ0ludCgwKSwgQmlnSW50KCcweGZmZmZmZmZmZmZmZmZmZmYnKSkKCX0pOwoKCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRCRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiB3cml0ZUJpZ1VJbnQ2NEJFICh2YWx1ZSwgb2Zmc2V0ID0gMCkgewoJICByZXR1cm4gd3J0QmlnVUludDY0QkUodGhpcywgdmFsdWUsIG9mZnNldCwgQmlnSW50KDApLCBCaWdJbnQoJzB4ZmZmZmZmZmZmZmZmZmZmZicpKQoJfSk7CgoJQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgewoJICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5wb3coMiwgKDggKiBieXRlTGVuZ3RoKSAtIDEpOwoKCSAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdCk7CgkgIH0KCgkgIGxldCBpID0gMDsKCSAgbGV0IG11bCA9IDE7CgkgIGxldCBzdWIgPSAwOwoJICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkY7CgkgIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7CgkgICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHsKCSAgICAgIHN1YiA9IDE7CgkgICAgfQoJICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkY7CgkgIH0KCgkgIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7CgkgIHZhbHVlID0gK3ZhbHVlOwoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIHsKCSAgICBjb25zdCBsaW1pdCA9IE1hdGgucG93KDIsICg4ICogYnl0ZUxlbmd0aCkgLSAxKTsKCgkgICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpOwoJICB9CgoJICBsZXQgaSA9IGJ5dGVMZW5ndGggLSAxOwoJICBsZXQgbXVsID0gMTsKCSAgbGV0IHN1YiA9IDA7CgkgIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkY7CgkgIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkgewoJICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7CgkgICAgICBzdWIgPSAxOwoJICAgIH0KCSAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGOwoJICB9CgoJICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aAoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApOwoJICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDE7CgkgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpOwoJICByZXR1cm4gb2Zmc2V0ICsgMQoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKTsKCSAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZik7CgkgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpOwoJICByZXR1cm4gb2Zmc2V0ICsgMgoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKTsKCSAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KTsKCSAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpOwoJICByZXR1cm4gb2Zmc2V0ICsgMgoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApOwoJICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKTsKCSAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOCk7CgkgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KTsKCSAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpOwoJICByZXR1cm4gb2Zmc2V0ICsgNAoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApOwoJICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDE7CgkgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpOwoJICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNik7CgkgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpOwoJICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZik7CgkgIHJldHVybiBvZmZzZXQgKyA0Cgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NExFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHdyaXRlQmlnSW50NjRMRSAodmFsdWUsIG9mZnNldCA9IDApIHsKCSAgcmV0dXJuIHdydEJpZ1VJbnQ2NExFKHRoaXMsIHZhbHVlLCBvZmZzZXQsIC1CaWdJbnQoJzB4ODAwMDAwMDAwMDAwMDAwMCcpLCBCaWdJbnQoJzB4N2ZmZmZmZmZmZmZmZmZmZicpKQoJfSk7CgoJQnVmZmVyLnByb3RvdHlwZS53cml0ZUJpZ0ludDY0QkUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gd3JpdGVCaWdJbnQ2NEJFICh2YWx1ZSwgb2Zmc2V0ID0gMCkgewoJICByZXR1cm4gd3J0QmlnVUludDY0QkUodGhpcywgdmFsdWUsIG9mZnNldCwgLUJpZ0ludCgnMHg4MDAwMDAwMDAwMDAwMDAwJyksIEJpZ0ludCgnMHg3ZmZmZmZmZmZmZmZmZmZmJykpCgl9KTsKCglmdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikgewoJICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpCgkgIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJykKCX0KCglmdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgewoJICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQpOwoJICB9CgkgIGllZWU3NTQkMS53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpOwoJICByZXR1cm4gb2Zmc2V0ICsgNAoJfQoKCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkgewoJICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydCkKCX07CgoJQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydCkKCX07CgoJZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkgewoJICB2YWx1ZSA9ICt2YWx1ZTsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSB7CgkgICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCk7CgkgIH0KCSAgaWVlZTc1NCQxLndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOCk7CgkgIHJldHVybiBvZmZzZXQgKyA4Cgl9CgoJQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KQoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkgewoJICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KQoJfTsKCgkvLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpCglCdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7CgkgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IHNob3VsZCBiZSBhIEJ1ZmZlcicpCgkgIGlmICghc3RhcnQpIHN0YXJ0ID0gMDsKCSAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aDsKCSAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aDsKCSAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwOwoJICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnQ7CgoJICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmUKCSAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwCgkgIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMAoKCSAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9ucwoJICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7CgkgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKQoJICB9CgkgIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKQoJICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJykKCgkgIC8vIEFyZSB3ZSBvb2I/CgkgIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGg7CgkgIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkgewoJICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0OwoJICB9CgoJICBjb25zdCBsZW4gPSBlbmQgLSBzdGFydDsKCgkgIGlmICh0aGlzID09PSB0YXJnZXQgJiYgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4gPT09ICdmdW5jdGlvbicpIHsKCSAgICAvLyBVc2UgYnVpbHQtaW4gd2hlbiBhdmFpbGFibGUsIG1pc3NpbmcgZnJvbSBJRTExCgkgICAgdGhpcy5jb3B5V2l0aGluKHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKTsKCSAgfSBlbHNlIHsKCSAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbCgKCSAgICAgIHRhcmdldCwKCSAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCksCgkgICAgICB0YXJnZXRTdGFydAoJICAgICk7CgkgIH0KCgkgIHJldHVybiBsZW4KCX07CgoJLy8gVXNhZ2U6CgkvLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSkKCS8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKQoJLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pCglCdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7CgkgIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6CgkgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykgewoJICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7CgkgICAgICBlbmNvZGluZyA9IHN0YXJ0OwoJICAgICAgc3RhcnQgPSAwOwoJICAgICAgZW5kID0gdGhpcy5sZW5ndGg7CgkgICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykgewoJICAgICAgZW5jb2RpbmcgPSBlbmQ7CgkgICAgICBlbmQgPSB0aGlzLmxlbmd0aDsKCSAgICB9CgkgICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykgewoJICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpCgkgICAgfQoJICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHsKCSAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZykKCSAgICB9CgkgICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHsKCSAgICAgIGNvbnN0IGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKTsKCSAgICAgIGlmICgoZW5jb2RpbmcgPT09ICd1dGY4JyAmJiBjb2RlIDwgMTI4KSB8fAoJICAgICAgICAgIGVuY29kaW5nID09PSAnbGF0aW4xJykgewoJICAgICAgICAvLyBGYXN0IHBhdGg6IElmIGB2YWxgIGZpdHMgaW50byBhIHNpbmdsZSBieXRlLCB1c2UgdGhhdCBudW1lcmljIHZhbHVlLgoJICAgICAgICB2YWwgPSBjb2RlOwoJICAgICAgfQoJICAgIH0KCSAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykgewoJICAgIHZhbCA9IHZhbCAmIDI1NTsKCSAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnYm9vbGVhbicpIHsKCSAgICB2YWwgPSBOdW1iZXIodmFsKTsKCSAgfQoKCSAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuCgkgIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkgewoJICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKQoJICB9CgoJICBpZiAoZW5kIDw9IHN0YXJ0KSB7CgkgICAgcmV0dXJuIHRoaXMKCSAgfQoKCSAgc3RhcnQgPSBzdGFydCA+Pj4gMDsKCSAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMDsKCgkgIGlmICghdmFsKSB2YWwgPSAwOwoKCSAgbGV0IGk7CgkgIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykgewoJICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHsKCSAgICAgIHRoaXNbaV0gPSB2YWw7CgkgICAgfQoJICB9IGVsc2UgewoJICAgIGNvbnN0IGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbCkKCSAgICAgID8gdmFsCgkgICAgICA6IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpOwoJICAgIGNvbnN0IGxlbiA9IGJ5dGVzLmxlbmd0aDsKCSAgICBpZiAobGVuID09PSAwKSB7CgkgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgIicgKyB2YWwgKwoJICAgICAgICAnIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCAidmFsdWUiJykKCSAgICB9CgkgICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHsKCSAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dOwoJICAgIH0KCSAgfQoKCSAgcmV0dXJuIHRoaXMKCX07CgoJLy8gQ1VTVE9NIEVSUk9SUwoJLy8gPT09PT09PT09PT09PQoKCS8vIFNpbXBsaWZpZWQgdmVyc2lvbnMgZnJvbSBOb2RlLCBjaGFuZ2VkIGZvciBCdWZmZXItb25seSB1c2FnZQoJY29uc3QgZXJyb3JzID0ge307CglmdW5jdGlvbiBFIChzeW0sIGdldE1lc3NhZ2UsIEJhc2UpIHsKCSAgZXJyb3JzW3N5bV0gPSBjbGFzcyBOb2RlRXJyb3IgZXh0ZW5kcyBCYXNlIHsKCSAgICBjb25zdHJ1Y3RvciAoKSB7CgkgICAgICBzdXBlcigpOwoKCSAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbWVzc2FnZScsIHsKCSAgICAgICAgdmFsdWU6IGdldE1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKSwKCSAgICAgICAgd3JpdGFibGU6IHRydWUsCgkgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQoJICAgICAgfSk7CgoJICAgICAgLy8gQWRkIHRoZSBlcnJvciBjb2RlIHRvIHRoZSBuYW1lIHRvIGluY2x1ZGUgaXQgaW4gdGhlIHN0YWNrIHRyYWNlLgoJICAgICAgdGhpcy5uYW1lID0gYCR7dGhpcy5uYW1lfSBbJHtzeW19XWA7CgkgICAgICAvLyBBY2Nlc3MgdGhlIHN0YWNrIHRvIGdlbmVyYXRlIHRoZSBlcnJvciBtZXNzYWdlIGluY2x1ZGluZyB0aGUgZXJyb3IgY29kZQoJICAgICAgLy8gZnJvbSB0aGUgbmFtZS4KCSAgICAgIHRoaXMuc3RhY2s7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zCgkgICAgICAvLyBSZXNldCB0aGUgbmFtZSB0byB0aGUgYWN0dWFsIG5hbWUuCgkgICAgICBkZWxldGUgdGhpcy5uYW1lOwoJICAgIH0KCgkgICAgZ2V0IGNvZGUgKCkgewoJICAgICAgcmV0dXJuIHN5bQoJICAgIH0KCgkgICAgc2V0IGNvZGUgKHZhbHVlKSB7CgkgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2NvZGUnLCB7CgkgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKCSAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKCSAgICAgICAgdmFsdWUsCgkgICAgICAgIHdyaXRhYmxlOiB0cnVlCgkgICAgICB9KTsKCSAgICB9CgoJICAgIHRvU3RyaW5nICgpIHsKCSAgICAgIHJldHVybiBgJHt0aGlzLm5hbWV9IFske3N5bX1dOiAke3RoaXMubWVzc2FnZX1gCgkgICAgfQoJICB9OwoJfQoKCUUoJ0VSUl9CVUZGRVJfT1VUX09GX0JPVU5EUycsCgkgIGZ1bmN0aW9uIChuYW1lKSB7CgkgICAgaWYgKG5hbWUpIHsKCSAgICAgIHJldHVybiBgJHtuYW1lfSBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHNgCgkgICAgfQoKCSAgICByZXR1cm4gJ0F0dGVtcHQgdG8gYWNjZXNzIG1lbW9yeSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnCgkgIH0sIFJhbmdlRXJyb3IpOwoJRSgnRVJSX0lOVkFMSURfQVJHX1RZUEUnLAoJICBmdW5jdGlvbiAobmFtZSwgYWN0dWFsKSB7CgkgICAgcmV0dXJuIGBUaGUgIiR7bmFtZX0iIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgYWN0dWFsfWAKCSAgfSwgVHlwZUVycm9yKTsKCUUoJ0VSUl9PVVRfT0ZfUkFOR0UnLAoJICBmdW5jdGlvbiAoc3RyLCByYW5nZSwgaW5wdXQpIHsKCSAgICBsZXQgbXNnID0gYFRoZSB2YWx1ZSBvZiAiJHtzdHJ9IiBpcyBvdXQgb2YgcmFuZ2UuYDsKCSAgICBsZXQgcmVjZWl2ZWQgPSBpbnB1dDsKCSAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihpbnB1dCkgJiYgTWF0aC5hYnMoaW5wdXQpID4gMiAqKiAzMikgewoJICAgICAgcmVjZWl2ZWQgPSBhZGROdW1lcmljYWxTZXBhcmF0b3IoU3RyaW5nKGlucHV0KSk7CgkgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdiaWdpbnQnKSB7CgkgICAgICByZWNlaXZlZCA9IFN0cmluZyhpbnB1dCk7CgkgICAgICBpZiAoaW5wdXQgPiBCaWdJbnQoMikgKiogQmlnSW50KDMyKSB8fCBpbnB1dCA8IC0oQmlnSW50KDIpICoqIEJpZ0ludCgzMikpKSB7CgkgICAgICAgIHJlY2VpdmVkID0gYWRkTnVtZXJpY2FsU2VwYXJhdG9yKHJlY2VpdmVkKTsKCSAgICAgIH0KCSAgICAgIHJlY2VpdmVkICs9ICduJzsKCSAgICB9CgkgICAgbXNnICs9IGAgSXQgbXVzdCBiZSAke3JhbmdlfS4gUmVjZWl2ZWQgJHtyZWNlaXZlZH1gOwoJICAgIHJldHVybiBtc2cKCSAgfSwgUmFuZ2VFcnJvcik7CgoJZnVuY3Rpb24gYWRkTnVtZXJpY2FsU2VwYXJhdG9yICh2YWwpIHsKCSAgbGV0IHJlcyA9ICcnOwoJICBsZXQgaSA9IHZhbC5sZW5ndGg7CgkgIGNvbnN0IHN0YXJ0ID0gdmFsWzBdID09PSAnLScgPyAxIDogMDsKCSAgZm9yICg7IGkgPj0gc3RhcnQgKyA0OyBpIC09IDMpIHsKCSAgICByZXMgPSBgXyR7dmFsLnNsaWNlKGkgLSAzLCBpKX0ke3Jlc31gOwoJICB9CgkgIHJldHVybiBgJHt2YWwuc2xpY2UoMCwgaSl9JHtyZXN9YAoJfQoKCS8vIENIRUNLIEZVTkNUSU9OUwoJLy8gPT09PT09PT09PT09PT09CgoJZnVuY3Rpb24gY2hlY2tCb3VuZHMgKGJ1Ziwgb2Zmc2V0LCBieXRlTGVuZ3RoKSB7CgkgIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpOwoJICBpZiAoYnVmW29mZnNldF0gPT09IHVuZGVmaW5lZCB8fCBidWZbb2Zmc2V0ICsgYnl0ZUxlbmd0aF0gPT09IHVuZGVmaW5lZCkgewoJICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgYnVmLmxlbmd0aCAtIChieXRlTGVuZ3RoICsgMSkpOwoJICB9Cgl9CgoJZnVuY3Rpb24gY2hlY2tJbnRCSSAodmFsdWUsIG1pbiwgbWF4LCBidWYsIG9mZnNldCwgYnl0ZUxlbmd0aCkgewoJICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHsKCSAgICBjb25zdCBuID0gdHlwZW9mIG1pbiA9PT0gJ2JpZ2ludCcgPyAnbicgOiAnJzsKCSAgICBsZXQgcmFuZ2U7CgkgICAgaWYgKGJ5dGVMZW5ndGggPiAzKSB7CgkgICAgICBpZiAobWluID09PSAwIHx8IG1pbiA9PT0gQmlnSW50KDApKSB7CgkgICAgICAgIHJhbmdlID0gYD49IDAke259IGFuZCA8IDIke259ICoqICR7KGJ5dGVMZW5ndGggKyAxKSAqIDh9JHtufWA7CgkgICAgICB9IGVsc2UgewoJICAgICAgICByYW5nZSA9IGA+PSAtKDIke259ICoqICR7KGJ5dGVMZW5ndGggKyAxKSAqIDggLSAxfSR7bn0pIGFuZCA8IDIgKiogYCArCgkgICAgICAgICAgICAgICAgYCR7KGJ5dGVMZW5ndGggKyAxKSAqIDggLSAxfSR7bn1gOwoJICAgICAgfQoJICAgIH0gZWxzZSB7CgkgICAgICByYW5nZSA9IGA+PSAke21pbn0ke259IGFuZCA8PSAke21heH0ke259YDsKCSAgICB9CgkgICAgdGhyb3cgbmV3IGVycm9ycy5FUlJfT1VUX09GX1JBTkdFKCd2YWx1ZScsIHJhbmdlLCB2YWx1ZSkKCSAgfQoJICBjaGVja0JvdW5kcyhidWYsIG9mZnNldCwgYnl0ZUxlbmd0aCk7Cgl9CgoJZnVuY3Rpb24gdmFsaWRhdGVOdW1iZXIgKHZhbHVlLCBuYW1lKSB7CgkgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7CgkgICAgdGhyb3cgbmV3IGVycm9ycy5FUlJfSU5WQUxJRF9BUkdfVFlQRShuYW1lLCAnbnVtYmVyJywgdmFsdWUpCgkgIH0KCX0KCglmdW5jdGlvbiBib3VuZHNFcnJvciAodmFsdWUsIGxlbmd0aCwgdHlwZSkgewoJICBpZiAoTWF0aC5mbG9vcih2YWx1ZSkgIT09IHZhbHVlKSB7CgkgICAgdmFsaWRhdGVOdW1iZXIodmFsdWUsIHR5cGUpOwoJICAgIHRocm93IG5ldyBlcnJvcnMuRVJSX09VVF9PRl9SQU5HRSh0eXBlIHx8ICdvZmZzZXQnLCAnYW4gaW50ZWdlcicsIHZhbHVlKQoJICB9CgoJICBpZiAobGVuZ3RoIDwgMCkgewoJICAgIHRocm93IG5ldyBlcnJvcnMuRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTKCkKCSAgfQoKCSAgdGhyb3cgbmV3IGVycm9ycy5FUlJfT1VUX09GX1JBTkdFKHR5cGUgfHwgJ29mZnNldCcsCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgPj0gJHt0eXBlID8gMSA6IDB9IGFuZCA8PSAke2xlbmd0aH1gLAoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUpCgl9CgoJLy8gSEVMUEVSIEZVTkNUSU9OUwoJLy8gPT09PT09PT09PT09PT09PQoKCWNvbnN0IElOVkFMSURfQkFTRTY0X1JFID0gL1teKy8wLTlBLVphLXotX10vZzsKCglmdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7CgkgIC8vIE5vZGUgdGFrZXMgZXF1YWwgc2lnbnMgYXMgZW5kIG9mIHRoZSBCYXNlNjQgZW5jb2RpbmcKCSAgc3RyID0gc3RyLnNwbGl0KCc9JylbMF07CgkgIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcbiBhbmQgXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3QKCSAgc3RyID0gc3RyLnRyaW0oKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJyk7CgkgIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJycKCSAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJycKCSAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90CgkgIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkgewoJICAgIHN0ciA9IHN0ciArICc9JzsKCSAgfQoJICByZXR1cm4gc3RyCgl9CgoJZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHsKCSAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eTsKCSAgbGV0IGNvZGVQb2ludDsKCSAgY29uc3QgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDsKCSAgbGV0IGxlYWRTdXJyb2dhdGUgPSBudWxsOwoJICBjb25zdCBieXRlcyA9IFtdOwoKCSAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkgewoJICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpOwoKCSAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50CgkgICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHsKCSAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkCgkgICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHsKCSAgICAgICAgLy8gbm8gbGVhZCB5ZXQKCSAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikgewoJICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWwKCSAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRCk7CgkgICAgICAgICAgY29udGludWUKCSAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZAoJICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKTsKCSAgICAgICAgICBjb250aW51ZQoJICAgICAgICB9CgoJICAgICAgICAvLyB2YWxpZCBsZWFkCgkgICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnQ7CgoJICAgICAgICBjb250aW51ZQoJICAgICAgfQoKCSAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3cKCSAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHsKCSAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpOwoJICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50OwoJICAgICAgICBjb250aW51ZQoJICAgICAgfQoKCSAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyCgkgICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwOwoJICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkgewoJICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZAoJICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpOwoJICAgIH0KCgkgICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGw7CgoJICAgIC8vIGVuY29kZSB1dGY4CgkgICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHsKCSAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVhawoJICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpOwoJICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHsKCSAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVhawoJICAgICAgYnl0ZXMucHVzaCgKCSAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsCgkgICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwCgkgICAgICApOwoJICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkgewoJICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrCgkgICAgICBieXRlcy5wdXNoKAoJICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCwKCSAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLAoJICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MAoJICAgICAgKTsKCSAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7CgkgICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWsKCSAgICAgIGJ5dGVzLnB1c2goCgkgICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCwKCSAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLAoJICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsCgkgICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwCgkgICAgICApOwoJICAgIH0gZWxzZSB7CgkgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpCgkgICAgfQoJICB9CgoJICByZXR1cm4gYnl0ZXMKCX0KCglmdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikgewoJICBjb25zdCBieXRlQXJyYXkgPSBbXTsKCSAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHsKCSAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi4KCSAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpOwoJICB9CgkgIHJldHVybiBieXRlQXJyYXkKCX0KCglmdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykgewoJICBsZXQgYywgaGksIGxvOwoJICBjb25zdCBieXRlQXJyYXkgPSBbXTsKCSAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHsKCSAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWsKCgkgICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpOwoJICAgIGhpID0gYyA+PiA4OwoJICAgIGxvID0gYyAlIDI1NjsKCSAgICBieXRlQXJyYXkucHVzaChsbyk7CgkgICAgYnl0ZUFycmF5LnB1c2goaGkpOwoJICB9CgoJICByZXR1cm4gYnl0ZUFycmF5Cgl9CgoJZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7CgkgIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSkKCX0KCglmdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHsKCSAgbGV0IGk7CgkgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkgewoJICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWsKCSAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV07CgkgIH0KCSAgcmV0dXJuIGkKCX0KCgkvLyBBcnJheUJ1ZmZlciBvciBVaW50OEFycmF5IG9iamVjdHMgZnJvbSBvdGhlciBjb250ZXh0cyAoaS5lLiBpZnJhbWVzKSBkbyBub3QgcGFzcwoJLy8gdGhlIGBpbnN0YW5jZW9mYCBjaGVjayBidXQgdGhleSBzaG91bGQgYmUgdHJlYXRlZCBhcyBvZiB0aGF0IHR5cGUuCgkvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8xNjYKCWZ1bmN0aW9uIGlzSW5zdGFuY2UgKG9iaiwgdHlwZSkgewoJICByZXR1cm4gb2JqIGluc3RhbmNlb2YgdHlwZSB8fAoJICAgIChvYmogIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IgIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IubmFtZSAhPSBudWxsICYmCgkgICAgICBvYmouY29uc3RydWN0b3IubmFtZSA9PT0gdHlwZS5uYW1lKQoJfQoJZnVuY3Rpb24gbnVtYmVySXNOYU4gKG9iaikgewoJICAvLyBGb3IgSUUxMSBzdXBwb3J0CgkgIHJldHVybiBvYmogIT09IG9iaiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZQoJfQoKCS8vIENyZWF0ZSBsb29rdXAgdGFibGUgZm9yIGB0b1N0cmluZygnaGV4JylgCgkvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8yMTkKCWNvbnN0IGhleFNsaWNlTG9va3VwVGFibGUgPSAoZnVuY3Rpb24gKCkgewoJICBjb25zdCBhbHBoYWJldCA9ICcwMTIzNDU2Nzg5YWJjZGVmJzsKCSAgY29uc3QgdGFibGUgPSBuZXcgQXJyYXkoMjU2KTsKCSAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7CgkgICAgY29uc3QgaTE2ID0gaSAqIDE2OwoJICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTY7ICsraikgewoJICAgICAgdGFibGVbaTE2ICsgal0gPSBhbHBoYWJldFtpXSArIGFscGhhYmV0W2pdOwoJICAgIH0KCSAgfQoJICByZXR1cm4gdGFibGUKCX0pKCk7CgoJLy8gUmV0dXJuIG5vdCBmdW5jdGlvbiB3aXRoIEVycm9yIGlmIEJpZ0ludCBub3Qgc3VwcG9ydGVkCglmdW5jdGlvbiBkZWZpbmVCaWdJbnRNZXRob2QgKGZuKSB7CgkgIHJldHVybiB0eXBlb2YgQmlnSW50ID09PSAndW5kZWZpbmVkJyA/IEJ1ZmZlckJpZ0ludE5vdERlZmluZWQgOiBmbgoJfQoKCWZ1bmN0aW9uIEJ1ZmZlckJpZ0ludE5vdERlZmluZWQgKCkgewoJICB0aHJvdyBuZXcgRXJyb3IoJ0JpZ0ludCBub3Qgc3VwcG9ydGVkJykKCX0KCX0oYnVmZmVyKSk7CgoJLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyCgkvLyBiYXNlZCBvZmYgaHR0cHM6Ly9naXRodWIuY29tL2RlZnVuY3R6b21iaWUvbm9kZS1wcm9jZXNzL2Jsb2IvbWFzdGVyL2Jyb3dzZXIuanMKCglmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkgewoJICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpOwoJfQoJZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7CgkgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTsKCX0KCXZhciBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDsKCXZhciBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0OwoJaWYgKHR5cGVvZiBnbG9iYWwkMS5zZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7CgkgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7Cgl9CglpZiAodHlwZW9mIGdsb2JhbCQxLmNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykgewoJICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDsKCX0KCglmdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikgewoJICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7CgkgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9ucwoJICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApOwoJICAgIH0KCSAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZAoJICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkgewoJICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDsKCSAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTsKCSAgICB9CgkgICAgdHJ5IHsKCSAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzcwoJICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApOwoJICAgIH0gY2F0Y2goZSl7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHkKCSAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTsKCSAgICAgICAgfSBjYXRjaChlKXsKCSAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yCgkgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7CgkgICAgICAgIH0KCSAgICB9CgoKCX0KCWZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHsKCSAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHsKCSAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zCgkgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTsKCSAgICB9CgkgICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZAoJICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkgewoJICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7CgkgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTsKCSAgICB9CgkgICAgdHJ5IHsKCSAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzcwoJICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7CgkgICAgfSBjYXRjaCAoZSl7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5CgkgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTsKCSAgICAgICAgfSBjYXRjaCAoZSl7CgkgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci4KCSAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXQKCSAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpOwoJICAgICAgICB9CgkgICAgfQoKCgoJfQoJdmFyIHF1ZXVlID0gW107Cgl2YXIgZHJhaW5pbmcgPSBmYWxzZTsKCXZhciBjdXJyZW50UXVldWU7Cgl2YXIgcXVldWVJbmRleCA9IC0xOwoKCWZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHsKCSAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHsKCSAgICAgICAgcmV0dXJuOwoJICAgIH0KCSAgICBkcmFpbmluZyA9IGZhbHNlOwoJICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7CgkgICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7CgkgICAgfSBlbHNlIHsKCSAgICAgICAgcXVldWVJbmRleCA9IC0xOwoJICAgIH0KCSAgICBpZiAocXVldWUubGVuZ3RoKSB7CgkgICAgICAgIGRyYWluUXVldWUoKTsKCSAgICB9Cgl9CgoJZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHsKCSAgICBpZiAoZHJhaW5pbmcpIHsKCSAgICAgICAgcmV0dXJuOwoJICAgIH0KCSAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTsKCSAgICBkcmFpbmluZyA9IHRydWU7CgoJICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7CgkgICAgd2hpbGUobGVuKSB7CgkgICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlOwoJICAgICAgICBxdWV1ZSA9IFtdOwoJICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7CgkgICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7CgkgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHF1ZXVlSW5kZXggPSAtMTsKCSAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoOwoJICAgIH0KCSAgICBjdXJyZW50UXVldWUgPSBudWxsOwoJICAgIGRyYWluaW5nID0gZmFsc2U7CgkgICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpOwoJfQoJZnVuY3Rpb24gbmV4dFRpY2soZnVuKSB7CgkgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpOwoJICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgewoJICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewoJICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07CgkgICAgICAgIH0KCSAgICB9CgkgICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTsKCSAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykgewoJICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpOwoJICAgIH0KCX0KCS8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHMKCWZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkgewoJICAgIHRoaXMuZnVuID0gZnVuOwoJICAgIHRoaXMuYXJyYXkgPSBhcnJheTsKCX0KCUl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHsKCSAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTsKCX07Cgl2YXIgdGl0bGUgPSAnYnJvd3Nlcic7Cgl2YXIgcGxhdGZvcm0gPSAnYnJvd3Nlcic7Cgl2YXIgYnJvd3NlciA9IHRydWU7Cgl2YXIgZW52ID0ge307Cgl2YXIgYXJndiA9IFtdOwoJdmFyIHZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXMKCXZhciB2ZXJzaW9ucyA9IHt9OwoJdmFyIHJlbGVhc2UgPSB7fTsKCXZhciBjb25maWcgPSB7fTsKCglmdW5jdGlvbiBub29wJDEoKSB7fQoKCXZhciBvbiA9IG5vb3AkMTsKCXZhciBhZGRMaXN0ZW5lciA9IG5vb3AkMTsKCXZhciBvbmNlJDEgPSBub29wJDE7Cgl2YXIgb2ZmID0gbm9vcCQxOwoJdmFyIHJlbW92ZUxpc3RlbmVyID0gbm9vcCQxOwoJdmFyIHJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3AkMTsKCXZhciBlbWl0ID0gbm9vcCQxOwoKCWZ1bmN0aW9uIGJpbmRpbmcobmFtZSkgewoJICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTsKCX0KCglmdW5jdGlvbiBjd2QgKCkgeyByZXR1cm4gJy8nIH0KCWZ1bmN0aW9uIGNoZGlyIChkaXIpIHsKCSAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpOwoJfWZ1bmN0aW9uIHVtYXNrKCkgeyByZXR1cm4gMDsgfQoKCS8vIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2t1bWF2aXMvYnJvd3Nlci1wcm9jZXNzLWhydGltZS9ibG9iL21hc3Rlci9pbmRleC5qcwoJdmFyIHBlcmZvcm1hbmNlID0gZ2xvYmFsJDEucGVyZm9ybWFuY2UgfHwge307Cgl2YXIgcGVyZm9ybWFuY2VOb3cgPQoJICBwZXJmb3JtYW5jZS5ub3cgICAgICAgIHx8CgkgIHBlcmZvcm1hbmNlLm1vek5vdyAgICAgfHwKCSAgcGVyZm9ybWFuY2UubXNOb3cgICAgICB8fAoJICBwZXJmb3JtYW5jZS5vTm93ICAgICAgIHx8CgkgIHBlcmZvcm1hbmNlLndlYmtpdE5vdyAgfHwKCSAgZnVuY3Rpb24oKXsgcmV0dXJuIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgfTsKCgkvLyBnZW5lcmF0ZSB0aW1lc3RhbXAgb3IgZGVsdGEKCS8vIHNlZSBodHRwOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NfcHJvY2Vzc19ocnRpbWUKCWZ1bmN0aW9uIGhydGltZShwcmV2aW91c1RpbWVzdGFtcCl7CgkgIHZhciBjbG9ja3RpbWUgPSBwZXJmb3JtYW5jZU5vdy5jYWxsKHBlcmZvcm1hbmNlKSoxZS0zOwoJICB2YXIgc2Vjb25kcyA9IE1hdGguZmxvb3IoY2xvY2t0aW1lKTsKCSAgdmFyIG5hbm9zZWNvbmRzID0gTWF0aC5mbG9vcigoY2xvY2t0aW1lJTEpKjFlOSk7CgkgIGlmIChwcmV2aW91c1RpbWVzdGFtcCkgewoJICAgIHNlY29uZHMgPSBzZWNvbmRzIC0gcHJldmlvdXNUaW1lc3RhbXBbMF07CgkgICAgbmFub3NlY29uZHMgPSBuYW5vc2Vjb25kcyAtIHByZXZpb3VzVGltZXN0YW1wWzFdOwoJICAgIGlmIChuYW5vc2Vjb25kczwwKSB7CgkgICAgICBzZWNvbmRzLS07CgkgICAgICBuYW5vc2Vjb25kcyArPSAxZTk7CgkgICAgfQoJICB9CgkgIHJldHVybiBbc2Vjb25kcyxuYW5vc2Vjb25kc10KCX0KCgl2YXIgc3RhcnRUaW1lID0gbmV3IERhdGUoKTsKCWZ1bmN0aW9uIHVwdGltZSgpIHsKCSAgdmFyIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKTsKCSAgdmFyIGRpZiA9IGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lOwoJICByZXR1cm4gZGlmIC8gMTAwMDsKCX0KCgl2YXIgYnJvd3NlciQxID0gewoJICBuZXh0VGljazogbmV4dFRpY2ssCgkgIHRpdGxlOiB0aXRsZSwKCSAgYnJvd3NlcjogYnJvd3NlciwKCSAgZW52OiBlbnYsCgkgIGFyZ3Y6IGFyZ3YsCgkgIHZlcnNpb246IHZlcnNpb24sCgkgIHZlcnNpb25zOiB2ZXJzaW9ucywKCSAgb246IG9uLAoJICBhZGRMaXN0ZW5lcjogYWRkTGlzdGVuZXIsCgkgIG9uY2U6IG9uY2UkMSwKCSAgb2ZmOiBvZmYsCgkgIHJlbW92ZUxpc3RlbmVyOiByZW1vdmVMaXN0ZW5lciwKCSAgcmVtb3ZlQWxsTGlzdGVuZXJzOiByZW1vdmVBbGxMaXN0ZW5lcnMsCgkgIGVtaXQ6IGVtaXQsCgkgIGJpbmRpbmc6IGJpbmRpbmcsCgkgIGN3ZDogY3dkLAoJICBjaGRpcjogY2hkaXIsCgkgIHVtYXNrOiB1bWFzaywKCSAgaHJ0aW1lOiBocnRpbWUsCgkgIHBsYXRmb3JtOiBwbGF0Zm9ybSwKCSAgcmVsZWFzZTogcmVsZWFzZSwKCSAgY29uZmlnOiBjb25maWcsCgkgIHVwdGltZTogdXB0aW1lCgl9OwoKCXZhciBwcm9jZXNzID0gYnJvd3NlciQxOwoKCXZhciBpbmhlcml0czsKCWlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJyl7CgkgIGluaGVyaXRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7CgkgICAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGUKCSAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKCSAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwgewoJICAgICAgY29uc3RydWN0b3I6IHsKCSAgICAgICAgdmFsdWU6IGN0b3IsCgkgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAoJICAgICAgICB3cml0YWJsZTogdHJ1ZSwKCSAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCgkgICAgICB9CgkgICAgfSk7CgkgIH07Cgl9IGVsc2UgewoJICBpbmhlcml0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3RvcikgewoJICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yOwoJICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9OwoJICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGU7CgkgICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKTsKCSAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3I7CgkgIH07Cgl9Cgl2YXIgaW5oZXJpdHMkMSA9IGluaGVyaXRzOwoKCXZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nOwoJZnVuY3Rpb24gZm9ybWF0JDEoZikgewoJICBpZiAoIWlzU3RyaW5nKGYpKSB7CgkgICAgdmFyIG9iamVjdHMgPSBbXTsKCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewoJICAgICAgb2JqZWN0cy5wdXNoKGluc3BlY3QkMShhcmd1bWVudHNbaV0pKTsKCSAgICB9CgkgICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpOwoJICB9CgoJICB2YXIgaSA9IDE7CgkgIHZhciBhcmdzID0gYXJndW1lbnRzOwoJICB2YXIgbGVuID0gYXJncy5sZW5ndGg7CgkgIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHsKCSAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJzsKCSAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4OwoJICAgIHN3aXRjaCAoeCkgewoJICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7CgkgICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTsKCSAgICAgIGNhc2UgJyVqJzoKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTsKCSAgICAgICAgfSBjYXRjaCAoXykgewoJICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7CgkgICAgICAgIH0KCSAgICAgIGRlZmF1bHQ6CgkgICAgICAgIHJldHVybiB4OwoJICAgIH0KCSAgfSk7CgkgIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7CgkgICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHsKCSAgICAgIHN0ciArPSAnICcgKyB4OwoJICAgIH0gZWxzZSB7CgkgICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCQxKHgpOwoJICAgIH0KCSAgfQoJICByZXR1cm4gc3RyOwoJfQoKCS8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuCgkvLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LgoJLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC4KCWZ1bmN0aW9uIGRlcHJlY2F0ZShmbiwgbXNnKSB7CgkgIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuCgkgIGlmIChpc1VuZGVmaW5lZChnbG9iYWwkMS5wcm9jZXNzKSkgewoJICAgIHJldHVybiBmdW5jdGlvbigpIHsKCSAgICAgIHJldHVybiBkZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKCSAgICB9OwoJICB9CgoJICBpZiAocHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7CgkgICAgcmV0dXJuIGZuOwoJICB9CgoJICB2YXIgd2FybmVkID0gZmFsc2U7CgkgIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7CgkgICAgaWYgKCF3YXJuZWQpIHsKCSAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHsKCSAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7CgkgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikgewoJICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7CgkgICAgICB9IGVsc2UgewoJICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7CgkgICAgICB9CgkgICAgICB3YXJuZWQgPSB0cnVlOwoJICAgIH0KCSAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKCSAgfQoKCSAgcmV0dXJuIGRlcHJlY2F0ZWQ7Cgl9CgoJdmFyIGRlYnVncyA9IHt9OwoJdmFyIGRlYnVnRW52aXJvbjsKCWZ1bmN0aW9uIGRlYnVnbG9nKHNldCkgewoJICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSkKCSAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnOwoJICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTsKCSAgaWYgKCFkZWJ1Z3Nbc2V0XSkgewoJICAgIGlmIChuZXcgUmVnRXhwKCdcXGInICsgc2V0ICsgJ1xcYicsICdpJykudGVzdChkZWJ1Z0Vudmlyb24pKSB7CgkgICAgICB2YXIgcGlkID0gMDsKCSAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7CgkgICAgICAgIHZhciBtc2cgPSBmb3JtYXQkMS5hcHBseShudWxsLCBhcmd1bWVudHMpOwoJICAgICAgICBjb25zb2xlLmVycm9yKCclcyAlZDogJXMnLCBzZXQsIHBpZCwgbXNnKTsKCSAgICAgIH07CgkgICAgfSBlbHNlIHsKCSAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7fTsKCSAgICB9CgkgIH0KCSAgcmV0dXJuIGRlYnVnc1tzZXRdOwoJfQoKCS8qKgoJICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dAoJICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuCgkgKgoJICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC4KCSAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuCgkgKi8KCS8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi8KCWZ1bmN0aW9uIGluc3BlY3QkMShvYmosIG9wdHMpIHsKCSAgLy8gZGVmYXVsdCBvcHRpb25zCgkgIHZhciBjdHggPSB7CgkgICAgc2VlbjogW10sCgkgICAgc3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3IKCSAgfTsKCSAgLy8gbGVnYWN5Li4uCgkgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIGN0eC5kZXB0aCA9IGFyZ3VtZW50c1syXTsKCSAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gNCkgY3R4LmNvbG9ycyA9IGFyZ3VtZW50c1szXTsKCSAgaWYgKGlzQm9vbGVhbihvcHRzKSkgewoJICAgIC8vIGxlZ2FjeS4uLgoJICAgIGN0eC5zaG93SGlkZGVuID0gb3B0czsKCSAgfSBlbHNlIGlmIChvcHRzKSB7CgkgICAgLy8gZ290IGFuICJvcHRpb25zIiBvYmplY3QKCSAgICBfZXh0ZW5kKGN0eCwgb3B0cyk7CgkgIH0KCSAgLy8gc2V0IGRlZmF1bHQgb3B0aW9ucwoJICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlOwoJICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjsKCSAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7CgkgIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTsKCSAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjsKCSAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpOwoJfQoKCS8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljcwoJaW5zcGVjdCQxLmNvbG9ycyA9IHsKCSAgJ2JvbGQnIDogWzEsIDIyXSwKCSAgJ2l0YWxpYycgOiBbMywgMjNdLAoJICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sCgkgICdpbnZlcnNlJyA6IFs3LCAyN10sCgkgICd3aGl0ZScgOiBbMzcsIDM5XSwKCSAgJ2dyZXknIDogWzkwLCAzOV0sCgkgICdibGFjaycgOiBbMzAsIDM5XSwKCSAgJ2JsdWUnIDogWzM0LCAzOV0sCgkgICdjeWFuJyA6IFszNiwgMzldLAoJICAnZ3JlZW4nIDogWzMyLCAzOV0sCgkgICdtYWdlbnRhJyA6IFszNSwgMzldLAoJICAncmVkJyA6IFszMSwgMzldLAoJICAneWVsbG93JyA6IFszMywgMzldCgl9OwoKCS8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZQoJaW5zcGVjdCQxLnN0eWxlcyA9IHsKCSAgJ3NwZWNpYWwnOiAnY3lhbicsCgkgICdudW1iZXInOiAneWVsbG93JywKCSAgJ2Jvb2xlYW4nOiAneWVsbG93JywKCSAgJ3VuZGVmaW5lZCc6ICdncmV5JywKCSAgJ251bGwnOiAnYm9sZCcsCgkgICdzdHJpbmcnOiAnZ3JlZW4nLAoJICAnZGF0ZSc6ICdtYWdlbnRhJywKCSAgLy8gIm5hbWUiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nCgkgICdyZWdleHAnOiAncmVkJwoJfTsKCgoJZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkgewoJICB2YXIgc3R5bGUgPSBpbnNwZWN0JDEuc3R5bGVzW3N0eWxlVHlwZV07CgoJICBpZiAoc3R5bGUpIHsKCSAgICByZXR1cm4gJ1x1MDAxYlsnICsgaW5zcGVjdCQxLmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgKwoJICAgICAgICAgICAnXHUwMDFiWycgKyBpbnNwZWN0JDEuY29sb3JzW3N0eWxlXVsxXSArICdtJzsKCSAgfSBlbHNlIHsKCSAgICByZXR1cm4gc3RyOwoJICB9Cgl9CgoKCWZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7CgkgIHJldHVybiBzdHI7Cgl9CgoKCWZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7CgkgIHZhciBoYXNoID0ge307CgoJICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7CgkgICAgaGFzaFt2YWxdID0gdHJ1ZTsKCSAgfSk7CgoJICByZXR1cm4gaGFzaDsKCX0KCgoJZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7CgkgIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy4KCSAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0CgkgIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJgoJICAgICAgdmFsdWUgJiYKCSAgICAgIGlzRnVuY3Rpb24kMSh2YWx1ZS5pbnNwZWN0KSAmJgoJICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsCgkgICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBpbnNwZWN0JDEgJiYKCSAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLgoJICAgICAgISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkgewoJICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTsKCSAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHsKCSAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpOwoJICAgIH0KCSAgICByZXR1cm4gcmV0OwoJICB9CgoJICAvLyBQcmltaXRpdmUgdHlwZXMgY2Fubm90IGhhdmUgcHJvcGVydGllcwoJICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpOwoJICBpZiAocHJpbWl0aXZlKSB7CgkgICAgcmV0dXJuIHByaW1pdGl2ZTsKCSAgfQoKCSAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LgoJICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTsKCSAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7CgoJICBpZiAoY3R4LnNob3dIaWRkZW4pIHsKCSAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpOwoJICB9CgoJICAvLyBJRSBkb2Vzbid0IG1ha2UgZXJyb3IgZmllbGRzIG5vbi1lbnVtZXJhYmxlCgkgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kd3c1MnNidCh2PXZzLjk0KS5hc3B4CgkgIGlmIChpc0Vycm9yKHZhbHVlKQoJICAgICAgJiYgKGtleXMuaW5kZXhPZignbWVzc2FnZScpID49IDAgfHwga2V5cy5pbmRleE9mKCdkZXNjcmlwdGlvbicpID49IDApKSB7CgkgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTsKCSAgfQoKCSAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLgoJICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHsKCSAgICBpZiAoaXNGdW5jdGlvbiQxKHZhbHVlKSkgewoJICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJzsKCSAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW0Z1bmN0aW9uJyArIG5hbWUgKyAnXScsICdzcGVjaWFsJyk7CgkgICAgfQoJICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHsKCSAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7CgkgICAgfQoJICAgIGlmIChpc0RhdGUodmFsdWUpKSB7CgkgICAgICByZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJyk7CgkgICAgfQoJICAgIGlmIChpc0Vycm9yKHZhbHVlKSkgewoJICAgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTsKCSAgICB9CgkgIH0KCgkgIHZhciBiYXNlID0gJycsIGFycmF5ID0gZmFsc2UsIGJyYWNlcyA9IFsneycsICd9J107CgoJICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5CgkgIGlmIChpc0FycmF5JDEodmFsdWUpKSB7CgkgICAgYXJyYXkgPSB0cnVlOwoJICAgIGJyYWNlcyA9IFsnWycsICddJ107CgkgIH0KCgkgIC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9ucwoJICBpZiAoaXNGdW5jdGlvbiQxKHZhbHVlKSkgewoJICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7CgkgICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7CgkgIH0KCgkgIC8vIE1ha2UgUmVnRXhwcyBzYXkgdGhhdCB0aGV5IGFyZSBSZWdFeHBzCgkgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHsKCSAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTsKCSAgfQoKCSAgLy8gTWFrZSBkYXRlcyB3aXRoIHByb3BlcnRpZXMgZmlyc3Qgc2F5IHRoZSBkYXRlCgkgIGlmIChpc0RhdGUodmFsdWUpKSB7CgkgICAgYmFzZSA9ICcgJyArIERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpOwoJICB9CgoJICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yCgkgIGlmIChpc0Vycm9yKHZhbHVlKSkgewoJICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7CgkgIH0KCgkgIGlmIChrZXlzLmxlbmd0aCA9PT0gMCAmJiAoIWFycmF5IHx8IHZhbHVlLmxlbmd0aCA9PSAwKSkgewoJICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdOwoJICB9CgoJICBpZiAocmVjdXJzZVRpbWVzIDwgMCkgewoJICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHsKCSAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7CgkgICAgfSBlbHNlIHsKCSAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW09iamVjdF0nLCAnc3BlY2lhbCcpOwoJICAgIH0KCSAgfQoKCSAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7CgoJICB2YXIgb3V0cHV0OwoJICBpZiAoYXJyYXkpIHsKCSAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTsKCSAgfSBlbHNlIHsKCSAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHsKCSAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTsKCSAgICB9KTsKCSAgfQoKCSAgY3R4LnNlZW4ucG9wKCk7CgoJICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpOwoJfQoKCglmdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSkgewoJICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKQoJICAgIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpOwoJICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7CgkgICAgdmFyIHNpbXBsZSA9ICdcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXiJ8IiQvZywgJycpCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCAiXFwnIikKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXCIvZywgJyInKSArICdcJyc7CgkgICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpOwoJICB9CgkgIGlmIChpc051bWJlcih2YWx1ZSkpCgkgICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTsKCSAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpCgkgICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJyk7CgkgIC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyAib2JqZWN0Iiwgc28gc3BlY2lhbCBjYXNlIGhlcmUuCgkgIGlmIChpc051bGwodmFsdWUpKQoJICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7Cgl9CgoKCWZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7CgkgIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7Cgl9CgoKCWZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHsKCSAgdmFyIG91dHB1dCA9IFtdOwoJICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkgewoJICAgIGlmIChoYXNPd25Qcm9wZXJ0eSQxKHZhbHVlLCBTdHJpbmcoaSkpKSB7CgkgICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLAoJICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpOwoJICAgIH0gZWxzZSB7CgkgICAgICBvdXRwdXQucHVzaCgnJyk7CgkgICAgfQoJICB9CgkgIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHsKCSAgICBpZiAoIWtleS5tYXRjaCgvXlxkKyQvKSkgewoJICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywKCSAgICAgICAgICBrZXksIHRydWUpKTsKCSAgICB9CgkgIH0pOwoJICByZXR1cm4gb3V0cHV0OwoJfQoKCglmdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7CgkgIHZhciBuYW1lLCBzdHIsIGRlc2M7CgkgIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTsKCSAgaWYgKGRlc2MuZ2V0KSB7CgkgICAgaWYgKGRlc2Muc2V0KSB7CgkgICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTsKCSAgICB9IGVsc2UgewoJICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTsKCSAgICB9CgkgIH0gZWxzZSB7CgkgICAgaWYgKGRlc2Muc2V0KSB7CgkgICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpOwoJICAgIH0KCSAgfQoJICBpZiAoIWhhc093blByb3BlcnR5JDEodmlzaWJsZUtleXMsIGtleSkpIHsKCSAgICBuYW1lID0gJ1snICsga2V5ICsgJ10nOwoJICB9CgkgIGlmICghc3RyKSB7CgkgICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7CgkgICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHsKCSAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCBudWxsKTsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7CgkgICAgICB9CgkgICAgICBpZiAoc3RyLmluZGV4T2YoJ1xuJykgPiAtMSkgewoJICAgICAgICBpZiAoYXJyYXkpIHsKCSAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHsKCSAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTsKCSAgICAgICAgICB9KS5qb2luKCdcbicpLnN1YnN0cigyKTsKCSAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICBzdHIgPSAnXG4nICsgc3RyLnNwbGl0KCdcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7CgkgICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lOwoJICAgICAgICAgIH0pLmpvaW4oJ1xuJyk7CgkgICAgICAgIH0KCSAgICAgIH0KCSAgICB9IGVsc2UgewoJICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpOwoJICAgIH0KCSAgfQoJICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHsKCSAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXGQrJC8pKSB7CgkgICAgICByZXR1cm4gc3RyOwoJICAgIH0KCSAgICBuYW1lID0gSlNPTi5zdHJpbmdpZnkoJycgKyBrZXkpOwoJICAgIGlmIChuYW1lLm1hdGNoKC9eIihbYS16QS1aX11bYS16QS1aXzAtOV0qKSIkLykpIHsKCSAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpOwoJICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7CgkgICAgfSBlbHNlIHsKCSAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgIlxcJyIpCgkgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXCIvZywgJyInKQoJICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF4ifCIkKS9nLCAiJyIpOwoJICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTsKCSAgICB9CgkgIH0KCgkgIHJldHVybiBuYW1lICsgJzogJyArIHN0cjsKCX0KCgoJZnVuY3Rpb24gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpIHsKCSAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7CgkgICAgaWYgKGN1ci5pbmRleE9mKCdcbicpID49IDApIDsKCSAgICByZXR1cm4gcHJldiArIGN1ci5yZXBsYWNlKC9cdTAwMWJcW1xkXGQ/bS9nLCAnJykubGVuZ3RoICsgMTsKCSAgfSwgMCk7CgoJICBpZiAobGVuZ3RoID4gNjApIHsKCSAgICByZXR1cm4gYnJhY2VzWzBdICsKCSAgICAgICAgICAgKGJhc2UgPT09ICcnID8gJycgOiBiYXNlICsgJ1xuICcpICsKCSAgICAgICAgICAgJyAnICsKCSAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcbiAgJykgKwoJICAgICAgICAgICAnICcgKwoJICAgICAgICAgICBicmFjZXNbMV07CgkgIH0KCgkgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgJyAnICsgb3V0cHV0LmpvaW4oJywgJykgKyAnICcgKyBicmFjZXNbMV07Cgl9CgoKCS8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYAoJLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuCglmdW5jdGlvbiBpc0FycmF5JDEoYXIpIHsKCSAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpOwoJfQoKCWZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHsKCSAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJzsKCX0KCglmdW5jdGlvbiBpc051bGwoYXJnKSB7CgkgIHJldHVybiBhcmcgPT09IG51bGw7Cgl9CgoJZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7CgkgIHJldHVybiBhcmcgPT0gbnVsbDsKCX0KCglmdW5jdGlvbiBpc051bWJlcihhcmcpIHsKCSAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInOwoJfQoKCWZ1bmN0aW9uIGlzU3RyaW5nKGFyZykgewoJICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7Cgl9CgoJZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7CgkgIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJzsKCX0KCglmdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHsKCSAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwOwoJfQoKCWZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7CgkgIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJzsKCX0KCglmdW5jdGlvbiBpc09iamVjdChhcmcpIHsKCSAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDsKCX0KCglmdW5jdGlvbiBpc0RhdGUoZCkgewoJICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJzsKCX0KCglmdW5jdGlvbiBpc0Vycm9yKGUpIHsKCSAgcmV0dXJuIGlzT2JqZWN0KGUpICYmCgkgICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTsKCX0KCglmdW5jdGlvbiBpc0Z1bmN0aW9uJDEoYXJnKSB7CgkgIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nOwoJfQoKCWZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykgewoJICByZXR1cm4gYXJnID09PSBudWxsIHx8CgkgICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHwKCSAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8CgkgICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fAoJICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2wKCSAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnOwoJfQoKCWZ1bmN0aW9uIGlzQnVmZmVyKG1heWJlQnVmKSB7CgkgIHJldHVybiBidWZmZXIuQnVmZmVyLmlzQnVmZmVyKG1heWJlQnVmKTsKCX0KCglmdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7CgkgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7Cgl9CgoKCWZ1bmN0aW9uIHBhZChuKSB7CgkgIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApOwoJfQoKCgl2YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsCgkgICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddOwoKCS8vIDI2IEZlYiAxNjoxOTozNAoJZnVuY3Rpb24gdGltZXN0YW1wKCkgewoJICB2YXIgZCA9IG5ldyBEYXRlKCk7CgkgIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLAoJICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLAoJICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7CgkgIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7Cgl9CgoKCS8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXAKCWZ1bmN0aW9uIGxvZygpIHsKCSAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZm9ybWF0JDEuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7Cgl9CgoJZnVuY3Rpb24gX2V4dGVuZChvcmlnaW4sIGFkZCkgewoJICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0CgkgIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luOwoKCSAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpOwoJICB2YXIgaSA9IGtleXMubGVuZ3RoOwoJICB3aGlsZSAoaS0tKSB7CgkgICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dOwoJICB9CgkgIHJldHVybiBvcmlnaW47Cgl9CglmdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eSQxKG9iaiwgcHJvcCkgewoJICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7Cgl9CgoJdmFyIHJlcXVpcmUkJDEkMSA9IHsKCSAgaW5oZXJpdHM6IGluaGVyaXRzJDEsCgkgIF9leHRlbmQ6IF9leHRlbmQsCgkgIGxvZzogbG9nLAoJICBpc0J1ZmZlcjogaXNCdWZmZXIsCgkgIGlzUHJpbWl0aXZlOiBpc1ByaW1pdGl2ZSwKCSAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbiQxLAoJICBpc0Vycm9yOiBpc0Vycm9yLAoJICBpc0RhdGU6IGlzRGF0ZSwKCSAgaXNPYmplY3Q6IGlzT2JqZWN0LAoJICBpc1JlZ0V4cDogaXNSZWdFeHAsCgkgIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCwKCSAgaXNTeW1ib2w6IGlzU3ltYm9sLAoJICBpc1N0cmluZzogaXNTdHJpbmcsCgkgIGlzTnVtYmVyOiBpc051bWJlciwKCSAgaXNOdWxsT3JVbmRlZmluZWQ6IGlzTnVsbE9yVW5kZWZpbmVkLAoJICBpc051bGw6IGlzTnVsbCwKCSAgaXNCb29sZWFuOiBpc0Jvb2xlYW4sCgkgIGlzQXJyYXk6IGlzQXJyYXkkMSwKCSAgaW5zcGVjdDogaW5zcGVjdCQxLAoJICBkZXByZWNhdGU6IGRlcHJlY2F0ZSwKCSAgZm9ybWF0OiBmb3JtYXQkMSwKCSAgZGVidWdsb2c6IGRlYnVnbG9nCgl9OwoKCWZ1bmN0aW9uIGNvbXBhcmUoYSwgYikgewoJICBpZiAoYSA9PT0gYikgewoJICAgIHJldHVybiAwOwoJICB9CgoJICB2YXIgeCA9IGEubGVuZ3RoOwoJICB2YXIgeSA9IGIubGVuZ3RoOwoKCSAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHsKCSAgICBpZiAoYVtpXSAhPT0gYltpXSkgewoJICAgICAgeCA9IGFbaV07CgkgICAgICB5ID0gYltpXTsKCSAgICAgIGJyZWFrOwoJICAgIH0KCSAgfQoKCSAgaWYgKHggPCB5KSB7CgkgICAgcmV0dXJuIC0xOwoJICB9CgkgIGlmICh5IDwgeCkgewoJICAgIHJldHVybiAxOwoJICB9CgkgIHJldHVybiAwOwoJfQoJdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7CgoJdmFyIG9iamVjdEtleXMkMSA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHsKCSAgdmFyIGtleXMgPSBbXTsKCSAgZm9yICh2YXIga2V5IGluIG9iaikgewoJICAgIGlmIChoYXNPd24uY2FsbChvYmosIGtleSkpIGtleXMucHVzaChrZXkpOwoJICB9CgkgIHJldHVybiBrZXlzOwoJfTsKCXZhciBwU2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7Cgl2YXIgX2Z1bmN0aW9uc0hhdmVOYW1lczsKCWZ1bmN0aW9uIGZ1bmN0aW9uc0hhdmVOYW1lcygpIHsKCSAgaWYgKHR5cGVvZiBfZnVuY3Rpb25zSGF2ZU5hbWVzICE9PSAndW5kZWZpbmVkJykgewoJICAgIHJldHVybiBfZnVuY3Rpb25zSGF2ZU5hbWVzOwoJICB9CgkgIHJldHVybiBfZnVuY3Rpb25zSGF2ZU5hbWVzID0gKGZ1bmN0aW9uICgpIHsKCSAgICByZXR1cm4gZnVuY3Rpb24gZm9vKCkge30ubmFtZSA9PT0gJ2Zvbyc7CgkgIH0oKSk7Cgl9CglmdW5jdGlvbiBwVG9TdHJpbmcgKG9iaikgewoJICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaik7Cgl9CglmdW5jdGlvbiBpc1ZpZXcoYXJyYnVmKSB7CgkgIGlmIChidWZmZXIuaXNCdWZmZXIoYXJyYnVmKSkgewoJICAgIHJldHVybiBmYWxzZTsKCSAgfQoJICBpZiAodHlwZW9mIGdsb2JhbCQxLkFycmF5QnVmZmVyICE9PSAnZnVuY3Rpb24nKSB7CgkgICAgcmV0dXJuIGZhbHNlOwoJICB9CgkgIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nKSB7CgkgICAgcmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyhhcnJidWYpOwoJICB9CgkgIGlmICghYXJyYnVmKSB7CgkgICAgcmV0dXJuIGZhbHNlOwoJICB9CgkgIGlmIChhcnJidWYgaW5zdGFuY2VvZiBEYXRhVmlldykgewoJICAgIHJldHVybiB0cnVlOwoJICB9CgkgIGlmIChhcnJidWYuYnVmZmVyICYmIGFycmJ1Zi5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgewoJICAgIHJldHVybiB0cnVlOwoJICB9CgkgIHJldHVybiBmYWxzZTsKCX0KCS8vIDEuIFRoZSBhc3NlcnQgbW9kdWxlIHByb3ZpZGVzIGZ1bmN0aW9ucyB0aGF0IHRocm93CgkvLyBBc3NlcnRpb25FcnJvcidzIHdoZW4gcGFydGljdWxhciBjb25kaXRpb25zIGFyZSBub3QgbWV0LiBUaGUKCS8vIGFzc2VydCBtb2R1bGUgbXVzdCBjb25mb3JtIHRvIHRoZSBmb2xsb3dpbmcgaW50ZXJmYWNlLgoKCWZ1bmN0aW9uIGFzc2VydCQzKHZhbHVlLCBtZXNzYWdlKSB7CgkgIGlmICghdmFsdWUpIGZhaWwodmFsdWUsIHRydWUsIG1lc3NhZ2UsICc9PScsIG9rKTsKCX0KCgkvLyAyLiBUaGUgQXNzZXJ0aW9uRXJyb3IgaXMgZGVmaW5lZCBpbiBhc3NlcnQuCgkvLyBuZXcgYXNzZXJ0LkFzc2VydGlvbkVycm9yKHsgbWVzc2FnZTogbWVzc2FnZSwKCS8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWw6IGFjdHVhbCwKCS8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWQgfSkKCgl2YXIgcmVnZXggPSAvXHMqZnVuY3Rpb25ccysoW15cKFxzXSopXHMqLzsKCS8vIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9samhhcmIvZnVuY3Rpb24ucHJvdG90eXBlLm5hbWUvYmxvYi9hZGVlZWVjOGJmY2M2MDY4YjE4N2Q3ZDlmYjNkNWJiMWQzYTMwODk5L2ltcGxlbWVudGF0aW9uLmpzCglmdW5jdGlvbiBnZXROYW1lKGZ1bmMpIHsKCSAgaWYgKCFpc0Z1bmN0aW9uJDEoZnVuYykpIHsKCSAgICByZXR1cm47CgkgIH0KCSAgaWYgKGZ1bmN0aW9uc0hhdmVOYW1lcygpKSB7CgkgICAgcmV0dXJuIGZ1bmMubmFtZTsKCSAgfQoJICB2YXIgc3RyID0gZnVuYy50b1N0cmluZygpOwoJICB2YXIgbWF0Y2ggPSBzdHIubWF0Y2gocmVnZXgpOwoJICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMV07Cgl9Cglhc3NlcnQkMy5Bc3NlcnRpb25FcnJvciA9IEFzc2VydGlvbkVycm9yOwoJZnVuY3Rpb24gQXNzZXJ0aW9uRXJyb3Iob3B0aW9ucykgewoJICB0aGlzLm5hbWUgPSAnQXNzZXJ0aW9uRXJyb3InOwoJICB0aGlzLmFjdHVhbCA9IG9wdGlvbnMuYWN0dWFsOwoJICB0aGlzLmV4cGVjdGVkID0gb3B0aW9ucy5leHBlY3RlZDsKCSAgdGhpcy5vcGVyYXRvciA9IG9wdGlvbnMub3BlcmF0b3I7CgkgIGlmIChvcHRpb25zLm1lc3NhZ2UpIHsKCSAgICB0aGlzLm1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7CgkgICAgdGhpcy5nZW5lcmF0ZWRNZXNzYWdlID0gZmFsc2U7CgkgIH0gZWxzZSB7CgkgICAgdGhpcy5tZXNzYWdlID0gZ2V0TWVzc2FnZSh0aGlzKTsKCSAgICB0aGlzLmdlbmVyYXRlZE1lc3NhZ2UgPSB0cnVlOwoJICB9CgkgIHZhciBzdGFja1N0YXJ0RnVuY3Rpb24gPSBvcHRpb25zLnN0YWNrU3RhcnRGdW5jdGlvbiB8fCBmYWlsOwoJICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHsKCSAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBzdGFja1N0YXJ0RnVuY3Rpb24pOwoJICB9IGVsc2UgewoJICAgIC8vIG5vbiB2OCBicm93c2VycyBzbyB3ZSBjYW4gaGF2ZSBhIHN0YWNrdHJhY2UKCSAgICB2YXIgZXJyID0gbmV3IEVycm9yKCk7CgkgICAgaWYgKGVyci5zdGFjaykgewoJICAgICAgdmFyIG91dCA9IGVyci5zdGFjazsKCgkgICAgICAvLyB0cnkgdG8gc3RyaXAgdXNlbGVzcyBmcmFtZXMKCSAgICAgIHZhciBmbl9uYW1lID0gZ2V0TmFtZShzdGFja1N0YXJ0RnVuY3Rpb24pOwoJICAgICAgdmFyIGlkeCA9IG91dC5pbmRleE9mKCdcbicgKyBmbl9uYW1lKTsKCSAgICAgIGlmIChpZHggPj0gMCkgewoJICAgICAgICAvLyBvbmNlIHdlIGhhdmUgbG9jYXRlZCB0aGUgZnVuY3Rpb24gZnJhbWUKCSAgICAgICAgLy8gd2UgbmVlZCB0byBzdHJpcCBvdXQgZXZlcnl0aGluZyBiZWZvcmUgaXQgKGFuZCBpdHMgbGluZSkKCSAgICAgICAgdmFyIG5leHRfbGluZSA9IG91dC5pbmRleE9mKCdcbicsIGlkeCArIDEpOwoJICAgICAgICBvdXQgPSBvdXQuc3Vic3RyaW5nKG5leHRfbGluZSArIDEpOwoJICAgICAgfQoKCSAgICAgIHRoaXMuc3RhY2sgPSBvdXQ7CgkgICAgfQoJICB9Cgl9CgoJLy8gYXNzZXJ0LkFzc2VydGlvbkVycm9yIGluc3RhbmNlb2YgRXJyb3IKCWluaGVyaXRzJDEoQXNzZXJ0aW9uRXJyb3IsIEVycm9yKTsKCglmdW5jdGlvbiB0cnVuY2F0ZShzLCBuKSB7CgkgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHsKCSAgICByZXR1cm4gcy5sZW5ndGggPCBuID8gcyA6IHMuc2xpY2UoMCwgbik7CgkgIH0gZWxzZSB7CgkgICAgcmV0dXJuIHM7CgkgIH0KCX0KCWZ1bmN0aW9uIGluc3BlY3Qoc29tZXRoaW5nKSB7CgkgIGlmIChmdW5jdGlvbnNIYXZlTmFtZXMoKSB8fCAhaXNGdW5jdGlvbiQxKHNvbWV0aGluZykpIHsKCSAgICByZXR1cm4gaW5zcGVjdCQxKHNvbWV0aGluZyk7CgkgIH0KCSAgdmFyIHJhd25hbWUgPSBnZXROYW1lKHNvbWV0aGluZyk7CgkgIHZhciBuYW1lID0gcmF3bmFtZSA/ICc6ICcgKyByYXduYW1lIDogJyc7CgkgIHJldHVybiAnW0Z1bmN0aW9uJyArICBuYW1lICsgJ10nOwoJfQoJZnVuY3Rpb24gZ2V0TWVzc2FnZShzZWxmKSB7CgkgIHJldHVybiB0cnVuY2F0ZShpbnNwZWN0KHNlbGYuYWN0dWFsKSwgMTI4KSArICcgJyArCgkgICAgICAgICBzZWxmLm9wZXJhdG9yICsgJyAnICsKCSAgICAgICAgIHRydW5jYXRlKGluc3BlY3Qoc2VsZi5leHBlY3RlZCksIDEyOCk7Cgl9CgoJLy8gQXQgcHJlc2VudCBvbmx5IHRoZSB0aHJlZSBrZXlzIG1lbnRpb25lZCBhYm92ZSBhcmUgdXNlZCBhbmQKCS8vIHVuZGVyc3Rvb2QgYnkgdGhlIHNwZWMuIEltcGxlbWVudGF0aW9ucyBvciBzdWIgbW9kdWxlcyBjYW4gcGFzcwoJLy8gb3RoZXIga2V5cyB0byB0aGUgQXNzZXJ0aW9uRXJyb3IncyBjb25zdHJ1Y3RvciAtIHRoZXkgd2lsbCBiZQoJLy8gaWdub3JlZC4KCgkvLyAzLiBBbGwgb2YgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgbXVzdCB0aHJvdyBhbiBBc3NlcnRpb25FcnJvcgoJLy8gd2hlbiBhIGNvcnJlc3BvbmRpbmcgY29uZGl0aW9uIGlzIG5vdCBtZXQsIHdpdGggYSBtZXNzYWdlIHRoYXQKCS8vIG1heSBiZSB1bmRlZmluZWQgaWYgbm90IHByb3ZpZGVkLiAgQWxsIGFzc2VydGlvbiBtZXRob2RzIHByb3ZpZGUKCS8vIGJvdGggdGhlIGFjdHVhbCBhbmQgZXhwZWN0ZWQgdmFsdWVzIHRvIHRoZSBhc3NlcnRpb24gZXJyb3IgZm9yCgkvLyBkaXNwbGF5IHB1cnBvc2VzLgoKCWZ1bmN0aW9uIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgb3BlcmF0b3IsIHN0YWNrU3RhcnRGdW5jdGlvbikgewoJICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoewoJICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCgkgICAgYWN0dWFsOiBhY3R1YWwsCgkgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkLAoJICAgIG9wZXJhdG9yOiBvcGVyYXRvciwKCSAgICBzdGFja1N0YXJ0RnVuY3Rpb246IHN0YWNrU3RhcnRGdW5jdGlvbgoJICB9KTsKCX0KCgkvLyBFWFRFTlNJT04hIGFsbG93cyBmb3Igd2VsbCBiZWhhdmVkIGVycm9ycyBkZWZpbmVkIGVsc2V3aGVyZS4KCWFzc2VydCQzLmZhaWwgPSBmYWlsOwoKCS8vIDQuIFB1cmUgYXNzZXJ0aW9uIHRlc3RzIHdoZXRoZXIgYSB2YWx1ZSBpcyB0cnV0aHksIGFzIGRldGVybWluZWQKCS8vIGJ5ICEhZ3VhcmQuCgkvLyBhc3NlcnQub2soZ3VhcmQsIG1lc3NhZ2Vfb3B0KTsKCS8vIFRoaXMgc3RhdGVtZW50IGlzIGVxdWl2YWxlbnQgdG8gYXNzZXJ0LmVxdWFsKHRydWUsICEhZ3VhcmQsCgkvLyBtZXNzYWdlX29wdCk7LiBUbyB0ZXN0IHN0cmljdGx5IGZvciB0aGUgdmFsdWUgdHJ1ZSwgdXNlCgkvLyBhc3NlcnQuc3RyaWN0RXF1YWwodHJ1ZSwgZ3VhcmQsIG1lc3NhZ2Vfb3B0KTsuCgoJZnVuY3Rpb24gb2sodmFsdWUsIG1lc3NhZ2UpIHsKCSAgaWYgKCF2YWx1ZSkgZmFpbCh2YWx1ZSwgdHJ1ZSwgbWVzc2FnZSwgJz09Jywgb2spOwoJfQoJYXNzZXJ0JDMub2sgPSBvazsKCgkvLyA1LiBUaGUgZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIHNoYWxsb3csIGNvZXJjaXZlIGVxdWFsaXR5IHdpdGgKCS8vID09LgoJLy8gYXNzZXJ0LmVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTsKCWFzc2VydCQzLmVxdWFsID0gZXF1YWw7CglmdW5jdGlvbiBlcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7CgkgIGlmIChhY3R1YWwgIT0gZXhwZWN0ZWQpIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJz09JywgZXF1YWwpOwoJfQoKCS8vIDYuIFRoZSBub24tZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIGZvciB3aGV0aGVyIHR3byBvYmplY3RzIGFyZSBub3QgZXF1YWwKCS8vIHdpdGggIT0gYXNzZXJ0Lm5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTsKCWFzc2VydCQzLm5vdEVxdWFsID0gbm90RXF1YWw7CglmdW5jdGlvbiBub3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7CgkgIGlmIChhY3R1YWwgPT0gZXhwZWN0ZWQpIHsKCSAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICchPScsIG5vdEVxdWFsKTsKCSAgfQoJfQoKCS8vIDcuIFRoZSBlcXVpdmFsZW5jZSBhc3NlcnRpb24gdGVzdHMgYSBkZWVwIGVxdWFsaXR5IHJlbGF0aW9uLgoJLy8gYXNzZXJ0LmRlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7Cglhc3NlcnQkMy5kZWVwRXF1YWwgPSBkZWVwRXF1YWw7CglmdW5jdGlvbiBkZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkgewoJICBpZiAoIV9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgZmFsc2UpKSB7CgkgICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnZGVlcEVxdWFsJywgZGVlcEVxdWFsKTsKCSAgfQoJfQoJYXNzZXJ0JDMuZGVlcFN0cmljdEVxdWFsID0gZGVlcFN0cmljdEVxdWFsOwoJZnVuY3Rpb24gZGVlcFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKCSAgaWYgKCFfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIHRydWUpKSB7CgkgICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnZGVlcFN0cmljdEVxdWFsJywgZGVlcFN0cmljdEVxdWFsKTsKCSAgfQoJfQoKCWZ1bmN0aW9uIF9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgc3RyaWN0LCBtZW1vcykgewoJICAvLyA3LjEuIEFsbCBpZGVudGljYWwgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBhcyBkZXRlcm1pbmVkIGJ5ID09PS4KCSAgaWYgKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHsKCSAgICByZXR1cm4gdHJ1ZTsKCSAgfSBlbHNlIGlmIChidWZmZXIuaXNCdWZmZXIoYWN0dWFsKSAmJiBidWZmZXIuaXNCdWZmZXIoZXhwZWN0ZWQpKSB7CgkgICAgcmV0dXJuIGNvbXBhcmUoYWN0dWFsLCBleHBlY3RlZCkgPT09IDA7CgoJICAvLyA3LjIuIElmIHRoZSBleHBlY3RlZCB2YWx1ZSBpcyBhIERhdGUgb2JqZWN0LCB0aGUgYWN0dWFsIHZhbHVlIGlzCgkgIC8vIGVxdWl2YWxlbnQgaWYgaXQgaXMgYWxzbyBhIERhdGUgb2JqZWN0IHRoYXQgcmVmZXJzIHRvIHRoZSBzYW1lIHRpbWUuCgkgIH0gZWxzZSBpZiAoaXNEYXRlKGFjdHVhbCkgJiYgaXNEYXRlKGV4cGVjdGVkKSkgewoJICAgIHJldHVybiBhY3R1YWwuZ2V0VGltZSgpID09PSBleHBlY3RlZC5nZXRUaW1lKCk7CgoJICAvLyA3LjMgSWYgdGhlIGV4cGVjdGVkIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdCwgdGhlIGFjdHVhbCB2YWx1ZSBpcwoJICAvLyBlcXVpdmFsZW50IGlmIGl0IGlzIGFsc28gYSBSZWdFeHAgb2JqZWN0IHdpdGggdGhlIHNhbWUgc291cmNlIGFuZAoJICAvLyBwcm9wZXJ0aWVzIChgZ2xvYmFsYCwgYG11bHRpbGluZWAsIGBsYXN0SW5kZXhgLCBgaWdub3JlQ2FzZWApLgoJICB9IGVsc2UgaWYgKGlzUmVnRXhwKGFjdHVhbCkgJiYgaXNSZWdFeHAoZXhwZWN0ZWQpKSB7CgkgICAgcmV0dXJuIGFjdHVhbC5zb3VyY2UgPT09IGV4cGVjdGVkLnNvdXJjZSAmJgoJICAgICAgICAgICBhY3R1YWwuZ2xvYmFsID09PSBleHBlY3RlZC5nbG9iYWwgJiYKCSAgICAgICAgICAgYWN0dWFsLm11bHRpbGluZSA9PT0gZXhwZWN0ZWQubXVsdGlsaW5lICYmCgkgICAgICAgICAgIGFjdHVhbC5sYXN0SW5kZXggPT09IGV4cGVjdGVkLmxhc3RJbmRleCAmJgoJICAgICAgICAgICBhY3R1YWwuaWdub3JlQ2FzZSA9PT0gZXhwZWN0ZWQuaWdub3JlQ2FzZTsKCgkgIC8vIDcuNC4gT3RoZXIgcGFpcnMgdGhhdCBkbyBub3QgYm90aCBwYXNzIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JywKCSAgLy8gZXF1aXZhbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSA9PS4KCSAgfSBlbHNlIGlmICgoYWN0dWFsID09PSBudWxsIHx8IHR5cGVvZiBhY3R1YWwgIT09ICdvYmplY3QnKSAmJgoJICAgICAgICAgICAgIChleHBlY3RlZCA9PT0gbnVsbCB8fCB0eXBlb2YgZXhwZWN0ZWQgIT09ICdvYmplY3QnKSkgewoJICAgIHJldHVybiBzdHJpY3QgPyBhY3R1YWwgPT09IGV4cGVjdGVkIDogYWN0dWFsID09IGV4cGVjdGVkOwoKCSAgLy8gSWYgYm90aCB2YWx1ZXMgYXJlIGluc3RhbmNlcyBvZiB0eXBlZCBhcnJheXMsIHdyYXAgdGhlaXIgdW5kZXJseWluZwoJICAvLyBBcnJheUJ1ZmZlcnMgaW4gYSBCdWZmZXIgZWFjaCB0byBpbmNyZWFzZSBwZXJmb3JtYW5jZQoJICAvLyBUaGlzIG9wdGltaXphdGlvbiByZXF1aXJlcyB0aGUgYXJyYXlzIHRvIGhhdmUgdGhlIHNhbWUgdHlwZSBhcyBjaGVja2VkIGJ5CgkgIC8vIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgKGFrYSBwVG9TdHJpbmcpLiBOZXZlciBwZXJmb3JtIGJpbmFyeQoJICAvLyBjb21wYXJpc29ucyBmb3IgRmxvYXQqQXJyYXlzLCB0aG91Z2gsIHNpbmNlIGUuZy4gKzAgPT09IC0wIGJ1dCB0aGVpcgoJICAvLyBiaXQgcGF0dGVybnMgYXJlIG5vdCBpZGVudGljYWwuCgkgIH0gZWxzZSBpZiAoaXNWaWV3KGFjdHVhbCkgJiYgaXNWaWV3KGV4cGVjdGVkKSAmJgoJICAgICAgICAgICAgIHBUb1N0cmluZyhhY3R1YWwpID09PSBwVG9TdHJpbmcoZXhwZWN0ZWQpICYmCgkgICAgICAgICAgICAgIShhY3R1YWwgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgfHwKCSAgICAgICAgICAgICAgIGFjdHVhbCBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkpIHsKCSAgICByZXR1cm4gY29tcGFyZShuZXcgVWludDhBcnJheShhY3R1YWwuYnVmZmVyKSwKCSAgICAgICAgICAgICAgICAgICBuZXcgVWludDhBcnJheShleHBlY3RlZC5idWZmZXIpKSA9PT0gMDsKCgkgIC8vIDcuNSBGb3IgYWxsIG90aGVyIE9iamVjdCBwYWlycywgaW5jbHVkaW5nIEFycmF5IG9iamVjdHMsIGVxdWl2YWxlbmNlIGlzCgkgIC8vIGRldGVybWluZWQgYnkgaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChhcyB2ZXJpZmllZAoJICAvLyB3aXRoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCksIHRoZSBzYW1lIHNldCBvZiBrZXlzCgkgIC8vIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLCBlcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkKCSAgLy8gY29ycmVzcG9uZGluZyBrZXksIGFuZCBhbiBpZGVudGljYWwgJ3Byb3RvdHlwZScgcHJvcGVydHkuIE5vdGU6IHRoaXMKCSAgLy8gYWNjb3VudHMgZm9yIGJvdGggbmFtZWQgYW5kIGluZGV4ZWQgcHJvcGVydGllcyBvbiBBcnJheXMuCgkgIH0gZWxzZSBpZiAoYnVmZmVyLmlzQnVmZmVyKGFjdHVhbCkgIT09IGJ1ZmZlci5pc0J1ZmZlcihleHBlY3RlZCkpIHsKCSAgICByZXR1cm4gZmFsc2U7CgkgIH0gZWxzZSB7CgkgICAgbWVtb3MgPSBtZW1vcyB8fCB7YWN0dWFsOiBbXSwgZXhwZWN0ZWQ6IFtdfTsKCgkgICAgdmFyIGFjdHVhbEluZGV4ID0gbWVtb3MuYWN0dWFsLmluZGV4T2YoYWN0dWFsKTsKCSAgICBpZiAoYWN0dWFsSW5kZXggIT09IC0xKSB7CgkgICAgICBpZiAoYWN0dWFsSW5kZXggPT09IG1lbW9zLmV4cGVjdGVkLmluZGV4T2YoZXhwZWN0ZWQpKSB7CgkgICAgICAgIHJldHVybiB0cnVlOwoJICAgICAgfQoJICAgIH0KCgkgICAgbWVtb3MuYWN0dWFsLnB1c2goYWN0dWFsKTsKCSAgICBtZW1vcy5leHBlY3RlZC5wdXNoKGV4cGVjdGVkKTsKCgkgICAgcmV0dXJuIG9iakVxdWl2KGFjdHVhbCwgZXhwZWN0ZWQsIHN0cmljdCwgbWVtb3MpOwoJICB9Cgl9CgoJZnVuY3Rpb24gaXNBcmd1bWVudHMob2JqZWN0KSB7CgkgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PSAnW29iamVjdCBBcmd1bWVudHNdJzsKCX0KCglmdW5jdGlvbiBvYmpFcXVpdihhLCBiLCBzdHJpY3QsIGFjdHVhbFZpc2l0ZWRPYmplY3RzKSB7CgkgIGlmIChhID09PSBudWxsIHx8IGEgPT09IHVuZGVmaW5lZCB8fCBiID09PSBudWxsIHx8IGIgPT09IHVuZGVmaW5lZCkKCSAgICByZXR1cm4gZmFsc2U7CgkgIC8vIGlmIG9uZSBpcyBhIHByaW1pdGl2ZSwgdGhlIG90aGVyIG11c3QgYmUgc2FtZQoJICBpZiAoaXNQcmltaXRpdmUoYSkgfHwgaXNQcmltaXRpdmUoYikpCgkgICAgcmV0dXJuIGEgPT09IGI7CgkgIGlmIChzdHJpY3QgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGEpICE9PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYikpCgkgICAgcmV0dXJuIGZhbHNlOwoJICB2YXIgYUlzQXJncyA9IGlzQXJndW1lbnRzKGEpOwoJICB2YXIgYklzQXJncyA9IGlzQXJndW1lbnRzKGIpOwoJICBpZiAoKGFJc0FyZ3MgJiYgIWJJc0FyZ3MpIHx8ICghYUlzQXJncyAmJiBiSXNBcmdzKSkKCSAgICByZXR1cm4gZmFsc2U7CgkgIGlmIChhSXNBcmdzKSB7CgkgICAgYSA9IHBTbGljZS5jYWxsKGEpOwoJICAgIGIgPSBwU2xpY2UuY2FsbChiKTsKCSAgICByZXR1cm4gX2RlZXBFcXVhbChhLCBiLCBzdHJpY3QpOwoJICB9CgkgIHZhciBrYSA9IG9iamVjdEtleXMkMShhKTsKCSAgdmFyIGtiID0gb2JqZWN0S2V5cyQxKGIpOwoJICB2YXIga2V5LCBpOwoJICAvLyBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGtleXMgaW5jb3Jwb3JhdGVzCgkgIC8vIGhhc093blByb3BlcnR5KQoJICBpZiAoa2EubGVuZ3RoICE9PSBrYi5sZW5ndGgpCgkgICAgcmV0dXJuIGZhbHNlOwoJICAvL3RoZSBzYW1lIHNldCBvZiBrZXlzIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLAoJICBrYS5zb3J0KCk7CgkgIGtiLnNvcnQoKTsKCSAgLy9+fn5jaGVhcCBrZXkgdGVzdAoJICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewoJICAgIGlmIChrYVtpXSAhPT0ga2JbaV0pCgkgICAgICByZXR1cm4gZmFsc2U7CgkgIH0KCSAgLy9lcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkgY29ycmVzcG9uZGluZyBrZXksIGFuZAoJICAvL35+fnBvc3NpYmx5IGV4cGVuc2l2ZSBkZWVwIHRlc3QKCSAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKCSAgICBrZXkgPSBrYVtpXTsKCSAgICBpZiAoIV9kZWVwRXF1YWwoYVtrZXldLCBiW2tleV0sIHN0cmljdCwgYWN0dWFsVmlzaXRlZE9iamVjdHMpKQoJICAgICAgcmV0dXJuIGZhbHNlOwoJICB9CgkgIHJldHVybiB0cnVlOwoJfQoKCS8vIDguIFRoZSBub24tZXF1aXZhbGVuY2UgYXNzZXJ0aW9uIHRlc3RzIGZvciBhbnkgZGVlcCBpbmVxdWFsaXR5LgoJLy8gYXNzZXJ0Lm5vdERlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7Cglhc3NlcnQkMy5ub3REZWVwRXF1YWwgPSBub3REZWVwRXF1YWw7CglmdW5jdGlvbiBub3REZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkgewoJICBpZiAoX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBmYWxzZSkpIHsKCSAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdub3REZWVwRXF1YWwnLCBub3REZWVwRXF1YWwpOwoJICB9Cgl9CgoJYXNzZXJ0JDMubm90RGVlcFN0cmljdEVxdWFsID0gbm90RGVlcFN0cmljdEVxdWFsOwoJZnVuY3Rpb24gbm90RGVlcFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKCSAgaWYgKF9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgdHJ1ZSkpIHsKCSAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdub3REZWVwU3RyaWN0RXF1YWwnLCBub3REZWVwU3RyaWN0RXF1YWwpOwoJICB9Cgl9CgoKCS8vIDkuIFRoZSBzdHJpY3QgZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIHN0cmljdCBlcXVhbGl0eSwgYXMgZGV0ZXJtaW5lZCBieSA9PT0uCgkvLyBhc3NlcnQuc3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpOwoJYXNzZXJ0JDMuc3RyaWN0RXF1YWwgPSBzdHJpY3RFcXVhbDsKCWZ1bmN0aW9uIHN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKCSAgaWYgKGFjdHVhbCAhPT0gZXhwZWN0ZWQpIHsKCSAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICc9PT0nLCBzdHJpY3RFcXVhbCk7CgkgIH0KCX0KCgkvLyAxMC4gVGhlIHN0cmljdCBub24tZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIGZvciBzdHJpY3QgaW5lcXVhbGl0eSwgYXMKCS8vIGRldGVybWluZWQgYnkgIT09LiAgYXNzZXJ0Lm5vdFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTsKCWFzc2VydCQzLm5vdFN0cmljdEVxdWFsID0gbm90U3RyaWN0RXF1YWw7CglmdW5jdGlvbiBub3RTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7CgkgIGlmIChhY3R1YWwgPT09IGV4cGVjdGVkKSB7CgkgICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnIT09Jywgbm90U3RyaWN0RXF1YWwpOwoJICB9Cgl9CgoJZnVuY3Rpb24gZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkgewoJICBpZiAoIWFjdHVhbCB8fCAhZXhwZWN0ZWQpIHsKCSAgICByZXR1cm4gZmFsc2U7CgkgIH0KCgkgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZXhwZWN0ZWQpID09ICdbb2JqZWN0IFJlZ0V4cF0nKSB7CgkgICAgcmV0dXJuIGV4cGVjdGVkLnRlc3QoYWN0dWFsKTsKCSAgfQoKCSAgdHJ5IHsKCSAgICBpZiAoYWN0dWFsIGluc3RhbmNlb2YgZXhwZWN0ZWQpIHsKCSAgICAgIHJldHVybiB0cnVlOwoJICAgIH0KCSAgfSBjYXRjaCAoZSkgewoJICAgIC8vIElnbm9yZS4gIFRoZSBpbnN0YW5jZW9mIGNoZWNrIGRvZXNuJ3Qgd29yayBmb3IgYXJyb3cgZnVuY3Rpb25zLgoJICB9CgoJICBpZiAoRXJyb3IuaXNQcm90b3R5cGVPZihleHBlY3RlZCkpIHsKCSAgICByZXR1cm4gZmFsc2U7CgkgIH0KCgkgIHJldHVybiBleHBlY3RlZC5jYWxsKHt9LCBhY3R1YWwpID09PSB0cnVlOwoJfQoKCWZ1bmN0aW9uIF90cnlCbG9jayhibG9jaykgewoJICB2YXIgZXJyb3I7CgkgIHRyeSB7CgkgICAgYmxvY2soKTsKCSAgfSBjYXRjaCAoZSkgewoJICAgIGVycm9yID0gZTsKCSAgfQoJICByZXR1cm4gZXJyb3I7Cgl9CgoJZnVuY3Rpb24gX3Rocm93cyhzaG91bGRUaHJvdywgYmxvY2ssIGV4cGVjdGVkLCBtZXNzYWdlKSB7CgkgIHZhciBhY3R1YWw7CgoJICBpZiAodHlwZW9mIGJsb2NrICE9PSAnZnVuY3Rpb24nKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignImJsb2NrIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTsKCSAgfQoKCSAgaWYgKHR5cGVvZiBleHBlY3RlZCA9PT0gJ3N0cmluZycpIHsKCSAgICBtZXNzYWdlID0gZXhwZWN0ZWQ7CgkgICAgZXhwZWN0ZWQgPSBudWxsOwoJICB9CgoJICBhY3R1YWwgPSBfdHJ5QmxvY2soYmxvY2spOwoKCSAgbWVzc2FnZSA9IChleHBlY3RlZCAmJiBleHBlY3RlZC5uYW1lID8gJyAoJyArIGV4cGVjdGVkLm5hbWUgKyAnKS4nIDogJy4nKSArCgkgICAgICAgICAgICAobWVzc2FnZSA/ICcgJyArIG1lc3NhZ2UgOiAnLicpOwoKCSAgaWYgKHNob3VsZFRocm93ICYmICFhY3R1YWwpIHsKCSAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsICdNaXNzaW5nIGV4cGVjdGVkIGV4Y2VwdGlvbicgKyBtZXNzYWdlKTsKCSAgfQoKCSAgdmFyIHVzZXJQcm92aWRlZE1lc3NhZ2UgPSB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZyc7CgkgIHZhciBpc1Vud2FudGVkRXhjZXB0aW9uID0gIXNob3VsZFRocm93ICYmIGlzRXJyb3IoYWN0dWFsKTsKCSAgdmFyIGlzVW5leHBlY3RlZEV4Y2VwdGlvbiA9ICFzaG91bGRUaHJvdyAmJiBhY3R1YWwgJiYgIWV4cGVjdGVkOwoKCSAgaWYgKChpc1Vud2FudGVkRXhjZXB0aW9uICYmCgkgICAgICB1c2VyUHJvdmlkZWRNZXNzYWdlICYmCgkgICAgICBleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsIGV4cGVjdGVkKSkgfHwKCSAgICAgIGlzVW5leHBlY3RlZEV4Y2VwdGlvbikgewoJICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgJ0dvdCB1bndhbnRlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7CgkgIH0KCgkgIGlmICgoc2hvdWxkVGhyb3cgJiYgYWN0dWFsICYmIGV4cGVjdGVkICYmCgkgICAgICAhZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkpIHx8ICghc2hvdWxkVGhyb3cgJiYgYWN0dWFsKSkgewoJICAgIHRocm93IGFjdHVhbDsKCSAgfQoJfQoKCS8vIDExLiBFeHBlY3RlZCB0byB0aHJvdyBhbiBlcnJvcjoKCS8vIGFzc2VydC50aHJvd3MoYmxvY2ssIEVycm9yX29wdCwgbWVzc2FnZV9vcHQpOwoJYXNzZXJ0JDMudGhyb3dzID0gdGhyb3dzOwoJZnVuY3Rpb24gdGhyb3dzKGJsb2NrLCAvKm9wdGlvbmFsKi9lcnJvciwgLypvcHRpb25hbCovbWVzc2FnZSkgewoJICBfdGhyb3dzKHRydWUsIGJsb2NrLCBlcnJvciwgbWVzc2FnZSk7Cgl9CgoJLy8gRVhURU5TSU9OISBUaGlzIGlzIGFubm95aW5nIHRvIHdyaXRlIG91dHNpZGUgdGhpcyBtb2R1bGUuCglhc3NlcnQkMy5kb2VzTm90VGhyb3cgPSBkb2VzTm90VGhyb3c7CglmdW5jdGlvbiBkb2VzTm90VGhyb3coYmxvY2ssIC8qb3B0aW9uYWwqL2Vycm9yLCAvKm9wdGlvbmFsKi9tZXNzYWdlKSB7CgkgIF90aHJvd3MoZmFsc2UsIGJsb2NrLCBlcnJvciwgbWVzc2FnZSk7Cgl9CgoJYXNzZXJ0JDMuaWZFcnJvciA9IGlmRXJyb3I7CglmdW5jdGlvbiBpZkVycm9yKGVycikgewoJICBpZiAoZXJyKSB0aHJvdyBlcnI7Cgl9CgoJdmFyIHNoYTMgPSB7ZXhwb3J0czoge319OwoKCShmdW5jdGlvbiAobW9kdWxlKSB7CgkvKmpzbGludCBiaXR3aXNlOiB0cnVlICovCgkoZnVuY3Rpb24gKCkgewoKCSAgdmFyIElOUFVUX0VSUk9SID0gJ2lucHV0IGlzIGludmFsaWQgdHlwZSc7CgkgIHZhciBGSU5BTElaRV9FUlJPUiA9ICdmaW5hbGl6ZSBhbHJlYWR5IGNhbGxlZCc7CgkgIHZhciBXSU5ET1cgPSB0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JzsKCSAgdmFyIHJvb3QgPSBXSU5ET1cgPyB3aW5kb3cgOiB7fTsKCSAgaWYgKHJvb3QuSlNfU0hBM19OT19XSU5ET1cpIHsKCSAgICBXSU5ET1cgPSBmYWxzZTsKCSAgfQoJICB2YXIgV0VCX1dPUktFUiA9ICFXSU5ET1cgJiYgdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnOwoJICB2YXIgTk9ERV9KUyA9ICFyb290LkpTX1NIQTNfTk9fTk9ERV9KUyAmJiB0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGU7CgkgIGlmIChOT0RFX0pTKSB7CgkgICAgcm9vdCA9IGNvbW1vbmpzR2xvYmFsOwoJICB9IGVsc2UgaWYgKFdFQl9XT1JLRVIpIHsKCSAgICByb290ID0gc2VsZjsKCSAgfQoJICB2YXIgQ09NTU9OX0pTID0gIXJvb3QuSlNfU0hBM19OT19DT01NT05fSlMgJiYgJ29iamVjdCcgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzOwoJICB2YXIgQVJSQVlfQlVGRkVSID0gIXJvb3QuSlNfU0hBM19OT19BUlJBWV9CVUZGRVIgJiYgdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJzsKCSAgdmFyIEhFWF9DSEFSUyA9ICcwMTIzNDU2Nzg5YWJjZGVmJy5zcGxpdCgnJyk7CgkgIHZhciBTSEFLRV9QQURESU5HID0gWzMxLCA3OTM2LCAyMDMxNjE2LCA1MjAwOTM2OTZdOwoJICB2YXIgQ1NIQUtFX1BBRERJTkcgPSBbNCwgMTAyNCwgMjYyMTQ0LCA2NzEwODg2NF07CgkgIHZhciBLRUNDQUtfUEFERElORyA9IFsxLCAyNTYsIDY1NTM2LCAxNjc3NzIxNl07CgkgIHZhciBQQURESU5HID0gWzYsIDE1MzYsIDM5MzIxNiwgMTAwNjYzMjk2XTsKCSAgdmFyIFNISUZUID0gWzAsIDgsIDE2LCAyNF07CgkgIHZhciBSQyA9IFsxLCAwLCAzMjg5OCwgMCwgMzI5MDYsIDIxNDc0ODM2NDgsIDIxNDc1MTY0MTYsIDIxNDc0ODM2NDgsIDMyOTA3LCAwLCAyMTQ3NDgzNjQ5LAoJICAgIDAsIDIxNDc1MTY1NDUsIDIxNDc0ODM2NDgsIDMyNzc3LCAyMTQ3NDgzNjQ4LCAxMzgsIDAsIDEzNiwgMCwgMjE0NzUxNjQyNSwgMCwKCSAgICAyMTQ3NDgzNjU4LCAwLCAyMTQ3NTE2NTU1LCAwLCAxMzksIDIxNDc0ODM2NDgsIDMyOTA1LCAyMTQ3NDgzNjQ4LCAzMjc3MSwKCSAgICAyMTQ3NDgzNjQ4LCAzMjc3MCwgMjE0NzQ4MzY0OCwgMTI4LCAyMTQ3NDgzNjQ4LCAzMjc3OCwgMCwgMjE0NzQ4MzY1OCwgMjE0NzQ4MzY0OCwKCSAgICAyMTQ3NTE2NTQ1LCAyMTQ3NDgzNjQ4LCAzMjg5NiwgMjE0NzQ4MzY0OCwgMjE0NzQ4MzY0OSwgMCwgMjE0NzUxNjQyNCwgMjE0NzQ4MzY0OF07CgkgIHZhciBCSVRTID0gWzIyNCwgMjU2LCAzODQsIDUxMl07CgkgIHZhciBTSEFLRV9CSVRTID0gWzEyOCwgMjU2XTsKCSAgdmFyIE9VVFBVVF9UWVBFUyA9IFsnaGV4JywgJ2J1ZmZlcicsICdhcnJheUJ1ZmZlcicsICdhcnJheScsICdkaWdlc3QnXTsKCSAgdmFyIENTSEFLRV9CWVRFUEFEID0gewoJICAgICcxMjgnOiAxNjgsCgkgICAgJzI1Nic6IDEzNgoJICB9OwoKCSAgaWYgKHJvb3QuSlNfU0hBM19OT19OT0RFX0pTIHx8ICFBcnJheS5pc0FycmF5KSB7CgkgICAgQXJyYXkuaXNBcnJheSA9IGZ1bmN0aW9uIChvYmopIHsKCSAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJzsKCSAgICB9OwoJICB9CgoJICBpZiAoQVJSQVlfQlVGRkVSICYmIChyb290LkpTX1NIQTNfTk9fQVJSQVlfQlVGRkVSX0lTX1ZJRVcgfHwgIUFycmF5QnVmZmVyLmlzVmlldykpIHsKCSAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgPSBmdW5jdGlvbiAob2JqKSB7CgkgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqLmJ1ZmZlciAmJiBvYmouYnVmZmVyLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcjsKCSAgICB9OwoJICB9CgoJICB2YXIgY3JlYXRlT3V0cHV0TWV0aG9kID0gZnVuY3Rpb24gKGJpdHMsIHBhZGRpbmcsIG91dHB1dFR5cGUpIHsKCSAgICByZXR1cm4gZnVuY3Rpb24gKG1lc3NhZ2UpIHsKCSAgICAgIHJldHVybiBuZXcgS2VjY2FrKGJpdHMsIHBhZGRpbmcsIGJpdHMpLnVwZGF0ZShtZXNzYWdlKVtvdXRwdXRUeXBlXSgpOwoJICAgIH07CgkgIH07CgoJICB2YXIgY3JlYXRlU2hha2VPdXRwdXRNZXRob2QgPSBmdW5jdGlvbiAoYml0cywgcGFkZGluZywgb3V0cHV0VHlwZSkgewoJICAgIHJldHVybiBmdW5jdGlvbiAobWVzc2FnZSwgb3V0cHV0Qml0cykgewoJICAgICAgcmV0dXJuIG5ldyBLZWNjYWsoYml0cywgcGFkZGluZywgb3V0cHV0Qml0cykudXBkYXRlKG1lc3NhZ2UpW291dHB1dFR5cGVdKCk7CgkgICAgfTsKCSAgfTsKCgkgIHZhciBjcmVhdGVDc2hha2VPdXRwdXRNZXRob2QgPSBmdW5jdGlvbiAoYml0cywgcGFkZGluZywgb3V0cHV0VHlwZSkgewoJICAgIHJldHVybiBmdW5jdGlvbiAobWVzc2FnZSwgb3V0cHV0Qml0cywgbiwgcykgewoJICAgICAgcmV0dXJuIG1ldGhvZHNbJ2NzaGFrZScgKyBiaXRzXS51cGRhdGUobWVzc2FnZSwgb3V0cHV0Qml0cywgbiwgcylbb3V0cHV0VHlwZV0oKTsKCSAgICB9OwoJICB9OwoKCSAgdmFyIGNyZWF0ZUttYWNPdXRwdXRNZXRob2QgPSBmdW5jdGlvbiAoYml0cywgcGFkZGluZywgb3V0cHV0VHlwZSkgewoJICAgIHJldHVybiBmdW5jdGlvbiAoa2V5LCBtZXNzYWdlLCBvdXRwdXRCaXRzLCBzKSB7CgkgICAgICByZXR1cm4gbWV0aG9kc1sna21hYycgKyBiaXRzXS51cGRhdGUoa2V5LCBtZXNzYWdlLCBvdXRwdXRCaXRzLCBzKVtvdXRwdXRUeXBlXSgpOwoJICAgIH07CgkgIH07CgoJICB2YXIgY3JlYXRlT3V0cHV0TWV0aG9kcyA9IGZ1bmN0aW9uIChtZXRob2QsIGNyZWF0ZU1ldGhvZCwgYml0cywgcGFkZGluZykgewoJICAgIGZvciAodmFyIGkgPSAwOyBpIDwgT1VUUFVUX1RZUEVTLmxlbmd0aDsgKytpKSB7CgkgICAgICB2YXIgdHlwZSA9IE9VVFBVVF9UWVBFU1tpXTsKCSAgICAgIG1ldGhvZFt0eXBlXSA9IGNyZWF0ZU1ldGhvZChiaXRzLCBwYWRkaW5nLCB0eXBlKTsKCSAgICB9CgkgICAgcmV0dXJuIG1ldGhvZDsKCSAgfTsKCgkgIHZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoYml0cywgcGFkZGluZykgewoJICAgIHZhciBtZXRob2QgPSBjcmVhdGVPdXRwdXRNZXRob2QoYml0cywgcGFkZGluZywgJ2hleCcpOwoJICAgIG1ldGhvZC5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICByZXR1cm4gbmV3IEtlY2NhayhiaXRzLCBwYWRkaW5nLCBiaXRzKTsKCSAgICB9OwoJICAgIG1ldGhvZC51cGRhdGUgPSBmdW5jdGlvbiAobWVzc2FnZSkgewoJICAgICAgcmV0dXJuIG1ldGhvZC5jcmVhdGUoKS51cGRhdGUobWVzc2FnZSk7CgkgICAgfTsKCSAgICByZXR1cm4gY3JlYXRlT3V0cHV0TWV0aG9kcyhtZXRob2QsIGNyZWF0ZU91dHB1dE1ldGhvZCwgYml0cywgcGFkZGluZyk7CgkgIH07CgoJICB2YXIgY3JlYXRlU2hha2VNZXRob2QgPSBmdW5jdGlvbiAoYml0cywgcGFkZGluZykgewoJICAgIHZhciBtZXRob2QgPSBjcmVhdGVTaGFrZU91dHB1dE1ldGhvZChiaXRzLCBwYWRkaW5nLCAnaGV4Jyk7CgkgICAgbWV0aG9kLmNyZWF0ZSA9IGZ1bmN0aW9uIChvdXRwdXRCaXRzKSB7CgkgICAgICByZXR1cm4gbmV3IEtlY2NhayhiaXRzLCBwYWRkaW5nLCBvdXRwdXRCaXRzKTsKCSAgICB9OwoJICAgIG1ldGhvZC51cGRhdGUgPSBmdW5jdGlvbiAobWVzc2FnZSwgb3V0cHV0Qml0cykgewoJICAgICAgcmV0dXJuIG1ldGhvZC5jcmVhdGUob3V0cHV0Qml0cykudXBkYXRlKG1lc3NhZ2UpOwoJICAgIH07CgkgICAgcmV0dXJuIGNyZWF0ZU91dHB1dE1ldGhvZHMobWV0aG9kLCBjcmVhdGVTaGFrZU91dHB1dE1ldGhvZCwgYml0cywgcGFkZGluZyk7CgkgIH07CgoJICB2YXIgY3JlYXRlQ3NoYWtlTWV0aG9kID0gZnVuY3Rpb24gKGJpdHMsIHBhZGRpbmcpIHsKCSAgICB2YXIgdyA9IENTSEFLRV9CWVRFUEFEW2JpdHNdOwoJICAgIHZhciBtZXRob2QgPSBjcmVhdGVDc2hha2VPdXRwdXRNZXRob2QoYml0cywgcGFkZGluZywgJ2hleCcpOwoJICAgIG1ldGhvZC5jcmVhdGUgPSBmdW5jdGlvbiAob3V0cHV0Qml0cywgbiwgcykgewoJICAgICAgaWYgKCFuICYmICFzKSB7CgkgICAgICAgIHJldHVybiBtZXRob2RzWydzaGFrZScgKyBiaXRzXS5jcmVhdGUob3V0cHV0Qml0cyk7CgkgICAgICB9IGVsc2UgewoJICAgICAgICByZXR1cm4gbmV3IEtlY2NhayhiaXRzLCBwYWRkaW5nLCBvdXRwdXRCaXRzKS5ieXRlcGFkKFtuLCBzXSwgdyk7CgkgICAgICB9CgkgICAgfTsKCSAgICBtZXRob2QudXBkYXRlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG91dHB1dEJpdHMsIG4sIHMpIHsKCSAgICAgIHJldHVybiBtZXRob2QuY3JlYXRlKG91dHB1dEJpdHMsIG4sIHMpLnVwZGF0ZShtZXNzYWdlKTsKCSAgICB9OwoJICAgIHJldHVybiBjcmVhdGVPdXRwdXRNZXRob2RzKG1ldGhvZCwgY3JlYXRlQ3NoYWtlT3V0cHV0TWV0aG9kLCBiaXRzLCBwYWRkaW5nKTsKCSAgfTsKCgkgIHZhciBjcmVhdGVLbWFjTWV0aG9kID0gZnVuY3Rpb24gKGJpdHMsIHBhZGRpbmcpIHsKCSAgICB2YXIgdyA9IENTSEFLRV9CWVRFUEFEW2JpdHNdOwoJICAgIHZhciBtZXRob2QgPSBjcmVhdGVLbWFjT3V0cHV0TWV0aG9kKGJpdHMsIHBhZGRpbmcsICdoZXgnKTsKCSAgICBtZXRob2QuY3JlYXRlID0gZnVuY3Rpb24gKGtleSwgb3V0cHV0Qml0cywgcykgewoJICAgICAgcmV0dXJuIG5ldyBLbWFjKGJpdHMsIHBhZGRpbmcsIG91dHB1dEJpdHMpLmJ5dGVwYWQoWydLTUFDJywgc10sIHcpLmJ5dGVwYWQoW2tleV0sIHcpOwoJICAgIH07CgkgICAgbWV0aG9kLnVwZGF0ZSA9IGZ1bmN0aW9uIChrZXksIG1lc3NhZ2UsIG91dHB1dEJpdHMsIHMpIHsKCSAgICAgIHJldHVybiBtZXRob2QuY3JlYXRlKGtleSwgb3V0cHV0Qml0cywgcykudXBkYXRlKG1lc3NhZ2UpOwoJICAgIH07CgkgICAgcmV0dXJuIGNyZWF0ZU91dHB1dE1ldGhvZHMobWV0aG9kLCBjcmVhdGVLbWFjT3V0cHV0TWV0aG9kLCBiaXRzLCBwYWRkaW5nKTsKCSAgfTsKCgkgIHZhciBhbGdvcml0aG1zID0gWwoJICAgIHsgbmFtZTogJ2tlY2NhaycsIHBhZGRpbmc6IEtFQ0NBS19QQURESU5HLCBiaXRzOiBCSVRTLCBjcmVhdGVNZXRob2Q6IGNyZWF0ZU1ldGhvZCB9LAoJICAgIHsgbmFtZTogJ3NoYTMnLCBwYWRkaW5nOiBQQURESU5HLCBiaXRzOiBCSVRTLCBjcmVhdGVNZXRob2Q6IGNyZWF0ZU1ldGhvZCB9LAoJICAgIHsgbmFtZTogJ3NoYWtlJywgcGFkZGluZzogU0hBS0VfUEFERElORywgYml0czogU0hBS0VfQklUUywgY3JlYXRlTWV0aG9kOiBjcmVhdGVTaGFrZU1ldGhvZCB9LAoJICAgIHsgbmFtZTogJ2NzaGFrZScsIHBhZGRpbmc6IENTSEFLRV9QQURESU5HLCBiaXRzOiBTSEFLRV9CSVRTLCBjcmVhdGVNZXRob2Q6IGNyZWF0ZUNzaGFrZU1ldGhvZCB9LAoJICAgIHsgbmFtZTogJ2ttYWMnLCBwYWRkaW5nOiBDU0hBS0VfUEFERElORywgYml0czogU0hBS0VfQklUUywgY3JlYXRlTWV0aG9kOiBjcmVhdGVLbWFjTWV0aG9kIH0KCSAgXTsKCgkgIHZhciBtZXRob2RzID0ge30sIG1ldGhvZE5hbWVzID0gW107CgoJICBmb3IgKHZhciBpID0gMDsgaSA8IGFsZ29yaXRobXMubGVuZ3RoOyArK2kpIHsKCSAgICB2YXIgYWxnb3JpdGhtID0gYWxnb3JpdGhtc1tpXTsKCSAgICB2YXIgYml0cyA9IGFsZ29yaXRobS5iaXRzOwoJICAgIGZvciAodmFyIGogPSAwOyBqIDwgYml0cy5sZW5ndGg7ICsraikgewoJICAgICAgdmFyIG1ldGhvZE5hbWUgPSBhbGdvcml0aG0ubmFtZSArICdfJyArIGJpdHNbal07CgkgICAgICBtZXRob2ROYW1lcy5wdXNoKG1ldGhvZE5hbWUpOwoJICAgICAgbWV0aG9kc1ttZXRob2ROYW1lXSA9IGFsZ29yaXRobS5jcmVhdGVNZXRob2QoYml0c1tqXSwgYWxnb3JpdGhtLnBhZGRpbmcpOwoJICAgICAgaWYgKGFsZ29yaXRobS5uYW1lICE9PSAnc2hhMycpIHsKCSAgICAgICAgdmFyIG5ld01ldGhvZE5hbWUgPSBhbGdvcml0aG0ubmFtZSArIGJpdHNbal07CgkgICAgICAgIG1ldGhvZE5hbWVzLnB1c2gobmV3TWV0aG9kTmFtZSk7CgkgICAgICAgIG1ldGhvZHNbbmV3TWV0aG9kTmFtZV0gPSBtZXRob2RzW21ldGhvZE5hbWVdOwoJICAgICAgfQoJICAgIH0KCSAgfQoKCSAgZnVuY3Rpb24gS2VjY2FrKGJpdHMsIHBhZGRpbmcsIG91dHB1dEJpdHMpIHsKCSAgICB0aGlzLmJsb2NrcyA9IFtdOwoJICAgIHRoaXMucyA9IFtdOwoJICAgIHRoaXMucGFkZGluZyA9IHBhZGRpbmc7CgkgICAgdGhpcy5vdXRwdXRCaXRzID0gb3V0cHV0Qml0czsKCSAgICB0aGlzLnJlc2V0ID0gdHJ1ZTsKCSAgICB0aGlzLmZpbmFsaXplZCA9IGZhbHNlOwoJICAgIHRoaXMuYmxvY2sgPSAwOwoJICAgIHRoaXMuc3RhcnQgPSAwOwoJICAgIHRoaXMuYmxvY2tDb3VudCA9ICgxNjAwIC0gKGJpdHMgPDwgMSkpID4+IDU7CgkgICAgdGhpcy5ieXRlQ291bnQgPSB0aGlzLmJsb2NrQ291bnQgPDwgMjsKCSAgICB0aGlzLm91dHB1dEJsb2NrcyA9IG91dHB1dEJpdHMgPj4gNTsKCSAgICB0aGlzLmV4dHJhQnl0ZXMgPSAob3V0cHV0Qml0cyAmIDMxKSA+PiAzOwoKCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IDUwOyArK2kpIHsKCSAgICAgIHRoaXMuc1tpXSA9IDA7CgkgICAgfQoJICB9CgoJICBLZWNjYWsucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7CgkgICAgaWYgKHRoaXMuZmluYWxpemVkKSB7CgkgICAgICB0aHJvdyBuZXcgRXJyb3IoRklOQUxJWkVfRVJST1IpOwoJICAgIH0KCSAgICB2YXIgbm90U3RyaW5nLCB0eXBlID0gdHlwZW9mIG1lc3NhZ2U7CgkgICAgaWYgKHR5cGUgIT09ICdzdHJpbmcnKSB7CgkgICAgICBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHsKCSAgICAgICAgaWYgKG1lc3NhZ2UgPT09IG51bGwpIHsKCSAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5QVVRfRVJST1IpOwoJICAgICAgICB9IGVsc2UgaWYgKEFSUkFZX0JVRkZFUiAmJiBtZXNzYWdlLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcikgewoJICAgICAgICAgIG1lc3NhZ2UgPSBuZXcgVWludDhBcnJheShtZXNzYWdlKTsKCSAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlKSkgewoJICAgICAgICAgIGlmICghQVJSQVlfQlVGRkVSIHx8ICFBcnJheUJ1ZmZlci5pc1ZpZXcobWVzc2FnZSkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihJTlBVVF9FUlJPUik7CgkgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICB9IGVsc2UgewoJICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5QVVRfRVJST1IpOwoJICAgICAgfQoJICAgICAgbm90U3RyaW5nID0gdHJ1ZTsKCSAgICB9CgkgICAgdmFyIGJsb2NrcyA9IHRoaXMuYmxvY2tzLCBieXRlQ291bnQgPSB0aGlzLmJ5dGVDb3VudCwgbGVuZ3RoID0gbWVzc2FnZS5sZW5ndGgsCgkgICAgICBibG9ja0NvdW50ID0gdGhpcy5ibG9ja0NvdW50LCBpbmRleCA9IDAsIHMgPSB0aGlzLnMsIGksIGNvZGU7CgoJICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkgewoJICAgICAgaWYgKHRoaXMucmVzZXQpIHsKCSAgICAgICAgdGhpcy5yZXNldCA9IGZhbHNlOwoJICAgICAgICBibG9ja3NbMF0gPSB0aGlzLmJsb2NrOwoJICAgICAgICBmb3IgKGkgPSAxOyBpIDwgYmxvY2tDb3VudCArIDE7ICsraSkgewoJICAgICAgICAgIGJsb2Nrc1tpXSA9IDA7CgkgICAgICAgIH0KCSAgICAgIH0KCSAgICAgIGlmIChub3RTdHJpbmcpIHsKCSAgICAgICAgZm9yIChpID0gdGhpcy5zdGFydDsgaW5kZXggPCBsZW5ndGggJiYgaSA8IGJ5dGVDb3VudDsgKytpbmRleCkgewoJICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9IG1lc3NhZ2VbaW5kZXhdIDw8IFNISUZUW2krKyAmIDNdOwoJICAgICAgICB9CgkgICAgICB9IGVsc2UgewoJICAgICAgICBmb3IgKGkgPSB0aGlzLnN0YXJ0OyBpbmRleCA8IGxlbmd0aCAmJiBpIDwgYnl0ZUNvdW50OyArK2luZGV4KSB7CgkgICAgICAgICAgY29kZSA9IG1lc3NhZ2UuY2hhckNvZGVBdChpbmRleCk7CgkgICAgICAgICAgaWYgKGNvZGUgPCAweDgwKSB7CgkgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSBjb2RlIDw8IFNISUZUW2krKyAmIDNdOwoJICAgICAgICAgIH0gZWxzZSBpZiAoY29kZSA8IDB4ODAwKSB7CgkgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHhjMCB8IChjb2RlID4+IDYpKSA8PCBTSElGVFtpKysgJiAzXTsKCSAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKGNvZGUgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107CgkgICAgICAgICAgfSBlbHNlIGlmIChjb2RlIDwgMHhkODAwIHx8IGNvZGUgPj0gMHhlMDAwKSB7CgkgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHhlMCB8IChjb2RlID4+IDEyKSkgPDwgU0hJRlRbaSsrICYgM107CgkgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8ICgoY29kZSA+PiA2KSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTsKCSAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKGNvZGUgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107CgkgICAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICAgIGNvZGUgPSAweDEwMDAwICsgKCgoY29kZSAmIDB4M2ZmKSA8PCAxMCkgfCAobWVzc2FnZS5jaGFyQ29kZUF0KCsraW5kZXgpICYgMHgzZmYpKTsKCSAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweGYwIHwgKGNvZGUgPj4gMTgpKSA8PCBTSElGVFtpKysgJiAzXTsKCSAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKChjb2RlID4+IDEyKSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTsKCSAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKChjb2RlID4+IDYpICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdOwoJICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCAoY29kZSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTsKCSAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgIH0KCSAgICAgIHRoaXMubGFzdEJ5dGVJbmRleCA9IGk7CgkgICAgICBpZiAoaSA+PSBieXRlQ291bnQpIHsKCSAgICAgICAgdGhpcy5zdGFydCA9IGkgLSBieXRlQ291bnQ7CgkgICAgICAgIHRoaXMuYmxvY2sgPSBibG9ja3NbYmxvY2tDb3VudF07CgkgICAgICAgIGZvciAoaSA9IDA7IGkgPCBibG9ja0NvdW50OyArK2kpIHsKCSAgICAgICAgICBzW2ldIF49IGJsb2Nrc1tpXTsKCSAgICAgICAgfQoJICAgICAgICBmKHMpOwoJICAgICAgICB0aGlzLnJlc2V0ID0gdHJ1ZTsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHRoaXMuc3RhcnQgPSBpOwoJICAgICAgfQoJICAgIH0KCSAgICByZXR1cm4gdGhpczsKCSAgfTsKCgkgIEtlY2Nhay5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKHgsIHJpZ2h0KSB7CgkgICAgdmFyIG8gPSB4ICYgMjU1LCBuID0gMTsKCSAgICB2YXIgYnl0ZXMgPSBbb107CgkgICAgeCA9IHggPj4gODsKCSAgICBvID0geCAmIDI1NTsKCSAgICB3aGlsZSAobyA+IDApIHsKCSAgICAgIGJ5dGVzLnVuc2hpZnQobyk7CgkgICAgICB4ID0geCA+PiA4OwoJICAgICAgbyA9IHggJiAyNTU7CgkgICAgICArK247CgkgICAgfQoJICAgIGlmIChyaWdodCkgewoJICAgICAgYnl0ZXMucHVzaChuKTsKCSAgICB9IGVsc2UgewoJICAgICAgYnl0ZXMudW5zaGlmdChuKTsKCSAgICB9CgkgICAgdGhpcy51cGRhdGUoYnl0ZXMpOwoJICAgIHJldHVybiBieXRlcy5sZW5ndGg7CgkgIH07CgoJICBLZWNjYWsucHJvdG90eXBlLmVuY29kZVN0cmluZyA9IGZ1bmN0aW9uIChzdHIpIHsKCSAgICB2YXIgbm90U3RyaW5nLCB0eXBlID0gdHlwZW9mIHN0cjsKCSAgICBpZiAodHlwZSAhPT0gJ3N0cmluZycpIHsKCSAgICAgIGlmICh0eXBlID09PSAnb2JqZWN0JykgewoJICAgICAgICBpZiAoc3RyID09PSBudWxsKSB7CgkgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOUFVUX0VSUk9SKTsKCSAgICAgICAgfSBlbHNlIGlmIChBUlJBWV9CVUZGRVIgJiYgc3RyLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcikgewoJICAgICAgICAgIHN0ciA9IG5ldyBVaW50OEFycmF5KHN0cik7CgkgICAgICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoc3RyKSkgewoJICAgICAgICAgIGlmICghQVJSQVlfQlVGRkVSIHx8ICFBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOUFVUX0VSUk9SKTsKCSAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHRocm93IG5ldyBFcnJvcihJTlBVVF9FUlJPUik7CgkgICAgICB9CgkgICAgICBub3RTdHJpbmcgPSB0cnVlOwoJICAgIH0KCSAgICB2YXIgYnl0ZXMgPSAwLCBsZW5ndGggPSBzdHIubGVuZ3RoOwoJICAgIGlmIChub3RTdHJpbmcpIHsKCSAgICAgIGJ5dGVzID0gbGVuZ3RoOwoJICAgIH0gZWxzZSB7CgkgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkgewoJICAgICAgICB2YXIgY29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpOwoJICAgICAgICBpZiAoY29kZSA8IDB4ODApIHsKCSAgICAgICAgICBieXRlcyArPSAxOwoJICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweDgwMCkgewoJICAgICAgICAgIGJ5dGVzICs9IDI7CgkgICAgICAgIH0gZWxzZSBpZiAoY29kZSA8IDB4ZDgwMCB8fCBjb2RlID49IDB4ZTAwMCkgewoJICAgICAgICAgIGJ5dGVzICs9IDM7CgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgY29kZSA9IDB4MTAwMDAgKyAoKChjb2RlICYgMHgzZmYpIDw8IDEwKSB8IChzdHIuY2hhckNvZGVBdCgrK2kpICYgMHgzZmYpKTsKCSAgICAgICAgICBieXRlcyArPSA0OwoJICAgICAgICB9CgkgICAgICB9CgkgICAgfQoJICAgIGJ5dGVzICs9IHRoaXMuZW5jb2RlKGJ5dGVzICogOCk7CgkgICAgdGhpcy51cGRhdGUoc3RyKTsKCSAgICByZXR1cm4gYnl0ZXM7CgkgIH07CgoJICBLZWNjYWsucHJvdG90eXBlLmJ5dGVwYWQgPSBmdW5jdGlvbiAoc3RycywgdykgewoJICAgIHZhciBieXRlcyA9IHRoaXMuZW5jb2RlKHcpOwoJICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3Rycy5sZW5ndGg7ICsraSkgewoJICAgICAgYnl0ZXMgKz0gdGhpcy5lbmNvZGVTdHJpbmcoc3Ryc1tpXSk7CgkgICAgfQoJICAgIHZhciBwYWRkaW5nQnl0ZXMgPSB3IC0gYnl0ZXMgJSB3OwoJICAgIHZhciB6ZXJvcyA9IFtdOwoJICAgIHplcm9zLmxlbmd0aCA9IHBhZGRpbmdCeXRlczsKCSAgICB0aGlzLnVwZGF0ZSh6ZXJvcyk7CgkgICAgcmV0dXJuIHRoaXM7CgkgIH07CgoJICBLZWNjYWsucHJvdG90eXBlLmZpbmFsaXplID0gZnVuY3Rpb24gKCkgewoJICAgIGlmICh0aGlzLmZpbmFsaXplZCkgewoJICAgICAgcmV0dXJuOwoJICAgIH0KCSAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7CgkgICAgdmFyIGJsb2NrcyA9IHRoaXMuYmxvY2tzLCBpID0gdGhpcy5sYXN0Qnl0ZUluZGV4LCBibG9ja0NvdW50ID0gdGhpcy5ibG9ja0NvdW50LCBzID0gdGhpcy5zOwoJICAgIGJsb2Nrc1tpID4+IDJdIHw9IHRoaXMucGFkZGluZ1tpICYgM107CgkgICAgaWYgKHRoaXMubGFzdEJ5dGVJbmRleCA9PT0gdGhpcy5ieXRlQ291bnQpIHsKCSAgICAgIGJsb2Nrc1swXSA9IGJsb2Nrc1tibG9ja0NvdW50XTsKCSAgICAgIGZvciAoaSA9IDE7IGkgPCBibG9ja0NvdW50ICsgMTsgKytpKSB7CgkgICAgICAgIGJsb2Nrc1tpXSA9IDA7CgkgICAgICB9CgkgICAgfQoJICAgIGJsb2Nrc1tibG9ja0NvdW50IC0gMV0gfD0gMHg4MDAwMDAwMDsKCSAgICBmb3IgKGkgPSAwOyBpIDwgYmxvY2tDb3VudDsgKytpKSB7CgkgICAgICBzW2ldIF49IGJsb2Nrc1tpXTsKCSAgICB9CgkgICAgZihzKTsKCSAgfTsKCgkgIEtlY2Nhay5wcm90b3R5cGUudG9TdHJpbmcgPSBLZWNjYWsucHJvdG90eXBlLmhleCA9IGZ1bmN0aW9uICgpIHsKCSAgICB0aGlzLmZpbmFsaXplKCk7CgoJICAgIHZhciBibG9ja0NvdW50ID0gdGhpcy5ibG9ja0NvdW50LCBzID0gdGhpcy5zLCBvdXRwdXRCbG9ja3MgPSB0aGlzLm91dHB1dEJsb2NrcywKCSAgICAgIGV4dHJhQnl0ZXMgPSB0aGlzLmV4dHJhQnl0ZXMsIGkgPSAwLCBqID0gMDsKCSAgICB2YXIgaGV4ID0gJycsIGJsb2NrOwoJICAgIHdoaWxlIChqIDwgb3V0cHV0QmxvY2tzKSB7CgkgICAgICBmb3IgKGkgPSAwOyBpIDwgYmxvY2tDb3VudCAmJiBqIDwgb3V0cHV0QmxvY2tzOyArK2ksICsraikgewoJICAgICAgICBibG9jayA9IHNbaV07CgkgICAgICAgIGhleCArPSBIRVhfQ0hBUlNbKGJsb2NrID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbYmxvY2sgJiAweDBGXSArCgkgICAgICAgICAgSEVYX0NIQVJTWyhibG9jayA+PiAxMikgJiAweDBGXSArIEhFWF9DSEFSU1soYmxvY2sgPj4gOCkgJiAweDBGXSArCgkgICAgICAgICAgSEVYX0NIQVJTWyhibG9jayA+PiAyMCkgJiAweDBGXSArIEhFWF9DSEFSU1soYmxvY2sgPj4gMTYpICYgMHgwRl0gKwoJICAgICAgICAgIEhFWF9DSEFSU1soYmxvY2sgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGJsb2NrID4+IDI0KSAmIDB4MEZdOwoJICAgICAgfQoJICAgICAgaWYgKGogJSBibG9ja0NvdW50ID09PSAwKSB7CgkgICAgICAgIGYocyk7CgkgICAgICAgIGkgPSAwOwoJICAgICAgfQoJICAgIH0KCSAgICBpZiAoZXh0cmFCeXRlcykgewoJICAgICAgYmxvY2sgPSBzW2ldOwoJICAgICAgaGV4ICs9IEhFWF9DSEFSU1soYmxvY2sgPj4gNCkgJiAweDBGXSArIEhFWF9DSEFSU1tibG9jayAmIDB4MEZdOwoJICAgICAgaWYgKGV4dHJhQnl0ZXMgPiAxKSB7CgkgICAgICAgIGhleCArPSBIRVhfQ0hBUlNbKGJsb2NrID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhibG9jayA+PiA4KSAmIDB4MEZdOwoJICAgICAgfQoJICAgICAgaWYgKGV4dHJhQnl0ZXMgPiAyKSB7CgkgICAgICAgIGhleCArPSBIRVhfQ0hBUlNbKGJsb2NrID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhibG9jayA+PiAxNikgJiAweDBGXTsKCSAgICAgIH0KCSAgICB9CgkgICAgcmV0dXJuIGhleDsKCSAgfTsKCgkgIEtlY2Nhay5wcm90b3R5cGUuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgdGhpcy5maW5hbGl6ZSgpOwoKCSAgICB2YXIgYmxvY2tDb3VudCA9IHRoaXMuYmxvY2tDb3VudCwgcyA9IHRoaXMucywgb3V0cHV0QmxvY2tzID0gdGhpcy5vdXRwdXRCbG9ja3MsCgkgICAgICBleHRyYUJ5dGVzID0gdGhpcy5leHRyYUJ5dGVzLCBpID0gMCwgaiA9IDA7CgkgICAgdmFyIGJ5dGVzID0gdGhpcy5vdXRwdXRCaXRzID4+IDM7CgkgICAgdmFyIGJ1ZmZlcjsKCSAgICBpZiAoZXh0cmFCeXRlcykgewoJICAgICAgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKChvdXRwdXRCbG9ja3MgKyAxKSA8PCAyKTsKCSAgICB9IGVsc2UgewoJICAgICAgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ5dGVzKTsKCSAgICB9CgkgICAgdmFyIGFycmF5ID0gbmV3IFVpbnQzMkFycmF5KGJ1ZmZlcik7CgkgICAgd2hpbGUgKGogPCBvdXRwdXRCbG9ja3MpIHsKCSAgICAgIGZvciAoaSA9IDA7IGkgPCBibG9ja0NvdW50ICYmIGogPCBvdXRwdXRCbG9ja3M7ICsraSwgKytqKSB7CgkgICAgICAgIGFycmF5W2pdID0gc1tpXTsKCSAgICAgIH0KCSAgICAgIGlmIChqICUgYmxvY2tDb3VudCA9PT0gMCkgewoJICAgICAgICBmKHMpOwoJICAgICAgfQoJICAgIH0KCSAgICBpZiAoZXh0cmFCeXRlcykgewoJICAgICAgYXJyYXlbaV0gPSBzW2ldOwoJICAgICAgYnVmZmVyID0gYnVmZmVyLnNsaWNlKDAsIGJ5dGVzKTsKCSAgICB9CgkgICAgcmV0dXJuIGJ1ZmZlcjsKCSAgfTsKCgkgIEtlY2Nhay5wcm90b3R5cGUuYnVmZmVyID0gS2VjY2FrLnByb3RvdHlwZS5hcnJheUJ1ZmZlcjsKCgkgIEtlY2Nhay5wcm90b3R5cGUuZGlnZXN0ID0gS2VjY2FrLnByb3RvdHlwZS5hcnJheSA9IGZ1bmN0aW9uICgpIHsKCSAgICB0aGlzLmZpbmFsaXplKCk7CgoJICAgIHZhciBibG9ja0NvdW50ID0gdGhpcy5ibG9ja0NvdW50LCBzID0gdGhpcy5zLCBvdXRwdXRCbG9ja3MgPSB0aGlzLm91dHB1dEJsb2NrcywKCSAgICAgIGV4dHJhQnl0ZXMgPSB0aGlzLmV4dHJhQnl0ZXMsIGkgPSAwLCBqID0gMDsKCSAgICB2YXIgYXJyYXkgPSBbXSwgb2Zmc2V0LCBibG9jazsKCSAgICB3aGlsZSAoaiA8IG91dHB1dEJsb2NrcykgewoJICAgICAgZm9yIChpID0gMDsgaSA8IGJsb2NrQ291bnQgJiYgaiA8IG91dHB1dEJsb2NrczsgKytpLCArK2opIHsKCSAgICAgICAgb2Zmc2V0ID0gaiA8PCAyOwoJICAgICAgICBibG9jayA9IHNbaV07CgkgICAgICAgIGFycmF5W29mZnNldF0gPSBibG9jayAmIDB4RkY7CgkgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gKGJsb2NrID4+IDgpICYgMHhGRjsKCSAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMl0gPSAoYmxvY2sgPj4gMTYpICYgMHhGRjsKCSAgICAgICAgYXJyYXlbb2Zmc2V0ICsgM10gPSAoYmxvY2sgPj4gMjQpICYgMHhGRjsKCSAgICAgIH0KCSAgICAgIGlmIChqICUgYmxvY2tDb3VudCA9PT0gMCkgewoJICAgICAgICBmKHMpOwoJICAgICAgfQoJICAgIH0KCSAgICBpZiAoZXh0cmFCeXRlcykgewoJICAgICAgb2Zmc2V0ID0gaiA8PCAyOwoJICAgICAgYmxvY2sgPSBzW2ldOwoJICAgICAgYXJyYXlbb2Zmc2V0XSA9IGJsb2NrICYgMHhGRjsKCSAgICAgIGlmIChleHRyYUJ5dGVzID4gMSkgewoJICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IChibG9jayA+PiA4KSAmIDB4RkY7CgkgICAgICB9CgkgICAgICBpZiAoZXh0cmFCeXRlcyA+IDIpIHsKCSAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMl0gPSAoYmxvY2sgPj4gMTYpICYgMHhGRjsKCSAgICAgIH0KCSAgICB9CgkgICAgcmV0dXJuIGFycmF5OwoJICB9OwoKCSAgZnVuY3Rpb24gS21hYyhiaXRzLCBwYWRkaW5nLCBvdXRwdXRCaXRzKSB7CgkgICAgS2VjY2FrLmNhbGwodGhpcywgYml0cywgcGFkZGluZywgb3V0cHV0Qml0cyk7CgkgIH0KCgkgIEttYWMucHJvdG90eXBlID0gbmV3IEtlY2NhaygpOwoKCSAgS21hYy5wcm90b3R5cGUuZmluYWxpemUgPSBmdW5jdGlvbiAoKSB7CgkgICAgdGhpcy5lbmNvZGUodGhpcy5vdXRwdXRCaXRzLCB0cnVlKTsKCSAgICByZXR1cm4gS2VjY2FrLnByb3RvdHlwZS5maW5hbGl6ZS5jYWxsKHRoaXMpOwoJICB9OwoKCSAgdmFyIGYgPSBmdW5jdGlvbiAocykgewoJICAgIHZhciBoLCBsLCBuLCBjMCwgYzEsIGMyLCBjMywgYzQsIGM1LCBjNiwgYzcsIGM4LCBjOSwKCSAgICAgIGIwLCBiMSwgYjIsIGIzLCBiNCwgYjUsIGI2LCBiNywgYjgsIGI5LCBiMTAsIGIxMSwgYjEyLCBiMTMsIGIxNCwgYjE1LCBiMTYsIGIxNywKCSAgICAgIGIxOCwgYjE5LCBiMjAsIGIyMSwgYjIyLCBiMjMsIGIyNCwgYjI1LCBiMjYsIGIyNywgYjI4LCBiMjksIGIzMCwgYjMxLCBiMzIsIGIzMywKCSAgICAgIGIzNCwgYjM1LCBiMzYsIGIzNywgYjM4LCBiMzksIGI0MCwgYjQxLCBiNDIsIGI0MywgYjQ0LCBiNDUsIGI0NiwgYjQ3LCBiNDgsIGI0OTsKCSAgICBmb3IgKG4gPSAwOyBuIDwgNDg7IG4gKz0gMikgewoJICAgICAgYzAgPSBzWzBdIF4gc1sxMF0gXiBzWzIwXSBeIHNbMzBdIF4gc1s0MF07CgkgICAgICBjMSA9IHNbMV0gXiBzWzExXSBeIHNbMjFdIF4gc1szMV0gXiBzWzQxXTsKCSAgICAgIGMyID0gc1syXSBeIHNbMTJdIF4gc1syMl0gXiBzWzMyXSBeIHNbNDJdOwoJICAgICAgYzMgPSBzWzNdIF4gc1sxM10gXiBzWzIzXSBeIHNbMzNdIF4gc1s0M107CgkgICAgICBjNCA9IHNbNF0gXiBzWzE0XSBeIHNbMjRdIF4gc1szNF0gXiBzWzQ0XTsKCSAgICAgIGM1ID0gc1s1XSBeIHNbMTVdIF4gc1syNV0gXiBzWzM1XSBeIHNbNDVdOwoJICAgICAgYzYgPSBzWzZdIF4gc1sxNl0gXiBzWzI2XSBeIHNbMzZdIF4gc1s0Nl07CgkgICAgICBjNyA9IHNbN10gXiBzWzE3XSBeIHNbMjddIF4gc1szN10gXiBzWzQ3XTsKCSAgICAgIGM4ID0gc1s4XSBeIHNbMThdIF4gc1syOF0gXiBzWzM4XSBeIHNbNDhdOwoJICAgICAgYzkgPSBzWzldIF4gc1sxOV0gXiBzWzI5XSBeIHNbMzldIF4gc1s0OV07CgoJICAgICAgaCA9IGM4IF4gKChjMiA8PCAxKSB8IChjMyA+Pj4gMzEpKTsKCSAgICAgIGwgPSBjOSBeICgoYzMgPDwgMSkgfCAoYzIgPj4+IDMxKSk7CgkgICAgICBzWzBdIF49IGg7CgkgICAgICBzWzFdIF49IGw7CgkgICAgICBzWzEwXSBePSBoOwoJICAgICAgc1sxMV0gXj0gbDsKCSAgICAgIHNbMjBdIF49IGg7CgkgICAgICBzWzIxXSBePSBsOwoJICAgICAgc1szMF0gXj0gaDsKCSAgICAgIHNbMzFdIF49IGw7CgkgICAgICBzWzQwXSBePSBoOwoJICAgICAgc1s0MV0gXj0gbDsKCSAgICAgIGggPSBjMCBeICgoYzQgPDwgMSkgfCAoYzUgPj4+IDMxKSk7CgkgICAgICBsID0gYzEgXiAoKGM1IDw8IDEpIHwgKGM0ID4+PiAzMSkpOwoJICAgICAgc1syXSBePSBoOwoJICAgICAgc1szXSBePSBsOwoJICAgICAgc1sxMl0gXj0gaDsKCSAgICAgIHNbMTNdIF49IGw7CgkgICAgICBzWzIyXSBePSBoOwoJICAgICAgc1syM10gXj0gbDsKCSAgICAgIHNbMzJdIF49IGg7CgkgICAgICBzWzMzXSBePSBsOwoJICAgICAgc1s0Ml0gXj0gaDsKCSAgICAgIHNbNDNdIF49IGw7CgkgICAgICBoID0gYzIgXiAoKGM2IDw8IDEpIHwgKGM3ID4+PiAzMSkpOwoJICAgICAgbCA9IGMzIF4gKChjNyA8PCAxKSB8IChjNiA+Pj4gMzEpKTsKCSAgICAgIHNbNF0gXj0gaDsKCSAgICAgIHNbNV0gXj0gbDsKCSAgICAgIHNbMTRdIF49IGg7CgkgICAgICBzWzE1XSBePSBsOwoJICAgICAgc1syNF0gXj0gaDsKCSAgICAgIHNbMjVdIF49IGw7CgkgICAgICBzWzM0XSBePSBoOwoJICAgICAgc1szNV0gXj0gbDsKCSAgICAgIHNbNDRdIF49IGg7CgkgICAgICBzWzQ1XSBePSBsOwoJICAgICAgaCA9IGM0IF4gKChjOCA8PCAxKSB8IChjOSA+Pj4gMzEpKTsKCSAgICAgIGwgPSBjNSBeICgoYzkgPDwgMSkgfCAoYzggPj4+IDMxKSk7CgkgICAgICBzWzZdIF49IGg7CgkgICAgICBzWzddIF49IGw7CgkgICAgICBzWzE2XSBePSBoOwoJICAgICAgc1sxN10gXj0gbDsKCSAgICAgIHNbMjZdIF49IGg7CgkgICAgICBzWzI3XSBePSBsOwoJICAgICAgc1szNl0gXj0gaDsKCSAgICAgIHNbMzddIF49IGw7CgkgICAgICBzWzQ2XSBePSBoOwoJICAgICAgc1s0N10gXj0gbDsKCSAgICAgIGggPSBjNiBeICgoYzAgPDwgMSkgfCAoYzEgPj4+IDMxKSk7CgkgICAgICBsID0gYzcgXiAoKGMxIDw8IDEpIHwgKGMwID4+PiAzMSkpOwoJICAgICAgc1s4XSBePSBoOwoJICAgICAgc1s5XSBePSBsOwoJICAgICAgc1sxOF0gXj0gaDsKCSAgICAgIHNbMTldIF49IGw7CgkgICAgICBzWzI4XSBePSBoOwoJICAgICAgc1syOV0gXj0gbDsKCSAgICAgIHNbMzhdIF49IGg7CgkgICAgICBzWzM5XSBePSBsOwoJICAgICAgc1s0OF0gXj0gaDsKCSAgICAgIHNbNDldIF49IGw7CgoJICAgICAgYjAgPSBzWzBdOwoJICAgICAgYjEgPSBzWzFdOwoJICAgICAgYjMyID0gKHNbMTFdIDw8IDQpIHwgKHNbMTBdID4+PiAyOCk7CgkgICAgICBiMzMgPSAoc1sxMF0gPDwgNCkgfCAoc1sxMV0gPj4+IDI4KTsKCSAgICAgIGIxNCA9IChzWzIwXSA8PCAzKSB8IChzWzIxXSA+Pj4gMjkpOwoJICAgICAgYjE1ID0gKHNbMjFdIDw8IDMpIHwgKHNbMjBdID4+PiAyOSk7CgkgICAgICBiNDYgPSAoc1szMV0gPDwgOSkgfCAoc1szMF0gPj4+IDIzKTsKCSAgICAgIGI0NyA9IChzWzMwXSA8PCA5KSB8IChzWzMxXSA+Pj4gMjMpOwoJICAgICAgYjI4ID0gKHNbNDBdIDw8IDE4KSB8IChzWzQxXSA+Pj4gMTQpOwoJICAgICAgYjI5ID0gKHNbNDFdIDw8IDE4KSB8IChzWzQwXSA+Pj4gMTQpOwoJICAgICAgYjIwID0gKHNbMl0gPDwgMSkgfCAoc1szXSA+Pj4gMzEpOwoJICAgICAgYjIxID0gKHNbM10gPDwgMSkgfCAoc1syXSA+Pj4gMzEpOwoJICAgICAgYjIgPSAoc1sxM10gPDwgMTIpIHwgKHNbMTJdID4+PiAyMCk7CgkgICAgICBiMyA9IChzWzEyXSA8PCAxMikgfCAoc1sxM10gPj4+IDIwKTsKCSAgICAgIGIzNCA9IChzWzIyXSA8PCAxMCkgfCAoc1syM10gPj4+IDIyKTsKCSAgICAgIGIzNSA9IChzWzIzXSA8PCAxMCkgfCAoc1syMl0gPj4+IDIyKTsKCSAgICAgIGIxNiA9IChzWzMzXSA8PCAxMykgfCAoc1szMl0gPj4+IDE5KTsKCSAgICAgIGIxNyA9IChzWzMyXSA8PCAxMykgfCAoc1szM10gPj4+IDE5KTsKCSAgICAgIGI0OCA9IChzWzQyXSA8PCAyKSB8IChzWzQzXSA+Pj4gMzApOwoJICAgICAgYjQ5ID0gKHNbNDNdIDw8IDIpIHwgKHNbNDJdID4+PiAzMCk7CgkgICAgICBiNDAgPSAoc1s1XSA8PCAzMCkgfCAoc1s0XSA+Pj4gMik7CgkgICAgICBiNDEgPSAoc1s0XSA8PCAzMCkgfCAoc1s1XSA+Pj4gMik7CgkgICAgICBiMjIgPSAoc1sxNF0gPDwgNikgfCAoc1sxNV0gPj4+IDI2KTsKCSAgICAgIGIyMyA9IChzWzE1XSA8PCA2KSB8IChzWzE0XSA+Pj4gMjYpOwoJICAgICAgYjQgPSAoc1syNV0gPDwgMTEpIHwgKHNbMjRdID4+PiAyMSk7CgkgICAgICBiNSA9IChzWzI0XSA8PCAxMSkgfCAoc1syNV0gPj4+IDIxKTsKCSAgICAgIGIzNiA9IChzWzM0XSA8PCAxNSkgfCAoc1szNV0gPj4+IDE3KTsKCSAgICAgIGIzNyA9IChzWzM1XSA8PCAxNSkgfCAoc1szNF0gPj4+IDE3KTsKCSAgICAgIGIxOCA9IChzWzQ1XSA8PCAyOSkgfCAoc1s0NF0gPj4+IDMpOwoJICAgICAgYjE5ID0gKHNbNDRdIDw8IDI5KSB8IChzWzQ1XSA+Pj4gMyk7CgkgICAgICBiMTAgPSAoc1s2XSA8PCAyOCkgfCAoc1s3XSA+Pj4gNCk7CgkgICAgICBiMTEgPSAoc1s3XSA8PCAyOCkgfCAoc1s2XSA+Pj4gNCk7CgkgICAgICBiNDIgPSAoc1sxN10gPDwgMjMpIHwgKHNbMTZdID4+PiA5KTsKCSAgICAgIGI0MyA9IChzWzE2XSA8PCAyMykgfCAoc1sxN10gPj4+IDkpOwoJICAgICAgYjI0ID0gKHNbMjZdIDw8IDI1KSB8IChzWzI3XSA+Pj4gNyk7CgkgICAgICBiMjUgPSAoc1syN10gPDwgMjUpIHwgKHNbMjZdID4+PiA3KTsKCSAgICAgIGI2ID0gKHNbMzZdIDw8IDIxKSB8IChzWzM3XSA+Pj4gMTEpOwoJICAgICAgYjcgPSAoc1szN10gPDwgMjEpIHwgKHNbMzZdID4+PiAxMSk7CgkgICAgICBiMzggPSAoc1s0N10gPDwgMjQpIHwgKHNbNDZdID4+PiA4KTsKCSAgICAgIGIzOSA9IChzWzQ2XSA8PCAyNCkgfCAoc1s0N10gPj4+IDgpOwoJICAgICAgYjMwID0gKHNbOF0gPDwgMjcpIHwgKHNbOV0gPj4+IDUpOwoJICAgICAgYjMxID0gKHNbOV0gPDwgMjcpIHwgKHNbOF0gPj4+IDUpOwoJICAgICAgYjEyID0gKHNbMThdIDw8IDIwKSB8IChzWzE5XSA+Pj4gMTIpOwoJICAgICAgYjEzID0gKHNbMTldIDw8IDIwKSB8IChzWzE4XSA+Pj4gMTIpOwoJICAgICAgYjQ0ID0gKHNbMjldIDw8IDcpIHwgKHNbMjhdID4+PiAyNSk7CgkgICAgICBiNDUgPSAoc1syOF0gPDwgNykgfCAoc1syOV0gPj4+IDI1KTsKCSAgICAgIGIyNiA9IChzWzM4XSA8PCA4KSB8IChzWzM5XSA+Pj4gMjQpOwoJICAgICAgYjI3ID0gKHNbMzldIDw8IDgpIHwgKHNbMzhdID4+PiAyNCk7CgkgICAgICBiOCA9IChzWzQ4XSA8PCAxNCkgfCAoc1s0OV0gPj4+IDE4KTsKCSAgICAgIGI5ID0gKHNbNDldIDw8IDE0KSB8IChzWzQ4XSA+Pj4gMTgpOwoKCSAgICAgIHNbMF0gPSBiMCBeICh+YjIgJiBiNCk7CgkgICAgICBzWzFdID0gYjEgXiAofmIzICYgYjUpOwoJICAgICAgc1sxMF0gPSBiMTAgXiAofmIxMiAmIGIxNCk7CgkgICAgICBzWzExXSA9IGIxMSBeICh+YjEzICYgYjE1KTsKCSAgICAgIHNbMjBdID0gYjIwIF4gKH5iMjIgJiBiMjQpOwoJICAgICAgc1syMV0gPSBiMjEgXiAofmIyMyAmIGIyNSk7CgkgICAgICBzWzMwXSA9IGIzMCBeICh+YjMyICYgYjM0KTsKCSAgICAgIHNbMzFdID0gYjMxIF4gKH5iMzMgJiBiMzUpOwoJICAgICAgc1s0MF0gPSBiNDAgXiAofmI0MiAmIGI0NCk7CgkgICAgICBzWzQxXSA9IGI0MSBeICh+YjQzICYgYjQ1KTsKCSAgICAgIHNbMl0gPSBiMiBeICh+YjQgJiBiNik7CgkgICAgICBzWzNdID0gYjMgXiAofmI1ICYgYjcpOwoJICAgICAgc1sxMl0gPSBiMTIgXiAofmIxNCAmIGIxNik7CgkgICAgICBzWzEzXSA9IGIxMyBeICh+YjE1ICYgYjE3KTsKCSAgICAgIHNbMjJdID0gYjIyIF4gKH5iMjQgJiBiMjYpOwoJICAgICAgc1syM10gPSBiMjMgXiAofmIyNSAmIGIyNyk7CgkgICAgICBzWzMyXSA9IGIzMiBeICh+YjM0ICYgYjM2KTsKCSAgICAgIHNbMzNdID0gYjMzIF4gKH5iMzUgJiBiMzcpOwoJICAgICAgc1s0Ml0gPSBiNDIgXiAofmI0NCAmIGI0Nik7CgkgICAgICBzWzQzXSA9IGI0MyBeICh+YjQ1ICYgYjQ3KTsKCSAgICAgIHNbNF0gPSBiNCBeICh+YjYgJiBiOCk7CgkgICAgICBzWzVdID0gYjUgXiAofmI3ICYgYjkpOwoJICAgICAgc1sxNF0gPSBiMTQgXiAofmIxNiAmIGIxOCk7CgkgICAgICBzWzE1XSA9IGIxNSBeICh+YjE3ICYgYjE5KTsKCSAgICAgIHNbMjRdID0gYjI0IF4gKH5iMjYgJiBiMjgpOwoJICAgICAgc1syNV0gPSBiMjUgXiAofmIyNyAmIGIyOSk7CgkgICAgICBzWzM0XSA9IGIzNCBeICh+YjM2ICYgYjM4KTsKCSAgICAgIHNbMzVdID0gYjM1IF4gKH5iMzcgJiBiMzkpOwoJICAgICAgc1s0NF0gPSBiNDQgXiAofmI0NiAmIGI0OCk7CgkgICAgICBzWzQ1XSA9IGI0NSBeICh+YjQ3ICYgYjQ5KTsKCSAgICAgIHNbNl0gPSBiNiBeICh+YjggJiBiMCk7CgkgICAgICBzWzddID0gYjcgXiAofmI5ICYgYjEpOwoJICAgICAgc1sxNl0gPSBiMTYgXiAofmIxOCAmIGIxMCk7CgkgICAgICBzWzE3XSA9IGIxNyBeICh+YjE5ICYgYjExKTsKCSAgICAgIHNbMjZdID0gYjI2IF4gKH5iMjggJiBiMjApOwoJICAgICAgc1syN10gPSBiMjcgXiAofmIyOSAmIGIyMSk7CgkgICAgICBzWzM2XSA9IGIzNiBeICh+YjM4ICYgYjMwKTsKCSAgICAgIHNbMzddID0gYjM3IF4gKH5iMzkgJiBiMzEpOwoJICAgICAgc1s0Nl0gPSBiNDYgXiAofmI0OCAmIGI0MCk7CgkgICAgICBzWzQ3XSA9IGI0NyBeICh+YjQ5ICYgYjQxKTsKCSAgICAgIHNbOF0gPSBiOCBeICh+YjAgJiBiMik7CgkgICAgICBzWzldID0gYjkgXiAofmIxICYgYjMpOwoJICAgICAgc1sxOF0gPSBiMTggXiAofmIxMCAmIGIxMik7CgkgICAgICBzWzE5XSA9IGIxOSBeICh+YjExICYgYjEzKTsKCSAgICAgIHNbMjhdID0gYjI4IF4gKH5iMjAgJiBiMjIpOwoJICAgICAgc1syOV0gPSBiMjkgXiAofmIyMSAmIGIyMyk7CgkgICAgICBzWzM4XSA9IGIzOCBeICh+YjMwICYgYjMyKTsKCSAgICAgIHNbMzldID0gYjM5IF4gKH5iMzEgJiBiMzMpOwoJICAgICAgc1s0OF0gPSBiNDggXiAofmI0MCAmIGI0Mik7CgkgICAgICBzWzQ5XSA9IGI0OSBeICh+YjQxICYgYjQzKTsKCgkgICAgICBzWzBdIF49IFJDW25dOwoJICAgICAgc1sxXSBePSBSQ1tuICsgMV07CgkgICAgfQoJICB9OwoKCSAgaWYgKENPTU1PTl9KUykgewoJICAgIG1vZHVsZS5leHBvcnRzID0gbWV0aG9kczsKCSAgfSBlbHNlIHsKCSAgICBmb3IgKGkgPSAwOyBpIDwgbWV0aG9kTmFtZXMubGVuZ3RoOyArK2kpIHsKCSAgICAgIHJvb3RbbWV0aG9kTmFtZXNbaV1dID0gbWV0aG9kc1ttZXRob2ROYW1lc1tpXV07CgkgICAgfQoJICB9Cgl9KSgpOwoJfShzaGEzKSk7CgoJdmFyIGFzc2VydCQyID0gYXNzZXJ0JDM7Cgl2YXIga2VjY2FrMjU2ID0gc2hhMy5leHBvcnRzLmtlY2NhazI1NjsKCglmdW5jdGlvbiBsaWJyYXJ5SGFzaFBsYWNlaG9sZGVyIChpbnB1dCkgewoJICByZXR1cm4gJyQnICsga2VjY2FrMjU2KGlucHV0KS5zbGljZSgwLCAzNCkgKyAnJCc7Cgl9CgoJdmFyIGxpbmtCeXRlY29kZSA9IGZ1bmN0aW9uIChieXRlY29kZSwgbGlicmFyaWVzKSB7CgkgIGFzc2VydCQyKHR5cGVvZiBieXRlY29kZSA9PT0gJ3N0cmluZycpOwoJICBhc3NlcnQkMih0eXBlb2YgbGlicmFyaWVzID09PSAnb2JqZWN0Jyk7CgkgIC8vIE5PVEU6IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBzdXBwb3J0IG9sZCBjb21waWxlciB3aGljaCBkaWRuJ3QgdXNlIGZpbGUgbmFtZXMKCSAgdmFyIGxpYnJhcmllc0NvbXBsZXRlID0ge307CgkgIGZvciAodmFyIGxpYnJhcnlOYW1lIGluIGxpYnJhcmllcykgewoJICAgIGlmICh0eXBlb2YgbGlicmFyaWVzW2xpYnJhcnlOYW1lXSA9PT0gJ29iamVjdCcpIHsKCSAgICAgIC8vIEFQSSBjb21wYXRpYmxlIHdpdGggdGhlIHN0YW5kYXJkIEpTT04gaS9vCgkgICAgICBmb3IgKHZhciBsaWIgaW4gbGlicmFyaWVzW2xpYnJhcnlOYW1lXSkgewoJICAgICAgICBsaWJyYXJpZXNDb21wbGV0ZVtsaWJdID0gbGlicmFyaWVzW2xpYnJhcnlOYW1lXVtsaWJdOwoJICAgICAgICBsaWJyYXJpZXNDb21wbGV0ZVtsaWJyYXJ5TmFtZSArICc6JyArIGxpYl0gPSBsaWJyYXJpZXNbbGlicmFyeU5hbWVdW2xpYl07CgkgICAgICB9CgkgICAgfSBlbHNlIHsKCSAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXRpYmxlIEFQSSBmb3IgZWFybHkgc29sYy1qcyB2ZXJzaW9ucwoJICAgICAgdmFyIHBhcnNlZCA9IGxpYnJhcnlOYW1lLm1hdGNoKC9eKFteOl0rKTooLispJC8pOwoJICAgICAgaWYgKHBhcnNlZCkgewoJICAgICAgICBsaWJyYXJpZXNDb21wbGV0ZVtwYXJzZWRbMl1dID0gbGlicmFyaWVzW2xpYnJhcnlOYW1lXTsKCSAgICAgIH0KCSAgICAgIGxpYnJhcmllc0NvbXBsZXRlW2xpYnJhcnlOYW1lXSA9IGxpYnJhcmllc1tsaWJyYXJ5TmFtZV07CgkgICAgfQoJICB9CgoJICBmb3IgKGxpYnJhcnlOYW1lIGluIGxpYnJhcmllc0NvbXBsZXRlKSB7CgkgICAgdmFyIGhleEFkZHJlc3MgPSBsaWJyYXJpZXNDb21wbGV0ZVtsaWJyYXJ5TmFtZV07CgkgICAgaWYgKGhleEFkZHJlc3Muc2xpY2UoMCwgMikgIT09ICcweCcgfHwgaGV4QWRkcmVzcy5sZW5ndGggPiA0MikgewoJICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFkZHJlc3Mgc3BlY2lmaWVkIGZvciAnICsgbGlicmFyeU5hbWUpOwoJICAgIH0KCSAgICAvLyByZW1vdmUgMHggcHJlZml4CgkgICAgaGV4QWRkcmVzcyA9IGhleEFkZHJlc3Muc2xpY2UoMik7CgkgICAgaGV4QWRkcmVzcyA9IEFycmF5KDQwIC0gaGV4QWRkcmVzcy5sZW5ndGggKyAxKS5qb2luKCcwJykgKyBoZXhBZGRyZXNzOwoKCSAgICAvLyBTdXBwb3J0IG9sZCAobGlicmFyeSBuYW1lKSBhbmQgbmV3IChoYXNoIG9mIGxpYnJhcnkgbmFtZSkKCSAgICAvLyBwbGFjZWhvbGRlcnMuCgkgICAgdmFyIHJlcGxhY2UgPSBmdW5jdGlvbiAobmFtZSkgewoJICAgICAgLy8gdHJ1bmNhdGUgdG8gMzcgY2hhcmFjdGVycwoJICAgICAgdmFyIHRydW5jYXRlZE5hbWUgPSBuYW1lLnNsaWNlKDAsIDM2KTsKCSAgICAgIHZhciBsaWJMYWJlbCA9ICdfXycgKyB0cnVuY2F0ZWROYW1lICsgQXJyYXkoMzcgLSB0cnVuY2F0ZWROYW1lLmxlbmd0aCkuam9pbignXycpICsgJ19fJzsKCSAgICAgIHdoaWxlIChieXRlY29kZS5pbmRleE9mKGxpYkxhYmVsKSA+PSAwKSB7CgkgICAgICAgIGJ5dGVjb2RlID0gYnl0ZWNvZGUucmVwbGFjZShsaWJMYWJlbCwgaGV4QWRkcmVzcyk7CgkgICAgICB9CgkgICAgfTsKCgkgICAgcmVwbGFjZShsaWJyYXJ5TmFtZSk7CgkgICAgcmVwbGFjZShsaWJyYXJ5SGFzaFBsYWNlaG9sZGVyKGxpYnJhcnlOYW1lKSk7CgkgIH0KCgkgIHJldHVybiBieXRlY29kZTsKCX07CgoJdmFyIGZpbmRMaW5rUmVmZXJlbmNlcyA9IGZ1bmN0aW9uIChieXRlY29kZSkgewoJICBhc3NlcnQkMih0eXBlb2YgYnl0ZWNvZGUgPT09ICdzdHJpbmcnKTsKCSAgLy8gZmluZCA0MCBieXRlcyBpbiB0aGUgcGF0dGVybiBvZiBfXy4uLjwzNiBkaWdpdHM+Li4uX18KCSAgLy8gZS5nLiBfX0xpYi5zb2w6TF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fCgkgIHZhciBsaW5rUmVmZXJlbmNlcyA9IHt9OwoJICB2YXIgb2Zmc2V0ID0gMDsKCSAgd2hpbGUgKHRydWUpIHsKCSAgICB2YXIgZm91bmQgPSBieXRlY29kZS5tYXRjaCgvX18oLnszNn0pX18vKTsKCSAgICBpZiAoIWZvdW5kKSB7CgkgICAgICBicmVhazsKCSAgICB9CgoJICAgIHZhciBzdGFydCA9IGZvdW5kLmluZGV4OwoJICAgIC8vIHRyaW0gdHJhaWxpbmcgdW5kZXJzY29yZXMKCSAgICAvLyBOT1RFOiB0aGlzIGhhcyBubyB3YXkgb2Yga25vd2luZyBpZiB0aGUgdHJhaWxpbmcgdW5kZXJzY29yZSB3YXMgcGFydCBvZiB0aGUgbmFtZQoJICAgIHZhciBsaWJyYXJ5TmFtZSA9IGZvdW5kWzFdLnJlcGxhY2UoL18rJC9nbSwgJycpOwoKCSAgICBpZiAoIWxpbmtSZWZlcmVuY2VzW2xpYnJhcnlOYW1lXSkgewoJICAgICAgbGlua1JlZmVyZW5jZXNbbGlicmFyeU5hbWVdID0gW107CgkgICAgfQoKCSAgICBsaW5rUmVmZXJlbmNlc1tsaWJyYXJ5TmFtZV0ucHVzaCh7CgkgICAgICAvLyBvZmZzZXRzIGFyZSBpbiBieXRlcyBpbiBiaW5hcnkgcmVwcmVzZW50YXRpb24gKGFuZCBub3QgaGV4KQoJICAgICAgc3RhcnQ6IChvZmZzZXQgKyBzdGFydCkgLyAyLAoJICAgICAgbGVuZ3RoOiAyMAoJICAgIH0pOwoKCSAgICBvZmZzZXQgKz0gc3RhcnQgKyAyMDsKCgkgICAgYnl0ZWNvZGUgPSBieXRlY29kZS5zbGljZShzdGFydCArIDIwKTsKCSAgfQoJICByZXR1cm4gbGlua1JlZmVyZW5jZXM7Cgl9OwoKCXZhciBsaW5rZXIkMSA9IHsKCSAgbGlua0J5dGVjb2RlOiBsaW5rQnl0ZWNvZGUsCgkgIGZpbmRMaW5rUmVmZXJlbmNlczogZmluZExpbmtSZWZlcmVuY2VzCgl9OwoKCXZhciBsaW5rZXIgPSBsaW5rZXIkMTsKCgkvLy8gVHJhbnNsYXRlIG9sZCBzdHlsZSB2ZXJzaW9uIG51bWJlcnMgdG8gc2VtdmVyLgoJLy8vIE9sZCBzdHlsZTogMC4zLjYtM2ZjNjhkYTUvUmVsZWFzZS1FbXNjcmlwdGVuL2NsYW5nCgkvLy8gICAgICAgICAgICAwLjMuNS0zNzE2OTBmMC9SZWxlYXNlLUVtc2NyaXB0ZW4vY2xhbmcvSW50ZXJwcmV0ZXIKCS8vLyAgICAgICAgICAgIDAuMy41LTAvUmVsZWFzZS1FbXNjcmlwdGVuL2NsYW5nL0ludGVycHJldGVyCgkvLy8gICAgICAgICAgICAwLjIuMC1lNzA5ODk1OC8uLUVtc2NyaXB0ZW4vY2xhbmcvaW50IGxpbmtlZCB0byBsaWJldGhlcmV1bS0xLjEuMS1iYmI4MGFiMC8uLUVtc2NyaXB0ZW4vY2xhbmcvaW50CgkvLy8gICAgICAgICAgICAwLjEuMy0wLy4tL2NsYW5nL2ludCBsaW5rZWQgdG8gbGliZXRoZXJldW0tMC45LjkyLTAvLi0vY2xhbmcvaW50CgkvLy8gICAgICAgICAgICAwLjEuMi01YzNiZmQ0YiovLi0vY2xhbmcvaW50CgkvLy8gICAgICAgICAgICAwLjEuMS02ZmY0Y2Q2Yi9SZWxXaXRoRGViSW5mby1FbXNjcmlwdGVuL2NsYW5nL2ludAoJLy8vIE5ldyBzdHlsZTogMC40LjUrY29tbWl0LmIzMTgzNjZlLkVtc2NyaXB0ZW4uY2xhbmcKCWZ1bmN0aW9uIHZlcnNpb25Ub1NlbXZlciAodmVyc2lvbikgewoJICAvLyBGSVhNRTogcGFyc2UgbW9yZSBkZXRhaWwsIGJ1dCB0aGlzIGlzIGEgZ29vZCBzdGFydAoJICB2YXIgcGFyc2VkID0gdmVyc2lvbi5tYXRjaCgvXihbMC05XStcLlswLTldK1wuWzAtOV0rKS0oWzAtOWEtZl17OH0pWy8qXS4qJC8pOwoJICBpZiAocGFyc2VkKSB7CgkgICAgcmV0dXJuIHBhcnNlZFsxXSArICcrY29tbWl0LicgKyBwYXJzZWRbMl07CgkgIH0KCSAgaWYgKHZlcnNpb24uaW5kZXhPZignMC4xLjMtMCcpICE9PSAtMSkgewoJICAgIHJldHVybiAnMC4xLjMnOwoJICB9CgkgIGlmICh2ZXJzaW9uLmluZGV4T2YoJzAuMy41LTAnKSAhPT0gLTEpIHsKCSAgICByZXR1cm4gJzAuMy41JzsKCSAgfQoJICAvLyBhc3N1bWUgaXQgaXMgYWxyZWFkeSBzZW12ZXIgY29tcGF0aWJsZQoJICByZXR1cm4gdmVyc2lvbjsKCX0KCglmdW5jdGlvbiB0cmFuc2xhdGVFcnJvcnMgKHJldCwgZXJyb3JzKSB7CgkgIGZvciAodmFyIGVycm9yIGluIGVycm9ycykgewoJICAgIHZhciB0eXBlID0gJ2Vycm9yJzsKCSAgICB2YXIgZXh0cmFjdFR5cGUgPSAvXiguKik6KFxkKyk6KFxkKyk6KC4qKTovOwoJICAgIGV4dHJhY3RUeXBlID0gZXh0cmFjdFR5cGUuZXhlYyhlcnJvcnNbZXJyb3JdKTsKCSAgICBpZiAoZXh0cmFjdFR5cGUpIHsKCSAgICAgIHR5cGUgPSBleHRyYWN0VHlwZVs0XS50cmltKCk7CgkgICAgfSBlbHNlIGlmIChlcnJvcnNbZXJyb3JdLmluZGV4T2YoJzogV2FybmluZzonKSkgewoJICAgICAgdHlwZSA9ICdXYXJuaW5nJzsKCSAgICB9IGVsc2UgaWYgKGVycm9yc1tlcnJvcl0uaW5kZXhPZignOiBFcnJvcjonKSkgewoJICAgICAgdHlwZSA9ICdFcnJvcic7CgkgICAgfQoJICAgIHJldC5wdXNoKHsKCSAgICAgIHR5cGU6IHR5cGUsCgkgICAgICBjb21wb25lbnQ6ICdnZW5lcmFsJywKCSAgICAgIHNldmVyaXR5OiAodHlwZSA9PT0gJ1dhcm5pbmcnKSA/ICd3YXJuaW5nJyA6ICdlcnJvcicsCgkgICAgICBtZXNzYWdlOiBlcnJvcnNbZXJyb3JdLAoJICAgICAgZm9ybWF0dGVkTWVzc2FnZTogZXJyb3JzW2Vycm9yXQoJICAgIH0pOwoJICB9Cgl9CgoJZnVuY3Rpb24gdHJhbnNsYXRlR2FzRXN0aW1hdGVzIChnYXNFc3RpbWF0ZXMpIHsKCSAgaWYgKGdhc0VzdGltYXRlcyA9PT0gbnVsbCkgewoJICAgIHJldHVybiAnaW5maW5pdGUnOwoJICB9CgoJICBpZiAodHlwZW9mIGdhc0VzdGltYXRlcyA9PT0gJ251bWJlcicpIHsKCSAgICByZXR1cm4gZ2FzRXN0aW1hdGVzLnRvU3RyaW5nKCk7CgkgIH0KCgkgIHZhciBnYXNFc3RpbWF0ZXNUcmFuc2xhdGVkID0ge307CgkgIGZvciAodmFyIGZ1bmMgaW4gZ2FzRXN0aW1hdGVzKSB7CgkgICAgZ2FzRXN0aW1hdGVzVHJhbnNsYXRlZFtmdW5jXSA9IHRyYW5zbGF0ZUdhc0VzdGltYXRlcyhnYXNFc3RpbWF0ZXNbZnVuY10pOwoJICB9CgkgIHJldHVybiBnYXNFc3RpbWF0ZXNUcmFuc2xhdGVkOwoJfQoKCWZ1bmN0aW9uIHRyYW5zbGF0ZUpzb25Db21waWxlck91dHB1dCAob3V0cHV0LCBsaWJyYXJpZXMpIHsKCSAgdmFyIHJldCA9IHt9OwoKCSAgcmV0WydlcnJvcnMnXSA9IFtdOwoJICB2YXIgZXJyb3JzOwoJICBpZiAob3V0cHV0WydlcnJvciddKSB7CgkgICAgZXJyb3JzID0gWyBvdXRwdXRbJ2Vycm9yJ10gXTsKCSAgfSBlbHNlIHsKCSAgICBlcnJvcnMgPSBvdXRwdXRbJ2Vycm9ycyddOwoJICB9CgkgIHRyYW5zbGF0ZUVycm9ycyhyZXRbJ2Vycm9ycyddLCBlcnJvcnMpOwoKCSAgcmV0Wydjb250cmFjdHMnXSA9IHt9OwoJICBmb3IgKHZhciBjb250cmFjdCBpbiBvdXRwdXRbJ2NvbnRyYWN0cyddKSB7CgkgICAgLy8gU3BsaXQgbmFtZSBmaXJzdCwgY2FuIGJlIGBjb250cmFjdGAsIGA6Y29udHJhY3RgIG9yIGBmaWxlbmFtZTpjb250cmFjdGAKCSAgICB2YXIgdG1wID0gY29udHJhY3QubWF0Y2goL14oKFteOl0qKTopPyhbXjpdKykkLyk7CgkgICAgaWYgKHRtcC5sZW5ndGggIT09IDQpIHsKCSAgICAgIC8vIEZvcmNlIGFib3J0CgkgICAgICByZXR1cm4gbnVsbDsKCSAgICB9CgkgICAgdmFyIGZpbGVOYW1lID0gdG1wWzJdOwoJICAgIGlmIChmaWxlTmFtZSA9PT0gdW5kZWZpbmVkKSB7CgkgICAgICAvLyB0aGlzIGlzIHRoZSBjYXNlIG9mIGBjb250cmFjdGAKCSAgICAgIGZpbGVOYW1lID0gJyc7CgkgICAgfQoJICAgIHZhciBjb250cmFjdE5hbWUgPSB0bXBbM107CgoJICAgIHZhciBjb250cmFjdElucHV0ID0gb3V0cHV0Wydjb250cmFjdHMnXVtjb250cmFjdF07CgoJICAgIHZhciBnYXNFc3RpbWF0ZXMgPSBjb250cmFjdElucHV0WydnYXNFc3RpbWF0ZXMnXTsKCSAgICB2YXIgdHJhbnNsYXRlZEdhc0VzdGltYXRlcyA9IHt9OwoKCSAgICBpZiAoZ2FzRXN0aW1hdGVzWydjcmVhdGlvbiddKSB7CgkgICAgICB0cmFuc2xhdGVkR2FzRXN0aW1hdGVzWydjcmVhdGlvbiddID0gewoJICAgICAgICAnY29kZURlcG9zaXRDb3N0JzogdHJhbnNsYXRlR2FzRXN0aW1hdGVzKGdhc0VzdGltYXRlc1snY3JlYXRpb24nXVsxXSksCgkgICAgICAgICdleGVjdXRpb25Db3N0JzogdHJhbnNsYXRlR2FzRXN0aW1hdGVzKGdhc0VzdGltYXRlc1snY3JlYXRpb24nXVswXSkKCSAgICAgIH07CgkgICAgfQoJICAgIGlmIChnYXNFc3RpbWF0ZXNbJ2ludGVybmFsJ10pIHsKCSAgICAgIHRyYW5zbGF0ZWRHYXNFc3RpbWF0ZXNbJ2ludGVybmFsJ10gPSB0cmFuc2xhdGVHYXNFc3RpbWF0ZXMoZ2FzRXN0aW1hdGVzWydpbnRlcm5hbCddKTsKCSAgICB9CgkgICAgaWYgKGdhc0VzdGltYXRlc1snZXh0ZXJuYWwnXSkgewoJICAgICAgdHJhbnNsYXRlZEdhc0VzdGltYXRlc1snZXh0ZXJuYWwnXSA9IHRyYW5zbGF0ZUdhc0VzdGltYXRlcyhnYXNFc3RpbWF0ZXNbJ2V4dGVybmFsJ10pOwoJICAgIH0KCgkgICAgdmFyIGNvbnRyYWN0T3V0cHV0ID0gewoJICAgICAgJ2FiaSc6IEpTT04ucGFyc2UoY29udHJhY3RJbnB1dFsnaW50ZXJmYWNlJ10pLAoJICAgICAgJ21ldGFkYXRhJzogY29udHJhY3RJbnB1dFsnbWV0YWRhdGEnXSwKCSAgICAgICdldm0nOiB7CgkgICAgICAgICdsZWdhY3lBc3NlbWJseSc6IGNvbnRyYWN0SW5wdXRbJ2Fzc2VtYmx5J10sCgkgICAgICAgICdieXRlY29kZSc6IHsKCSAgICAgICAgICAnb2JqZWN0JzogY29udHJhY3RJbnB1dFsnYnl0ZWNvZGUnXSAmJiBsaW5rZXIubGlua0J5dGVjb2RlKGNvbnRyYWN0SW5wdXRbJ2J5dGVjb2RlJ10sIGxpYnJhcmllcyB8fCB7fSksCgkgICAgICAgICAgJ29wY29kZXMnOiBjb250cmFjdElucHV0WydvcGNvZGVzJ10sCgkgICAgICAgICAgJ3NvdXJjZU1hcCc6IGNvbnRyYWN0SW5wdXRbJ3NyY21hcCddLAoJICAgICAgICAgICdsaW5rUmVmZXJlbmNlcyc6IGNvbnRyYWN0SW5wdXRbJ2J5dGVjb2RlJ10gJiYgbGlua2VyLmZpbmRMaW5rUmVmZXJlbmNlcyhjb250cmFjdElucHV0WydieXRlY29kZSddKQoJICAgICAgICB9LAoJICAgICAgICAnZGVwbG95ZWRCeXRlY29kZSc6IHsKCSAgICAgICAgICAnb2JqZWN0JzogY29udHJhY3RJbnB1dFsncnVudGltZUJ5dGVjb2RlJ10gJiYgbGlua2VyLmxpbmtCeXRlY29kZShjb250cmFjdElucHV0WydydW50aW1lQnl0ZWNvZGUnXSwgbGlicmFyaWVzIHx8IHt9KSwKCSAgICAgICAgICAnc291cmNlTWFwJzogY29udHJhY3RJbnB1dFsnc3JjbWFwUnVudGltZSddLAoJICAgICAgICAgICdsaW5rUmVmZXJlbmNlcyc6IGNvbnRyYWN0SW5wdXRbJ3J1bnRpbWVCeXRlY29kZSddICYmIGxpbmtlci5maW5kTGlua1JlZmVyZW5jZXMoY29udHJhY3RJbnB1dFsncnVudGltZUJ5dGVjb2RlJ10pCgkgICAgICAgIH0sCgkgICAgICAgICdtZXRob2RJZGVudGlmaWVycyc6IGNvbnRyYWN0SW5wdXRbJ2Z1bmN0aW9uSGFzaGVzJ10sCgkgICAgICAgICdnYXNFc3RpbWF0ZXMnOiB0cmFuc2xhdGVkR2FzRXN0aW1hdGVzCgkgICAgICB9CgkgICAgfTsKCgkgICAgaWYgKCFyZXRbJ2NvbnRyYWN0cyddW2ZpbGVOYW1lXSkgewoJICAgICAgcmV0Wydjb250cmFjdHMnXVtmaWxlTmFtZV0gPSB7fTsKCSAgICB9CgoJICAgIHJldFsnY29udHJhY3RzJ11bZmlsZU5hbWVdW2NvbnRyYWN0TmFtZV0gPSBjb250cmFjdE91dHB1dDsKCSAgfQoKCSAgdmFyIHNvdXJjZU1hcCA9IHt9OwoJICBmb3IgKHZhciBzb3VyY2VJZCBpbiBvdXRwdXRbJ3NvdXJjZUxpc3QnXSkgewoJICAgIHNvdXJjZU1hcFtvdXRwdXRbJ3NvdXJjZUxpc3QnXVtzb3VyY2VJZF1dID0gc291cmNlSWQ7CgkgIH0KCgkgIHJldFsnc291cmNlcyddID0ge307CgkgIGZvciAodmFyIHNvdXJjZSBpbiBvdXRwdXRbJ3NvdXJjZXMnXSkgewoJICAgIHJldFsnc291cmNlcyddW3NvdXJjZV0gPSB7CgkgICAgICBpZDogc291cmNlTWFwW3NvdXJjZV0sCgkgICAgICBsZWdhY3lBU1Q6IG91dHB1dFsnc291cmNlcyddW3NvdXJjZV0uQVNUCgkgICAgfTsKCSAgfQoKCSAgcmV0dXJuIHJldDsKCX0KCglmdW5jdGlvbiBlc2NhcGVTdHJpbmcgKHRleHQpIHsKCSAgcmV0dXJuIHRleHQKCSAgICAucmVwbGFjZSgvXG4vZywgJ1xcbicpCgkgICAgLnJlcGxhY2UoL1xyL2csICdcXHInKQoJICAgIC5yZXBsYWNlKC9cdC9nLCAnXFx0Jyk7Cgl9CgoJLy8gJ2FzbScgY2FuIGJlIGFuIG9iamVjdCBvciBhIHN0cmluZwoJZnVuY3Rpb24gZm9ybWF0QXNzZW1ibHlUZXh0IChhc20sIHByZWZpeCwgc291cmNlKSB7CgkgIGlmICh0eXBlb2YgYXNtID09PSAnc3RyaW5nJyB8fCBhc20gPT09IG51bGwgfHwgYXNtID09PSB1bmRlZmluZWQpIHsKCSAgICByZXR1cm4gcHJlZml4ICsgKGFzbSB8fCAnJykgKyAnXG4nOwoJICB9CgkgIHZhciB0ZXh0ID0gcHJlZml4ICsgJy5jb2RlXG4nOwoJICBhc21bJy5jb2RlJ10uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkgewoJICAgIHZhciB2ID0gaXRlbS52YWx1ZSA9PT0gdW5kZWZpbmVkID8gJycgOiBpdGVtLnZhbHVlOwoJICAgIHZhciBzcmMgPSAnJzsKCSAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgaXRlbS5iZWdpbiAhPT0gdW5kZWZpbmVkICYmIGl0ZW0uZW5kICE9PSB1bmRlZmluZWQpIHsKCSAgICAgIHNyYyA9IGVzY2FwZVN0cmluZyhzb3VyY2Uuc2xpY2UoaXRlbS5iZWdpbiwgaXRlbS5lbmQpKTsKCSAgICB9CgkgICAgaWYgKHNyYy5sZW5ndGggPiAzMCkgewoJICAgICAgc3JjID0gc3JjLnNsaWNlKDAsIDMwKSArICcuLi4nOwoJICAgIH0KCSAgICBpZiAoaXRlbS5uYW1lICE9PSAndGFnJykgewoJICAgICAgdGV4dCArPSAnICAnOwoJICAgIH0KCSAgICB0ZXh0ICs9IHByZWZpeCArIGl0ZW0ubmFtZSArICcgJyArIHYgKyAnXHRcdFx0JyArIHNyYyArICdcbic7CgkgIH0pOwoJICB0ZXh0ICs9IHByZWZpeCArICcuZGF0YVxuJzsKCSAgdmFyIGFzbURhdGEgPSBhc21bJy5kYXRhJ10gfHwgW107CgkgIGZvciAodmFyIGkgaW4gYXNtRGF0YSkgewoJICAgIHZhciBpdGVtID0gYXNtRGF0YVtpXTsKCSAgICB0ZXh0ICs9ICcgICcgKyBwcmVmaXggKyAnJyArIGkgKyAnOlxuJzsKCSAgICB0ZXh0ICs9IGZvcm1hdEFzc2VtYmx5VGV4dChpdGVtLCBwcmVmaXggKyAnICAgICcsIHNvdXJjZSk7CgkgIH0KCSAgcmV0dXJuIHRleHQ7Cgl9CgoJZnVuY3Rpb24gcHJldHR5UHJpbnRMZWdhY3lBc3NlbWJseUpTT04gKGFzc2VtYmx5LCBzb3VyY2UpIHsKCSAgcmV0dXJuIGZvcm1hdEFzc2VtYmx5VGV4dChhc3NlbWJseSwgJycsIHNvdXJjZSk7Cgl9CgoJdmFyIHRyYW5zbGF0ZSQxID0gewoJICB2ZXJzaW9uVG9TZW12ZXI6IHZlcnNpb25Ub1NlbXZlciwKCSAgdHJhbnNsYXRlSnNvbkNvbXBpbGVyT3V0cHV0OiB0cmFuc2xhdGVKc29uQ29tcGlsZXJPdXRwdXQsCgkgIHByZXR0eVByaW50TGVnYWN5QXNzZW1ibHlKU09OOiBwcmV0dHlQcmludExlZ2FjeUFzc2VtYmx5SlNPTgoJfTsKCgl2YXIgcmVxdWlyZUZyb21TdHJpbmckMSA9IHtleHBvcnRzOiB7fX07CgoJdmFyIHJlcXVpcmUkJDAkMSA9IHt9OwoKCS8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLgoJLy8KCS8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhCgkvLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlCgkvLyAiU29mdHdhcmUiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nCgkvLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsCgkvLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0CgkvLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUKCS8vIGZvbGxvd2luZyBjb25kaXRpb25zOgoJLy8KCS8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkCgkvLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KCS8vCgkvLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUwoJLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRgoJLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTgoJLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sCgkvLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IKCS8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUKCS8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCgoJLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlCgkvLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XCkgaW4gdGhlIGFycmF5CgkvLyAoc28gYWxzbyBubyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzIC0gaXQgZG9lcyBub3QgZGlzdGluZ3Vpc2gKCS8vIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBwYXRocykKCWZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5KHBhcnRzLCBhbGxvd0Fib3ZlUm9vdCkgewoJICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMAoJICB2YXIgdXAgPSAwOwoJICBmb3IgKHZhciBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKCSAgICB2YXIgbGFzdCA9IHBhcnRzW2ldOwoJICAgIGlmIChsYXN0ID09PSAnLicpIHsKCSAgICAgIHBhcnRzLnNwbGljZShpLCAxKTsKCSAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHsKCSAgICAgIHBhcnRzLnNwbGljZShpLCAxKTsKCSAgICAgIHVwKys7CgkgICAgfSBlbHNlIGlmICh1cCkgewoJICAgICAgcGFydHMuc3BsaWNlKGksIDEpOwoJICAgICAgdXAtLTsKCSAgICB9CgkgIH0KCgkgIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnMKCSAgaWYgKGFsbG93QWJvdmVSb290KSB7CgkgICAgZm9yICg7IHVwLS07IHVwKSB7CgkgICAgICBwYXJ0cy51bnNoaWZ0KCcuLicpOwoJICAgIH0KCSAgfQoKCSAgcmV0dXJuIHBhcnRzOwoJfQoKCS8vIFNwbGl0IGEgZmlsZW5hbWUgaW50byBbcm9vdCwgZGlyLCBiYXNlbmFtZSwgZXh0XSwgdW5peCB2ZXJzaW9uCgkvLyAncm9vdCcgaXMganVzdCBhIHNsYXNoLCBvciBub3RoaW5nLgoJdmFyIHNwbGl0UGF0aFJlID0KCSAgICAvXihcLz98KShbXHNcU10qPykoKD86XC57MSwyfXxbXlwvXSs/fCkoXC5bXi5cL10qfCkpKD86W1wvXSopJC87Cgl2YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHsKCSAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpOwoJfTsKCgkvLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pCgkvLyBwb3NpeCB2ZXJzaW9uCglmdW5jdGlvbiByZXNvbHZlKCkgewoJICB2YXIgcmVzb2x2ZWRQYXRoID0gJycsCgkgICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7CgoJICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkgewoJICAgIHZhciBwYXRoID0gKGkgPj0gMCkgPyBhcmd1bWVudHNbaV0gOiAnLyc7CgoJICAgIC8vIFNraXAgZW1wdHkgYW5kIGludmFsaWQgZW50cmllcwoJICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHsKCSAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzJyk7CgkgICAgfSBlbHNlIGlmICghcGF0aCkgewoJICAgICAgY29udGludWU7CgkgICAgfQoKCSAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoOwoJICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nOwoJICB9CgoJICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0CgkgIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKQoKCSAgLy8gTm9ybWFsaXplIHRoZSBwYXRoCgkgIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihyZXNvbHZlZFBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkgewoJICAgIHJldHVybiAhIXA7CgkgIH0pLCAhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbignLycpOwoKCSAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nOwoJfQoJLy8gcGF0aC5ub3JtYWxpemUocGF0aCkKCS8vIHBvc2l4IHZlcnNpb24KCWZ1bmN0aW9uIG5vcm1hbGl6ZShwYXRoKSB7CgkgIHZhciBpc1BhdGhBYnNvbHV0ZSA9IGlzQWJzb2x1dGUocGF0aCksCgkgICAgICB0cmFpbGluZ1NsYXNoID0gc3Vic3RyKHBhdGgsIC0xKSA9PT0gJy8nOwoKCSAgLy8gTm9ybWFsaXplIHRoZSBwYXRoCgkgIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7CgkgICAgcmV0dXJuICEhcDsKCSAgfSksICFpc1BhdGhBYnNvbHV0ZSkuam9pbignLycpOwoKCSAgaWYgKCFwYXRoICYmICFpc1BhdGhBYnNvbHV0ZSkgewoJICAgIHBhdGggPSAnLic7CgkgIH0KCSAgaWYgKHBhdGggJiYgdHJhaWxpbmdTbGFzaCkgewoJICAgIHBhdGggKz0gJy8nOwoJICB9CgoJICByZXR1cm4gKGlzUGF0aEFic29sdXRlID8gJy8nIDogJycpICsgcGF0aDsKCX0KCS8vIHBvc2l4IHZlcnNpb24KCWZ1bmN0aW9uIGlzQWJzb2x1dGUocGF0aCkgewoJICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJzsKCX0KCgkvLyBwb3NpeCB2ZXJzaW9uCglmdW5jdGlvbiBqb2luKCkgewoJICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwoJICByZXR1cm4gbm9ybWFsaXplKGZpbHRlcihwYXRocywgZnVuY3Rpb24ocCwgaW5kZXgpIHsKCSAgICBpZiAodHlwZW9mIHAgIT09ICdzdHJpbmcnKSB7CgkgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5qb2luIG11c3QgYmUgc3RyaW5ncycpOwoJICAgIH0KCSAgICByZXR1cm4gcDsKCSAgfSkuam9pbignLycpKTsKCX0KCgoJLy8gcGF0aC5yZWxhdGl2ZShmcm9tLCB0bykKCS8vIHBvc2l4IHZlcnNpb24KCWZ1bmN0aW9uIHJlbGF0aXZlKGZyb20sIHRvKSB7CgkgIGZyb20gPSByZXNvbHZlKGZyb20pLnN1YnN0cigxKTsKCSAgdG8gPSByZXNvbHZlKHRvKS5zdWJzdHIoMSk7CgoJICBmdW5jdGlvbiB0cmltKGFycikgewoJICAgIHZhciBzdGFydCA9IDA7CgkgICAgZm9yICg7IHN0YXJ0IDwgYXJyLmxlbmd0aDsgc3RhcnQrKykgewoJICAgICAgaWYgKGFycltzdGFydF0gIT09ICcnKSBicmVhazsKCSAgICB9CgoJICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTsKCSAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7CgkgICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhazsKCSAgICB9CgoJICAgIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFtdOwoJICAgIHJldHVybiBhcnIuc2xpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0ICsgMSk7CgkgIH0KCgkgIHZhciBmcm9tUGFydHMgPSB0cmltKGZyb20uc3BsaXQoJy8nKSk7CgkgIHZhciB0b1BhcnRzID0gdHJpbSh0by5zcGxpdCgnLycpKTsKCgkgIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7CgkgIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7CgkgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKCSAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7CgkgICAgICBzYW1lUGFydHNMZW5ndGggPSBpOwoJICAgICAgYnJlYWs7CgkgICAgfQoJICB9CgoJICB2YXIgb3V0cHV0UGFydHMgPSBbXTsKCSAgZm9yICh2YXIgaSA9IHNhbWVQYXJ0c0xlbmd0aDsgaSA8IGZyb21QYXJ0cy5sZW5ndGg7IGkrKykgewoJICAgIG91dHB1dFBhcnRzLnB1c2goJy4uJyk7CgkgIH0KCgkgIG91dHB1dFBhcnRzID0gb3V0cHV0UGFydHMuY29uY2F0KHRvUGFydHMuc2xpY2Uoc2FtZVBhcnRzTGVuZ3RoKSk7CgoJICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpOwoJfQoKCXZhciBzZXAgPSAnLyc7Cgl2YXIgZGVsaW1pdGVyID0gJzonOwoKCWZ1bmN0aW9uIGRpcm5hbWUocGF0aCkgewoJICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLAoJICAgICAgcm9vdCA9IHJlc3VsdFswXSwKCSAgICAgIGRpciA9IHJlc3VsdFsxXTsKCgkgIGlmICghcm9vdCAmJiAhZGlyKSB7CgkgICAgLy8gTm8gZGlybmFtZSB3aGF0c29ldmVyCgkgICAgcmV0dXJuICcuJzsKCSAgfQoKCSAgaWYgKGRpcikgewoJICAgIC8vIEl0IGhhcyBhIGRpcm5hbWUsIHN0cmlwIHRyYWlsaW5nIHNsYXNoCgkgICAgZGlyID0gZGlyLnN1YnN0cigwLCBkaXIubGVuZ3RoIC0gMSk7CgkgIH0KCgkgIHJldHVybiByb290ICsgZGlyOwoJfQoKCWZ1bmN0aW9uIGJhc2VuYW1lKHBhdGgsIGV4dCkgewoJICB2YXIgZiA9IHNwbGl0UGF0aChwYXRoKVsyXTsKCSAgLy8gVE9ETzogbWFrZSB0aGlzIGNvbXBhcmlzb24gY2FzZS1pbnNlbnNpdGl2ZSBvbiB3aW5kb3dzPwoJICBpZiAoZXh0ICYmIGYuc3Vic3RyKC0xICogZXh0Lmxlbmd0aCkgPT09IGV4dCkgewoJICAgIGYgPSBmLnN1YnN0cigwLCBmLmxlbmd0aCAtIGV4dC5sZW5ndGgpOwoJICB9CgkgIHJldHVybiBmOwoJfQoKCglmdW5jdGlvbiBleHRuYW1lKHBhdGgpIHsKCSAgcmV0dXJuIHNwbGl0UGF0aChwYXRoKVszXTsKCX0KCXZhciByZXF1aXJlJCQxID0gewoJICBleHRuYW1lOiBleHRuYW1lLAoJICBiYXNlbmFtZTogYmFzZW5hbWUsCgkgIGRpcm5hbWU6IGRpcm5hbWUsCgkgIHNlcDogc2VwLAoJICBkZWxpbWl0ZXI6IGRlbGltaXRlciwKCSAgcmVsYXRpdmU6IHJlbGF0aXZlLAoJICBqb2luOiBqb2luLAoJICBpc0Fic29sdXRlOiBpc0Fic29sdXRlLAoJICBub3JtYWxpemU6IG5vcm1hbGl6ZSwKCSAgcmVzb2x2ZTogcmVzb2x2ZQoJfTsKCWZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHsKCSAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpOwoJICAgIHZhciByZXMgPSBbXTsKCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTsKCSAgICB9CgkgICAgcmV0dXJuIHJlczsKCX0KCgkvLyBTdHJpbmcucHJvdG90eXBlLnN1YnN0ciAtIG5lZ2F0aXZlIGluZGV4IGRvbid0IHdvcmsgaW4gSUU4Cgl2YXIgc3Vic3RyID0gJ2FiJy5zdWJzdHIoLTEpID09PSAnYicgPwoJICAgIGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHsgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbikgfSA6CgkgICAgZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikgewoJICAgICAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IHN0ci5sZW5ndGggKyBzdGFydDsKCSAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbik7CgkgICAgfQoJOwoKCShmdW5jdGlvbiAobW9kdWxlKSB7CgoJdmFyIE1vZHVsZSA9IHJlcXVpcmUkJDAkMTsKCXZhciBwYXRoID0gcmVxdWlyZSQkMTsKCgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlcXVpcmVGcm9tU3RyaW5nKGNvZGUsIGZpbGVuYW1lLCBvcHRzKSB7CgkJaWYgKHR5cGVvZiBmaWxlbmFtZSA9PT0gJ29iamVjdCcpIHsKCQkJb3B0cyA9IGZpbGVuYW1lOwoJCQlmaWxlbmFtZSA9IHVuZGVmaW5lZDsKCQl9CgoJCW9wdHMgPSBvcHRzIHx8IHt9OwoJCWZpbGVuYW1lID0gZmlsZW5hbWUgfHwgJyc7CgoJCW9wdHMuYXBwZW5kUGF0aHMgPSBvcHRzLmFwcGVuZFBhdGhzIHx8IFtdOwoJCW9wdHMucHJlcGVuZFBhdGhzID0gb3B0cy5wcmVwZW5kUGF0aHMgfHwgW107CgoJCWlmICh0eXBlb2YgY29kZSAhPT0gJ3N0cmluZycpIHsKCQkJdGhyb3cgbmV3IEVycm9yKCdjb2RlIG11c3QgYmUgYSBzdHJpbmcsIG5vdCAnICsgdHlwZW9mIGNvZGUpOwoJCX0KCgkJdmFyIHBhdGhzID0gTW9kdWxlLl9ub2RlTW9kdWxlUGF0aHMocGF0aC5kaXJuYW1lKGZpbGVuYW1lKSk7CgoJCXZhciBwYXJlbnQgPSBtb2R1bGUucGFyZW50OwoJCXZhciBtID0gbmV3IE1vZHVsZShmaWxlbmFtZSwgcGFyZW50KTsKCQltLmZpbGVuYW1lID0gZmlsZW5hbWU7CgkJbS5wYXRocyA9IFtdLmNvbmNhdChvcHRzLnByZXBlbmRQYXRocykuY29uY2F0KHBhdGhzKS5jb25jYXQob3B0cy5hcHBlbmRQYXRocyk7CgkJbS5fY29tcGlsZShjb2RlLCBmaWxlbmFtZSk7CgoJCXZhciBleHBvcnRzID0gbS5leHBvcnRzOwoJCXBhcmVudCAmJiBwYXJlbnQuY2hpbGRyZW4gJiYgcGFyZW50LmNoaWxkcmVuLnNwbGljZShwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihtKSwgMSk7CgoJCXJldHVybiBleHBvcnRzOwoJfTsKCX0ocmVxdWlyZUZyb21TdHJpbmckMSkpOwoKCXZhciBmb2xsb3dSZWRpcmVjdHMgPSB7ZXhwb3J0czoge319OwoKCXZhciBwdW55Y29kZSA9IHtleHBvcnRzOiB7fX07CgoJLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS40LjEgYnkgQG1hdGhpYXMgKi8KCgkoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewoJKGZ1bmN0aW9uKHJvb3QpIHsKCgkJLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqLwoJCXZhciBmcmVlRXhwb3J0cyA9IGV4cG9ydHMgJiYKCQkJIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0czsKCQl2YXIgZnJlZU1vZHVsZSA9IG1vZHVsZSAmJgoJCQkhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTsKCQl2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBjb21tb25qc0dsb2JhbCA9PSAnb2JqZWN0JyAmJiBjb21tb25qc0dsb2JhbDsKCQlpZiAoCgkJCWZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8CgkJCWZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8CgkJCWZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbAoJCSkgewoJCQlyb290ID0gZnJlZUdsb2JhbDsKCQl9CgoJCS8qKgoJCSAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC4KCQkgKiBAbmFtZSBwdW55Y29kZQoJCSAqIEB0eXBlIE9iamVjdAoJCSAqLwoJCXZhciBwdW55Y29kZSwKCgkJLyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqLwoJCW1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTEKCgkJLyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqLwoJCWJhc2UgPSAzNiwKCQl0TWluID0gMSwKCQl0TWF4ID0gMjYsCgkJc2tldyA9IDM4LAoJCWRhbXAgPSA3MDAsCgkJaW5pdGlhbEJpYXMgPSA3MiwKCQlpbml0aWFsTiA9IDEyOCwgLy8gMHg4MAoJCWRlbGltaXRlciA9ICctJywgLy8gJ1x4MkQnCgoJCS8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovCgkJcmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sCgkJcmVnZXhOb25BU0NJSSA9IC9bXlx4MjAtXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFycwoJCXJlZ2V4U2VwYXJhdG9ycyA9IC9bXHgyRVx1MzAwMlx1RkYwRVx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9ycwoKCQkvKiogRXJyb3IgbWVzc2FnZXMgKi8KCQllcnJvcnMgPSB7CgkJCSdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsCgkJCSdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsCgkJCSdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnCgkJfSwKCgkJLyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqLwoJCWJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbiwKCQlmbG9vciA9IE1hdGguZmxvb3IsCgkJc3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSwKCgkJLyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqLwoJCWtleTsKCgkJLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoJCS8qKgoJCSAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLgoJCSAqIEBwcml2YXRlCgkJICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuCgkJICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLgoJCSAqLwoJCWZ1bmN0aW9uIGVycm9yKHR5cGUpIHsKCQkJdGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTsKCQl9CgoJCS8qKgoJCSAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLgoJCSAqIEBwcml2YXRlCgkJICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci4KCQkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXkKCQkgKiBpdGVtLgoJCSAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi4KCQkgKi8KCQlmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7CgkJCXZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7CgkJCXZhciByZXN1bHQgPSBbXTsKCQkJd2hpbGUgKGxlbmd0aC0tKSB7CgkJCQlyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pOwoJCQl9CgkJCXJldHVybiByZXN1bHQ7CgkJfQoKCQkvKioKCQkgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWwKCQkgKiBhZGRyZXNzZXMuCgkJICogQHByaXZhdGUKCQkgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLgoJCSAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeQoJCSAqIGNoYXJhY3Rlci4KCQkgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjawoJCSAqIGZ1bmN0aW9uLgoJCSAqLwoJCWZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7CgkJCXZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpOwoJCQl2YXIgcmVzdWx0ID0gJyc7CgkJCWlmIChwYXJ0cy5sZW5ndGggPiAxKSB7CgkJCQkvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlCgkJCQkvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LgoJCQkJcmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7CgkJCQlzdHJpbmcgPSBwYXJ0c1sxXTsKCQkJfQoJCQkvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuCgkJCXN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1x4MkUnKTsKCQkJdmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpOwoJCQl2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7CgkJCXJldHVybiByZXN1bHQgKyBlbmNvZGVkOwoJCX0KCgkJLyoqCgkJICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZQoJCSAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSwKCQkgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaAoJCSAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LAoJCSAqIG1hdGNoaW5nIFVURi0xNi4KCQkgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWAKCQkgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgoJCSAqIEBuYW1lIGRlY29kZQoJCSAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuCgkJICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLgoJCSAqLwoJCWZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7CgkJCXZhciBvdXRwdXQgPSBbXSwKCQkJICAgIGNvdW50ZXIgPSAwLAoJCQkgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCwKCQkJICAgIHZhbHVlLAoJCQkgICAgZXh0cmE7CgkJCXdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7CgkJCQl2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CgkJCQlpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7CgkJCQkJLy8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyCgkJCQkJZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspOwoJCQkJCWlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlCgkJCQkJCW91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJLy8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHQKCQkJCQkJLy8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyCgkJCQkJCW91dHB1dC5wdXNoKHZhbHVlKTsKCQkJCQkJY291bnRlci0tOwoJCQkJCX0KCQkJCX0gZWxzZSB7CgkJCQkJb3V0cHV0LnB1c2godmFsdWUpOwoJCQkJfQoJCQl9CgkJCXJldHVybiBvdXRwdXQ7CgkJfQoKCQkvKioKCQkgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuCgkJICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgCgkJICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKCQkgKiBAbmFtZSBlbmNvZGUKCQkgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLgoJCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS4KCQkgKi8KCQlmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7CgkJCXJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7CgkJCQl2YXIgb3V0cHV0ID0gJyc7CgkJCQlpZiAodmFsdWUgPiAweEZGRkYpIHsKCQkJCQl2YWx1ZSAtPSAweDEwMDAwOwoJCQkJCW91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApOwoJCQkJCXZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjsKCQkJCX0KCQkJCW91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpOwoJCQkJcmV0dXJuIG91dHB1dDsKCQkJfSkuam9pbignJyk7CgkJfQoKCQkvKioKCQkgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuCgkJICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgCgkJICogQHByaXZhdGUKCQkgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuCgkJICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluCgkJICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZgoJCSAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLgoJCSAqLwoJCWZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHsKCQkJaWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHsKCQkJCXJldHVybiBjb2RlUG9pbnQgLSAyMjsKCQkJfQoJCQlpZiAoY29kZVBvaW50IC0gNjUgPCAyNikgewoJCQkJcmV0dXJuIGNvZGVQb2ludCAtIDY1OwoJCQl9CgkJCWlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7CgkJCQlyZXR1cm4gY29kZVBvaW50IC0gOTc7CgkJCX0KCQkJcmV0dXJuIGJhc2U7CgkJfQoKCQkvKioKCQkgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuCgkJICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgCgkJICogQHByaXZhdGUKCQkgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LgoJCSAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yCgkJICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2UKCQkgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXMKCQkgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZAoJCSAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uCgkJICovCgkJZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7CgkJCS8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aCgkJCS8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOQoJCQlyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpOwoJCX0KCgkJLyoqCgkJICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi4KCQkgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNAoJCSAqIEBwcml2YXRlCgkJICovCgkJZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7CgkJCXZhciBrID0gMDsKCQkJZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTsKCQkJZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpOwoJCQlmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkgewoJCQkJZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pOwoJCQl9CgkJCXJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpOwoJCX0KCgkJLyoqCgkJICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGUKCQkgKiBzeW1ib2xzLgoJCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCQkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuCgkJICovCgkJZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7CgkJCS8vIERvbid0IHVzZSBVQ1MtMgoJCQl2YXIgb3V0cHV0ID0gW10sCgkJCSAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCwKCQkJICAgIG91dCwKCQkJICAgIGkgPSAwLAoJCQkgICAgbiA9IGluaXRpYWxOLAoJCQkgICAgYmlhcyA9IGluaXRpYWxCaWFzLAoJCQkgICAgYmFzaWMsCgkJCSAgICBqLAoJCQkgICAgaW5kZXgsCgkJCSAgICBvbGRpLAoJCQkgICAgdywKCQkJICAgIGssCgkJCSAgICBkaWdpdCwKCQkJICAgIHQsCgkJCSAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KCQkJICAgIGJhc2VNaW51c1Q7CgoJCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGUKCQkJLy8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHkKCQkJLy8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuCgoJCQliYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7CgkJCWlmIChiYXNpYyA8IDApIHsKCQkJCWJhc2ljID0gMDsKCQkJfQoKCQkJZm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHsKCQkJCS8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludAoJCQkJaWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkgewoJCQkJCWVycm9yKCdub3QtYmFzaWMnKTsKCQkJCX0KCQkJCW91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpOwoJCQl9CgoJCQkvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlCgkJCS8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuCgoJCQlmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykgewoKCQkJCS8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC4KCQkJCS8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCwKCQkJCS8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyCgkJCQkvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZwoJCQkJLy8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC4KCQkJCWZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHsKCgkJCQkJaWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7CgkJCQkJCWVycm9yKCdpbnZhbGlkLWlucHV0Jyk7CgkJCQkJfQoKCQkJCQlkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTsKCgkJCQkJaWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkgewoJCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCQl9CgoJCQkJCWkgKz0gZGlnaXQgKiB3OwoJCQkJCXQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpOwoKCQkJCQlpZiAoZGlnaXQgPCB0KSB7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCgkJCQkJYmFzZU1pbnVzVCA9IGJhc2UgLSB0OwoJCQkJCWlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHsKCQkJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCQkJfQoKCQkJCQl3ICo9IGJhc2VNaW51c1Q7CgoJCQkJfQoKCQkJCW91dCA9IG91dHB1dC5sZW5ndGggKyAxOwoJCQkJYmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7CgoJCQkJLy8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCwKCQkJCS8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6CgkJCQlpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7CgkJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCQl9CgoJCQkJbiArPSBmbG9vcihpIC8gb3V0KTsKCQkJCWkgJT0gb3V0OwoKCQkJCS8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXQKCQkJCW91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTsKCgkJCX0KCgkJCXJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7CgkJfQoKCQkvKioKCQkgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYQoJCSAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkJICogQG1lbWJlck9mIHB1bnljb2RlCgkJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLgoJCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCQkgKi8KCQlmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHsKCQkJdmFyIG4sCgkJCSAgICBkZWx0YSwKCQkJICAgIGhhbmRsZWRDUENvdW50LAoJCQkgICAgYmFzaWNMZW5ndGgsCgkJCSAgICBiaWFzLAoJCQkgICAgaiwKCQkJICAgIG0sCgkJCSAgICBxLAoJCQkgICAgaywKCQkJICAgIHQsCgkJCSAgICBjdXJyZW50VmFsdWUsCgkJCSAgICBvdXRwdXQgPSBbXSwKCQkJICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovCgkJCSAgICBpbnB1dExlbmd0aCwKCQkJICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwoJCQkgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLAoJCQkgICAgYmFzZU1pbnVzVCwKCQkJICAgIHFNaW51c1Q7CgoJCQkvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlCgkJCWlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7CgoJCQkvLyBDYWNoZSB0aGUgbGVuZ3RoCgkJCWlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoOwoKCQkJLy8gSW5pdGlhbGl6ZSB0aGUgc3RhdGUKCQkJbiA9IGluaXRpYWxOOwoJCQlkZWx0YSA9IDA7CgkJCWJpYXMgPSBpbml0aWFsQmlhczsKCgkJCS8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHMKCQkJZm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJCWN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdOwoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHsKCQkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7CgkJCQl9CgkJCX0KCgkJCWhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoOwoKCQkJLy8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7CgkJCS8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy4KCgkJCS8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlcgoJCQlpZiAoYmFzaWNMZW5ndGgpIHsKCQkJCW91dHB1dC5wdXNoKGRlbGltaXRlcik7CgkJCX0KCgkJCS8vIE1haW4gZW5jb2RpbmcgbG9vcDoKCQkJd2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHsKCgkJCQkvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0CgkJCQkvLyBsYXJnZXIgb25lOgoJCQkJZm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCQkJCQlpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkgewoJCQkJCQltID0gY3VycmVudFZhbHVlOwoJCQkJCX0KCQkJCX0KCgkJCQkvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sCgkJCQkvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvdwoJCQkJaGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxOwoJCQkJaWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQlkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lOwoJCQkJbiA9IG07CgoJCQkJZm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCgkJCQkJaWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkgewoJCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCQl9CgoJCQkJCWlmIChjdXJyZW50VmFsdWUgPT0gbikgewoJCQkJCQkvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlcgoJCQkJCQlmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7CgkJCQkJCQl0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTsKCQkJCQkJCWlmIChxIDwgdCkgewoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJfQoJCQkJCQkJcU1pbnVzVCA9IHEgLSB0OwoJCQkJCQkJYmFzZU1pbnVzVCA9IGJhc2UgLSB0OwoJCQkJCQkJb3V0cHV0LnB1c2goCgkJCQkJCQkJc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKQoJCQkJCQkJKTsKCQkJCQkJCXEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7CgkJCQkJCX0KCgkJCQkJCW91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTsKCQkJCQkJYmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTsKCQkJCQkJZGVsdGEgPSAwOwoJCQkJCQkrK2hhbmRsZWRDUENvdW50OwoJCQkJCX0KCQkJCX0KCgkJCQkrK2RlbHRhOwoJCQkJKytuOwoKCQkJfQoJCQlyZXR1cm4gb3V0cHV0LmpvaW4oJycpOwoJCX0KCgkJLyoqCgkJICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcwoJCSAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS4KCQkgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW4KCQkgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvCgkJICogY29udmVydCB0byBVbmljb2RlLgoJCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZQoJCSAqIHN0cmluZy4KCQkgKi8KCQlmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHsKCQkJcmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7CgkJCQlyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZykKCQkJCQk/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSkKCQkJCQk6IHN0cmluZzsKCQkJfSk7CgkJfQoKCQkvKioKCQkgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG8KCQkgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCwKCQkgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW4KCQkgKiBBU0NJSS4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYQoJCSAqIFVuaWNvZGUgc3RyaW5nLgoJCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3IKCQkgKiBlbWFpbCBhZGRyZXNzLgoJCSAqLwoJCWZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHsKCQkJcmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7CgkJCQlyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZykKCQkJCQk/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpCgkJCQkJOiBzdHJpbmc7CgkJCX0pOwoJCX0KCgkJLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoJCS8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi8KCQlwdW55Y29kZSA9IHsKCQkJLyoqCgkJCSAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci4KCQkJICogQG1lbWJlck9mIHB1bnljb2RlCgkJCSAqIEB0eXBlIFN0cmluZwoJCQkgKi8KCQkJJ3ZlcnNpb24nOiAnMS40LjEnLAoJCQkvKioKCQkJICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXIKCQkJICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay4KCQkJICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+CgkJCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJCQkgKiBAdHlwZSBPYmplY3QKCQkJICovCgkJCSd1Y3MyJzogewoJCQkJJ2RlY29kZSc6IHVjczJkZWNvZGUsCgkJCQknZW5jb2RlJzogdWNzMmVuY29kZQoJCQl9LAoJCQknZGVjb2RlJzogZGVjb2RlLAoJCQknZW5jb2RlJzogZW5jb2RlLAoJCQkndG9BU0NJSSc6IHRvQVNDSUksCgkJCSd0b1VuaWNvZGUnOiB0b1VuaWNvZGUKCQl9OwoKCQkvKiogRXhwb3NlIGBwdW55Y29kZWAgKi8KCQkvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnMKCQkvLyBsaWtlIHRoZSBmb2xsb3dpbmc6CgkJaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHsKCQkJaWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7CgkJCQkvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArCgkJCQlmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTsKCQkJfSBlbHNlIHsKCQkJCS8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtCgkJCQlmb3IgKGtleSBpbiBwdW55Y29kZSkgewoJCQkJCXB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTsKCQkJCX0KCQkJfQoJCX0gZWxzZSB7CgkJCS8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXIKCQkJcm9vdC5wdW55Y29kZSA9IHB1bnljb2RlOwoJCX0KCgl9KGNvbW1vbmpzR2xvYmFsKSk7Cgl9KHB1bnljb2RlLCBwdW55Y29kZS5leHBvcnRzKSk7CgoJLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuCgkvLwoJLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKCS8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUKCS8vICJTb2Z0d2FyZSIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcKCS8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwKCS8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQKCS8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZQoJLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6CgkvLwoJLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQKCS8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoJLy8KCS8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTCgkvLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GCgkvLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOCgkvLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwKCS8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUgoJLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRQoJLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KCgoJLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZwoJLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuCgkvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwNwoJZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7CgkgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsKCX0KCXZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHsKCSAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7Cgl9OwoJZnVuY3Rpb24gc3RyaW5naWZ5UHJpbWl0aXZlKHYpIHsKCSAgc3dpdGNoICh0eXBlb2YgdikgewoJICAgIGNhc2UgJ3N0cmluZyc6CgkgICAgICByZXR1cm4gdjsKCgkgICAgY2FzZSAnYm9vbGVhbic6CgkgICAgICByZXR1cm4gdiA/ICd0cnVlJyA6ICdmYWxzZSc7CgoJICAgIGNhc2UgJ251bWJlcic6CgkgICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7CgoJICAgIGRlZmF1bHQ6CgkgICAgICByZXR1cm4gJyc7CgkgIH0KCX0KCglmdW5jdGlvbiBzdHJpbmdpZnkgKG9iaiwgc2VwLCBlcSwgbmFtZSkgewoJICBzZXAgPSBzZXAgfHwgJyYnOwoJICBlcSA9IGVxIHx8ICc9JzsKCSAgaWYgKG9iaiA9PT0gbnVsbCkgewoJICAgIG9iaiA9IHVuZGVmaW5lZDsKCSAgfQoKCSAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7CgkgICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHsKCSAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7CgkgICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7CgkgICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7CgkgICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7CgkgICAgICAgIH0pLmpvaW4oc2VwKTsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7CgkgICAgICB9CgkgICAgfSkuam9pbihzZXApOwoKCSAgfQoKCSAgaWYgKCFuYW1lKSByZXR1cm4gJyc7CgkgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICsKCSAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7Cgl9CglmdW5jdGlvbiBtYXAgKHhzLCBmKSB7CgkgIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7CgkgIHZhciByZXMgPSBbXTsKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykgewoJICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTsKCSAgfQoJICByZXR1cm4gcmVzOwoJfQoKCXZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikgewoJICB2YXIgcmVzID0gW107CgkgIGZvciAodmFyIGtleSBpbiBvYmopIHsKCSAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgcmVzLnB1c2goa2V5KTsKCSAgfQoJICByZXR1cm4gcmVzOwoJfTsKCglmdW5jdGlvbiBwYXJzZSQxKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7CgkgIHNlcCA9IHNlcCB8fCAnJic7CgkgIGVxID0gZXEgfHwgJz0nOwoJICB2YXIgb2JqID0ge307CgoJICBpZiAodHlwZW9mIHFzICE9PSAnc3RyaW5nJyB8fCBxcy5sZW5ndGggPT09IDApIHsKCSAgICByZXR1cm4gb2JqOwoJICB9CgoJICB2YXIgcmVnZXhwID0gL1wrL2c7CgkgIHFzID0gcXMuc3BsaXQoc2VwKTsKCgkgIHZhciBtYXhLZXlzID0gMTAwMDsKCSAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWF4S2V5cyA9PT0gJ251bWJlcicpIHsKCSAgICBtYXhLZXlzID0gb3B0aW9ucy5tYXhLZXlzOwoJICB9CgoJICB2YXIgbGVuID0gcXMubGVuZ3RoOwoJICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnQKCSAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHsKCSAgICBsZW4gPSBtYXhLZXlzOwoJICB9CgoJICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7CgkgICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLAoJICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLAoJICAgICAgICBrc3RyLCB2c3RyLCBrLCB2OwoKCSAgICBpZiAoaWR4ID49IDApIHsKCSAgICAgIGtzdHIgPSB4LnN1YnN0cigwLCBpZHgpOwoJICAgICAgdnN0ciA9IHguc3Vic3RyKGlkeCArIDEpOwoJICAgIH0gZWxzZSB7CgkgICAgICBrc3RyID0geDsKCSAgICAgIHZzdHIgPSAnJzsKCSAgICB9CgoJICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7CgkgICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTsKCgkgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7CgkgICAgICBvYmpba10gPSB2OwoJICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7CgkgICAgICBvYmpba10ucHVzaCh2KTsKCSAgICB9IGVsc2UgewoJICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07CgkgICAgfQoJICB9CgoJICByZXR1cm4gb2JqOwoJfQoKCS8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLgoJdmFyIHJlcXVpcmUkJDAgPSB7CgkgIHBhcnNlOiB1cmxQYXJzZSwKCSAgcmVzb2x2ZTogdXJsUmVzb2x2ZSwKCSAgcmVzb2x2ZU9iamVjdDogdXJsUmVzb2x2ZU9iamVjdCwKCSAgZm9ybWF0OiB1cmxGb3JtYXQsCgkgIFVybDogVXJsCgl9OwoJZnVuY3Rpb24gVXJsKCkgewoJICB0aGlzLnByb3RvY29sID0gbnVsbDsKCSAgdGhpcy5zbGFzaGVzID0gbnVsbDsKCSAgdGhpcy5hdXRoID0gbnVsbDsKCSAgdGhpcy5ob3N0ID0gbnVsbDsKCSAgdGhpcy5wb3J0ID0gbnVsbDsKCSAgdGhpcy5ob3N0bmFtZSA9IG51bGw7CgkgIHRoaXMuaGFzaCA9IG51bGw7CgkgIHRoaXMuc2VhcmNoID0gbnVsbDsKCSAgdGhpcy5xdWVyeSA9IG51bGw7CgkgIHRoaXMucGF0aG5hbWUgPSBudWxsOwoJICB0aGlzLnBhdGggPSBudWxsOwoJICB0aGlzLmhyZWYgPSBudWxsOwoJfQoKCS8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NgoKCS8vIGRlZmluZSB0aGVzZSBoZXJlIHNvIGF0IGxlYXN0IHRoZXkgb25seSBoYXZlIHRvIGJlCgkvLyBjb21waWxlZCBvbmNlIG9uIHRoZSBmaXJzdCBtb2R1bGUgbG9hZC4KCXZhciBwcm90b2NvbFBhdHRlcm4gPSAvXihbYS16MC05ListXSs6KS9pLAoJICBwb3J0UGF0dGVybiA9IC86WzAtOV0qJC8sCgoJICAvLyBTcGVjaWFsIGNhc2UgZm9yIGEgc2ltcGxlIHBhdGggVVJMCgkgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXC9cLz8oPyFcLylbXlw/XHNdKikoXD9bXlxzXSopPyQvLAoKCSAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgcmVzZXJ2ZWQgZm9yIGRlbGltaXRpbmcgVVJMcy4KCSAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS4KCSAgZGVsaW1zID0gWyc8JywgJz4nLCAnIicsICdgJywgJyAnLCAnXHInLCAnXG4nLCAnXHQnXSwKCgkgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuCgkgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFwnLCAnXicsICdgJ10uY29uY2F0KGRlbGltcyksCgoJICAvLyBBbGxvd2VkIGJ5IFJGQ3MsIGJ1dCBjYXVzZSBvZiBYU1MgYXR0YWNrcy4gIEFsd2F5cyBlc2NhcGUgdGhlc2UuCgkgIGF1dG9Fc2NhcGUgPSBbJ1wnJ10uY29uY2F0KHVud2lzZSksCgkgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuCgkgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2UKCSAgLy8gYXJlIHRoZSBvbmVzIHRoYXQgYXJlICpleHBlY3RlZCogdG8gYmUgc2Vlbiwgc28gd2UgZmFzdC1wYXRoCgkgIC8vIHRoZW0uCgkgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLAoJICBob3N0RW5kaW5nQ2hhcnMgPSBbJy8nLCAnPycsICcjJ10sCgkgIGhvc3RuYW1lTWF4TGVuID0gMjU1LAoJICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bK2EtejAtOUEtWl8tXXswLDYzfSQvLAoJICBob3N0bmFtZVBhcnRTdGFydCA9IC9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLywKCSAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93ICJ1bnNhZmUiIGFuZCAidW53aXNlIiBjaGFycy4KCSAgdW5zYWZlUHJvdG9jb2wgPSB7CgkgICAgJ2phdmFzY3JpcHQnOiB0cnVlLAoJICAgICdqYXZhc2NyaXB0Oic6IHRydWUKCSAgfSwKCSAgLy8gcHJvdG9jb2xzIHRoYXQgbmV2ZXIgaGF2ZSBhIGhvc3RuYW1lLgoJICBob3N0bGVzc1Byb3RvY29sID0gewoJICAgICdqYXZhc2NyaXB0JzogdHJ1ZSwKCSAgICAnamF2YXNjcmlwdDonOiB0cnVlCgkgIH0sCgkgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LgoJICBzbGFzaGVkUHJvdG9jb2wgPSB7CgkgICAgJ2h0dHAnOiB0cnVlLAoJICAgICdodHRwcyc6IHRydWUsCgkgICAgJ2Z0cCc6IHRydWUsCgkgICAgJ2dvcGhlcic6IHRydWUsCgkgICAgJ2ZpbGUnOiB0cnVlLAoJICAgICdodHRwOic6IHRydWUsCgkgICAgJ2h0dHBzOic6IHRydWUsCgkgICAgJ2Z0cDonOiB0cnVlLAoJICAgICdnb3BoZXI6JzogdHJ1ZSwKCSAgICAnZmlsZTonOiB0cnVlCgkgIH07CgoJZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkgewoJICBpZiAodXJsICYmIGlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsOwoKCSAgdmFyIHUgPSBuZXcgVXJsOwoJICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpOwoJICByZXR1cm4gdTsKCX0KCVVybC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbih1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7CgkgIHJldHVybiBwYXJzZSh0aGlzLCB1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTsKCX07CgoJZnVuY3Rpb24gcGFyc2Uoc2VsZiwgdXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkgewoJICBpZiAoIWlzU3RyaW5nKHVybCkpIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgXCd1cmxcJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgJyArIHR5cGVvZiB1cmwpOwoJICB9CgoJICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci4KCSAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzCgkgIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2CgkgIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSwKCSAgICBzcGxpdHRlciA9CgkgICAgKHF1ZXJ5SW5kZXggIT09IC0xICYmIHF1ZXJ5SW5kZXggPCB1cmwuaW5kZXhPZignIycpKSA/ICc/JyA6ICcjJywKCSAgICB1U3BsaXQgPSB1cmwuc3BsaXQoc3BsaXR0ZXIpLAoJICAgIHNsYXNoUmVnZXggPSAvXFwvZzsKCSAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTsKCSAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpOwoKCSAgdmFyIHJlc3QgPSB1cmw7CgoJICAvLyB0cmltIGJlZm9yZSBwcm9jZWVkaW5nLgoJICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgcGFyc2Ugc3R1ZmYgbGlrZSAiICBodHRwOi8vZm9vLmNvbSAgXG4iCgkgIHJlc3QgPSByZXN0LnRyaW0oKTsKCgkgIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7CgkgICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHAKCSAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7CgkgICAgaWYgKHNpbXBsZVBhdGgpIHsKCSAgICAgIHNlbGYucGF0aCA9IHJlc3Q7CgkgICAgICBzZWxmLmhyZWYgPSByZXN0OwoJICAgICAgc2VsZi5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07CgkgICAgICBpZiAoc2ltcGxlUGF0aFsyXSkgewoJICAgICAgICBzZWxmLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07CgkgICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7CgkgICAgICAgICAgc2VsZi5xdWVyeSA9IHBhcnNlJDEoc2VsZi5zZWFyY2guc3Vic3RyKDEpKTsKCSAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICBzZWxmLnF1ZXJ5ID0gc2VsZi5zZWFyY2guc3Vic3RyKDEpOwoJICAgICAgICB9CgkgICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHsKCSAgICAgICAgc2VsZi5zZWFyY2ggPSAnJzsKCSAgICAgICAgc2VsZi5xdWVyeSA9IHt9OwoJICAgICAgfQoJICAgICAgcmV0dXJuIHNlbGY7CgkgICAgfQoJICB9CgoJICB2YXIgcHJvdG8gPSBwcm90b2NvbFBhdHRlcm4uZXhlYyhyZXN0KTsKCSAgaWYgKHByb3RvKSB7CgkgICAgcHJvdG8gPSBwcm90b1swXTsKCSAgICB2YXIgbG93ZXJQcm90byA9IHByb3RvLnRvTG93ZXJDYXNlKCk7CgkgICAgc2VsZi5wcm90b2NvbCA9IGxvd2VyUHJvdG87CgkgICAgcmVzdCA9IHJlc3Quc3Vic3RyKHByb3RvLmxlbmd0aCk7CgkgIH0KCgkgIC8vIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0CgkgIC8vIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmwKCSAgLy8gcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQncwoJICAvLyBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy4KCSAgaWYgKHNsYXNoZXNEZW5vdGVIb3N0IHx8IHByb3RvIHx8IHJlc3QubWF0Y2goL15cL1wvW15AXC9dK0BbXkBcL10rLykpIHsKCSAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nOwoJICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7CgkgICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7CgkgICAgICBzZWxmLnNsYXNoZXMgPSB0cnVlOwoJICAgIH0KCSAgfQoJICB2YXIgaSwgaGVjLCBsLCBwOwoJICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmCgkgICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHsKCgkgICAgLy8gdGhlcmUncyBhIGhvc3RuYW1lLgoJICAgIC8vIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiAvLCA/LCA7LCBvciAjIGVuZHMgdGhlIGhvc3QuCgkgICAgLy8KCSAgICAvLyBJZiB0aGVyZSBpcyBhbiBAIGluIHRoZSBob3N0bmFtZSwgdGhlbiBub24taG9zdCBjaGFycyAqYXJlKiBhbGxvd2VkCgkgICAgLy8gdG8gdGhlIGxlZnQgb2YgdGhlIGxhc3QgQCBzaWduLCB1bmxlc3Mgc29tZSBob3N0LWVuZGluZyBjaGFyYWN0ZXIKCSAgICAvLyBjb21lcyAqYmVmb3JlKiB0aGUgQC1zaWduLgoJICAgIC8vIFVSTHMgYXJlIG9ibm94aW91cy4KCSAgICAvLwoJICAgIC8vIGV4OgoJICAgIC8vIGh0dHA6Ly9hQGJAYy8gPT4gdXNlcjphQGIgaG9zdDpjCgkgICAgLy8gaHR0cDovL2FAYj9AYyA9PiB1c2VyOmEgaG9zdDpjIHBhdGg6Lz9AYwoKCSAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuCgkgICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS4KCgkgICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFycwoJICAgIHZhciBob3N0RW5kID0gLTE7CgkgICAgZm9yIChpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykgewoJICAgICAgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7CgkgICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpCgkgICAgICAgIGhvc3RFbmQgPSBoZWM7CgkgICAgfQoKCSAgICAvLyBhdCB0aGlzIHBvaW50LCBlaXRoZXIgd2UgaGF2ZSBhbiBleHBsaWNpdCBwb2ludCB3aGVyZSB0aGUKCSAgICAvLyBhdXRoIHBvcnRpb24gY2Fubm90IGdvIHBhc3QsIG9yIHRoZSBsYXN0IEAgY2hhciBpcyB0aGUgZGVjaWRlci4KCSAgICB2YXIgYXV0aCwgYXRTaWduOwoJICAgIGlmIChob3N0RW5kID09PSAtMSkgewoJICAgICAgLy8gYXRTaWduIGNhbiBiZSBhbnl3aGVyZS4KCSAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnKTsKCSAgICB9IGVsc2UgewoJICAgICAgLy8gYXRTaWduIG11c3QgYmUgaW4gYXV0aCBwb3J0aW9uLgoJICAgICAgLy8gaHR0cDovL2FAYi9jQGQgPT4gaG9zdDpiIGF1dGg6YSBwYXRoOi9jQGQKCSAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnLCBob3N0RW5kKTsKCSAgICB9CgoJICAgIC8vIE5vdyB3ZSBoYXZlIGEgcG9ydGlvbiB3aGljaCBpcyBkZWZpbml0ZWx5IHRoZSBhdXRoLgoJICAgIC8vIFB1bGwgdGhhdCBvZmYuCgkgICAgaWYgKGF0U2lnbiAhPT0gLTEpIHsKCSAgICAgIGF1dGggPSByZXN0LnNsaWNlKDAsIGF0U2lnbik7CgkgICAgICByZXN0ID0gcmVzdC5zbGljZShhdFNpZ24gKyAxKTsKCSAgICAgIHNlbGYuYXV0aCA9IGRlY29kZVVSSUNvbXBvbmVudChhdXRoKTsKCSAgICB9CgoJICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXIKCSAgICBob3N0RW5kID0gLTE7CgkgICAgZm9yIChpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykgewoJICAgICAgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7CgkgICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpCgkgICAgICAgIGhvc3RFbmQgPSBoZWM7CgkgICAgfQoJICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC4KCSAgICBpZiAoaG9zdEVuZCA9PT0gLTEpCgkgICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7CgoJICAgIHNlbGYuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7CgkgICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7CgoJICAgIC8vIHB1bGwgb3V0IHBvcnQuCgkgICAgcGFyc2VIb3N0KHNlbGYpOwoKCSAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLAoJICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuCgkgICAgc2VsZi5ob3N0bmFtZSA9IHNlbGYuaG9zdG5hbWUgfHwgJyc7CgoJICAgIC8vIGlmIGhvc3RuYW1lIGJlZ2lucyB3aXRoIFsgYW5kIGVuZHMgd2l0aCBdCgkgICAgLy8gYXNzdW1lIHRoYXQgaXQncyBhbiBJUHY2IGFkZHJlc3MuCgkgICAgdmFyIGlwdjZIb3N0bmFtZSA9IHNlbGYuaG9zdG5hbWVbMF0gPT09ICdbJyAmJgoJICAgICAgc2VsZi5ob3N0bmFtZVtzZWxmLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7CgoJICAgIC8vIHZhbGlkYXRlIGEgbGl0dGxlLgoJICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7CgkgICAgICB2YXIgaG9zdHBhcnRzID0gc2VsZi5ob3N0bmFtZS5zcGxpdCgvXC4vKTsKCSAgICAgIGZvciAoaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CgkgICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldOwoJICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlOwoJICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHsKCSAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnOwoJICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHsKCSAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHsKCSAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyCgkgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3QKCSAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZwoJICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JzsKCSAgICAgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICB9CgkgICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seQoJICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkgewoJICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7CgkgICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7CgkgICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7CgkgICAgICAgICAgICBpZiAoYml0KSB7CgkgICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pOwoJICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkgewoJICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgc2VsZi5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpOwoJICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICB9CgkgICAgfQoKCSAgICBpZiAoc2VsZi5ob3N0bmFtZS5sZW5ndGggPiBob3N0bmFtZU1heExlbikgewoJICAgICAgc2VsZi5ob3N0bmFtZSA9ICcnOwoJICAgIH0gZWxzZSB7CgkgICAgICAvLyBob3N0bmFtZXMgYXJlIGFsd2F5cyBsb3dlciBjYXNlLgoJICAgICAgc2VsZi5ob3N0bmFtZSA9IHNlbGYuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTsKCSAgICB9CgoJICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7CgkgICAgICAvLyBJRE5BIFN1cHBvcnQ6IFJldHVybnMgYSBwdW55Y29kZWQgcmVwcmVzZW50YXRpb24gb2YgImRvbWFpbiIuCgkgICAgICAvLyBJdCBvbmx5IGNvbnZlcnRzIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB0aGF0CgkgICAgICAvLyBoYXZlIG5vbi1BU0NJSSBjaGFyYWN0ZXJzLCBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmCgkgICAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LgoJICAgICAgc2VsZi5ob3N0bmFtZSA9IHB1bnljb2RlLmV4cG9ydHMudG9BU0NJSShzZWxmLmhvc3RuYW1lKTsKCSAgICB9CgoJICAgIHAgPSBzZWxmLnBvcnQgPyAnOicgKyBzZWxmLnBvcnQgOiAnJzsKCSAgICB2YXIgaCA9IHNlbGYuaG9zdG5hbWUgfHwgJyc7CgkgICAgc2VsZi5ob3N0ID0gaCArIHA7CgkgICAgc2VsZi5ocmVmICs9IHNlbGYuaG9zdDsKCgkgICAgLy8gc3RyaXAgWyBhbmQgXSBmcm9tIHRoZSBob3N0bmFtZQoJICAgIC8vIHRoZSBob3N0IGZpZWxkIHN0aWxsIHJldGFpbnMgdGhlbSwgdGhvdWdoCgkgICAgaWYgKGlwdjZIb3N0bmFtZSkgewoJICAgICAgc2VsZi5ob3N0bmFtZSA9IHNlbGYuaG9zdG5hbWUuc3Vic3RyKDEsIHNlbGYuaG9zdG5hbWUubGVuZ3RoIC0gMik7CgkgICAgICBpZiAocmVzdFswXSAhPT0gJy8nKSB7CgkgICAgICAgIHJlc3QgPSAnLycgKyByZXN0OwoJICAgICAgfQoJICAgIH0KCSAgfQoKCSAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuCgkgIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy4KCSAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkgewoKCSAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgImF1dG9Fc2NhcGUiIGNoYXJzIGdldAoJICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleQoJICAgIC8vIG5lZWQgdG8gYmUuCgkgICAgZm9yIChpID0gMCwgbCA9IGF1dG9Fc2NhcGUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CgkgICAgICB2YXIgYWUgPSBhdXRvRXNjYXBlW2ldOwoJICAgICAgaWYgKHJlc3QuaW5kZXhPZihhZSkgPT09IC0xKQoJICAgICAgICBjb250aW51ZTsKCSAgICAgIHZhciBlc2MgPSBlbmNvZGVVUklDb21wb25lbnQoYWUpOwoJICAgICAgaWYgKGVzYyA9PT0gYWUpIHsKCSAgICAgICAgZXNjID0gZXNjYXBlKGFlKTsKCSAgICAgIH0KCSAgICAgIHJlc3QgPSByZXN0LnNwbGl0KGFlKS5qb2luKGVzYyk7CgkgICAgfQoJICB9CgoKCSAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC4KCSAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTsKCSAgaWYgKGhhc2ggIT09IC0xKSB7CgkgICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLgoJICAgIHNlbGYuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpOwoJICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpOwoJICB9CgkgIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpOwoJICBpZiAocW0gIT09IC0xKSB7CgkgICAgc2VsZi5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7CgkgICAgc2VsZi5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7CgkgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHsKCSAgICAgIHNlbGYucXVlcnkgPSBwYXJzZSQxKHNlbGYucXVlcnkpOwoJICAgIH0KCSAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7CgkgIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykgewoJICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkCgkgICAgc2VsZi5zZWFyY2ggPSAnJzsKCSAgICBzZWxmLnF1ZXJ5ID0ge307CgkgIH0KCSAgaWYgKHJlc3QpIHNlbGYucGF0aG5hbWUgPSByZXN0OwoJICBpZiAoc2xhc2hlZFByb3RvY29sW2xvd2VyUHJvdG9dICYmCgkgICAgc2VsZi5ob3N0bmFtZSAmJiAhc2VsZi5wYXRobmFtZSkgewoJICAgIHNlbGYucGF0aG5hbWUgPSAnLyc7CgkgIH0KCgkgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3QKCSAgaWYgKHNlbGYucGF0aG5hbWUgfHwgc2VsZi5zZWFyY2gpIHsKCSAgICBwID0gc2VsZi5wYXRobmFtZSB8fCAnJzsKCSAgICB2YXIgcyA9IHNlbGYuc2VhcmNoIHx8ICcnOwoJICAgIHNlbGYucGF0aCA9IHAgKyBzOwoJICB9CgoJICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC4KCSAgc2VsZi5ocmVmID0gZm9ybWF0KHNlbGYpOwoJICByZXR1cm4gc2VsZjsKCX0KCgkvLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nCglmdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7CgkgIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuCgkgIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuCgkgIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3MKCSAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy4KCSAgaWYgKGlzU3RyaW5nKG9iaikpIG9iaiA9IHBhcnNlKHt9LCBvYmopOwoJICByZXR1cm4gZm9ybWF0KG9iaik7Cgl9CgoJZnVuY3Rpb24gZm9ybWF0KHNlbGYpIHsKCSAgdmFyIGF1dGggPSBzZWxmLmF1dGggfHwgJyc7CgkgIGlmIChhdXRoKSB7CgkgICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTsKCSAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTsKCSAgICBhdXRoICs9ICdAJzsKCSAgfQoKCSAgdmFyIHByb3RvY29sID0gc2VsZi5wcm90b2NvbCB8fCAnJywKCSAgICBwYXRobmFtZSA9IHNlbGYucGF0aG5hbWUgfHwgJycsCgkgICAgaGFzaCA9IHNlbGYuaGFzaCB8fCAnJywKCSAgICBob3N0ID0gZmFsc2UsCgkgICAgcXVlcnkgPSAnJzsKCgkgIGlmIChzZWxmLmhvc3QpIHsKCSAgICBob3N0ID0gYXV0aCArIHNlbGYuaG9zdDsKCSAgfSBlbHNlIGlmIChzZWxmLmhvc3RuYW1lKSB7CgkgICAgaG9zdCA9IGF1dGggKyAoc2VsZi5ob3N0bmFtZS5pbmRleE9mKCc6JykgPT09IC0xID8KCSAgICAgIHNlbGYuaG9zdG5hbWUgOgoJICAgICAgJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7CgkgICAgaWYgKHNlbGYucG9ydCkgewoJICAgICAgaG9zdCArPSAnOicgKyBzZWxmLnBvcnQ7CgkgICAgfQoJICB9CgoJICBpZiAoc2VsZi5xdWVyeSAmJgoJICAgIGlzT2JqZWN0KHNlbGYucXVlcnkpICYmCgkgICAgT2JqZWN0LmtleXMoc2VsZi5xdWVyeSkubGVuZ3RoKSB7CgkgICAgcXVlcnkgPSBzdHJpbmdpZnkoc2VsZi5xdWVyeSk7CgkgIH0KCgkgIHZhciBzZWFyY2ggPSBzZWxmLnNlYXJjaCB8fCAocXVlcnkgJiYgKCc/JyArIHF1ZXJ5KSkgfHwgJyc7CgoJICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7CgoJICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy4KCSAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC4KCSAgaWYgKHNlbGYuc2xhc2hlcyB8fAoJICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHsKCSAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTsKCSAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7CgkgIH0gZWxzZSBpZiAoIWhvc3QpIHsKCSAgICBob3N0ID0gJyc7CgkgIH0KCgkgIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoOwoJICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoOwoKCSAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7CgkgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7CgkgIH0pOwoJICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTsKCgkgIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7Cgl9CgoJVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHsKCSAgcmV0dXJuIGZvcm1hdCh0aGlzKTsKCX07CgoJZnVuY3Rpb24gdXJsUmVzb2x2ZShzb3VyY2UsIHJlbGF0aXZlKSB7CgkgIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlKHJlbGF0aXZlKTsKCX0KCglVcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkgewoJICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpOwoJfTsKCglmdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHsKCSAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTsKCSAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpOwoJfQoKCVVybC5wcm90b3R5cGUucmVzb2x2ZU9iamVjdCA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7CgkgIGlmIChpc1N0cmluZyhyZWxhdGl2ZSkpIHsKCSAgICB2YXIgcmVsID0gbmV3IFVybCgpOwoJICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpOwoJICAgIHJlbGF0aXZlID0gcmVsOwoJICB9CgoJICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpOwoJICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTsKCSAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykgewoJICAgIHZhciB0a2V5ID0gdGtleXNbdGtdOwoJICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07CgkgIH0KCgkgIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LgoJICAvLyBldmVuIGhyZWY9IiIgd2lsbCByZW1vdmUgaXQuCgkgIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDsKCgkgIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS4KCSAgaWYgKHJlbGF0aXZlLmhyZWYgPT09ICcnKSB7CgkgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7CgkgICAgcmV0dXJuIHJlc3VsdDsKCSAgfQoKCSAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuCgkgIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkgewoJICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmUKCSAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7CgkgICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykgewoJICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107CgkgICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJykKCSAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07CgkgICAgfQoKCSAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbQoJICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJgoJICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHsKCSAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nOwoJICAgIH0KCgkgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7CgkgICAgcmV0dXJuIHJlc3VsdDsKCSAgfQoJICB2YXIgcmVsUGF0aDsKCSAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHsKCSAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nCgkgICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzCgkgICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsCgkgICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGgKCSAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguCgkgICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCwKCSAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy4KCSAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuCgkgICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7CgkgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTsKCSAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykgewoJICAgICAgICB2YXIgayA9IGtleXNbdl07CgkgICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdOwoJICAgICAgfQoJICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7CgkgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH0KCgkgICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7CgkgICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkgewoJICAgICAgcmVsUGF0aCA9IChyZWxhdGl2ZS5wYXRobmFtZSB8fCAnJykuc3BsaXQoJy8nKTsKCSAgICAgIHdoaWxlIChyZWxQYXRoLmxlbmd0aCAmJiAhKHJlbGF0aXZlLmhvc3QgPSByZWxQYXRoLnNoaWZ0KCkpKTsKCSAgICAgIGlmICghcmVsYXRpdmUuaG9zdCkgcmVsYXRpdmUuaG9zdCA9ICcnOwoJICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0bmFtZSkgcmVsYXRpdmUuaG9zdG5hbWUgPSAnJzsKCSAgICAgIGlmIChyZWxQYXRoWzBdICE9PSAnJykgcmVsUGF0aC51bnNoaWZ0KCcnKTsKCSAgICAgIGlmIChyZWxQYXRoLmxlbmd0aCA8IDIpIHJlbFBhdGgudW5zaGlmdCgnJyk7CgkgICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oJy8nKTsKCSAgICB9IGVsc2UgewoJICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7CgkgICAgfQoJICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7CgkgICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7CgkgICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8ICcnOwoJICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aDsKCSAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0OwoJICAgIHJlc3VsdC5wb3J0ID0gcmVsYXRpdmUucG9ydDsKCSAgICAvLyB0byBzdXBwb3J0IGh0dHAucmVxdWVzdAoJICAgIGlmIChyZXN1bHQucGF0aG5hbWUgfHwgcmVzdWx0LnNlYXJjaCkgewoJICAgICAgdmFyIHAgPSByZXN1bHQucGF0aG5hbWUgfHwgJyc7CgkgICAgICB2YXIgcyA9IHJlc3VsdC5zZWFyY2ggfHwgJyc7CgkgICAgICByZXN1bHQucGF0aCA9IHAgKyBzOwoJICAgIH0KCSAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7CgkgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7CgkgICAgcmV0dXJuIHJlc3VsdDsKCSAgfQoKCSAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLAoJICAgIGlzUmVsQWJzID0gKAoJICAgICAgcmVsYXRpdmUuaG9zdCB8fAoJICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycKCSAgICApLAoJICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHwKCSAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLAoJICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLAoJICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sCgkgICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTsKCSAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW107CgkgIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmUKCSAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZQoJICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuCgkgIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuCgkgIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLgoJICBpZiAocHN5Y2hvdGljKSB7CgkgICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7CgkgICAgcmVzdWx0LnBvcnQgPSBudWxsOwoJICAgIGlmIChyZXN1bHQuaG9zdCkgewoJICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7CgkgICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7CgkgICAgfQoJICAgIHJlc3VsdC5ob3N0ID0gJyc7CgkgICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7CgkgICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7CgkgICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDsKCSAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7CgkgICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7CgkgICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpOwoJICAgICAgfQoJICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7CgkgICAgfQoJICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7CgkgIH0KCSAgdmFyIGF1dGhJbkhvc3Q7CgkgIGlmIChpc1JlbEFicykgewoJICAgIC8vIGl0J3MgYWJzb2x1dGUuCgkgICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgPwoJICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0OwoJICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID8KCSAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lOwoJICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7CgkgICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7CgkgICAgc3JjUGF0aCA9IHJlbFBhdGg7CgkgICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuCgkgIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHsKCSAgICAvLyBpdCdzIHJlbGF0aXZlCgkgICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuCgkgICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107CgkgICAgc3JjUGF0aC5wb3AoKTsKCSAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7CgkgICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDsKCSAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTsKCSAgfSBlbHNlIGlmICghaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkgewoJICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC4KCSAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLgoJICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFucwoJICAgIGlmIChwc3ljaG90aWMpIHsKCSAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpOwoJICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdAoJICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlCgkgICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKQoJICAgICAgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgPwoJICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7CgkgICAgICBpZiAoYXV0aEluSG9zdCkgewoJICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTsKCSAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7CgkgICAgICB9CgkgICAgfQoJICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7CgkgICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7CgkgICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdAoJICAgIGlmICghaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIWlzTnVsbChyZXN1bHQuc2VhcmNoKSkgewoJICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICsKCSAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpOwoJICAgIH0KCSAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTsKCSAgICByZXR1cm4gcmVzdWx0OwoJICB9CgoJICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7CgkgICAgLy8gbm8gcGF0aCBhdCBhbGwuICBlYXN5LgoJICAgIC8vIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGUgb3RoZXIgc3R1ZmYgYWJvdmUuCgkgICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDsKCSAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0CgkgICAgaWYgKHJlc3VsdC5zZWFyY2gpIHsKCSAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDsKCSAgICB9IGVsc2UgewoJICAgICAgcmVzdWx0LnBhdGggPSBudWxsOwoJICAgIH0KCSAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTsKCSAgICByZXR1cm4gcmVzdWx0OwoJICB9CgoJICAvLyBpZiBhIHVybCBFTkRzIGluIC4gb3IgLi4sIHRoZW4gaXQgbXVzdCBnZXQgYSB0cmFpbGluZyBzbGFzaC4KCSAgLy8gaG93ZXZlciwgaWYgaXQgZW5kcyBpbiBhbnl0aGluZyBlbHNlIG5vbi1zbGFzaHksCgkgIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guCgkgIHZhciBsYXN0ID0gc3JjUGF0aC5zbGljZSgtMSlbMF07CgkgIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gKAoJICAgIChyZXN1bHQuaG9zdCB8fCByZWxhdGl2ZS5ob3N0IHx8IHNyY1BhdGgubGVuZ3RoID4gMSkgJiYKCSAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTsKCgkgIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXIKCSAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDAKCSAgdmFyIHVwID0gMDsKCSAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkgewoJICAgIGxhc3QgPSBzcmNQYXRoW2ldOwoJICAgIGlmIChsYXN0ID09PSAnLicpIHsKCSAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpOwoJICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykgewoJICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7CgkgICAgICB1cCsrOwoJICAgIH0gZWxzZSBpZiAodXApIHsKCSAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpOwoJICAgICAgdXAtLTsKCSAgICB9CgkgIH0KCgkgIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnMKCSAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7CgkgICAgZm9yICg7IHVwLS07IHVwKSB7CgkgICAgICBzcmNQYXRoLnVuc2hpZnQoJy4uJyk7CgkgICAgfQoJICB9CgoJICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJgoJICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkgewoJICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7CgkgIH0KCgkgIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7CgkgICAgc3JjUGF0aC5wdXNoKCcnKTsKCSAgfQoKCSAgdmFyIGlzQWJzb2x1dGUgPSBzcmNQYXRoWzBdID09PSAnJyB8fAoJICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpOwoKCSAgLy8gcHV0IHRoZSBob3N0IGJhY2sKCSAgaWYgKHBzeWNob3RpYykgewoJICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gaXNBYnNvbHV0ZSA/ICcnIDoKCSAgICAgIHNyY1BhdGgubGVuZ3RoID8gc3JjUGF0aC5zaGlmdCgpIDogJyc7CgkgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdAoJICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZQoJICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpCgkgICAgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgPwoJICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlOwoJICAgIGlmIChhdXRoSW5Ib3N0KSB7CgkgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTsKCSAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpOwoJICAgIH0KCSAgfQoKCSAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTsKCgkgIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7CgkgICAgc3JjUGF0aC51bnNoaWZ0KCcnKTsKCSAgfQoKCSAgaWYgKCFzcmNQYXRoLmxlbmd0aCkgewoJICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7CgkgICAgcmVzdWx0LnBhdGggPSBudWxsOwoJICB9IGVsc2UgewoJICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpOwoJICB9CgoJICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwCgkgIGlmICghaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIWlzTnVsbChyZXN1bHQuc2VhcmNoKSkgewoJICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArCgkgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7CgkgIH0KCSAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoOwoJICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7CgkgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpOwoJICByZXR1cm4gcmVzdWx0OwoJfTsKCglVcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkgewoJICByZXR1cm4gcGFyc2VIb3N0KHRoaXMpOwoJfTsKCglmdW5jdGlvbiBwYXJzZUhvc3Qoc2VsZikgewoJICB2YXIgaG9zdCA9IHNlbGYuaG9zdDsKCSAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpOwoJICBpZiAocG9ydCkgewoJICAgIHBvcnQgPSBwb3J0WzBdOwoJICAgIGlmIChwb3J0ICE9PSAnOicpIHsKCSAgICAgIHNlbGYucG9ydCA9IHBvcnQuc3Vic3RyKDEpOwoJICAgIH0KCSAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7CgkgIH0KCSAgaWYgKGhvc3QpIHNlbGYuaG9zdG5hbWUgPSBob3N0OwoJfQoKCXZhciBoYXNGZXRjaCA9IGlzRnVuY3Rpb24oZ2xvYmFsJDEuZmV0Y2gpICYmIGlzRnVuY3Rpb24oZ2xvYmFsJDEuUmVhZGFibGVTdHJlYW0pOwoKCXZhciBfYmxvYkNvbnN0cnVjdG9yOwoJZnVuY3Rpb24gYmxvYkNvbnN0cnVjdG9yKCkgewoJICBpZiAodHlwZW9mIF9ibG9iQ29uc3RydWN0b3IgIT09ICd1bmRlZmluZWQnKSB7CgkgICAgcmV0dXJuIF9ibG9iQ29uc3RydWN0b3I7CgkgIH0KCSAgdHJ5IHsKCSAgICBuZXcgZ2xvYmFsJDEuQmxvYihbbmV3IEFycmF5QnVmZmVyKDEpXSk7CgkgICAgX2Jsb2JDb25zdHJ1Y3RvciA9IHRydWU7CgkgIH0gY2F0Y2ggKGUpIHsKCSAgICBfYmxvYkNvbnN0cnVjdG9yID0gZmFsc2U7CgkgIH0KCSAgcmV0dXJuIF9ibG9iQ29uc3RydWN0b3IKCX0KCXZhciB4aHI7CgoJZnVuY3Rpb24gY2hlY2tUeXBlU3VwcG9ydCh0eXBlKSB7CgkgIGlmICgheGhyKSB7CgkgICAgeGhyID0gbmV3IGdsb2JhbCQxLlhNTEh0dHBSZXF1ZXN0KCk7CgkgICAgLy8gSWYgbG9jYXRpb24uaG9zdCBpcyBlbXB0eSwgZS5nLiBpZiB0aGlzIHBhZ2Uvd29ya2VyIHdhcyBsb2FkZWQKCSAgICAvLyBmcm9tIGEgQmxvYiwgdGhlbiB1c2UgZXhhbXBsZS5jb20gdG8gYXZvaWQgYW4gZXJyb3IKCSAgICB4aHIub3BlbignR0VUJywgZ2xvYmFsJDEubG9jYXRpb24uaG9zdCA/ICcvJyA6ICdodHRwczovL2V4YW1wbGUuY29tJyk7CgkgIH0KCSAgdHJ5IHsKCSAgICB4aHIucmVzcG9uc2VUeXBlID0gdHlwZTsKCSAgICByZXR1cm4geGhyLnJlc3BvbnNlVHlwZSA9PT0gdHlwZQoJICB9IGNhdGNoIChlKSB7CgkgICAgcmV0dXJuIGZhbHNlCgkgIH0KCgl9CgoJLy8gRm9yIHNvbWUgc3RyYW5nZSByZWFzb24sIFNhZmFyaSA3LjAgcmVwb3J0cyB0eXBlb2YgZ2xvYmFsLkFycmF5QnVmZmVyID09PSAnb2JqZWN0Jy4KCS8vIFNhZmFyaSA3LjEgYXBwZWFycyB0byBoYXZlIGZpeGVkIHRoaXMgYnVnLgoJdmFyIGhhdmVBcnJheUJ1ZmZlciA9IHR5cGVvZiBnbG9iYWwkMS5BcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCc7Cgl2YXIgaGF2ZVNsaWNlID0gaGF2ZUFycmF5QnVmZmVyICYmIGlzRnVuY3Rpb24oZ2xvYmFsJDEuQXJyYXlCdWZmZXIucHJvdG90eXBlLnNsaWNlKTsKCgl2YXIgYXJyYXlidWZmZXIgPSBoYXZlQXJyYXlCdWZmZXIgJiYgY2hlY2tUeXBlU3VwcG9ydCgnYXJyYXlidWZmZXInKTsKCSAgLy8gVGhlc2UgbmV4dCB0d28gdGVzdHMgdW5hdm9pZGFibHkgc2hvdyB3YXJuaW5ncyBpbiBDaHJvbWUuIFNpbmNlIGZldGNoIHdpbGwgYWx3YXlzCgkgIC8vIGJlIHVzZWQgaWYgaXQncyBhdmFpbGFibGUsIGp1c3QgcmV0dXJuIGZhbHNlIGZvciB0aGVzZSB0byBhdm9pZCB0aGUgd2FybmluZ3MuCgl2YXIgbXNzdHJlYW0gPSAhaGFzRmV0Y2ggJiYgaGF2ZVNsaWNlICYmIGNoZWNrVHlwZVN1cHBvcnQoJ21zLXN0cmVhbScpOwoJdmFyIG1vemNodW5rZWRhcnJheWJ1ZmZlciA9ICFoYXNGZXRjaCAmJiBoYXZlQXJyYXlCdWZmZXIgJiYKCSAgY2hlY2tUeXBlU3VwcG9ydCgnbW96LWNodW5rZWQtYXJyYXlidWZmZXInKTsKCXZhciBvdmVycmlkZU1pbWVUeXBlID0gaXNGdW5jdGlvbih4aHIub3ZlcnJpZGVNaW1lVHlwZSk7Cgl2YXIgdmJBcnJheSA9IGlzRnVuY3Rpb24oZ2xvYmFsJDEuVkJBcnJheSk7CgoJZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkgewoJICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nCgl9CgoJeGhyID0gbnVsbDsgLy8gSGVscCBnYwoKCXZhciBldmVudHMkMSA9IHtleHBvcnRzOiB7fX07CgoJdmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbDsKCXZhciBSZWZsZWN0QXBwbHkgPSBSICYmIHR5cGVvZiBSLmFwcGx5ID09PSAnZnVuY3Rpb24nCgkgID8gUi5hcHBseQoJICA6IGZ1bmN0aW9uIFJlZmxlY3RBcHBseSh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKSB7CgkgICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpOwoJICB9OwoKCXZhciBSZWZsZWN0T3duS2V5czsKCWlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHsKCSAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXM7Cgl9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKCSAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHsKCSAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KQoJICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpOwoJICB9OwoJfSBlbHNlIHsKCSAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHsKCSAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTsKCSAgfTsKCX0KCglmdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykgewoJICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTsKCX0KCgl2YXIgTnVtYmVySXNOYU4gPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gTnVtYmVySXNOYU4odmFsdWUpIHsKCSAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTsKCX07CgoJZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkgewoJICBFdmVudEVtaXR0ZXIuaW5pdC5jYWxsKHRoaXMpOwoJfQoJZXZlbnRzJDEuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjsKCWV2ZW50cyQxLmV4cG9ydHMub25jZSA9IG9uY2U7CgoJLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54CglFdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyOwoKCUV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDsKCUV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDsKCUV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDsKCgkvLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmUKCS8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuCgl2YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwOwoKCWZ1bmN0aW9uIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpIHsKCSAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAibGlzdGVuZXIiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTsKCSAgfQoJfQoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsICdkZWZhdWx0TWF4TGlzdGVuZXJzJywgewoJICBlbnVtZXJhYmxlOiB0cnVlLAoJICBnZXQ6IGZ1bmN0aW9uKCkgewoJICAgIHJldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzOwoJICB9LAoJICBzZXQ6IGZ1bmN0aW9uKGFyZykgewoJICAgIGlmICh0eXBlb2YgYXJnICE9PSAnbnVtYmVyJyB8fCBhcmcgPCAwIHx8IE51bWJlcklzTmFOKGFyZykpIHsKCSAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgImRlZmF1bHRNYXhMaXN0ZW5lcnMiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpOwoJICAgIH0KCSAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnOwoJICB9Cgl9KTsKCglFdmVudEVtaXR0ZXIuaW5pdCA9IGZ1bmN0aW9uKCkgewoKCSAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8CgkgICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7CgkgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKCSAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7CgkgIH0KCgkgIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7Cgl9OwoKCS8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93cwoJLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuCglFdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycyhuKSB7CgkgIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgbiA8IDAgfHwgTnVtYmVySXNOYU4obikpIHsKCSAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mICJuIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7CgkgIH0KCSAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjsKCSAgcmV0dXJuIHRoaXM7Cgl9OwoKCWZ1bmN0aW9uIF9nZXRNYXhMaXN0ZW5lcnModGhhdCkgewoJICBpZiAodGhhdC5fbWF4TGlzdGVuZXJzID09PSB1bmRlZmluZWQpCgkgICAgcmV0dXJuIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzOwoJICByZXR1cm4gdGhhdC5fbWF4TGlzdGVuZXJzOwoJfQoKCUV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkgewoJICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTsKCX07CgoJRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7CgkgIHZhciBhcmdzID0gW107CgkgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTsKCSAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7CgoJICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzOwoJICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpCgkgICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PT0gdW5kZWZpbmVkKTsKCSAgZWxzZSBpZiAoIWRvRXJyb3IpCgkgICAgcmV0dXJuIGZhbHNlOwoKCSAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LgoJICBpZiAoZG9FcnJvcikgewoJICAgIHZhciBlcjsKCSAgICBpZiAoYXJncy5sZW5ndGggPiAwKQoJICAgICAgZXIgPSBhcmdzWzBdOwoJICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7CgkgICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3cKCSAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uCgkgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnQKCSAgICB9CgkgICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlcgoJICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpOwoJICAgIGVyci5jb250ZXh0ID0gZXI7CgkgICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudAoJICB9CgoJICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTsKCgkgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpCgkgICAgcmV0dXJuIGZhbHNlOwoKCSAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7CgkgICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpOwoJICB9IGVsc2UgewoJICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDsKCSAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pOwoJICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpCgkgICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTsKCSAgfQoKCSAgcmV0dXJuIHRydWU7Cgl9OwoKCWZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7CgkgIHZhciBtOwoJICB2YXIgZXZlbnRzOwoJICB2YXIgZXhpc3Rpbmc7CgoJICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTsKCgkgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzOwoJICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHsKCSAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7CgkgICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7CgkgIH0gZWxzZSB7CgkgICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gIm5ld0xpc3RlbmVyIiEgQmVmb3JlCgkgICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgIm5ld0xpc3RlbmVyIi4KCSAgICBpZiAoZXZlbnRzLm5ld0xpc3RlbmVyICE9PSB1bmRlZmluZWQpIHsKCSAgICAgIHRhcmdldC5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsCgkgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpOwoKCSAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGUKCSAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3QKCSAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzOwoJICAgIH0KCSAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTsKCSAgfQoKCSAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHsKCSAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC4KCSAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyOwoJICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDsKCSAgfSBlbHNlIHsKCSAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7CgkgICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS4KCSAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0KCSAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07CgkgICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuCgkgICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7CgkgICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTsKCSAgICB9IGVsc2UgewoJICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7CgkgICAgfQoKCSAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVhawoJICAgIG0gPSBfZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCk7CgkgICAgaWYgKG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0gJiYgIWV4aXN0aW5nLndhcm5lZCkgewoJICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTsKCSAgICAgIC8vIE5vIGVycm9yIGNvZGUgZm9yIHRoaXMgc2luY2UgaXQgaXMgYSBXYXJuaW5nCgkgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXgKCSAgICAgIHZhciB3ID0gbmV3IEVycm9yKCdQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICcgKwoJICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnICcgKyBTdHJpbmcodHlwZSkgKyAnIGxpc3RlbmVycyAnICsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byAnICsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY3JlYXNlIGxpbWl0Jyk7CgkgICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJzsKCSAgICAgIHcuZW1pdHRlciA9IHRhcmdldDsKCSAgICAgIHcudHlwZSA9IHR5cGU7CgkgICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoOwoJICAgICAgUHJvY2Vzc0VtaXRXYXJuaW5nKHcpOwoJICAgIH0KCSAgfQoKCSAgcmV0dXJuIHRhcmdldDsKCX0KCglFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKCSAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpOwoJfTsKCglFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjsKCglFdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9CgkgICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CgkgICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTsKCSAgICB9OwoKCWZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkgewoJICBpZiAoIXRoaXMuZmlyZWQpIHsKCSAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTsKCSAgICB0aGlzLmZpcmVkID0gdHJ1ZTsKCSAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkKCSAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpOwoJICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpOwoJICB9Cgl9CgoJZnVuY3Rpb24gX29uY2VXcmFwKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIpIHsKCSAgdmFyIHN0YXRlID0geyBmaXJlZDogZmFsc2UsIHdyYXBGbjogdW5kZWZpbmVkLCB0YXJnZXQ6IHRhcmdldCwgdHlwZTogdHlwZSwgbGlzdGVuZXI6IGxpc3RlbmVyIH07CgkgIHZhciB3cmFwcGVkID0gb25jZVdyYXBwZXIuYmluZChzdGF0ZSk7CgkgIHdyYXBwZWQubGlzdGVuZXIgPSBsaXN0ZW5lcjsKCSAgc3RhdGUud3JhcEZuID0gd3JhcHBlZDsKCSAgcmV0dXJuIHdyYXBwZWQ7Cgl9CgoJRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikgewoJICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTsKCSAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTsKCSAgcmV0dXJuIHRoaXM7Cgl9OwoKCUV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9CgkgICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewoJICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7CgkgICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTsKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH07CgoJLy8gRW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmIGFuZCBvbmx5IGlmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZC4KCUV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPQoJICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CgkgICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjsKCgkgICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTsKCgkgICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7CgkgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpCgkgICAgICAgIHJldHVybiB0aGlzOwoKCSAgICAgIGxpc3QgPSBldmVudHNbdHlwZV07CgkgICAgICBpZiAobGlzdCA9PT0gdW5kZWZpbmVkKQoJICAgICAgICByZXR1cm4gdGhpczsKCgkgICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHsKCSAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApCgkgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTsKCSAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKQoJICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpOwoJICAgICAgICB9CgkgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7CgkgICAgICAgIHBvc2l0aW9uID0gLTE7CgoJICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CgkgICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7CgkgICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjsKCSAgICAgICAgICAgIHBvc2l0aW9uID0gaTsKCSAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgIH0KCSAgICAgICAgfQoKCSAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkKCSAgICAgICAgICByZXR1cm4gdGhpczsKCgkgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMCkKCSAgICAgICAgICBsaXN0LnNoaWZ0KCk7CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7CgkgICAgICAgIH0KCgkgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkKCSAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdOwoKCSAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKQoJICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTsKCSAgICAgIH0KCgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoKCUV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjsKCglFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9CgkgICAgZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKHR5cGUpIHsKCSAgICAgIHZhciBsaXN0ZW5lcnMsIGV2ZW50cywgaTsKCgkgICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7CgkgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpCgkgICAgICAgIHJldHVybiB0aGlzOwoKCSAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXQKCSAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkgewoJICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgewoJICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7CgkgICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwOwoJICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7CgkgICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApCgkgICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwoJICAgICAgICAgIGVsc2UKCSAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICB9CgoJICAgICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzCgkgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgewoJICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50cyk7CgkgICAgICAgIHZhciBrZXk7CgkgICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7CgkgICAgICAgICAga2V5ID0ga2V5c1tpXTsKCSAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTsKCSAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpOwoJICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwoJICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7CgkgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgfQoKCSAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTsKCgkgICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykgewoJICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7CgkgICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7CgkgICAgICAgIC8vIExJRk8gb3JkZXIKCSAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CgkgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pOwoJICAgICAgICB9CgkgICAgICB9CgoJICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCglmdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7CgkgIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50czsKCgkgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkKCSAgICByZXR1cm4gW107CgoJICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTsKCSAgaWYgKGV2bGlzdGVuZXIgPT09IHVuZGVmaW5lZCkKCSAgICByZXR1cm4gW107CgoJICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpCgkgICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdOwoKCSAgcmV0dXJuIHVud3JhcCA/CgkgICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7Cgl9CgoJRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnModHlwZSkgewoJICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCB0cnVlKTsKCX07CgoJRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkgewoJICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7Cgl9OwoKCUV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkgewoJICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykgewoJICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7CgkgIH0gZWxzZSB7CgkgICAgcmV0dXJuIGxpc3RlbmVyQ291bnQkMS5jYWxsKGVtaXR0ZXIsIHR5cGUpOwoJICB9Cgl9OwoKCUV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQkMTsKCWZ1bmN0aW9uIGxpc3RlbmVyQ291bnQkMSh0eXBlKSB7CgkgIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7CgoJICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHsKCSAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTsKCgkgICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7CgkgICAgICByZXR1cm4gMTsKCSAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkgewoJICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoOwoJICAgIH0KCSAgfQoKCSAgcmV0dXJuIDA7Cgl9CgoJRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHsKCSAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTsKCX07CgoJZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHsKCSAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7CgkgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKQoJICAgIGNvcHlbaV0gPSBhcnJbaV07CgkgIHJldHVybiBjb3B5OwoJfQoKCWZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkgewoJICBmb3IgKDsgaW5kZXggKyAxIDwgbGlzdC5sZW5ndGg7IGluZGV4KyspCgkgICAgbGlzdFtpbmRleF0gPSBsaXN0W2luZGV4ICsgMV07CgkgIGxpc3QucG9wKCk7Cgl9CgoJZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikgewoJICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOwoJICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkgewoJICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07CgkgIH0KCSAgcmV0dXJuIHJldDsKCX0KCglmdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHsKCSAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCSAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikgewoJICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7CgkgICAgICByZWplY3QoZXJyKTsKCSAgICB9CgoJICAgIGZ1bmN0aW9uIHJlc29sdmVyKCkgewoJICAgICAgaWYgKHR5cGVvZiBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7CgkgICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JMaXN0ZW5lcik7CgkgICAgICB9CgkgICAgICByZXNvbHZlKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7CgkgICAgfQoJICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCByZXNvbHZlciwgeyBvbmNlOiB0cnVlIH0pOwoJICAgIGlmIChuYW1lICE9PSAnZXJyb3InKSB7CgkgICAgICBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBlcnJvckxpc3RlbmVyLCB7IG9uY2U6IHRydWUgfSk7CgkgICAgfQoJICB9KTsKCX0KCglmdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBoYW5kbGVyLCBmbGFncykgewoJICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHsKCSAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgJ2Vycm9yJywgaGFuZGxlciwgZmxhZ3MpOwoJICB9Cgl9CgoJZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykgewoJICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHsKCSAgICBpZiAoZmxhZ3Mub25jZSkgewoJICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTsKCSAgICB9IGVsc2UgewoJICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7CgkgICAgfQoJICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHsKCSAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZQoJICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuCgkgICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHsKCSAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2UKCSAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuCgkgICAgICBpZiAoZmxhZ3Mub25jZSkgewoJICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTsKCSAgICAgIH0KCSAgICAgIGxpc3RlbmVyKGFyZyk7CgkgICAgfSk7CgkgIH0gZWxzZSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJlbWl0dGVyIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZW1pdHRlcik7CgkgIH0KCX0KCgl2YXIgRUUgPSBldmVudHMkMS5leHBvcnRzOwoKCWZ1bmN0aW9uIEJ1ZmZlckxpc3QoKSB7CgkgIHRoaXMuaGVhZCA9IG51bGw7CgkgIHRoaXMudGFpbCA9IG51bGw7CgkgIHRoaXMubGVuZ3RoID0gMDsKCX0KCglCdWZmZXJMaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKHYpIHsKCSAgdmFyIGVudHJ5ID0geyBkYXRhOiB2LCBuZXh0OiBudWxsIH07CgkgIGlmICh0aGlzLmxlbmd0aCA+IDApIHRoaXMudGFpbC5uZXh0ID0gZW50cnk7ZWxzZSB0aGlzLmhlYWQgPSBlbnRyeTsKCSAgdGhpcy50YWlsID0gZW50cnk7CgkgICsrdGhpcy5sZW5ndGg7Cgl9OwoKCUJ1ZmZlckxpc3QucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbiAodikgewoJICB2YXIgZW50cnkgPSB7IGRhdGE6IHYsIG5leHQ6IHRoaXMuaGVhZCB9OwoJICBpZiAodGhpcy5sZW5ndGggPT09IDApIHRoaXMudGFpbCA9IGVudHJ5OwoJICB0aGlzLmhlYWQgPSBlbnRyeTsKCSAgKyt0aGlzLmxlbmd0aDsKCX07CgoJQnVmZmVyTGlzdC5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiAoKSB7CgkgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwoJICB2YXIgcmV0ID0gdGhpcy5oZWFkLmRhdGE7CgkgIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtlbHNlIHRoaXMuaGVhZCA9IHRoaXMuaGVhZC5uZXh0OwoJICAtLXRoaXMubGVuZ3RoOwoJICByZXR1cm4gcmV0OwoJfTsKCglCdWZmZXJMaXN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCSAgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDsKCSAgdGhpcy5sZW5ndGggPSAwOwoJfTsKCglCdWZmZXJMaXN0LnByb3RvdHlwZS5qb2luID0gZnVuY3Rpb24gKHMpIHsKCSAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gJyc7CgkgIHZhciBwID0gdGhpcy5oZWFkOwoJICB2YXIgcmV0ID0gJycgKyBwLmRhdGE7CgkgIHdoaWxlIChwID0gcC5uZXh0KSB7CgkgICAgcmV0ICs9IHMgKyBwLmRhdGE7CgkgIH1yZXR1cm4gcmV0OwoJfTsKCglCdWZmZXJMaXN0LnByb3RvdHlwZS5jb25jYXQgPSBmdW5jdGlvbiAobikgewoJICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiBidWZmZXIuQnVmZmVyLmFsbG9jKDApOwoJICBpZiAodGhpcy5sZW5ndGggPT09IDEpIHJldHVybiB0aGlzLmhlYWQuZGF0YTsKCSAgdmFyIHJldCA9IGJ1ZmZlci5CdWZmZXIuYWxsb2NVbnNhZmUobiA+Pj4gMCk7CgkgIHZhciBwID0gdGhpcy5oZWFkOwoJICB2YXIgaSA9IDA7CgkgIHdoaWxlIChwKSB7CgkgICAgcC5kYXRhLmNvcHkocmV0LCBpKTsKCSAgICBpICs9IHAuZGF0YS5sZW5ndGg7CgkgICAgcCA9IHAubmV4dDsKCSAgfQoJICByZXR1cm4gcmV0OwoJfTsKCgl2YXIgc3RyaW5nX2RlY29kZXIgPSB7fTsKCgl2YXIgc2FmZUJ1ZmZlciA9IHtleHBvcnRzOiB7fX07CgoJLyogZXNsaW50LWRpc2FibGUgbm9kZS9uby1kZXByZWNhdGVkLWFwaSAqLwoKCShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7Cgl2YXIgYnVmZmVyJDEgPSBidWZmZXI7Cgl2YXIgQnVmZmVyID0gYnVmZmVyJDEuQnVmZmVyOwoKCS8vIGFsdGVybmF0aXZlIHRvIHVzaW5nIE9iamVjdC5rZXlzIGZvciBvbGQgYnJvd3NlcnMKCWZ1bmN0aW9uIGNvcHlQcm9wcyAoc3JjLCBkc3QpIHsKCSAgZm9yICh2YXIga2V5IGluIHNyYykgewoJICAgIGRzdFtrZXldID0gc3JjW2tleV07CgkgIH0KCX0KCWlmIChCdWZmZXIuZnJvbSAmJiBCdWZmZXIuYWxsb2MgJiYgQnVmZmVyLmFsbG9jVW5zYWZlICYmIEJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cpIHsKCSAgbW9kdWxlLmV4cG9ydHMgPSBidWZmZXIkMTsKCX0gZWxzZSB7CgkgIC8vIENvcHkgcHJvcGVydGllcyBmcm9tIHJlcXVpcmUoJ2J1ZmZlcicpCgkgIGNvcHlQcm9wcyhidWZmZXIkMSwgZXhwb3J0cyk7CgkgIGV4cG9ydHMuQnVmZmVyID0gU2FmZUJ1ZmZlcjsKCX0KCglmdW5jdGlvbiBTYWZlQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkgewoJICByZXR1cm4gQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKQoJfQoKCS8vIENvcHkgc3RhdGljIG1ldGhvZHMgZnJvbSBCdWZmZXIKCWNvcHlQcm9wcyhCdWZmZXIsIFNhZmVCdWZmZXIpOwoKCVNhZmVCdWZmZXIuZnJvbSA9IGZ1bmN0aW9uIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkgewoJICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpCgkgIH0KCSAgcmV0dXJuIEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkKCX07CgoJU2FmZUJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykgewoJICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpCgkgIH0KCSAgdmFyIGJ1ZiA9IEJ1ZmZlcihzaXplKTsKCSAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkgewoJICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnKSB7CgkgICAgICBidWYuZmlsbChmaWxsLCBlbmNvZGluZyk7CgkgICAgfSBlbHNlIHsKCSAgICAgIGJ1Zi5maWxsKGZpbGwpOwoJICAgIH0KCSAgfSBlbHNlIHsKCSAgICBidWYuZmlsbCgwKTsKCSAgfQoJICByZXR1cm4gYnVmCgl9OwoKCVNhZmVCdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkgewoJICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpCgkgIH0KCSAgcmV0dXJuIEJ1ZmZlcihzaXplKQoJfTsKCglTYWZlQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7CgkgIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJykKCSAgfQoJICByZXR1cm4gYnVmZmVyJDEuU2xvd0J1ZmZlcihzaXplKQoJfTsKCX0oc2FmZUJ1ZmZlciwgc2FmZUJ1ZmZlci5leHBvcnRzKSk7CgoJLyo8cmVwbGFjZW1lbnQ+Ki8KCgl2YXIgQnVmZmVyID0gc2FmZUJ1ZmZlci5leHBvcnRzLkJ1ZmZlcjsKCS8qPC9yZXBsYWNlbWVudD4qLwoKCXZhciBpc0VuY29kaW5nID0gQnVmZmVyLmlzRW5jb2RpbmcgfHwgZnVuY3Rpb24gKGVuY29kaW5nKSB7CgkgIGVuY29kaW5nID0gJycgKyBlbmNvZGluZzsKCSAgc3dpdGNoIChlbmNvZGluZyAmJiBlbmNvZGluZy50b0xvd2VyQ2FzZSgpKSB7CgkgICAgY2FzZSAnaGV4JzpjYXNlICd1dGY4JzpjYXNlICd1dGYtOCc6Y2FzZSAnYXNjaWknOmNhc2UgJ2JpbmFyeSc6Y2FzZSAnYmFzZTY0JzpjYXNlICd1Y3MyJzpjYXNlICd1Y3MtMic6Y2FzZSAndXRmMTZsZSc6Y2FzZSAndXRmLTE2bGUnOmNhc2UgJ3Jhdyc6CgkgICAgICByZXR1cm4gdHJ1ZTsKCSAgICBkZWZhdWx0OgoJICAgICAgcmV0dXJuIGZhbHNlOwoJICB9Cgl9OwoKCWZ1bmN0aW9uIF9ub3JtYWxpemVFbmNvZGluZyhlbmMpIHsKCSAgaWYgKCFlbmMpIHJldHVybiAndXRmOCc7CgkgIHZhciByZXRyaWVkOwoJICB3aGlsZSAodHJ1ZSkgewoJICAgIHN3aXRjaCAoZW5jKSB7CgkgICAgICBjYXNlICd1dGY4JzoKCSAgICAgIGNhc2UgJ3V0Zi04JzoKCSAgICAgICAgcmV0dXJuICd1dGY4JzsKCSAgICAgIGNhc2UgJ3VjczInOgoJICAgICAgY2FzZSAndWNzLTInOgoJICAgICAgY2FzZSAndXRmMTZsZSc6CgkgICAgICBjYXNlICd1dGYtMTZsZSc6CgkgICAgICAgIHJldHVybiAndXRmMTZsZSc7CgkgICAgICBjYXNlICdsYXRpbjEnOgoJICAgICAgY2FzZSAnYmluYXJ5JzoKCSAgICAgICAgcmV0dXJuICdsYXRpbjEnOwoJICAgICAgY2FzZSAnYmFzZTY0JzoKCSAgICAgIGNhc2UgJ2FzY2lpJzoKCSAgICAgIGNhc2UgJ2hleCc6CgkgICAgICAgIHJldHVybiBlbmM7CgkgICAgICBkZWZhdWx0OgoJICAgICAgICBpZiAocmV0cmllZCkgcmV0dXJuOyAvLyB1bmRlZmluZWQKCSAgICAgICAgZW5jID0gKCcnICsgZW5jKS50b0xvd2VyQ2FzZSgpOwoJICAgICAgICByZXRyaWVkID0gdHJ1ZTsKCSAgICB9CgkgIH0KCX0KCS8vIERvIG5vdCBjYWNoZSBgQnVmZmVyLmlzRW5jb2RpbmdgIHdoZW4gY2hlY2tpbmcgZW5jb2RpbmcgbmFtZXMgYXMgc29tZQoJLy8gbW9kdWxlcyBtb25rZXktcGF0Y2ggaXQgdG8gc3VwcG9ydCBhZGRpdGlvbmFsIGVuY29kaW5ncwoJZnVuY3Rpb24gbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7CgkgIHZhciBuZW5jID0gX25vcm1hbGl6ZUVuY29kaW5nKGVuYyk7CgkgIGlmICh0eXBlb2YgbmVuYyAhPT0gJ3N0cmluZycgJiYgKEJ1ZmZlci5pc0VuY29kaW5nID09PSBpc0VuY29kaW5nIHx8ICFpc0VuY29kaW5nKGVuYykpKSB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmMpOwoJICByZXR1cm4gbmVuYyB8fCBlbmM7Cgl9CgoJLy8gU3RyaW5nRGVjb2RlciBwcm92aWRlcyBhbiBpbnRlcmZhY2UgZm9yIGVmZmljaWVudGx5IHNwbGl0dGluZyBhIHNlcmllcyBvZgoJLy8gYnVmZmVycyBpbnRvIGEgc2VyaWVzIG9mIEpTIHN0cmluZ3Mgd2l0aG91dCBicmVha2luZyBhcGFydCBtdWx0aS1ieXRlCgkvLyBjaGFyYWN0ZXJzLgoJdmFyIFN0cmluZ0RlY29kZXJfMSA9IHN0cmluZ19kZWNvZGVyLlN0cmluZ0RlY29kZXIgPSBTdHJpbmdEZWNvZGVyJDE7CglmdW5jdGlvbiBTdHJpbmdEZWNvZGVyJDEoZW5jb2RpbmcpIHsKCSAgdGhpcy5lbmNvZGluZyA9IG5vcm1hbGl6ZUVuY29kaW5nKGVuY29kaW5nKTsKCSAgdmFyIG5iOwoJICBzd2l0Y2ggKHRoaXMuZW5jb2RpbmcpIHsKCSAgICBjYXNlICd1dGYxNmxlJzoKCSAgICAgIHRoaXMudGV4dCA9IHV0ZjE2VGV4dDsKCSAgICAgIHRoaXMuZW5kID0gdXRmMTZFbmQ7CgkgICAgICBuYiA9IDQ7CgkgICAgICBicmVhazsKCSAgICBjYXNlICd1dGY4JzoKCSAgICAgIHRoaXMuZmlsbExhc3QgPSB1dGY4RmlsbExhc3Q7CgkgICAgICBuYiA9IDQ7CgkgICAgICBicmVhazsKCSAgICBjYXNlICdiYXNlNjQnOgoJICAgICAgdGhpcy50ZXh0ID0gYmFzZTY0VGV4dDsKCSAgICAgIHRoaXMuZW5kID0gYmFzZTY0RW5kOwoJICAgICAgbmIgPSAzOwoJICAgICAgYnJlYWs7CgkgICAgZGVmYXVsdDoKCSAgICAgIHRoaXMud3JpdGUgPSBzaW1wbGVXcml0ZTsKCSAgICAgIHRoaXMuZW5kID0gc2ltcGxlRW5kOwoJICAgICAgcmV0dXJuOwoJICB9CgkgIHRoaXMubGFzdE5lZWQgPSAwOwoJICB0aGlzLmxhc3RUb3RhbCA9IDA7CgkgIHRoaXMubGFzdENoYXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobmIpOwoJfQoKCVN0cmluZ0RlY29kZXIkMS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoYnVmKSB7CgkgIGlmIChidWYubGVuZ3RoID09PSAwKSByZXR1cm4gJyc7CgkgIHZhciByOwoJICB2YXIgaTsKCSAgaWYgKHRoaXMubGFzdE5lZWQpIHsKCSAgICByID0gdGhpcy5maWxsTGFzdChidWYpOwoJICAgIGlmIChyID09PSB1bmRlZmluZWQpIHJldHVybiAnJzsKCSAgICBpID0gdGhpcy5sYXN0TmVlZDsKCSAgICB0aGlzLmxhc3ROZWVkID0gMDsKCSAgfSBlbHNlIHsKCSAgICBpID0gMDsKCSAgfQoJICBpZiAoaSA8IGJ1Zi5sZW5ndGgpIHJldHVybiByID8gciArIHRoaXMudGV4dChidWYsIGkpIDogdGhpcy50ZXh0KGJ1ZiwgaSk7CgkgIHJldHVybiByIHx8ICcnOwoJfTsKCglTdHJpbmdEZWNvZGVyJDEucHJvdG90eXBlLmVuZCA9IHV0ZjhFbmQ7CgoJLy8gUmV0dXJucyBvbmx5IGNvbXBsZXRlIGNoYXJhY3RlcnMgaW4gYSBCdWZmZXIKCVN0cmluZ0RlY29kZXIkMS5wcm90b3R5cGUudGV4dCA9IHV0ZjhUZXh0OwoKCS8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgcGFydGlhbCBub24tVVRGLTggY2hhcmFjdGVyIHVzaW5nIGJ5dGVzIGZyb20gYSBCdWZmZXIKCVN0cmluZ0RlY29kZXIkMS5wcm90b3R5cGUuZmlsbExhc3QgPSBmdW5jdGlvbiAoYnVmKSB7CgkgIGlmICh0aGlzLmxhc3ROZWVkIDw9IGJ1Zi5sZW5ndGgpIHsKCSAgICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQsIDAsIHRoaXMubGFzdE5lZWQpOwoJICAgIHJldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKTsKCSAgfQoJICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQsIDAsIGJ1Zi5sZW5ndGgpOwoJICB0aGlzLmxhc3ROZWVkIC09IGJ1Zi5sZW5ndGg7Cgl9OwoKCS8vIENoZWNrcyB0aGUgdHlwZSBvZiBhIFVURi04IGJ5dGUsIHdoZXRoZXIgaXQncyBBU0NJSSwgYSBsZWFkaW5nIGJ5dGUsIG9yIGEKCS8vIGNvbnRpbnVhdGlvbiBieXRlLiBJZiBhbiBpbnZhbGlkIGJ5dGUgaXMgZGV0ZWN0ZWQsIC0yIGlzIHJldHVybmVkLgoJZnVuY3Rpb24gdXRmOENoZWNrQnl0ZShieXRlKSB7CgkgIGlmIChieXRlIDw9IDB4N0YpIHJldHVybiAwO2Vsc2UgaWYgKGJ5dGUgPj4gNSA9PT0gMHgwNikgcmV0dXJuIDI7ZWxzZSBpZiAoYnl0ZSA+PiA0ID09PSAweDBFKSByZXR1cm4gMztlbHNlIGlmIChieXRlID4+IDMgPT09IDB4MUUpIHJldHVybiA0OwoJICByZXR1cm4gYnl0ZSA+PiA2ID09PSAweDAyID8gLTEgOiAtMjsKCX0KCgkvLyBDaGVja3MgYXQgbW9zdCAzIGJ5dGVzIGF0IHRoZSBlbmQgb2YgYSBCdWZmZXIgaW4gb3JkZXIgdG8gZGV0ZWN0IGFuCgkvLyBpbmNvbXBsZXRlIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyLiBUaGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzICgyLCAzLCBvciA0KQoJLy8gbmVlZGVkIHRvIGNvbXBsZXRlIHRoZSBVVEYtOCBjaGFyYWN0ZXIgKGlmIGFwcGxpY2FibGUpIGFyZSByZXR1cm5lZC4KCWZ1bmN0aW9uIHV0ZjhDaGVja0luY29tcGxldGUoc2VsZiwgYnVmLCBpKSB7CgkgIHZhciBqID0gYnVmLmxlbmd0aCAtIDE7CgkgIGlmIChqIDwgaSkgcmV0dXJuIDA7CgkgIHZhciBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTsKCSAgaWYgKG5iID49IDApIHsKCSAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAxOwoJICAgIHJldHVybiBuYjsKCSAgfQoJICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwOwoJICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTsKCSAgaWYgKG5iID49IDApIHsKCSAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAyOwoJICAgIHJldHVybiBuYjsKCSAgfQoJICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwOwoJICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTsKCSAgaWYgKG5iID49IDApIHsKCSAgICBpZiAobmIgPiAwKSB7CgkgICAgICBpZiAobmIgPT09IDIpIG5iID0gMDtlbHNlIHNlbGYubGFzdE5lZWQgPSBuYiAtIDM7CgkgICAgfQoJICAgIHJldHVybiBuYjsKCSAgfQoJICByZXR1cm4gMDsKCX0KCgkvLyBWYWxpZGF0ZXMgYXMgbWFueSBjb250aW51YXRpb24gYnl0ZXMgZm9yIGEgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIgYXMKCS8vIG5lZWRlZCBvciBhcmUgYXZhaWxhYmxlLiBJZiB3ZSBzZWUgYSBub24tY29udGludWF0aW9uIGJ5dGUgd2hlcmUgd2UgZXhwZWN0CgkvLyBvbmUsIHdlICJyZXBsYWNlIiB0aGUgdmFsaWRhdGVkIGNvbnRpbnVhdGlvbiBieXRlcyB3ZSd2ZSBzZWVuIHNvIGZhciB3aXRoCgkvLyBhIHNpbmdsZSBVVEYtOCByZXBsYWNlbWVudCBjaGFyYWN0ZXIgKCdcdWZmZmQnKSwgdG8gbWF0Y2ggdjgncyBVVEYtOCBkZWNvZGluZwoJLy8gYmVoYXZpb3IuIFRoZSBjb250aW51YXRpb24gYnl0ZSBjaGVjayBpcyBpbmNsdWRlZCB0aHJlZSB0aW1lcyBpbiB0aGUgY2FzZQoJLy8gd2hlcmUgYWxsIG9mIHRoZSBjb250aW51YXRpb24gYnl0ZXMgZm9yIGEgY2hhcmFjdGVyIGV4aXN0IGluIHRoZSBzYW1lIGJ1ZmZlci4KCS8vIEl0IGlzIGFsc28gZG9uZSB0aGlzIHdheSBhcyBhIHNsaWdodCBwZXJmb3JtYW5jZSBpbmNyZWFzZSBpbnN0ZWFkIG9mIHVzaW5nIGEKCS8vIGxvb3AuCglmdW5jdGlvbiB1dGY4Q2hlY2tFeHRyYUJ5dGVzKHNlbGYsIGJ1ZiwgcCkgewoJICBpZiAoKGJ1ZlswXSAmIDB4QzApICE9PSAweDgwKSB7CgkgICAgc2VsZi5sYXN0TmVlZCA9IDA7CgkgICAgcmV0dXJuICdcdWZmZmQnOwoJICB9CgkgIGlmIChzZWxmLmxhc3ROZWVkID4gMSAmJiBidWYubGVuZ3RoID4gMSkgewoJICAgIGlmICgoYnVmWzFdICYgMHhDMCkgIT09IDB4ODApIHsKCSAgICAgIHNlbGYubGFzdE5lZWQgPSAxOwoJICAgICAgcmV0dXJuICdcdWZmZmQnOwoJICAgIH0KCSAgICBpZiAoc2VsZi5sYXN0TmVlZCA+IDIgJiYgYnVmLmxlbmd0aCA+IDIpIHsKCSAgICAgIGlmICgoYnVmWzJdICYgMHhDMCkgIT09IDB4ODApIHsKCSAgICAgICAgc2VsZi5sYXN0TmVlZCA9IDI7CgkgICAgICAgIHJldHVybiAnXHVmZmZkJzsKCSAgICAgIH0KCSAgICB9CgkgIH0KCX0KCgkvLyBBdHRlbXB0cyB0byBjb21wbGV0ZSBhIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyIHVzaW5nIGJ5dGVzIGZyb20gYSBCdWZmZXIuCglmdW5jdGlvbiB1dGY4RmlsbExhc3QoYnVmKSB7CgkgIHZhciBwID0gdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkOwoJICB2YXIgciA9IHV0ZjhDaGVja0V4dHJhQnl0ZXModGhpcywgYnVmKTsKCSAgaWYgKHIgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHI7CgkgIGlmICh0aGlzLmxhc3ROZWVkIDw9IGJ1Zi5sZW5ndGgpIHsKCSAgICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCBwLCAwLCB0aGlzLmxhc3ROZWVkKTsKCSAgICByZXR1cm4gdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCAwLCB0aGlzLmxhc3RUb3RhbCk7CgkgIH0KCSAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgcCwgMCwgYnVmLmxlbmd0aCk7CgkgIHRoaXMubGFzdE5lZWQgLT0gYnVmLmxlbmd0aDsKCX0KCgkvLyBSZXR1cm5zIGFsbCBjb21wbGV0ZSBVVEYtOCBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyLiBJZiB0aGUgQnVmZmVyIGVuZGVkIG9uIGEKCS8vIHBhcnRpYWwgY2hhcmFjdGVyLCB0aGUgY2hhcmFjdGVyJ3MgYnl0ZXMgYXJlIGJ1ZmZlcmVkIHVudGlsIHRoZSByZXF1aXJlZAoJLy8gbnVtYmVyIG9mIGJ5dGVzIGFyZSBhdmFpbGFibGUuCglmdW5jdGlvbiB1dGY4VGV4dChidWYsIGkpIHsKCSAgdmFyIHRvdGFsID0gdXRmOENoZWNrSW5jb21wbGV0ZSh0aGlzLCBidWYsIGkpOwoJICBpZiAoIXRoaXMubGFzdE5lZWQpIHJldHVybiBidWYudG9TdHJpbmcoJ3V0ZjgnLCBpKTsKCSAgdGhpcy5sYXN0VG90YWwgPSB0b3RhbDsKCSAgdmFyIGVuZCA9IGJ1Zi5sZW5ndGggLSAodG90YWwgLSB0aGlzLmxhc3ROZWVkKTsKCSAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgMCwgZW5kKTsKCSAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmOCcsIGksIGVuZCk7Cgl9CgoJLy8gRm9yIFVURi04LCBhIHJlcGxhY2VtZW50IGNoYXJhY3RlciBpcyBhZGRlZCB3aGVuIGVuZGluZyBvbiBhIHBhcnRpYWwKCS8vIGNoYXJhY3Rlci4KCWZ1bmN0aW9uIHV0ZjhFbmQoYnVmKSB7CgkgIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJzsKCSAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgJ1x1ZmZmZCc7CgkgIHJldHVybiByOwoJfQoKCS8vIFVURi0xNkxFIHR5cGljYWxseSBuZWVkcyB0d28gYnl0ZXMgcGVyIGNoYXJhY3RlciwgYnV0IGV2ZW4gaWYgd2UgaGF2ZSBhbiBldmVuCgkvLyBudW1iZXIgb2YgYnl0ZXMgYXZhaWxhYmxlLCB3ZSBuZWVkIHRvIGNoZWNrIGlmIHdlIGVuZCBvbiBhIGxlYWRpbmcvaGlnaAoJLy8gc3Vycm9nYXRlLiBJbiB0aGF0IGNhc2UsIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIG5leHQgdHdvIGJ5dGVzIGluIG9yZGVyIHRvCgkvLyBkZWNvZGUgdGhlIGxhc3QgY2hhcmFjdGVyIHByb3Blcmx5LgoJZnVuY3Rpb24gdXRmMTZUZXh0KGJ1ZiwgaSkgewoJICBpZiAoKGJ1Zi5sZW5ndGggLSBpKSAlIDIgPT09IDApIHsKCSAgICB2YXIgciA9IGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGkpOwoJICAgIGlmIChyKSB7CgkgICAgICB2YXIgYyA9IHIuY2hhckNvZGVBdChyLmxlbmd0aCAtIDEpOwoJICAgICAgaWYgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhEQkZGKSB7CgkgICAgICAgIHRoaXMubGFzdE5lZWQgPSAyOwoJICAgICAgICB0aGlzLmxhc3RUb3RhbCA9IDQ7CgkgICAgICAgIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDJdOwoJICAgICAgICB0aGlzLmxhc3RDaGFyWzFdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTsKCSAgICAgICAgcmV0dXJuIHIuc2xpY2UoMCwgLTEpOwoJICAgICAgfQoJICAgIH0KCSAgICByZXR1cm4gcjsKCSAgfQoJICB0aGlzLmxhc3ROZWVkID0gMTsKCSAgdGhpcy5sYXN0VG90YWwgPSAyOwoJICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTsKCSAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGksIGJ1Zi5sZW5ndGggLSAxKTsKCX0KCgkvLyBGb3IgVVRGLTE2TEUgd2UgZG8gbm90IGV4cGxpY2l0bHkgYXBwZW5kIHNwZWNpYWwgcmVwbGFjZW1lbnQgY2hhcmFjdGVycyBpZiB3ZQoJLy8gZW5kIG9uIGEgcGFydGlhbCBjaGFyYWN0ZXIsIHdlIHNpbXBseSBsZXQgdjggaGFuZGxlIHRoYXQuCglmdW5jdGlvbiB1dGYxNkVuZChidWYpIHsKCSAgdmFyIHIgPSBidWYgJiYgYnVmLmxlbmd0aCA/IHRoaXMud3JpdGUoYnVmKSA6ICcnOwoJICBpZiAodGhpcy5sYXN0TmVlZCkgewoJICAgIHZhciBlbmQgPSB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQ7CgkgICAgcmV0dXJuIHIgKyB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKCd1dGYxNmxlJywgMCwgZW5kKTsKCSAgfQoJICByZXR1cm4gcjsKCX0KCglmdW5jdGlvbiBiYXNlNjRUZXh0KGJ1ZiwgaSkgewoJICB2YXIgbiA9IChidWYubGVuZ3RoIC0gaSkgJSAzOwoJICBpZiAobiA9PT0gMCkgcmV0dXJuIGJ1Zi50b1N0cmluZygnYmFzZTY0JywgaSk7CgkgIHRoaXMubGFzdE5lZWQgPSAzIC0gbjsKCSAgdGhpcy5sYXN0VG90YWwgPSAzOwoJICBpZiAobiA9PT0gMSkgewoJICAgIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDFdOwoJICB9IGVsc2UgewoJICAgIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDJdOwoJICAgIHRoaXMubGFzdENoYXJbMV0gPSBidWZbYnVmLmxlbmd0aCAtIDFdOwoJICB9CgkgIHJldHVybiBidWYudG9TdHJpbmcoJ2Jhc2U2NCcsIGksIGJ1Zi5sZW5ndGggLSBuKTsKCX0KCglmdW5jdGlvbiBiYXNlNjRFbmQoYnVmKSB7CgkgIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJzsKCSAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygnYmFzZTY0JywgMCwgMyAtIHRoaXMubGFzdE5lZWQpOwoJICByZXR1cm4gcjsKCX0KCgkvLyBQYXNzIGJ5dGVzIG9uIHRocm91Z2ggZm9yIHNpbmdsZS1ieXRlIGVuY29kaW5ncyAoZS5nLiBhc2NpaSwgbGF0aW4xLCBoZXgpCglmdW5jdGlvbiBzaW1wbGVXcml0ZShidWYpIHsKCSAgcmV0dXJuIGJ1Zi50b1N0cmluZyh0aGlzLmVuY29kaW5nKTsKCX0KCglmdW5jdGlvbiBzaW1wbGVFbmQoYnVmKSB7CgkgIHJldHVybiBidWYgJiYgYnVmLmxlbmd0aCA/IHRoaXMud3JpdGUoYnVmKSA6ICcnOwoJfQoKCVJlYWRhYmxlLlJlYWRhYmxlU3RhdGUgPSBSZWFkYWJsZVN0YXRlOwoKCXZhciBkZWJ1ZyQyID0gZGVidWdsb2coJ3N0cmVhbScpOwoJaW5oZXJpdHMkMShSZWFkYWJsZSwgRUUpOwoKCWZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4pIHsKCSAgLy8gU2FkbHkgdGhpcyBpcyBub3QgY2FjaGVhYmxlIGFzIHNvbWUgbGlicmFyaWVzIGJ1bmRsZSB0aGVpciBvd24KCSAgLy8gZXZlbnQgZW1pdHRlciBpbXBsZW1lbnRhdGlvbiB3aXRoIHRoZW0uCgkgIGlmICh0eXBlb2YgZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHsKCSAgICByZXR1cm4gZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIoZXZlbnQsIGZuKTsKCSAgfSBlbHNlIHsKCSAgICAvLyBUaGlzIGlzIGEgaGFjayB0byBtYWtlIHN1cmUgdGhhdCBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgYW55CgkgICAgLy8gdXNlcmxhbmQgb25lcy4gIE5FVkVSIERPIFRISVMuIFRoaXMgaXMgaGVyZSBvbmx5IGJlY2F1c2UgdGhpcyBjb2RlIG5lZWRzCgkgICAgLy8gdG8gY29udGludWUgdG8gd29yayB3aXRoIG9sZGVyIHZlcnNpb25zIG9mIE5vZGUuanMgdGhhdCBkbyBub3QgaW5jbHVkZQoJICAgIC8vIHRoZSBwcmVwZW5kTGlzdGVuZXIoKSBtZXRob2QuIFRoZSBnb2FsIGlzIHRvIGV2ZW50dWFsbHkgcmVtb3ZlIHRoaXMgaGFjay4KCSAgICBpZiAoIWVtaXR0ZXIuX2V2ZW50cyB8fCAhZW1pdHRlci5fZXZlbnRzW2V2ZW50XSkKCSAgICAgIGVtaXR0ZXIub24oZXZlbnQsIGZuKTsKCSAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVtaXR0ZXIuX2V2ZW50c1tldmVudF0pKQoJICAgICAgZW1pdHRlci5fZXZlbnRzW2V2ZW50XS51bnNoaWZ0KGZuKTsKCSAgICBlbHNlCgkgICAgICBlbWl0dGVyLl9ldmVudHNbZXZlbnRdID0gW2ZuLCBlbWl0dGVyLl9ldmVudHNbZXZlbnRdXTsKCSAgfQoJfQoJZnVuY3Rpb24gbGlzdGVuZXJDb3VudCAoZW1pdHRlciwgdHlwZSkgewoJICByZXR1cm4gZW1pdHRlci5saXN0ZW5lcnModHlwZSkubGVuZ3RoOwoJfQoJZnVuY3Rpb24gUmVhZGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0pIHsKCgkgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwoKCSAgLy8gb2JqZWN0IHN0cmVhbSBmbGFnLiBVc2VkIHRvIG1ha2UgcmVhZChuKSBpZ25vcmUgbiBhbmQgdG8KCSAgLy8gbWFrZSBhbGwgdGhlIGJ1ZmZlciBtZXJnaW5nIGFuZCBsZW5ndGggY2hlY2tzIGdvIGF3YXkKCSAgdGhpcy5vYmplY3RNb2RlID0gISFvcHRpb25zLm9iamVjdE1vZGU7CgoJICBpZiAoc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZTsKCgkgIC8vIHRoZSBwb2ludCBhdCB3aGljaCBpdCBzdG9wcyBjYWxsaW5nIF9yZWFkKCkgdG8gZmlsbCB0aGUgYnVmZmVyCgkgIC8vIE5vdGU6IDAgaXMgYSB2YWxpZCB2YWx1ZSwgbWVhbnMgImRvbid0IGNhbGwgX3JlYWQgcHJlZW1wdGl2ZWx5IGV2ZXIiCgkgIHZhciBod20gPSBvcHRpb25zLmhpZ2hXYXRlck1hcms7CgkgIHZhciBkZWZhdWx0SHdtID0gdGhpcy5vYmplY3RNb2RlID8gMTYgOiAxNiAqIDEwMjQ7CgkgIHRoaXMuaGlnaFdhdGVyTWFyayA9IGh3bSB8fCBod20gPT09IDAgPyBod20gOiBkZWZhdWx0SHdtOwoKCSAgLy8gY2FzdCB0byBpbnRzLgoJICB0aGlzLmhpZ2hXYXRlck1hcmsgPSB+IH50aGlzLmhpZ2hXYXRlck1hcms7CgoJICAvLyBBIGxpbmtlZCBsaXN0IGlzIHVzZWQgdG8gc3RvcmUgZGF0YSBjaHVua3MgaW5zdGVhZCBvZiBhbiBhcnJheSBiZWNhdXNlIHRoZQoJICAvLyBsaW5rZWQgbGlzdCBjYW4gcmVtb3ZlIGVsZW1lbnRzIGZyb20gdGhlIGJlZ2lubmluZyBmYXN0ZXIgdGhhbgoJICAvLyBhcnJheS5zaGlmdCgpCgkgIHRoaXMuYnVmZmVyID0gbmV3IEJ1ZmZlckxpc3QoKTsKCSAgdGhpcy5sZW5ndGggPSAwOwoJICB0aGlzLnBpcGVzID0gbnVsbDsKCSAgdGhpcy5waXBlc0NvdW50ID0gMDsKCSAgdGhpcy5mbG93aW5nID0gbnVsbDsKCSAgdGhpcy5lbmRlZCA9IGZhbHNlOwoJICB0aGlzLmVuZEVtaXR0ZWQgPSBmYWxzZTsKCSAgdGhpcy5yZWFkaW5nID0gZmFsc2U7CgoJICAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBvbndyaXRlIGNiIGlzIGNhbGxlZCBpbW1lZGlhdGVseSwKCSAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnkKCSAgLy8gYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgImxhdGVyIiBzaG91bGQgZ2VuZXJhbGx5IGFsc28KCSAgLy8gbm90IGhhcHBlbiBiZWZvcmUgdGhlIGZpcnN0IHdyaXRlIGNhbGwuCgkgIHRoaXMuc3luYyA9IHRydWU7CgoJICAvLyB3aGVuZXZlciB3ZSByZXR1cm4gbnVsbCwgdGhlbiB3ZSBzZXQgYSBmbGFnIHRvIHNheQoJICAvLyB0aGF0IHdlJ3JlIGF3YWl0aW5nIGEgJ3JlYWRhYmxlJyBldmVudCBlbWlzc2lvbi4KCSAgdGhpcy5uZWVkUmVhZGFibGUgPSBmYWxzZTsKCSAgdGhpcy5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTsKCSAgdGhpcy5yZWFkYWJsZUxpc3RlbmluZyA9IGZhbHNlOwoJICB0aGlzLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlOwoKCSAgLy8gQ3J5cHRvIGlzIGtpbmQgb2Ygb2xkIGFuZCBjcnVzdHkuICBIaXN0b3JpY2FsbHksIGl0cyBkZWZhdWx0IHN0cmluZwoJICAvLyBlbmNvZGluZyBpcyAnYmluYXJ5JyBzbyB3ZSBoYXZlIHRvIG1ha2UgdGhpcyBjb25maWd1cmFibGUuCgkgIC8vIEV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgdW5pdmVyc2UgdXNlcyAndXRmOCcsIHRob3VnaC4KCSAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7CgoJICAvLyB3aGVuIHBpcGluZywgd2Ugb25seSBjYXJlIGFib3V0ICdyZWFkYWJsZScgZXZlbnRzIHRoYXQgaGFwcGVuCgkgIC8vIGFmdGVyIHJlYWQoKWluZyBhbGwgdGhlIGJ5dGVzIGFuZCBub3QgZ2V0dGluZyBhbnkgcHVzaGJhY2suCgkgIHRoaXMucmFuT3V0ID0gZmFsc2U7CgoJICAvLyB0aGUgbnVtYmVyIG9mIHdyaXRlcnMgdGhhdCBhcmUgYXdhaXRpbmcgYSBkcmFpbiBldmVudCBpbiAucGlwZSgpcwoJICB0aGlzLmF3YWl0RHJhaW4gPSAwOwoKCSAgLy8gaWYgdHJ1ZSwgYSBtYXliZVJlYWRNb3JlIGhhcyBiZWVuIHNjaGVkdWxlZAoJICB0aGlzLnJlYWRpbmdNb3JlID0gZmFsc2U7CgoJICB0aGlzLmRlY29kZXIgPSBudWxsOwoJICB0aGlzLmVuY29kaW5nID0gbnVsbDsKCSAgaWYgKG9wdGlvbnMuZW5jb2RpbmcpIHsKCSAgICB0aGlzLmRlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2Rlcl8xKG9wdGlvbnMuZW5jb2RpbmcpOwoJICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nOwoJICB9Cgl9CglmdW5jdGlvbiBSZWFkYWJsZShvcHRpb25zKSB7CgoJICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVhZGFibGUpKSByZXR1cm4gbmV3IFJlYWRhYmxlKG9wdGlvbnMpOwoKCSAgdGhpcy5fcmVhZGFibGVTdGF0ZSA9IG5ldyBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMpOwoKCSAgLy8gbGVnYWN5CgkgIHRoaXMucmVhZGFibGUgPSB0cnVlOwoKCSAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMucmVhZCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fcmVhZCA9IG9wdGlvbnMucmVhZDsKCgkgIEVFLmNhbGwodGhpcyk7Cgl9CgoJLy8gTWFudWFsbHkgc2hvdmUgc29tZXRoaW5nIGludG8gdGhlIHJlYWQoKSBidWZmZXIuCgkvLyBUaGlzIHJldHVybnMgdHJ1ZSBpZiB0aGUgaGlnaFdhdGVyTWFyayBoYXMgbm90IGJlZW4gaGl0IHlldCwKCS8vIHNpbWlsYXIgdG8gaG93IFdyaXRhYmxlLndyaXRlKCkgcmV0dXJucyB0cnVlIGlmIHlvdSBzaG91bGQKCS8vIHdyaXRlKCkgc29tZSBtb3JlLgoJUmVhZGFibGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nKSB7CgkgIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7CgoJICBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgdHlwZW9mIGNodW5rID09PSAnc3RyaW5nJykgewoJICAgIGVuY29kaW5nID0gZW5jb2RpbmcgfHwgc3RhdGUuZGVmYXVsdEVuY29kaW5nOwoJICAgIGlmIChlbmNvZGluZyAhPT0gc3RhdGUuZW5jb2RpbmcpIHsKCSAgICAgIGNodW5rID0gYnVmZmVyLkJ1ZmZlci5mcm9tKGNodW5rLCBlbmNvZGluZyk7CgkgICAgICBlbmNvZGluZyA9ICcnOwoJICAgIH0KCSAgfQoKCSAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgc3RhdGUsIGNodW5rLCBlbmNvZGluZywgZmFsc2UpOwoJfTsKCgkvLyBVbnNoaWZ0IHNob3VsZCAqYWx3YXlzKiBiZSBzb21ldGhpbmcgZGlyZWN0bHkgb3V0IG9mIHJlYWQoKQoJUmVhZGFibGUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbiAoY2h1bmspIHsKCSAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTsKCSAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgc3RhdGUsIGNodW5rLCAnJywgdHJ1ZSk7Cgl9OwoKCVJlYWRhYmxlLnByb3RvdHlwZS5pc1BhdXNlZCA9IGZ1bmN0aW9uICgpIHsKCSAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyA9PT0gZmFsc2U7Cgl9OwoKCWZ1bmN0aW9uIHJlYWRhYmxlQWRkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBhZGRUb0Zyb250KSB7CgkgIHZhciBlciA9IGNodW5rSW52YWxpZChzdGF0ZSwgY2h1bmspOwoJICBpZiAoZXIpIHsKCSAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7CgkgIH0gZWxzZSBpZiAoY2h1bmsgPT09IG51bGwpIHsKCSAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7CgkgICAgb25Fb2ZDaHVuayhzdHJlYW0sIHN0YXRlKTsKCSAgfSBlbHNlIGlmIChzdGF0ZS5vYmplY3RNb2RlIHx8IGNodW5rICYmIGNodW5rLmxlbmd0aCA+IDApIHsKCSAgICBpZiAoc3RhdGUuZW5kZWQgJiYgIWFkZFRvRnJvbnQpIHsKCSAgICAgIHZhciBlID0gbmV3IEVycm9yKCdzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRicpOwoJICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZSk7CgkgICAgfSBlbHNlIGlmIChzdGF0ZS5lbmRFbWl0dGVkICYmIGFkZFRvRnJvbnQpIHsKCSAgICAgIHZhciBfZSA9IG5ldyBFcnJvcignc3RyZWFtLnVuc2hpZnQoKSBhZnRlciBlbmQgZXZlbnQnKTsKCSAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIF9lKTsKCSAgICB9IGVsc2UgewoJICAgICAgdmFyIHNraXBBZGQ7CgkgICAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhYWRkVG9Gcm9udCAmJiAhZW5jb2RpbmcpIHsKCSAgICAgICAgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKTsKCSAgICAgICAgc2tpcEFkZCA9ICFzdGF0ZS5vYmplY3RNb2RlICYmIGNodW5rLmxlbmd0aCA9PT0gMDsKCSAgICAgIH0KCgkgICAgICBpZiAoIWFkZFRvRnJvbnQpIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTsKCgkgICAgICAvLyBEb24ndCBhZGQgdG8gdGhlIGJ1ZmZlciBpZiB3ZSd2ZSBkZWNvZGVkIHRvIGFuIGVtcHR5IHN0cmluZyBjaHVuayBhbmQKCSAgICAgIC8vIHdlJ3JlIG5vdCBpbiBvYmplY3QgbW9kZQoJICAgICAgaWYgKCFza2lwQWRkKSB7CgkgICAgICAgIC8vIGlmIHdlIHdhbnQgdGhlIGRhdGEgbm93LCBqdXN0IGVtaXQgaXQuCgkgICAgICAgIGlmIChzdGF0ZS5mbG93aW5nICYmIHN0YXRlLmxlbmd0aCA9PT0gMCAmJiAhc3RhdGUuc3luYykgewoJICAgICAgICAgIHN0cmVhbS5lbWl0KCdkYXRhJywgY2h1bmspOwoJICAgICAgICAgIHN0cmVhbS5yZWFkKDApOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgYnVmZmVyIGluZm8uCgkgICAgICAgICAgc3RhdGUubGVuZ3RoICs9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoOwoJICAgICAgICAgIGlmIChhZGRUb0Zyb250KSBzdGF0ZS5idWZmZXIudW5zaGlmdChjaHVuayk7ZWxzZSBzdGF0ZS5idWZmZXIucHVzaChjaHVuayk7CgoJICAgICAgICAgIGlmIChzdGF0ZS5uZWVkUmVhZGFibGUpIGVtaXRSZWFkYWJsZShzdHJlYW0pOwoJICAgICAgICB9CgkgICAgICB9CgoJICAgICAgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTsKCSAgICB9CgkgIH0gZWxzZSBpZiAoIWFkZFRvRnJvbnQpIHsKCSAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7CgkgIH0KCgkgIHJldHVybiBuZWVkTW9yZURhdGEoc3RhdGUpOwoJfQoKCS8vIGlmIGl0J3MgcGFzdCB0aGUgaGlnaCB3YXRlciBtYXJrLCB3ZSBjYW4gcHVzaCBpbiBzb21lIG1vcmUuCgkvLyBBbHNvLCBpZiB3ZSBoYXZlIG5vIGRhdGEgeWV0LCB3ZSBjYW4gc3RhbmQgc29tZQoJLy8gbW9yZSBieXRlcy4gIFRoaXMgaXMgdG8gd29yayBhcm91bmQgY2FzZXMgd2hlcmUgaHdtPTAsCgkvLyBzdWNoIGFzIHRoZSByZXBsLiAgQWxzbywgaWYgdGhlIHB1c2goKSB0cmlnZ2VyZWQgYQoJLy8gcmVhZGFibGUgZXZlbnQsIGFuZCB0aGUgdXNlciBjYWxsZWQgcmVhZChsYXJnZU51bWJlcikgc3VjaCB0aGF0CgkvLyBuZWVkUmVhZGFibGUgd2FzIHNldCwgdGhlbiB3ZSBvdWdodCB0byBwdXNoIG1vcmUsIHNvIHRoYXQgYW5vdGhlcgoJLy8gJ3JlYWRhYmxlJyBldmVudCB3aWxsIGJlIHRyaWdnZXJlZC4KCWZ1bmN0aW9uIG5lZWRNb3JlRGF0YShzdGF0ZSkgewoJICByZXR1cm4gIXN0YXRlLmVuZGVkICYmIChzdGF0ZS5uZWVkUmVhZGFibGUgfHwgc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyayB8fCBzdGF0ZS5sZW5ndGggPT09IDApOwoJfQoKCS8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LgoJUmVhZGFibGUucHJvdG90eXBlLnNldEVuY29kaW5nID0gZnVuY3Rpb24gKGVuYykgewoJICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2Rlcl8xKGVuYyk7CgkgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2RpbmcgPSBlbmM7CgkgIHJldHVybiB0aGlzOwoJfTsKCgkvLyBEb24ndCByYWlzZSB0aGUgaHdtID4gOE1CCgl2YXIgTUFYX0hXTSA9IDB4ODAwMDAwOwoJZnVuY3Rpb24gY29tcHV0ZU5ld0hpZ2hXYXRlck1hcmsobikgewoJICBpZiAobiA+PSBNQVhfSFdNKSB7CgkgICAgbiA9IE1BWF9IV007CgkgIH0gZWxzZSB7CgkgICAgLy8gR2V0IHRoZSBuZXh0IGhpZ2hlc3QgcG93ZXIgb2YgMiB0byBwcmV2ZW50IGluY3JlYXNpbmcgaHdtIGV4Y2Vzc2l2ZWx5IGluCgkgICAgLy8gdGlueSBhbW91bnRzCgkgICAgbi0tOwoJICAgIG4gfD0gbiA+Pj4gMTsKCSAgICBuIHw9IG4gPj4+IDI7CgkgICAgbiB8PSBuID4+PiA0OwoJICAgIG4gfD0gbiA+Pj4gODsKCSAgICBuIHw9IG4gPj4+IDE2OwoJICAgIG4rKzsKCSAgfQoJICByZXR1cm4gbjsKCX0KCgkvLyBUaGlzIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIGJlIGlubGluYWJsZSwgc28gcGxlYXNlIHRha2UgY2FyZSB3aGVuIG1ha2luZwoJLy8gY2hhbmdlcyB0byB0aGUgZnVuY3Rpb24gYm9keS4KCWZ1bmN0aW9uIGhvd011Y2hUb1JlYWQobiwgc3RhdGUpIHsKCSAgaWYgKG4gPD0gMCB8fCBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuZW5kZWQpIHJldHVybiAwOwoJICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0dXJuIDE7CgkgIGlmIChuICE9PSBuKSB7CgkgICAgLy8gT25seSBmbG93IG9uZSBidWZmZXIgYXQgYSB0aW1lCgkgICAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgc3RhdGUubGVuZ3RoKSByZXR1cm4gc3RhdGUuYnVmZmVyLmhlYWQuZGF0YS5sZW5ndGg7ZWxzZSByZXR1cm4gc3RhdGUubGVuZ3RoOwoJICB9CgkgIC8vIElmIHdlJ3JlIGFza2luZyBmb3IgbW9yZSB0aGFuIHRoZSBjdXJyZW50IGh3bSwgdGhlbiByYWlzZSB0aGUgaHdtLgoJICBpZiAobiA+IHN0YXRlLmhpZ2hXYXRlck1hcmspIHN0YXRlLmhpZ2hXYXRlck1hcmsgPSBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKTsKCSAgaWYgKG4gPD0gc3RhdGUubGVuZ3RoKSByZXR1cm4gbjsKCSAgLy8gRG9uJ3QgaGF2ZSBlbm91Z2gKCSAgaWYgKCFzdGF0ZS5lbmRlZCkgewoJICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7CgkgICAgcmV0dXJuIDA7CgkgIH0KCSAgcmV0dXJuIHN0YXRlLmxlbmd0aDsKCX0KCgkvLyB5b3UgY2FuIG92ZXJyaWRlIGVpdGhlciB0aGlzIG1ldGhvZCwgb3IgdGhlIGFzeW5jIF9yZWFkKG4pIGJlbG93LgoJUmVhZGFibGUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAobikgewoJICBkZWJ1ZyQyKCdyZWFkJywgbik7CgkgIG4gPSBwYXJzZUludChuLCAxMCk7CgkgIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7CgkgIHZhciBuT3JpZyA9IG47CgoJICBpZiAobiAhPT0gMCkgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7CgoJICAvLyBpZiB3ZSdyZSBkb2luZyByZWFkKDApIHRvIHRyaWdnZXIgYSByZWFkYWJsZSBldmVudCwgYnV0IHdlCgkgIC8vIGFscmVhZHkgaGF2ZSBhIGJ1bmNoIG9mIGRhdGEgaW4gdGhlIGJ1ZmZlciwgdGhlbiBqdXN0IHRyaWdnZXIKCSAgLy8gdGhlICdyZWFkYWJsZScgZXZlbnQgYW5kIG1vdmUgb24uCgkgIGlmIChuID09PSAwICYmIHN0YXRlLm5lZWRSZWFkYWJsZSAmJiAoc3RhdGUubGVuZ3RoID49IHN0YXRlLmhpZ2hXYXRlck1hcmsgfHwgc3RhdGUuZW5kZWQpKSB7CgkgICAgZGVidWckMigncmVhZDogZW1pdFJlYWRhYmxlJywgc3RhdGUubGVuZ3RoLCBzdGF0ZS5lbmRlZCk7CgkgICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7ZWxzZSBlbWl0UmVhZGFibGUodGhpcyk7CgkgICAgcmV0dXJuIG51bGw7CgkgIH0KCgkgIG4gPSBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKTsKCgkgIC8vIGlmIHdlJ3ZlIGVuZGVkLCBhbmQgd2UncmUgbm93IGNsZWFyLCB0aGVuIGZpbmlzaCBpdCB1cC4KCSAgaWYgKG4gPT09IDAgJiYgc3RhdGUuZW5kZWQpIHsKCSAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSBlbmRSZWFkYWJsZSh0aGlzKTsKCSAgICByZXR1cm4gbnVsbDsKCSAgfQoKCSAgLy8gQWxsIHRoZSBhY3R1YWwgY2h1bmsgZ2VuZXJhdGlvbiBsb2dpYyBuZWVkcyB0byBiZQoJICAvLyAqYmVsb3cqIHRoZSBjYWxsIHRvIF9yZWFkLiAgVGhlIHJlYXNvbiBpcyB0aGF0IGluIGNlcnRhaW4KCSAgLy8gc3ludGhldGljIHN0cmVhbSBjYXNlcywgc3VjaCBhcyBwYXNzdGhyb3VnaCBzdHJlYW1zLCBfcmVhZAoJICAvLyBtYXkgYmUgYSBjb21wbGV0ZWx5IHN5bmNocm9ub3VzIG9wZXJhdGlvbiB3aGljaCBtYXkgY2hhbmdlCgkgIC8vIHRoZSBzdGF0ZSBvZiB0aGUgcmVhZCBidWZmZXIsIHByb3ZpZGluZyBlbm91Z2ggZGF0YSB3aGVuCgkgIC8vIGJlZm9yZSB0aGVyZSB3YXMgKm5vdCogZW5vdWdoLgoJICAvLwoJICAvLyBTbywgdGhlIHN0ZXBzIGFyZToKCSAgLy8gMS4gRmlndXJlIG91dCB3aGF0IHRoZSBzdGF0ZSBvZiB0aGluZ3Mgd2lsbCBiZSBhZnRlciB3ZSBkbwoJICAvLyBhIHJlYWQgZnJvbSB0aGUgYnVmZmVyLgoJICAvLwoJICAvLyAyLiBJZiB0aGF0IHJlc3VsdGluZyBzdGF0ZSB3aWxsIHRyaWdnZXIgYSBfcmVhZCwgdGhlbiBjYWxsIF9yZWFkLgoJICAvLyBOb3RlIHRoYXQgdGhpcyBtYXkgYmUgYXN5bmNocm9ub3VzLCBvciBzeW5jaHJvbm91cy4gIFllcywgaXQgaXMKCSAgLy8gZGVlcGx5IHVnbHkgdG8gd3JpdGUgQVBJcyB0aGlzIHdheSwgYnV0IHRoYXQgc3RpbGwgZG9lc24ndCBtZWFuCgkgIC8vIHRoYXQgdGhlIFJlYWRhYmxlIGNsYXNzIHNob3VsZCBiZWhhdmUgaW1wcm9wZXJseSwgYXMgc3RyZWFtcyBhcmUKCSAgLy8gZGVzaWduZWQgdG8gYmUgc3luYy9hc3luYyBhZ25vc3RpYy4KCSAgLy8gVGFrZSBub3RlIGlmIHRoZSBfcmVhZCBjYWxsIGlzIHN5bmMgb3IgYXN5bmMgKGllLCBpZiB0aGUgcmVhZCBjYWxsCgkgIC8vIGhhcyByZXR1cm5lZCB5ZXQpLCBzbyB0aGF0IHdlIGtub3cgd2hldGhlciBvciBub3QgaXQncyBzYWZlIHRvIGVtaXQKCSAgLy8gJ3JlYWRhYmxlJyBldGMuCgkgIC8vCgkgIC8vIDMuIEFjdHVhbGx5IHB1bGwgdGhlIHJlcXVlc3RlZCBjaHVua3Mgb3V0IG9mIHRoZSBidWZmZXIgYW5kIHJldHVybi4KCgkgIC8vIGlmIHdlIG5lZWQgYSByZWFkYWJsZSBldmVudCwgdGhlbiB3ZSBuZWVkIHRvIGRvIHNvbWUgcmVhZGluZy4KCSAgdmFyIGRvUmVhZCA9IHN0YXRlLm5lZWRSZWFkYWJsZTsKCSAgZGVidWckMignbmVlZCByZWFkYWJsZScsIGRvUmVhZCk7CgoJICAvLyBpZiB3ZSBjdXJyZW50bHkgaGF2ZSBsZXNzIHRoYW4gdGhlIGhpZ2hXYXRlck1hcmssIHRoZW4gYWxzbyByZWFkIHNvbWUKCSAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCB8fCBzdGF0ZS5sZW5ndGggLSBuIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykgewoJICAgIGRvUmVhZCA9IHRydWU7CgkgICAgZGVidWckMignbGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmsnLCBkb1JlYWQpOwoJICB9CgoJICAvLyBob3dldmVyLCBpZiB3ZSd2ZSBlbmRlZCwgdGhlbiB0aGVyZSdzIG5vIHBvaW50LCBhbmQgaWYgd2UncmUgYWxyZWFkeQoJICAvLyByZWFkaW5nLCB0aGVuIGl0J3MgdW5uZWNlc3NhcnkuCgkgIGlmIChzdGF0ZS5lbmRlZCB8fCBzdGF0ZS5yZWFkaW5nKSB7CgkgICAgZG9SZWFkID0gZmFsc2U7CgkgICAgZGVidWckMigncmVhZGluZyBvciBlbmRlZCcsIGRvUmVhZCk7CgkgIH0gZWxzZSBpZiAoZG9SZWFkKSB7CgkgICAgZGVidWckMignZG8gcmVhZCcpOwoJICAgIHN0YXRlLnJlYWRpbmcgPSB0cnVlOwoJICAgIHN0YXRlLnN5bmMgPSB0cnVlOwoJICAgIC8vIGlmIHRoZSBsZW5ndGggaXMgY3VycmVudGx5IHplcm8sIHRoZW4gd2UgKm5lZWQqIGEgcmVhZGFibGUgZXZlbnQuCgkgICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTsKCSAgICAvLyBjYWxsIGludGVybmFsIHJlYWQgbWV0aG9kCgkgICAgdGhpcy5fcmVhZChzdGF0ZS5oaWdoV2F0ZXJNYXJrKTsKCSAgICBzdGF0ZS5zeW5jID0gZmFsc2U7CgkgICAgLy8gSWYgX3JlYWQgcHVzaGVkIGRhdGEgc3luY2hyb25vdXNseSwgdGhlbiBgcmVhZGluZ2Agd2lsbCBiZSBmYWxzZSwKCSAgICAvLyBhbmQgd2UgbmVlZCB0byByZS1ldmFsdWF0ZSBob3cgbXVjaCBkYXRhIHdlIGNhbiByZXR1cm4gdG8gdGhlIHVzZXIuCgkgICAgaWYgKCFzdGF0ZS5yZWFkaW5nKSBuID0gaG93TXVjaFRvUmVhZChuT3JpZywgc3RhdGUpOwoJICB9CgoJICB2YXIgcmV0OwoJICBpZiAobiA+IDApIHJldCA9IGZyb21MaXN0KG4sIHN0YXRlKTtlbHNlIHJldCA9IG51bGw7CgoJICBpZiAocmV0ID09PSBudWxsKSB7CgkgICAgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTsKCSAgICBuID0gMDsKCSAgfSBlbHNlIHsKCSAgICBzdGF0ZS5sZW5ndGggLT0gbjsKCSAgfQoKCSAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgewoJICAgIC8vIElmIHdlIGhhdmUgbm90aGluZyBpbiB0aGUgYnVmZmVyLCB0aGVuIHdlIHdhbnQgdG8ga25vdwoJICAgIC8vIGFzIHNvb24gYXMgd2UgKmRvKiBnZXQgc29tZXRoaW5nIGludG8gdGhlIGJ1ZmZlci4KCSAgICBpZiAoIXN0YXRlLmVuZGVkKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlOwoKCSAgICAvLyBJZiB3ZSB0cmllZCB0byByZWFkKCkgcGFzdCB0aGUgRU9GLCB0aGVuIGVtaXQgZW5kIG9uIHRoZSBuZXh0IHRpY2suCgkgICAgaWYgKG5PcmlnICE9PSBuICYmIHN0YXRlLmVuZGVkKSBlbmRSZWFkYWJsZSh0aGlzKTsKCSAgfQoKCSAgaWYgKHJldCAhPT0gbnVsbCkgdGhpcy5lbWl0KCdkYXRhJywgcmV0KTsKCgkgIHJldHVybiByZXQ7Cgl9OwoKCWZ1bmN0aW9uIGNodW5rSW52YWxpZChzdGF0ZSwgY2h1bmspIHsKCSAgdmFyIGVyID0gbnVsbDsKCSAgaWYgKCFidWZmZXIuQnVmZmVyLmlzQnVmZmVyKGNodW5rKSAmJiB0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmIGNodW5rICE9PSBudWxsICYmIGNodW5rICE9PSB1bmRlZmluZWQgJiYgIXN0YXRlLm9iamVjdE1vZGUpIHsKCSAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmsnKTsKCSAgfQoJICByZXR1cm4gZXI7Cgl9CgoJZnVuY3Rpb24gb25Fb2ZDaHVuayhzdHJlYW0sIHN0YXRlKSB7CgkgIGlmIChzdGF0ZS5lbmRlZCkgcmV0dXJuOwoJICBpZiAoc3RhdGUuZGVjb2RlcikgewoJICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7CgkgICAgaWYgKGNodW5rICYmIGNodW5rLmxlbmd0aCkgewoJICAgICAgc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspOwoJICAgICAgc3RhdGUubGVuZ3RoICs9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoOwoJICAgIH0KCSAgfQoJICBzdGF0ZS5lbmRlZCA9IHRydWU7CgoJICAvLyBlbWl0ICdyZWFkYWJsZScgbm93IHRvIG1ha2Ugc3VyZSBpdCBnZXRzIHBpY2tlZCB1cC4KCSAgZW1pdFJlYWRhYmxlKHN0cmVhbSk7Cgl9CgoJLy8gRG9uJ3QgZW1pdCByZWFkYWJsZSByaWdodCBhd2F5IGluIHN5bmMgbW9kZSwgYmVjYXVzZSB0aGlzIGNhbiB0cmlnZ2VyCgkvLyBhbm90aGVyIHJlYWQoKSBjYWxsID0+IHN0YWNrIG92ZXJmbG93LiAgVGhpcyB3YXksIGl0IG1pZ2h0IHRyaWdnZXIKCS8vIGEgbmV4dFRpY2sgcmVjdXJzaW9uIHdhcm5pbmcsIGJ1dCB0aGF0J3Mgbm90IHNvIGJhZC4KCWZ1bmN0aW9uIGVtaXRSZWFkYWJsZShzdHJlYW0pIHsKCSAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlOwoJICBzdGF0ZS5uZWVkUmVhZGFibGUgPSBmYWxzZTsKCSAgaWYgKCFzdGF0ZS5lbWl0dGVkUmVhZGFibGUpIHsKCSAgICBkZWJ1ZyQyKCdlbWl0UmVhZGFibGUnLCBzdGF0ZS5mbG93aW5nKTsKCSAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSB0cnVlOwoJICAgIGlmIChzdGF0ZS5zeW5jKSBuZXh0VGljayhlbWl0UmVhZGFibGVfLCBzdHJlYW0pO2Vsc2UgZW1pdFJlYWRhYmxlXyhzdHJlYW0pOwoJICB9Cgl9CgoJZnVuY3Rpb24gZW1pdFJlYWRhYmxlXyhzdHJlYW0pIHsKCSAgZGVidWckMignZW1pdCByZWFkYWJsZScpOwoJICBzdHJlYW0uZW1pdCgncmVhZGFibGUnKTsKCSAgZmxvdyhzdHJlYW0pOwoJfQoKCS8vIGF0IHRoaXMgcG9pbnQsIHRoZSB1c2VyIGhhcyBwcmVzdW1hYmx5IHNlZW4gdGhlICdyZWFkYWJsZScgZXZlbnQsCgkvLyBhbmQgY2FsbGVkIHJlYWQoKSB0byBjb25zdW1lIHNvbWUgZGF0YS4gIHRoYXQgbWF5IGhhdmUgdHJpZ2dlcmVkCgkvLyBpbiB0dXJuIGFub3RoZXIgX3JlYWQobikgY2FsbCwgaW4gd2hpY2ggY2FzZSByZWFkaW5nID0gdHJ1ZSBpZgoJLy8gaXQncyBpbiBwcm9ncmVzcy4KCS8vIEhvd2V2ZXIsIGlmIHdlJ3JlIG5vdCBlbmRlZCwgb3IgcmVhZGluZywgYW5kIHRoZSBsZW5ndGggPCBod20sCgkvLyB0aGVuIGdvIGFoZWFkIGFuZCB0cnkgdG8gcmVhZCBzb21lIG1vcmUgcHJlZW1wdGl2ZWx5LgoJZnVuY3Rpb24gbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKSB7CgkgIGlmICghc3RhdGUucmVhZGluZ01vcmUpIHsKCSAgICBzdGF0ZS5yZWFkaW5nTW9yZSA9IHRydWU7CgkgICAgbmV4dFRpY2sobWF5YmVSZWFkTW9yZV8sIHN0cmVhbSwgc3RhdGUpOwoJICB9Cgl9CgoJZnVuY3Rpb24gbWF5YmVSZWFkTW9yZV8oc3RyZWFtLCBzdGF0ZSkgewoJICB2YXIgbGVuID0gc3RhdGUubGVuZ3RoOwoJICB3aGlsZSAoIXN0YXRlLnJlYWRpbmcgJiYgIXN0YXRlLmZsb3dpbmcgJiYgIXN0YXRlLmVuZGVkICYmIHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcmspIHsKCSAgICBkZWJ1ZyQyKCdtYXliZVJlYWRNb3JlIHJlYWQgMCcpOwoJICAgIHN0cmVhbS5yZWFkKDApOwoJICAgIGlmIChsZW4gPT09IHN0YXRlLmxlbmd0aCkKCSAgICAgIC8vIGRpZG4ndCBnZXQgYW55IGRhdGEsIHN0b3Agc3Bpbm5pbmcuCgkgICAgICBicmVhaztlbHNlIGxlbiA9IHN0YXRlLmxlbmd0aDsKCSAgfQoJICBzdGF0ZS5yZWFkaW5nTW9yZSA9IGZhbHNlOwoJfQoKCS8vIGFic3RyYWN0IG1ldGhvZC4gIHRvIGJlIG92ZXJyaWRkZW4gaW4gc3BlY2lmaWMgaW1wbGVtZW50YXRpb24gY2xhc3Nlcy4KCS8vIGNhbGwgY2IoZXIsIGRhdGEpIHdoZXJlIGRhdGEgaXMgPD0gbiBpbiBsZW5ndGguCgkvLyBmb3IgdmlydHVhbCAobm9uLXN0cmluZywgbm9uLWJ1ZmZlcikgc3RyZWFtcywgImxlbmd0aCIgaXMgc29tZXdoYXQKCS8vIGFyYml0cmFyeSwgYW5kIHBlcmhhcHMgbm90IHZlcnkgbWVhbmluZ2Z1bC4KCVJlYWRhYmxlLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7CgkgIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpKTsKCX07CgoJUmVhZGFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoZGVzdCwgcGlwZU9wdHMpIHsKCSAgdmFyIHNyYyA9IHRoaXM7CgkgIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7CgoJICBzd2l0Y2ggKHN0YXRlLnBpcGVzQ291bnQpIHsKCSAgICBjYXNlIDA6CgkgICAgICBzdGF0ZS5waXBlcyA9IGRlc3Q7CgkgICAgICBicmVhazsKCSAgICBjYXNlIDE6CgkgICAgICBzdGF0ZS5waXBlcyA9IFtzdGF0ZS5waXBlcywgZGVzdF07CgkgICAgICBicmVhazsKCSAgICBkZWZhdWx0OgoJICAgICAgc3RhdGUucGlwZXMucHVzaChkZXN0KTsKCSAgICAgIGJyZWFrOwoJICB9CgkgIHN0YXRlLnBpcGVzQ291bnQgKz0gMTsKCSAgZGVidWckMigncGlwZSBjb3VudD0lZCBvcHRzPSVqJywgc3RhdGUucGlwZXNDb3VudCwgcGlwZU9wdHMpOwoKCSAgdmFyIGRvRW5kID0gKCFwaXBlT3B0cyB8fCBwaXBlT3B0cy5lbmQgIT09IGZhbHNlKTsKCgkgIHZhciBlbmRGbiA9IGRvRW5kID8gb25lbmQgOiBjbGVhbnVwOwoJICBpZiAoc3RhdGUuZW5kRW1pdHRlZCkgbmV4dFRpY2soZW5kRm4pO2Vsc2Ugc3JjLm9uY2UoJ2VuZCcsIGVuZEZuKTsKCgkgIGRlc3Qub24oJ3VucGlwZScsIG9udW5waXBlKTsKCSAgZnVuY3Rpb24gb251bnBpcGUocmVhZGFibGUpIHsKCSAgICBkZWJ1ZyQyKCdvbnVucGlwZScpOwoJICAgIGlmIChyZWFkYWJsZSA9PT0gc3JjKSB7CgkgICAgICBjbGVhbnVwKCk7CgkgICAgfQoJICB9CgoJICBmdW5jdGlvbiBvbmVuZCgpIHsKCSAgICBkZWJ1ZyQyKCdvbmVuZCcpOwoJICAgIGRlc3QuZW5kKCk7CgkgIH0KCgkgIC8vIHdoZW4gdGhlIGRlc3QgZHJhaW5zLCBpdCByZWR1Y2VzIHRoZSBhd2FpdERyYWluIGNvdW50ZXIKCSAgLy8gb24gdGhlIHNvdXJjZS4gIFRoaXMgd291bGQgYmUgbW9yZSBlbGVnYW50IHdpdGggYSAub25jZSgpCgkgIC8vIGhhbmRsZXIgaW4gZmxvdygpLCBidXQgYWRkaW5nIGFuZCByZW1vdmluZyByZXBlYXRlZGx5IGlzCgkgIC8vIHRvbyBzbG93LgoJICB2YXIgb25kcmFpbiA9IHBpcGVPbkRyYWluKHNyYyk7CgkgIGRlc3Qub24oJ2RyYWluJywgb25kcmFpbik7CgoJICB2YXIgY2xlYW5lZFVwID0gZmFsc2U7CgkgIGZ1bmN0aW9uIGNsZWFudXAoKSB7CgkgICAgZGVidWckMignY2xlYW51cCcpOwoJICAgIC8vIGNsZWFudXAgZXZlbnQgaGFuZGxlcnMgb25jZSB0aGUgcGlwZSBpcyBicm9rZW4KCSAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpOwoJICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTsKCSAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pOwoJICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7CgkgICAgZGVzdC5yZW1vdmVMaXN0ZW5lcigndW5waXBlJywgb251bnBpcGUpOwoJICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpOwoJICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZW5kJywgY2xlYW51cCk7CgkgICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTsKCgkgICAgY2xlYW5lZFVwID0gdHJ1ZTsKCgkgICAgLy8gaWYgdGhlIHJlYWRlciBpcyB3YWl0aW5nIGZvciBhIGRyYWluIGV2ZW50IGZyb20gdGhpcwoJICAgIC8vIHNwZWNpZmljIHdyaXRlciwgdGhlbiBpdCB3b3VsZCBjYXVzZSBpdCB0byBuZXZlciBzdGFydAoJICAgIC8vIGZsb3dpbmcgYWdhaW4uCgkgICAgLy8gU28sIGlmIHRoaXMgaXMgYXdhaXRpbmcgYSBkcmFpbiwgdGhlbiB3ZSBqdXN0IGNhbGwgaXQgbm93LgoJICAgIC8vIElmIHdlIGRvbid0IGtub3csIHRoZW4gYXNzdW1lIHRoYXQgd2UgYXJlIHdhaXRpbmcgZm9yIG9uZS4KCSAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiAmJiAoIWRlc3QuX3dyaXRhYmxlU3RhdGUgfHwgZGVzdC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pKSBvbmRyYWluKCk7CgkgIH0KCgkgIC8vIElmIHRoZSB1c2VyIHB1c2hlcyBtb3JlIGRhdGEgd2hpbGUgd2UncmUgd3JpdGluZyB0byBkZXN0IHRoZW4gd2UnbGwgZW5kIHVwCgkgIC8vIGluIG9uZGF0YSBhZ2Fpbi4gSG93ZXZlciwgd2Ugb25seSB3YW50IHRvIGluY3JlYXNlIGF3YWl0RHJhaW4gb25jZSBiZWNhdXNlCgkgIC8vIGRlc3Qgd2lsbCBvbmx5IGVtaXQgb25lICdkcmFpbicgZXZlbnQgZm9yIHRoZSBtdWx0aXBsZSB3cml0ZXMuCgkgIC8vID0+IEludHJvZHVjZSBhIGd1YXJkIG9uIGluY3JlYXNpbmcgYXdhaXREcmFpbi4KCSAgdmFyIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTsKCSAgc3JjLm9uKCdkYXRhJywgb25kYXRhKTsKCSAgZnVuY3Rpb24gb25kYXRhKGNodW5rKSB7CgkgICAgZGVidWckMignb25kYXRhJyk7CgkgICAgaW5jcmVhc2VkQXdhaXREcmFpbiA9IGZhbHNlOwoJICAgIHZhciByZXQgPSBkZXN0LndyaXRlKGNodW5rKTsKCSAgICBpZiAoZmFsc2UgPT09IHJldCAmJiAhaW5jcmVhc2VkQXdhaXREcmFpbikgewoJICAgICAgLy8gSWYgdGhlIHVzZXIgdW5waXBlZCBkdXJpbmcgYGRlc3Qud3JpdGUoKWAsIGl0IGlzIHBvc3NpYmxlCgkgICAgICAvLyB0byBnZXQgc3R1Y2sgaW4gYSBwZXJtYW5lbnRseSBwYXVzZWQgc3RhdGUgaWYgdGhhdCB3cml0ZQoJICAgICAgLy8gYWxzbyByZXR1cm5lZCBmYWxzZS4KCSAgICAgIC8vID0+IENoZWNrIHdoZXRoZXIgYGRlc3RgIGlzIHN0aWxsIGEgcGlwaW5nIGRlc3RpbmF0aW9uLgoJICAgICAgaWYgKChzdGF0ZS5waXBlc0NvdW50ID09PSAxICYmIHN0YXRlLnBpcGVzID09PSBkZXN0IHx8IHN0YXRlLnBpcGVzQ291bnQgPiAxICYmIGluZGV4T2Yoc3RhdGUucGlwZXMsIGRlc3QpICE9PSAtMSkgJiYgIWNsZWFuZWRVcCkgewoJICAgICAgICBkZWJ1ZyQyKCdmYWxzZSB3cml0ZSByZXNwb25zZSwgcGF1c2UnLCBzcmMuX3JlYWRhYmxlU3RhdGUuYXdhaXREcmFpbik7CgkgICAgICAgIHNyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKys7CgkgICAgICAgIGluY3JlYXNlZEF3YWl0RHJhaW4gPSB0cnVlOwoJICAgICAgfQoJICAgICAgc3JjLnBhdXNlKCk7CgkgICAgfQoJICB9CgoJICAvLyBpZiB0aGUgZGVzdCBoYXMgYW4gZXJyb3IsIHRoZW4gc3RvcCBwaXBpbmcgaW50byBpdC4KCSAgLy8gaG93ZXZlciwgZG9uJ3Qgc3VwcHJlc3MgdGhlIHRocm93aW5nIGJlaGF2aW9yIGZvciB0aGlzLgoJICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7CgkgICAgZGVidWckMignb25lcnJvcicsIGVyKTsKCSAgICB1bnBpcGUoKTsKCSAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpOwoJICAgIGlmIChsaXN0ZW5lckNvdW50KGRlc3QsICdlcnJvcicpID09PSAwKSBkZXN0LmVtaXQoJ2Vycm9yJywgZXIpOwoJICB9CgoJICAvLyBNYWtlIHN1cmUgb3VyIGVycm9yIGhhbmRsZXIgaXMgYXR0YWNoZWQgYmVmb3JlIHVzZXJsYW5kIG9uZXMuCgkgIHByZXBlbmRMaXN0ZW5lcihkZXN0LCAnZXJyb3InLCBvbmVycm9yKTsKCgkgIC8vIEJvdGggY2xvc2UgYW5kIGZpbmlzaCBzaG91bGQgdHJpZ2dlciB1bnBpcGUsIGJ1dCBvbmx5IG9uY2UuCgkgIGZ1bmN0aW9uIG9uY2xvc2UoKSB7CgkgICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpOwoJICAgIHVucGlwZSgpOwoJICB9CgkgIGRlc3Qub25jZSgnY2xvc2UnLCBvbmNsb3NlKTsKCSAgZnVuY3Rpb24gb25maW5pc2goKSB7CgkgICAgZGVidWckMignb25maW5pc2gnKTsKCSAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpOwoJICAgIHVucGlwZSgpOwoJICB9CgkgIGRlc3Qub25jZSgnZmluaXNoJywgb25maW5pc2gpOwoKCSAgZnVuY3Rpb24gdW5waXBlKCkgewoJICAgIGRlYnVnJDIoJ3VucGlwZScpOwoJICAgIHNyYy51bnBpcGUoZGVzdCk7CgkgIH0KCgkgIC8vIHRlbGwgdGhlIGRlc3QgdGhhdCBpdCdzIGJlaW5nIHBpcGVkIHRvCgkgIGRlc3QuZW1pdCgncGlwZScsIHNyYyk7CgoJICAvLyBzdGFydCB0aGUgZmxvdyBpZiBpdCBoYXNuJ3QgYmVlbiBzdGFydGVkIGFscmVhZHkuCgkgIGlmICghc3RhdGUuZmxvd2luZykgewoJICAgIGRlYnVnJDIoJ3BpcGUgcmVzdW1lJyk7CgkgICAgc3JjLnJlc3VtZSgpOwoJICB9CgoJICByZXR1cm4gZGVzdDsKCX07CgoJZnVuY3Rpb24gcGlwZU9uRHJhaW4oc3JjKSB7CgkgIHJldHVybiBmdW5jdGlvbiAoKSB7CgkgICAgdmFyIHN0YXRlID0gc3JjLl9yZWFkYWJsZVN0YXRlOwoJICAgIGRlYnVnJDIoJ3BpcGVPbkRyYWluJywgc3RhdGUuYXdhaXREcmFpbik7CgkgICAgaWYgKHN0YXRlLmF3YWl0RHJhaW4pIHN0YXRlLmF3YWl0RHJhaW4tLTsKCSAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiA9PT0gMCAmJiBzcmMubGlzdGVuZXJzKCdkYXRhJykubGVuZ3RoKSB7CgkgICAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTsKCSAgICAgIGZsb3coc3JjKTsKCSAgICB9CgkgIH07Cgl9CgoJUmVhZGFibGUucHJvdG90eXBlLnVucGlwZSA9IGZ1bmN0aW9uIChkZXN0KSB7CgkgIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7CgoJICAvLyBpZiB3ZSdyZSBub3QgcGlwaW5nIGFueXdoZXJlLCB0aGVuIGRvIG5vdGhpbmcuCgkgIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAwKSByZXR1cm4gdGhpczsKCgkgIC8vIGp1c3Qgb25lIGRlc3RpbmF0aW9uLiAgbW9zdCBjb21tb24gY2FzZS4KCSAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHsKCSAgICAvLyBwYXNzZWQgaW4gb25lLCBidXQgaXQncyBub3QgdGhlIHJpZ2h0IG9uZS4KCSAgICBpZiAoZGVzdCAmJiBkZXN0ICE9PSBzdGF0ZS5waXBlcykgcmV0dXJuIHRoaXM7CgoJICAgIGlmICghZGVzdCkgZGVzdCA9IHN0YXRlLnBpcGVzOwoKCSAgICAvLyBnb3QgYSBtYXRjaC4KCSAgICBzdGF0ZS5waXBlcyA9IG51bGw7CgkgICAgc3RhdGUucGlwZXNDb3VudCA9IDA7CgkgICAgc3RhdGUuZmxvd2luZyA9IGZhbHNlOwoJICAgIGlmIChkZXN0KSBkZXN0LmVtaXQoJ3VucGlwZScsIHRoaXMpOwoJICAgIHJldHVybiB0aGlzOwoJICB9CgoJICAvLyBzbG93IGNhc2UuIG11bHRpcGxlIHBpcGUgZGVzdGluYXRpb25zLgoKCSAgaWYgKCFkZXN0KSB7CgkgICAgLy8gcmVtb3ZlIGFsbC4KCSAgICB2YXIgZGVzdHMgPSBzdGF0ZS5waXBlczsKCSAgICB2YXIgbGVuID0gc3RhdGUucGlwZXNDb3VudDsKCSAgICBzdGF0ZS5waXBlcyA9IG51bGw7CgkgICAgc3RhdGUucGlwZXNDb3VudCA9IDA7CgkgICAgc3RhdGUuZmxvd2luZyA9IGZhbHNlOwoKCSAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGVuOyBfaSsrKSB7CgkgICAgICBkZXN0c1tfaV0uZW1pdCgndW5waXBlJywgdGhpcyk7CgkgICAgfXJldHVybiB0aGlzOwoJICB9CgoJICAvLyB0cnkgdG8gZmluZCB0aGUgcmlnaHQgb25lLgoJICB2YXIgaSA9IGluZGV4T2Yoc3RhdGUucGlwZXMsIGRlc3QpOwoJICBpZiAoaSA9PT0gLTEpIHJldHVybiB0aGlzOwoKCSAgc3RhdGUucGlwZXMuc3BsaWNlKGksIDEpOwoJICBzdGF0ZS5waXBlc0NvdW50IC09IDE7CgkgIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAxKSBzdGF0ZS5waXBlcyA9IHN0YXRlLnBpcGVzWzBdOwoKCSAgZGVzdC5lbWl0KCd1bnBpcGUnLCB0aGlzKTsKCgkgIHJldHVybiB0aGlzOwoJfTsKCgkvLyBzZXQgdXAgZGF0YSBldmVudHMgaWYgdGhleSBhcmUgYXNrZWQgZm9yCgkvLyBFbnN1cmUgcmVhZGFibGUgbGlzdGVuZXJzIGV2ZW50dWFsbHkgZ2V0IHNvbWV0aGluZwoJUmVhZGFibGUucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2LCBmbikgewoJICB2YXIgcmVzID0gRUUucHJvdG90eXBlLm9uLmNhbGwodGhpcywgZXYsIGZuKTsKCgkgIGlmIChldiA9PT0gJ2RhdGEnKSB7CgkgICAgLy8gU3RhcnQgZmxvd2luZyBvbiBuZXh0IHRpY2sgaWYgc3RyZWFtIGlzbid0IGV4cGxpY2l0bHkgcGF1c2VkCgkgICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyAhPT0gZmFsc2UpIHRoaXMucmVzdW1lKCk7CgkgIH0gZWxzZSBpZiAoZXYgPT09ICdyZWFkYWJsZScpIHsKCSAgICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlOwoJICAgIGlmICghc3RhdGUuZW5kRW1pdHRlZCAmJiAhc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcpIHsKCSAgICAgIHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nID0gc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTsKCSAgICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlOwoJICAgICAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7CgkgICAgICAgIG5leHRUaWNrKG5SZWFkaW5nTmV4dFRpY2ssIHRoaXMpOwoJICAgICAgfSBlbHNlIGlmIChzdGF0ZS5sZW5ndGgpIHsKCSAgICAgICAgZW1pdFJlYWRhYmxlKHRoaXMpOwoJICAgICAgfQoJICAgIH0KCSAgfQoKCSAgcmV0dXJuIHJlczsKCX07CglSZWFkYWJsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBSZWFkYWJsZS5wcm90b3R5cGUub247CgoJZnVuY3Rpb24gblJlYWRpbmdOZXh0VGljayhzZWxmKSB7CgkgIGRlYnVnJDIoJ3JlYWRhYmxlIG5leHR0aWNrIHJlYWQgMCcpOwoJICBzZWxmLnJlYWQoMCk7Cgl9CgoJLy8gcGF1c2UoKSBhbmQgcmVzdW1lKCkgYXJlIHJlbW5hbnRzIG9mIHRoZSBsZWdhY3kgcmVhZGFibGUgc3RyZWFtIEFQSQoJLy8gSWYgdGhlIHVzZXIgdXNlcyB0aGVtLCB0aGVuIHN3aXRjaCBpbnRvIG9sZCBtb2RlLgoJUmVhZGFibGUucHJvdG90eXBlLnJlc3VtZSA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTsKCSAgaWYgKCFzdGF0ZS5mbG93aW5nKSB7CgkgICAgZGVidWckMigncmVzdW1lJyk7CgkgICAgc3RhdGUuZmxvd2luZyA9IHRydWU7CgkgICAgcmVzdW1lKHRoaXMsIHN0YXRlKTsKCSAgfQoJICByZXR1cm4gdGhpczsKCX07CgoJZnVuY3Rpb24gcmVzdW1lKHN0cmVhbSwgc3RhdGUpIHsKCSAgaWYgKCFzdGF0ZS5yZXN1bWVTY2hlZHVsZWQpIHsKCSAgICBzdGF0ZS5yZXN1bWVTY2hlZHVsZWQgPSB0cnVlOwoJICAgIG5leHRUaWNrKHJlc3VtZV8sIHN0cmVhbSwgc3RhdGUpOwoJICB9Cgl9CgoJZnVuY3Rpb24gcmVzdW1lXyhzdHJlYW0sIHN0YXRlKSB7CgkgIGlmICghc3RhdGUucmVhZGluZykgewoJICAgIGRlYnVnJDIoJ3Jlc3VtZSByZWFkIDAnKTsKCSAgICBzdHJlYW0ucmVhZCgwKTsKCSAgfQoKCSAgc3RhdGUucmVzdW1lU2NoZWR1bGVkID0gZmFsc2U7CgkgIHN0YXRlLmF3YWl0RHJhaW4gPSAwOwoJICBzdHJlYW0uZW1pdCgncmVzdW1lJyk7CgkgIGZsb3coc3RyZWFtKTsKCSAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgIXN0YXRlLnJlYWRpbmcpIHN0cmVhbS5yZWFkKDApOwoJfQoKCVJlYWRhYmxlLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uICgpIHsKCSAgZGVidWckMignY2FsbCBwYXVzZSBmbG93aW5nPSVqJywgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKTsKCSAgaWYgKGZhbHNlICE9PSB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpIHsKCSAgICBkZWJ1ZyQyKCdwYXVzZScpOwoJICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyA9IGZhbHNlOwoJICAgIHRoaXMuZW1pdCgncGF1c2UnKTsKCSAgfQoJICByZXR1cm4gdGhpczsKCX07CgoJZnVuY3Rpb24gZmxvdyhzdHJlYW0pIHsKCSAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlOwoJICBkZWJ1ZyQyKCdmbG93Jywgc3RhdGUuZmxvd2luZyk7CgkgIHdoaWxlIChzdGF0ZS5mbG93aW5nICYmIHN0cmVhbS5yZWFkKCkgIT09IG51bGwpIHt9Cgl9CgoJLy8gd3JhcCBhbiBvbGQtc3R5bGUgc3RyZWFtIGFzIHRoZSBhc3luYyBkYXRhIHNvdXJjZS4KCS8vIFRoaXMgaXMgKm5vdCogcGFydCBvZiB0aGUgcmVhZGFibGUgc3RyZWFtIGludGVyZmFjZS4KCS8vIEl0IGlzIGFuIHVnbHkgdW5mb3J0dW5hdGUgbWVzcyBvZiBoaXN0b3J5LgoJUmVhZGFibGUucHJvdG90eXBlLndyYXAgPSBmdW5jdGlvbiAoc3RyZWFtKSB7CgkgIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7CgkgIHZhciBwYXVzZWQgPSBmYWxzZTsKCgkgIHZhciBzZWxmID0gdGhpczsKCSAgc3RyZWFtLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CgkgICAgZGVidWckMignd3JhcHBlZCBlbmQnKTsKCSAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhc3RhdGUuZW5kZWQpIHsKCSAgICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7CgkgICAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSBzZWxmLnB1c2goY2h1bmspOwoJICAgIH0KCgkgICAgc2VsZi5wdXNoKG51bGwpOwoJICB9KTsKCgkgIHN0cmVhbS5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykgewoJICAgIGRlYnVnJDIoJ3dyYXBwZWQgZGF0YScpOwoJICAgIGlmIChzdGF0ZS5kZWNvZGVyKSBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspOwoKCSAgICAvLyBkb24ndCBza2lwIG92ZXIgZmFsc3kgdmFsdWVzIGluIG9iamVjdE1vZGUKCSAgICBpZiAoc3RhdGUub2JqZWN0TW9kZSAmJiAoY2h1bmsgPT09IG51bGwgfHwgY2h1bmsgPT09IHVuZGVmaW5lZCkpIHJldHVybjtlbHNlIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiAoIWNodW5rIHx8ICFjaHVuay5sZW5ndGgpKSByZXR1cm47CgoJICAgIHZhciByZXQgPSBzZWxmLnB1c2goY2h1bmspOwoJICAgIGlmICghcmV0KSB7CgkgICAgICBwYXVzZWQgPSB0cnVlOwoJICAgICAgc3RyZWFtLnBhdXNlKCk7CgkgICAgfQoJICB9KTsKCgkgIC8vIHByb3h5IGFsbCB0aGUgb3RoZXIgbWV0aG9kcy4KCSAgLy8gaW1wb3J0YW50IHdoZW4gd3JhcHBpbmcgZmlsdGVycyBhbmQgZHVwbGV4ZXMuCgkgIGZvciAodmFyIGkgaW4gc3RyZWFtKSB7CgkgICAgaWYgKHRoaXNbaV0gPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc3RyZWFtW2ldID09PSAnZnVuY3Rpb24nKSB7CgkgICAgICB0aGlzW2ldID0gZnVuY3Rpb24gKG1ldGhvZCkgewoJICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewoJICAgICAgICAgIHJldHVybiBzdHJlYW1bbWV0aG9kXS5hcHBseShzdHJlYW0sIGFyZ3VtZW50cyk7CgkgICAgICAgIH07CgkgICAgICB9KGkpOwoJICAgIH0KCSAgfQoKCSAgLy8gcHJveHkgY2VydGFpbiBpbXBvcnRhbnQgZXZlbnRzLgoJICB2YXIgZXZlbnRzID0gWydlcnJvcicsICdjbG9zZScsICdkZXN0cm95JywgJ3BhdXNlJywgJ3Jlc3VtZSddOwoJICBmb3JFYWNoKGV2ZW50cywgZnVuY3Rpb24gKGV2KSB7CgkgICAgc3RyZWFtLm9uKGV2LCBzZWxmLmVtaXQuYmluZChzZWxmLCBldikpOwoJICB9KTsKCgkgIC8vIHdoZW4gd2UgdHJ5IHRvIGNvbnN1bWUgc29tZSBtb3JlIGJ5dGVzLCBzaW1wbHkgdW5wYXVzZSB0aGUKCSAgLy8gdW5kZXJseWluZyBzdHJlYW0uCgkgIHNlbGYuX3JlYWQgPSBmdW5jdGlvbiAobikgewoJICAgIGRlYnVnJDIoJ3dyYXBwZWQgX3JlYWQnLCBuKTsKCSAgICBpZiAocGF1c2VkKSB7CgkgICAgICBwYXVzZWQgPSBmYWxzZTsKCSAgICAgIHN0cmVhbS5yZXN1bWUoKTsKCSAgICB9CgkgIH07CgoJICByZXR1cm4gc2VsZjsKCX07CgoJLy8gZXhwb3NlZCBmb3IgdGVzdGluZyBwdXJwb3NlcyBvbmx5LgoJUmVhZGFibGUuX2Zyb21MaXN0ID0gZnJvbUxpc3Q7CgoJLy8gUGx1Y2sgb2ZmIG4gYnl0ZXMgZnJvbSBhbiBhcnJheSBvZiBidWZmZXJzLgoJLy8gTGVuZ3RoIGlzIHRoZSBjb21iaW5lZCBsZW5ndGhzIG9mIGFsbCB0aGUgYnVmZmVycyBpbiB0aGUgbGlzdC4KCS8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nCgkvLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LgoJZnVuY3Rpb24gZnJvbUxpc3Qobiwgc3RhdGUpIHsKCSAgLy8gbm90aGluZyBidWZmZXJlZAoJICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDsKCgkgIHZhciByZXQ7CgkgIGlmIChzdGF0ZS5vYmplY3RNb2RlKSByZXQgPSBzdGF0ZS5idWZmZXIuc2hpZnQoKTtlbHNlIGlmICghbiB8fCBuID49IHN0YXRlLmxlbmd0aCkgewoJICAgIC8vIHJlYWQgaXQgYWxsLCB0cnVuY2F0ZSB0aGUgbGlzdAoJICAgIGlmIChzdGF0ZS5kZWNvZGVyKSByZXQgPSBzdGF0ZS5idWZmZXIuam9pbignJyk7ZWxzZSBpZiAoc3RhdGUuYnVmZmVyLmxlbmd0aCA9PT0gMSkgcmV0ID0gc3RhdGUuYnVmZmVyLmhlYWQuZGF0YTtlbHNlIHJldCA9IHN0YXRlLmJ1ZmZlci5jb25jYXQoc3RhdGUubGVuZ3RoKTsKCSAgICBzdGF0ZS5idWZmZXIuY2xlYXIoKTsKCSAgfSBlbHNlIHsKCSAgICAvLyByZWFkIHBhcnQgb2YgbGlzdAoJICAgIHJldCA9IGZyb21MaXN0UGFydGlhbChuLCBzdGF0ZS5idWZmZXIsIHN0YXRlLmRlY29kZXIpOwoJICB9CgoJICByZXR1cm4gcmV0OwoJfQoKCS8vIEV4dHJhY3RzIG9ubHkgZW5vdWdoIGJ1ZmZlcmVkIGRhdGEgdG8gc2F0aXNmeSB0aGUgYW1vdW50IHJlcXVlc3RlZC4KCS8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nCgkvLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LgoJZnVuY3Rpb24gZnJvbUxpc3RQYXJ0aWFsKG4sIGxpc3QsIGhhc1N0cmluZ3MpIHsKCSAgdmFyIHJldDsKCSAgaWYgKG4gPCBsaXN0LmhlYWQuZGF0YS5sZW5ndGgpIHsKCSAgICAvLyBzbGljZSBpcyB0aGUgc2FtZSBmb3IgYnVmZmVycyBhbmQgc3RyaW5ncwoJICAgIHJldCA9IGxpc3QuaGVhZC5kYXRhLnNsaWNlKDAsIG4pOwoJICAgIGxpc3QuaGVhZC5kYXRhID0gbGlzdC5oZWFkLmRhdGEuc2xpY2Uobik7CgkgIH0gZWxzZSBpZiAobiA9PT0gbGlzdC5oZWFkLmRhdGEubGVuZ3RoKSB7CgkgICAgLy8gZmlyc3QgY2h1bmsgaXMgYSBwZXJmZWN0IG1hdGNoCgkgICAgcmV0ID0gbGlzdC5zaGlmdCgpOwoJICB9IGVsc2UgewoJICAgIC8vIHJlc3VsdCBzcGFucyBtb3JlIHRoYW4gb25lIGJ1ZmZlcgoJICAgIHJldCA9IGhhc1N0cmluZ3MgPyBjb3B5RnJvbUJ1ZmZlclN0cmluZyhuLCBsaXN0KSA6IGNvcHlGcm9tQnVmZmVyKG4sIGxpc3QpOwoJICB9CgkgIHJldHVybiByZXQ7Cgl9CgoJLy8gQ29waWVzIGEgc3BlY2lmaWVkIGFtb3VudCBvZiBjaGFyYWN0ZXJzIGZyb20gdGhlIGxpc3Qgb2YgYnVmZmVyZWQgZGF0YQoJLy8gY2h1bmtzLgoJLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmcKCS8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuCglmdW5jdGlvbiBjb3B5RnJvbUJ1ZmZlclN0cmluZyhuLCBsaXN0KSB7CgkgIHZhciBwID0gbGlzdC5oZWFkOwoJICB2YXIgYyA9IDE7CgkgIHZhciByZXQgPSBwLmRhdGE7CgkgIG4gLT0gcmV0Lmxlbmd0aDsKCSAgd2hpbGUgKHAgPSBwLm5leHQpIHsKCSAgICB2YXIgc3RyID0gcC5kYXRhOwoJICAgIHZhciBuYiA9IG4gPiBzdHIubGVuZ3RoID8gc3RyLmxlbmd0aCA6IG47CgkgICAgaWYgKG5iID09PSBzdHIubGVuZ3RoKSByZXQgKz0gc3RyO2Vsc2UgcmV0ICs9IHN0ci5zbGljZSgwLCBuKTsKCSAgICBuIC09IG5iOwoJICAgIGlmIChuID09PSAwKSB7CgkgICAgICBpZiAobmIgPT09IHN0ci5sZW5ndGgpIHsKCSAgICAgICAgKytjOwoJICAgICAgICBpZiAocC5uZXh0KSBsaXN0LmhlYWQgPSBwLm5leHQ7ZWxzZSBsaXN0LmhlYWQgPSBsaXN0LnRhaWwgPSBudWxsOwoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgbGlzdC5oZWFkID0gcDsKCSAgICAgICAgcC5kYXRhID0gc3RyLnNsaWNlKG5iKTsKCSAgICAgIH0KCSAgICAgIGJyZWFrOwoJICAgIH0KCSAgICArK2M7CgkgIH0KCSAgbGlzdC5sZW5ndGggLT0gYzsKCSAgcmV0dXJuIHJldDsKCX0KCgkvLyBDb3BpZXMgYSBzcGVjaWZpZWQgYW1vdW50IG9mIGJ5dGVzIGZyb20gdGhlIGxpc3Qgb2YgYnVmZmVyZWQgZGF0YSBjaHVua3MuCgkvLyBUaGlzIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIGJlIGlubGluYWJsZSwgc28gcGxlYXNlIHRha2UgY2FyZSB3aGVuIG1ha2luZwoJLy8gY2hhbmdlcyB0byB0aGUgZnVuY3Rpb24gYm9keS4KCWZ1bmN0aW9uIGNvcHlGcm9tQnVmZmVyKG4sIGxpc3QpIHsKCSAgdmFyIHJldCA9IGJ1ZmZlci5CdWZmZXIuYWxsb2NVbnNhZmUobik7CgkgIHZhciBwID0gbGlzdC5oZWFkOwoJICB2YXIgYyA9IDE7CgkgIHAuZGF0YS5jb3B5KHJldCk7CgkgIG4gLT0gcC5kYXRhLmxlbmd0aDsKCSAgd2hpbGUgKHAgPSBwLm5leHQpIHsKCSAgICB2YXIgYnVmID0gcC5kYXRhOwoJICAgIHZhciBuYiA9IG4gPiBidWYubGVuZ3RoID8gYnVmLmxlbmd0aCA6IG47CgkgICAgYnVmLmNvcHkocmV0LCByZXQubGVuZ3RoIC0gbiwgMCwgbmIpOwoJICAgIG4gLT0gbmI7CgkgICAgaWYgKG4gPT09IDApIHsKCSAgICAgIGlmIChuYiA9PT0gYnVmLmxlbmd0aCkgewoJICAgICAgICArK2M7CgkgICAgICAgIGlmIChwLm5leHQpIGxpc3QuaGVhZCA9IHAubmV4dDtlbHNlIGxpc3QuaGVhZCA9IGxpc3QudGFpbCA9IG51bGw7CgkgICAgICB9IGVsc2UgewoJICAgICAgICBsaXN0LmhlYWQgPSBwOwoJICAgICAgICBwLmRhdGEgPSBidWYuc2xpY2UobmIpOwoJICAgICAgfQoJICAgICAgYnJlYWs7CgkgICAgfQoJICAgICsrYzsKCSAgfQoJICBsaXN0Lmxlbmd0aCAtPSBjOwoJICByZXR1cm4gcmV0OwoJfQoKCWZ1bmN0aW9uIGVuZFJlYWRhYmxlKHN0cmVhbSkgewoJICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7CgoJICAvLyBJZiB3ZSBnZXQgaGVyZSBiZWZvcmUgY29uc3VtaW5nIGFsbCB0aGUgYnl0ZXMsIHRoZW4gdGhhdCBpcyBhCgkgIC8vIGJ1ZyBpbiBub2RlLiAgU2hvdWxkIG5ldmVyIGhhcHBlbi4KCSAgaWYgKHN0YXRlLmxlbmd0aCA+IDApIHRocm93IG5ldyBFcnJvcignImVuZFJlYWRhYmxlKCkiIGNhbGxlZCBvbiBub24tZW1wdHkgc3RyZWFtJyk7CgoJICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQpIHsKCSAgICBzdGF0ZS5lbmRlZCA9IHRydWU7CgkgICAgbmV4dFRpY2soZW5kUmVhZGFibGVOVCwgc3RhdGUsIHN0cmVhbSk7CgkgIH0KCX0KCglmdW5jdGlvbiBlbmRSZWFkYWJsZU5UKHN0YXRlLCBzdHJlYW0pIHsKCSAgLy8gQ2hlY2sgdGhhdCB3ZSBkaWRuJ3QgZ2V0IG9uZSBsYXN0IHVuc2hpZnQuCgkgIGlmICghc3RhdGUuZW5kRW1pdHRlZCAmJiBzdGF0ZS5sZW5ndGggPT09IDApIHsKCSAgICBzdGF0ZS5lbmRFbWl0dGVkID0gdHJ1ZTsKCSAgICBzdHJlYW0ucmVhZGFibGUgPSBmYWxzZTsKCSAgICBzdHJlYW0uZW1pdCgnZW5kJyk7CgkgIH0KCX0KCglmdW5jdGlvbiBmb3JFYWNoKHhzLCBmKSB7CgkgIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CgkgICAgZih4c1tpXSwgaSk7CgkgIH0KCX0KCglmdW5jdGlvbiBpbmRleE9mKHhzLCB4KSB7CgkgIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CgkgICAgaWYgKHhzW2ldID09PSB4KSByZXR1cm4gaTsKCSAgfQoJICByZXR1cm4gLTE7Cgl9CgoJLy8gQSBiaXQgc2ltcGxlciB0aGFuIHJlYWRhYmxlIHN0cmVhbXMuCglXcml0YWJsZSQxLldyaXRhYmxlU3RhdGUgPSBXcml0YWJsZVN0YXRlOwoJaW5oZXJpdHMkMShXcml0YWJsZSQxLCBldmVudHMkMS5leHBvcnRzLkV2ZW50RW1pdHRlcik7CgoJZnVuY3Rpb24gbm9wKCkge30KCglmdW5jdGlvbiBXcml0ZVJlcShjaHVuaywgZW5jb2RpbmcsIGNiKSB7CgkgIHRoaXMuY2h1bmsgPSBjaHVuazsKCSAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwoJICB0aGlzLmNhbGxiYWNrID0gY2I7CgkgIHRoaXMubmV4dCA9IG51bGw7Cgl9CgoJZnVuY3Rpb24gV3JpdGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0pIHsKCSAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdidWZmZXInLCB7CgkgICAgZ2V0OiBkZXByZWNhdGUoZnVuY3Rpb24gKCkgewoJICAgICAgcmV0dXJuIHRoaXMuZ2V0QnVmZmVyKCk7CgkgICAgfSwgJ193cml0YWJsZVN0YXRlLmJ1ZmZlciBpcyBkZXByZWNhdGVkLiBVc2UgX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyICcgKyAnaW5zdGVhZC4nKQoJICB9KTsKCSAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CgoJICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciBvciBub3QgdGhpcyBzdHJlYW0KCSAgLy8gY29udGFpbnMgYnVmZmVycyBvciBvYmplY3RzLgoJICB0aGlzLm9iamVjdE1vZGUgPSAhIW9wdGlvbnMub2JqZWN0TW9kZTsKCgkgIGlmIChzdHJlYW0gaW5zdGFuY2VvZiBEdXBsZXgpIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlOwoKCSAgLy8gdGhlIHBvaW50IGF0IHdoaWNoIHdyaXRlKCkgc3RhcnRzIHJldHVybmluZyBmYWxzZQoJICAvLyBOb3RlOiAwIGlzIGEgdmFsaWQgdmFsdWUsIG1lYW5zIHRoYXQgd2UgYWx3YXlzIHJldHVybiBmYWxzZSBpZgoJICAvLyB0aGUgZW50aXJlIGJ1ZmZlciBpcyBub3QgZmx1c2hlZCBpbW1lZGlhdGVseSBvbiB3cml0ZSgpCgkgIHZhciBod20gPSBvcHRpb25zLmhpZ2hXYXRlck1hcms7CgkgIHZhciBkZWZhdWx0SHdtID0gdGhpcy5vYmplY3RNb2RlID8gMTYgOiAxNiAqIDEwMjQ7CgkgIHRoaXMuaGlnaFdhdGVyTWFyayA9IGh3bSB8fCBod20gPT09IDAgPyBod20gOiBkZWZhdWx0SHdtOwoKCSAgLy8gY2FzdCB0byBpbnRzLgoJICB0aGlzLmhpZ2hXYXRlck1hcmsgPSB+IH50aGlzLmhpZ2hXYXRlck1hcms7CgoJICB0aGlzLm5lZWREcmFpbiA9IGZhbHNlOwoJICAvLyBhdCB0aGUgc3RhcnQgb2YgY2FsbGluZyBlbmQoKQoJICB0aGlzLmVuZGluZyA9IGZhbHNlOwoJICAvLyB3aGVuIGVuZCgpIGhhcyBiZWVuIGNhbGxlZCwgYW5kIHJldHVybmVkCgkgIHRoaXMuZW5kZWQgPSBmYWxzZTsKCSAgLy8gd2hlbiAnZmluaXNoJyBpcyBlbWl0dGVkCgkgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTsKCgkgIC8vIHNob3VsZCB3ZSBkZWNvZGUgc3RyaW5ncyBpbnRvIGJ1ZmZlcnMgYmVmb3JlIHBhc3NpbmcgdG8gX3dyaXRlPwoJICAvLyB0aGlzIGlzIGhlcmUgc28gdGhhdCBzb21lIG5vZGUtY29yZSBzdHJlYW1zIGNhbiBvcHRpbWl6ZSBzdHJpbmcKCSAgLy8gaGFuZGxpbmcgYXQgYSBsb3dlciBsZXZlbC4KCSAgdmFyIG5vRGVjb2RlID0gb3B0aW9ucy5kZWNvZGVTdHJpbmdzID09PSBmYWxzZTsKCSAgdGhpcy5kZWNvZGVTdHJpbmdzID0gIW5vRGVjb2RlOwoKCSAgLy8gQ3J5cHRvIGlzIGtpbmQgb2Ygb2xkIGFuZCBjcnVzdHkuICBIaXN0b3JpY2FsbHksIGl0cyBkZWZhdWx0IHN0cmluZwoJICAvLyBlbmNvZGluZyBpcyAnYmluYXJ5JyBzbyB3ZSBoYXZlIHRvIG1ha2UgdGhpcyBjb25maWd1cmFibGUuCgkgIC8vIEV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgdW5pdmVyc2UgdXNlcyAndXRmOCcsIHRob3VnaC4KCSAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7CgoJICAvLyBub3QgYW4gYWN0dWFsIGJ1ZmZlciB3ZSBrZWVwIHRyYWNrIG9mLCBidXQgYSBtZWFzdXJlbWVudAoJICAvLyBvZiBob3cgbXVjaCB3ZSdyZSB3YWl0aW5nIHRvIGdldCBwdXNoZWQgdG8gc29tZSB1bmRlcmx5aW5nCgkgIC8vIHNvY2tldCBvciBmaWxlLgoJICB0aGlzLmxlbmd0aCA9IDA7CgoJICAvLyBhIGZsYWcgdG8gc2VlIHdoZW4gd2UncmUgaW4gdGhlIG1pZGRsZSBvZiBhIHdyaXRlLgoJICB0aGlzLndyaXRpbmcgPSBmYWxzZTsKCgkgIC8vIHdoZW4gdHJ1ZSBhbGwgd3JpdGVzIHdpbGwgYmUgYnVmZmVyZWQgdW50aWwgLnVuY29yaygpIGNhbGwKCSAgdGhpcy5jb3JrZWQgPSAwOwoKCSAgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgb253cml0ZSBjYiBpcyBjYWxsZWQgaW1tZWRpYXRlbHksCgkgIC8vIG9yIG9uIGEgbGF0ZXIgdGljay4gIFdlIHNldCB0aGlzIHRvIHRydWUgYXQgZmlyc3QsIGJlY2F1c2UgYW55CgkgIC8vIGFjdGlvbnMgdGhhdCBzaG91bGRuJ3QgaGFwcGVuIHVudGlsICJsYXRlciIgc2hvdWxkIGdlbmVyYWxseSBhbHNvCgkgIC8vIG5vdCBoYXBwZW4gYmVmb3JlIHRoZSBmaXJzdCB3cml0ZSBjYWxsLgoJICB0aGlzLnN5bmMgPSB0cnVlOwoKCSAgLy8gYSBmbGFnIHRvIGtub3cgaWYgd2UncmUgcHJvY2Vzc2luZyBwcmV2aW91c2x5IGJ1ZmZlcmVkIGl0ZW1zLCB3aGljaAoJICAvLyBtYXkgY2FsbCB0aGUgX3dyaXRlKCkgY2FsbGJhY2sgaW4gdGhlIHNhbWUgdGljaywgc28gdGhhdCB3ZSBkb24ndAoJICAvLyBlbmQgdXAgaW4gYW4gb3ZlcmxhcHBlZCBvbndyaXRlIHNpdHVhdGlvbi4KCSAgdGhpcy5idWZmZXJQcm9jZXNzaW5nID0gZmFsc2U7CgoJICAvLyB0aGUgY2FsbGJhY2sgdGhhdCdzIHBhc3NlZCB0byBfd3JpdGUoY2h1bmssY2IpCgkgIHRoaXMub253cml0ZSA9IGZ1bmN0aW9uIChlcikgewoJICAgIG9ud3JpdGUoc3RyZWFtLCBlcik7CgkgIH07CgoJICAvLyB0aGUgY2FsbGJhY2sgdGhhdCB0aGUgdXNlciBzdXBwbGllcyB0byB3cml0ZShjaHVuayxlbmNvZGluZyxjYikKCSAgdGhpcy53cml0ZWNiID0gbnVsbDsKCgkgIC8vIHRoZSBhbW91bnQgdGhhdCBpcyBiZWluZyB3cml0dGVuIHdoZW4gX3dyaXRlIGlzIGNhbGxlZC4KCSAgdGhpcy53cml0ZWxlbiA9IDA7CgoJICB0aGlzLmJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7CgkgIHRoaXMubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7CgoJICAvLyBudW1iZXIgb2YgcGVuZGluZyB1c2VyLXN1cHBsaWVkIHdyaXRlIGNhbGxiYWNrcwoJICAvLyB0aGlzIG11c3QgYmUgMCBiZWZvcmUgJ2ZpbmlzaCcgY2FuIGJlIGVtaXR0ZWQKCSAgdGhpcy5wZW5kaW5nY2IgPSAwOwoKCSAgLy8gZW1pdCBwcmVmaW5pc2ggaWYgdGhlIG9ubHkgdGhpbmcgd2UncmUgd2FpdGluZyBmb3IgaXMgX3dyaXRlIGNicwoJICAvLyBUaGlzIGlzIHJlbGV2YW50IGZvciBzeW5jaHJvbm91cyBUcmFuc2Zvcm0gc3RyZWFtcwoJICB0aGlzLnByZWZpbmlzaGVkID0gZmFsc2U7CgoJICAvLyBUcnVlIGlmIHRoZSBlcnJvciB3YXMgYWxyZWFkeSBlbWl0dGVkIGFuZCBzaG91bGQgbm90IGJlIHRocm93biBhZ2FpbgoJICB0aGlzLmVycm9yRW1pdHRlZCA9IGZhbHNlOwoKCSAgLy8gY291bnQgYnVmZmVyZWQgcmVxdWVzdHMKCSAgdGhpcy5idWZmZXJlZFJlcXVlc3RDb3VudCA9IDA7CgoJICAvLyBhbGxvY2F0ZSB0aGUgZmlyc3QgQ29ya2VkUmVxdWVzdCwgdGhlcmUgaXMgYWx3YXlzCgkgIC8vIG9uZSBhbGxvY2F0ZWQgYW5kIGZyZWUgdG8gdXNlLCBhbmQgd2UgbWFpbnRhaW4gYXQgbW9zdCB0d28KCSAgdGhpcy5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdCh0aGlzKTsKCX0KCglXcml0YWJsZVN0YXRlLnByb3RvdHlwZS5nZXRCdWZmZXIgPSBmdW5jdGlvbiB3cml0YWJsZVN0YXRlR2V0QnVmZmVyKCkgewoJICB2YXIgY3VycmVudCA9IHRoaXMuYnVmZmVyZWRSZXF1ZXN0OwoJICB2YXIgb3V0ID0gW107CgkgIHdoaWxlIChjdXJyZW50KSB7CgkgICAgb3V0LnB1c2goY3VycmVudCk7CgkgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDsKCSAgfQoJICByZXR1cm4gb3V0OwoJfTsKCWZ1bmN0aW9uIFdyaXRhYmxlJDEob3B0aW9ucykgewoKCSAgLy8gV3JpdGFibGUgY3RvciBpcyBhcHBsaWVkIHRvIER1cGxleGVzLCB0aG91Z2ggdGhleSdyZSBub3QKCSAgLy8gaW5zdGFuY2VvZiBXcml0YWJsZSwgdGhleSdyZSBpbnN0YW5jZW9mIFJlYWRhYmxlLgoJICBpZiAoISh0aGlzIGluc3RhbmNlb2YgV3JpdGFibGUkMSkgJiYgISh0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSkgcmV0dXJuIG5ldyBXcml0YWJsZSQxKG9wdGlvbnMpOwoKCSAgdGhpcy5fd3JpdGFibGVTdGF0ZSA9IG5ldyBXcml0YWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMpOwoKCSAgLy8gbGVnYWN5LgoJICB0aGlzLndyaXRhYmxlID0gdHJ1ZTsKCgkgIGlmIChvcHRpb25zKSB7CgkgICAgaWYgKHR5cGVvZiBvcHRpb25zLndyaXRlID09PSAnZnVuY3Rpb24nKSB0aGlzLl93cml0ZSA9IG9wdGlvbnMud3JpdGU7CgoJICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZXYgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRldiA9IG9wdGlvbnMud3JpdGV2OwoJICB9CgoJICBldmVudHMkMS5leHBvcnRzLkV2ZW50RW1pdHRlci5jYWxsKHRoaXMpOwoJfQoKCS8vIE90aGVyd2lzZSBwZW9wbGUgY2FuIHBpcGUgV3JpdGFibGUgc3RyZWFtcywgd2hpY2ggaXMganVzdCB3cm9uZy4KCVdyaXRhYmxlJDEucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7CgkgIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ0Nhbm5vdCBwaXBlLCBub3QgcmVhZGFibGUnKSk7Cgl9OwoKCWZ1bmN0aW9uIHdyaXRlQWZ0ZXJFbmQoc3RyZWFtLCBjYikgewoJICB2YXIgZXIgPSBuZXcgRXJyb3IoJ3dyaXRlIGFmdGVyIGVuZCcpOwoJICAvLyBUT0RPOiBkZWZlciBlcnJvciBldmVudHMgY29uc2lzdGVudGx5IGV2ZXJ5d2hlcmUsIG5vdCBqdXN0IHRoZSBjYgoJICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7CgkgIG5leHRUaWNrKGNiLCBlcik7Cgl9CgoJLy8gSWYgd2UgZ2V0IHNvbWV0aGluZyB0aGF0IGlzIG5vdCBhIGJ1ZmZlciwgc3RyaW5nLCBudWxsLCBvciB1bmRlZmluZWQsCgkvLyBhbmQgd2UncmUgbm90IGluIG9iamVjdE1vZGUsIHRoZW4gdGhhdCdzIGFuIGVycm9yLgoJLy8gT3RoZXJ3aXNlIHN0cmVhbSBjaHVua3MgYXJlIGFsbCBjb25zaWRlcmVkIHRvIGJlIG9mIGxlbmd0aD0xLCBhbmQgdGhlCgkvLyB3YXRlcm1hcmtzIGRldGVybWluZSBob3cgbWFueSBvYmplY3RzIHRvIGtlZXAgaW4gdGhlIGJ1ZmZlciwgcmF0aGVyIHRoYW4KCS8vIGhvdyBtYW55IGJ5dGVzIG9yIGNoYXJhY3RlcnMuCglmdW5jdGlvbiB2YWxpZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBjYikgewoJICB2YXIgdmFsaWQgPSB0cnVlOwoJICB2YXIgZXIgPSBmYWxzZTsKCSAgLy8gQWx3YXlzIHRocm93IGVycm9yIGlmIGEgbnVsbCBpcyB3cml0dGVuCgkgIC8vIGlmIHdlIGFyZSBub3QgaW4gb2JqZWN0IG1vZGUgdGhlbiB0aHJvdwoJICAvLyBpZiBpdCBpcyBub3QgYSBidWZmZXIsIHN0cmluZywgb3IgdW5kZWZpbmVkLgoJICBpZiAoY2h1bmsgPT09IG51bGwpIHsKCSAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ01heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtJyk7CgkgIH0gZWxzZSBpZiAoIWJ1ZmZlci5CdWZmZXIuaXNCdWZmZXIoY2h1bmspICYmIHR5cGVvZiBjaHVuayAhPT0gJ3N0cmluZycgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCAmJiAhc3RhdGUub2JqZWN0TW9kZSkgewoJICAgIGVyID0gbmV3IFR5cGVFcnJvcignSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVuaycpOwoJICB9CgkgIGlmIChlcikgewoJICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTsKCSAgICBuZXh0VGljayhjYiwgZXIpOwoJICAgIHZhbGlkID0gZmFsc2U7CgkgIH0KCSAgcmV0dXJuIHZhbGlkOwoJfQoKCVdyaXRhYmxlJDEucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHsKCSAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTsKCSAgdmFyIHJldCA9IGZhbHNlOwoKCSAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ2Z1bmN0aW9uJykgewoJICAgIGNiID0gZW5jb2Rpbmc7CgkgICAgZW5jb2RpbmcgPSBudWxsOwoJICB9CgoJICBpZiAoYnVmZmVyLkJ1ZmZlci5pc0J1ZmZlcihjaHVuaykpIGVuY29kaW5nID0gJ2J1ZmZlcic7ZWxzZSBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9IHN0YXRlLmRlZmF1bHRFbmNvZGluZzsKCgkgIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIGNiID0gbm9wOwoKCSAgaWYgKHN0YXRlLmVuZGVkKSB3cml0ZUFmdGVyRW5kKHRoaXMsIGNiKTtlbHNlIGlmICh2YWxpZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgY2IpKSB7CgkgICAgc3RhdGUucGVuZGluZ2NiKys7CgkgICAgcmV0ID0gd3JpdGVPckJ1ZmZlcih0aGlzLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBjYik7CgkgIH0KCgkgIHJldHVybiByZXQ7Cgl9OwoKCVdyaXRhYmxlJDEucHJvdG90eXBlLmNvcmsgPSBmdW5jdGlvbiAoKSB7CgkgIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7CgoJICBzdGF0ZS5jb3JrZWQrKzsKCX07CgoJV3JpdGFibGUkMS5wcm90b3R5cGUudW5jb3JrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlOwoKCSAgaWYgKHN0YXRlLmNvcmtlZCkgewoJICAgIHN0YXRlLmNvcmtlZC0tOwoKCSAgICBpZiAoIXN0YXRlLndyaXRpbmcgJiYgIXN0YXRlLmNvcmtlZCAmJiAhc3RhdGUuZmluaXNoZWQgJiYgIXN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KSBjbGVhckJ1ZmZlcih0aGlzLCBzdGF0ZSk7CgkgIH0KCX07CgoJV3JpdGFibGUkMS5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nID0gZnVuY3Rpb24gc2V0RGVmYXVsdEVuY29kaW5nKGVuY29kaW5nKSB7CgkgIC8vIG5vZGU6OlBhcnNlRW5jb2RpbmcoKSByZXF1aXJlcyBsb3dlciBjYXNlLgoJICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJykgZW5jb2RpbmcgPSBlbmNvZGluZy50b0xvd2VyQ2FzZSgpOwoJICBpZiAoIShbJ2hleCcsICd1dGY4JywgJ3V0Zi04JywgJ2FzY2lpJywgJ2JpbmFyeScsICdiYXNlNjQnLCAndWNzMicsICd1Y3MtMicsICd1dGYxNmxlJywgJ3V0Zi0xNmxlJywgJ3JhdyddLmluZGV4T2YoKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKCkpID4gLTEpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpOwoJICB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZyA9IGVuY29kaW5nOwoJICByZXR1cm4gdGhpczsKCX07CgoJZnVuY3Rpb24gZGVjb2RlQ2h1bmsoc3RhdGUsIGNodW5rLCBlbmNvZGluZykgewoJICBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgc3RhdGUuZGVjb2RlU3RyaW5ncyAhPT0gZmFsc2UgJiYgdHlwZW9mIGNodW5rID09PSAnc3RyaW5nJykgewoJICAgIGNodW5rID0gYnVmZmVyLkJ1ZmZlci5mcm9tKGNodW5rLCBlbmNvZGluZyk7CgkgIH0KCSAgcmV0dXJuIGNodW5rOwoJfQoKCS8vIGlmIHdlJ3JlIGFscmVhZHkgd3JpdGluZyBzb21ldGhpbmcsIHRoZW4ganVzdCBwdXQgdGhpcwoJLy8gaW4gdGhlIHF1ZXVlLCBhbmQgd2FpdCBvdXIgdHVybi4gIE90aGVyd2lzZSwgY2FsbCBfd3JpdGUKCS8vIElmIHdlIHJldHVybiBmYWxzZSwgdGhlbiB3ZSBuZWVkIGEgZHJhaW4gZXZlbnQsIHNvIHNldCB0aGF0IGZsYWcuCglmdW5jdGlvbiB3cml0ZU9yQnVmZmVyKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBlbmNvZGluZywgY2IpIHsKCSAgY2h1bmsgPSBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKTsKCgkgIGlmIChidWZmZXIuQnVmZmVyLmlzQnVmZmVyKGNodW5rKSkgZW5jb2RpbmcgPSAnYnVmZmVyJzsKCSAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoOwoKCSAgc3RhdGUubGVuZ3RoICs9IGxlbjsKCgkgIHZhciByZXQgPSBzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrOwoJICAvLyB3ZSBtdXN0IGVuc3VyZSB0aGF0IHByZXZpb3VzIG5lZWREcmFpbiB3aWxsIG5vdCBiZSByZXNldCB0byBmYWxzZS4KCSAgaWYgKCFyZXQpIHN0YXRlLm5lZWREcmFpbiA9IHRydWU7CgoJICBpZiAoc3RhdGUud3JpdGluZyB8fCBzdGF0ZS5jb3JrZWQpIHsKCSAgICB2YXIgbGFzdCA9IHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7CgkgICAgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG5ldyBXcml0ZVJlcShjaHVuaywgZW5jb2RpbmcsIGNiKTsKCSAgICBpZiAobGFzdCkgewoJICAgICAgbGFzdC5uZXh0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDsKCSAgICB9IGVsc2UgewoJICAgICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDsKCSAgICB9CgkgICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQgKz0gMTsKCSAgfSBlbHNlIHsKCSAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIGZhbHNlLCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpOwoJICB9CgoJICByZXR1cm4gcmV0OwoJfQoKCWZ1bmN0aW9uIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgd3JpdGV2LCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpIHsKCSAgc3RhdGUud3JpdGVsZW4gPSBsZW47CgkgIHN0YXRlLndyaXRlY2IgPSBjYjsKCSAgc3RhdGUud3JpdGluZyA9IHRydWU7CgkgIHN0YXRlLnN5bmMgPSB0cnVlOwoJICBpZiAod3JpdGV2KSBzdHJlYW0uX3dyaXRldihjaHVuaywgc3RhdGUub253cml0ZSk7ZWxzZSBzdHJlYW0uX3dyaXRlKGNodW5rLCBlbmNvZGluZywgc3RhdGUub253cml0ZSk7CgkgIHN0YXRlLnN5bmMgPSBmYWxzZTsKCX0KCglmdW5jdGlvbiBvbndyaXRlRXJyb3Ioc3RyZWFtLCBzdGF0ZSwgc3luYywgZXIsIGNiKSB7CgkgIC0tc3RhdGUucGVuZGluZ2NiOwoJICBpZiAoc3luYykgbmV4dFRpY2soY2IsIGVyKTtlbHNlIGNiKGVyKTsKCgkgIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlOwoJICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7Cgl9CgoJZnVuY3Rpb24gb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKSB7CgkgIHN0YXRlLndyaXRpbmcgPSBmYWxzZTsKCSAgc3RhdGUud3JpdGVjYiA9IG51bGw7CgkgIHN0YXRlLmxlbmd0aCAtPSBzdGF0ZS53cml0ZWxlbjsKCSAgc3RhdGUud3JpdGVsZW4gPSAwOwoJfQoKCWZ1bmN0aW9uIG9ud3JpdGUoc3RyZWFtLCBlcikgewoJICB2YXIgc3RhdGUgPSBzdHJlYW0uX3dyaXRhYmxlU3RhdGU7CgkgIHZhciBzeW5jID0gc3RhdGUuc3luYzsKCSAgdmFyIGNiID0gc3RhdGUud3JpdGVjYjsKCgkgIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSk7CgoJICBpZiAoZXIpIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpO2Vsc2UgewoJICAgIC8vIENoZWNrIGlmIHdlJ3JlIGFjdHVhbGx5IHJlYWR5IHRvIGZpbmlzaCwgYnV0IGRvbid0IGVtaXQgeWV0CgkgICAgdmFyIGZpbmlzaGVkID0gbmVlZEZpbmlzaChzdGF0ZSk7CgoJICAgIGlmICghZmluaXNoZWQgJiYgIXN0YXRlLmNvcmtlZCAmJiAhc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyAmJiBzdGF0ZS5idWZmZXJlZFJlcXVlc3QpIHsKCSAgICAgIGNsZWFyQnVmZmVyKHN0cmVhbSwgc3RhdGUpOwoJICAgIH0KCgkgICAgaWYgKHN5bmMpIHsKCSAgICAgIC8qPHJlcGxhY2VtZW50PiovCgkgICAgICAgIG5leHRUaWNrKGFmdGVyV3JpdGUsIHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7CgkgICAgICAvKjwvcmVwbGFjZW1lbnQ+Ki8KCSAgICB9IGVsc2UgewoJICAgICAgICBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7CgkgICAgICB9CgkgIH0KCX0KCglmdW5jdGlvbiBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYikgewoJICBpZiAoIWZpbmlzaGVkKSBvbndyaXRlRHJhaW4oc3RyZWFtLCBzdGF0ZSk7CgkgIHN0YXRlLnBlbmRpbmdjYi0tOwoJICBjYigpOwoJICBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKTsKCX0KCgkvLyBNdXN0IGZvcmNlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBvbiBuZXh0VGljaywgc28gdGhhdCB3ZSBkb24ndAoJLy8gZW1pdCAnZHJhaW4nIGJlZm9yZSB0aGUgd3JpdGUoKSBjb25zdW1lciBnZXRzIHRoZSAnZmFsc2UnIHJldHVybgoJLy8gdmFsdWUsIGFuZCBoYXMgYSBjaGFuY2UgdG8gYXR0YWNoIGEgJ2RyYWluJyBsaXN0ZW5lci4KCWZ1bmN0aW9uIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKSB7CgkgIGlmIChzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUubmVlZERyYWluKSB7CgkgICAgc3RhdGUubmVlZERyYWluID0gZmFsc2U7CgkgICAgc3RyZWFtLmVtaXQoJ2RyYWluJyk7CgkgIH0KCX0KCgkvLyBpZiB0aGVyZSdzIHNvbWV0aGluZyBpbiB0aGUgYnVmZmVyIHdhaXRpbmcsIHRoZW4gcHJvY2VzcyBpdAoJZnVuY3Rpb24gY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSkgewoJICBzdGF0ZS5idWZmZXJQcm9jZXNzaW5nID0gdHJ1ZTsKCSAgdmFyIGVudHJ5ID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0OwoKCSAgaWYgKHN0cmVhbS5fd3JpdGV2ICYmIGVudHJ5ICYmIGVudHJ5Lm5leHQpIHsKCSAgICAvLyBGYXN0IGNhc2UsIHdyaXRlIGV2ZXJ5dGhpbmcgdXNpbmcgX3dyaXRldigpCgkgICAgdmFyIGwgPSBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudDsKCSAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5KGwpOwoJICAgIHZhciBob2xkZXIgPSBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWU7CgkgICAgaG9sZGVyLmVudHJ5ID0gZW50cnk7CgoJICAgIHZhciBjb3VudCA9IDA7CgkgICAgd2hpbGUgKGVudHJ5KSB7CgkgICAgICBidWZmZXJbY291bnRdID0gZW50cnk7CgkgICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7CgkgICAgICBjb3VudCArPSAxOwoJICAgIH0KCgkgICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCB0cnVlLCBzdGF0ZS5sZW5ndGgsIGJ1ZmZlciwgJycsIGhvbGRlci5maW5pc2gpOwoKCSAgICAvLyBkb1dyaXRlIGlzIGFsbW9zdCBhbHdheXMgYXN5bmMsIGRlZmVyIHRoZXNlIHRvIHNhdmUgYSBiaXQgb2YgdGltZQoJICAgIC8vIGFzIHRoZSBob3QgcGF0aCBlbmRzIHdpdGggZG9Xcml0ZQoJICAgIHN0YXRlLnBlbmRpbmdjYisrOwoJICAgIHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsOwoJICAgIGlmIChob2xkZXIubmV4dCkgewoJICAgICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlID0gaG9sZGVyLm5leHQ7CgkgICAgICBob2xkZXIubmV4dCA9IG51bGw7CgkgICAgfSBlbHNlIHsKCSAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IG5ldyBDb3JrZWRSZXF1ZXN0KHN0YXRlKTsKCSAgICB9CgkgIH0gZWxzZSB7CgkgICAgLy8gU2xvdyBjYXNlLCB3cml0ZSBjaHVua3Mgb25lLWJ5LW9uZQoJICAgIHdoaWxlIChlbnRyeSkgewoJICAgICAgdmFyIGNodW5rID0gZW50cnkuY2h1bms7CgkgICAgICB2YXIgZW5jb2RpbmcgPSBlbnRyeS5lbmNvZGluZzsKCSAgICAgIHZhciBjYiA9IGVudHJ5LmNhbGxiYWNrOwoJICAgICAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoOwoKCSAgICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7CgkgICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7CgkgICAgICAvLyBpZiB3ZSBkaWRuJ3QgY2FsbCB0aGUgb253cml0ZSBpbW1lZGlhdGVseSwgdGhlbgoJICAgICAgLy8gaXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHdhaXQgdW50aWwgaXQgZG9lcy4KCSAgICAgIC8vIGFsc28sIHRoYXQgbWVhbnMgdGhhdCB0aGUgY2h1bmsgYW5kIGNiIGFyZSBjdXJyZW50bHkKCSAgICAgIC8vIGJlaW5nIHByb2Nlc3NlZCwgc28gbW92ZSB0aGUgYnVmZmVyIGNvdW50ZXIgcGFzdCB0aGVtLgoJICAgICAgaWYgKHN0YXRlLndyaXRpbmcpIHsKCSAgICAgICAgYnJlYWs7CgkgICAgICB9CgkgICAgfQoKCSAgICBpZiAoZW50cnkgPT09IG51bGwpIHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsOwoJICB9CgoJICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCA9IDA7CgkgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCA9IGVudHJ5OwoJICBzdGF0ZS5idWZmZXJQcm9jZXNzaW5nID0gZmFsc2U7Cgl9CgoJV3JpdGFibGUkMS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHsKCSAgY2IobmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKSk7Cgl9OwoKCVdyaXRhYmxlJDEucHJvdG90eXBlLl93cml0ZXYgPSBudWxsOwoKCVdyaXRhYmxlJDEucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7CgkgIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7CgoJICBpZiAodHlwZW9mIGNodW5rID09PSAnZnVuY3Rpb24nKSB7CgkgICAgY2IgPSBjaHVuazsKCSAgICBjaHVuayA9IG51bGw7CgkgICAgZW5jb2RpbmcgPSBudWxsOwoJICB9IGVsc2UgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ2Z1bmN0aW9uJykgewoJICAgIGNiID0gZW5jb2Rpbmc7CgkgICAgZW5jb2RpbmcgPSBudWxsOwoJICB9CgoJICBpZiAoY2h1bmsgIT09IG51bGwgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCkgdGhpcy53cml0ZShjaHVuaywgZW5jb2RpbmcpOwoKCSAgLy8gLmVuZCgpIGZ1bGx5IHVuY29ya3MKCSAgaWYgKHN0YXRlLmNvcmtlZCkgewoJICAgIHN0YXRlLmNvcmtlZCA9IDE7CgkgICAgdGhpcy51bmNvcmsoKTsKCSAgfQoKCSAgLy8gaWdub3JlIHVubmVjZXNzYXJ5IGVuZCgpIGNhbGxzLgoJICBpZiAoIXN0YXRlLmVuZGluZyAmJiAhc3RhdGUuZmluaXNoZWQpIGVuZFdyaXRhYmxlKHRoaXMsIHN0YXRlLCBjYik7Cgl9OwoKCWZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpIHsKCSAgcmV0dXJuIHN0YXRlLmVuZGluZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID09PSBudWxsICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUud3JpdGluZzsKCX0KCglmdW5jdGlvbiBwcmVmaW5pc2goc3RyZWFtLCBzdGF0ZSkgewoJICBpZiAoIXN0YXRlLnByZWZpbmlzaGVkKSB7CgkgICAgc3RhdGUucHJlZmluaXNoZWQgPSB0cnVlOwoJICAgIHN0cmVhbS5lbWl0KCdwcmVmaW5pc2gnKTsKCSAgfQoJfQoKCWZ1bmN0aW9uIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpIHsKCSAgdmFyIG5lZWQgPSBuZWVkRmluaXNoKHN0YXRlKTsKCSAgaWYgKG5lZWQpIHsKCSAgICBpZiAoc3RhdGUucGVuZGluZ2NiID09PSAwKSB7CgkgICAgICBwcmVmaW5pc2goc3RyZWFtLCBzdGF0ZSk7CgkgICAgICBzdGF0ZS5maW5pc2hlZCA9IHRydWU7CgkgICAgICBzdHJlYW0uZW1pdCgnZmluaXNoJyk7CgkgICAgfSBlbHNlIHsKCSAgICAgIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKTsKCSAgICB9CgkgIH0KCSAgcmV0dXJuIG5lZWQ7Cgl9CgoJZnVuY3Rpb24gZW5kV3JpdGFibGUoc3RyZWFtLCBzdGF0ZSwgY2IpIHsKCSAgc3RhdGUuZW5kaW5nID0gdHJ1ZTsKCSAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7CgkgIGlmIChjYikgewoJICAgIGlmIChzdGF0ZS5maW5pc2hlZCkgbmV4dFRpY2soY2IpO2Vsc2Ugc3RyZWFtLm9uY2UoJ2ZpbmlzaCcsIGNiKTsKCSAgfQoJICBzdGF0ZS5lbmRlZCA9IHRydWU7CgkgIHN0cmVhbS53cml0YWJsZSA9IGZhbHNlOwoJfQoKCS8vIEl0IHNlZW1zIGEgbGlua2VkIGxpc3QgYnV0IGl0IGlzIG5vdAoJLy8gdGhlcmUgd2lsbCBiZSBvbmx5IDIgb2YgdGhlc2UgZm9yIGVhY2ggc3RyZWFtCglmdW5jdGlvbiBDb3JrZWRSZXF1ZXN0KHN0YXRlKSB7CgkgIHZhciBfdGhpcyA9IHRoaXM7CgoJICB0aGlzLm5leHQgPSBudWxsOwoJICB0aGlzLmVudHJ5ID0gbnVsbDsKCgkgIHRoaXMuZmluaXNoID0gZnVuY3Rpb24gKGVycikgewoJICAgIHZhciBlbnRyeSA9IF90aGlzLmVudHJ5OwoJICAgIF90aGlzLmVudHJ5ID0gbnVsbDsKCSAgICB3aGlsZSAoZW50cnkpIHsKCSAgICAgIHZhciBjYiA9IGVudHJ5LmNhbGxiYWNrOwoJICAgICAgc3RhdGUucGVuZGluZ2NiLS07CgkgICAgICBjYihlcnIpOwoJICAgICAgZW50cnkgPSBlbnRyeS5uZXh0OwoJICAgIH0KCSAgICBpZiAoc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlKSB7CgkgICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUubmV4dCA9IF90aGlzOwoJICAgIH0gZWxzZSB7CgkgICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBfdGhpczsKCSAgICB9CgkgIH07Cgl9CgoJaW5oZXJpdHMkMShEdXBsZXgsIFJlYWRhYmxlKTsKCgl2YXIga2V5cyA9IE9iamVjdC5rZXlzKFdyaXRhYmxlJDEucHJvdG90eXBlKTsKCWZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykgewoJICB2YXIgbWV0aG9kID0ga2V5c1t2XTsKCSAgaWYgKCFEdXBsZXgucHJvdG90eXBlW21ldGhvZF0pIER1cGxleC5wcm90b3R5cGVbbWV0aG9kXSA9IFdyaXRhYmxlJDEucHJvdG90eXBlW21ldGhvZF07Cgl9CglmdW5jdGlvbiBEdXBsZXgob3B0aW9ucykgewoJICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSkgcmV0dXJuIG5ldyBEdXBsZXgob3B0aW9ucyk7CgoJICBSZWFkYWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpOwoJICBXcml0YWJsZSQxLmNhbGwodGhpcywgb3B0aW9ucyk7CgoJICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlYWRhYmxlID09PSBmYWxzZSkgdGhpcy5yZWFkYWJsZSA9IGZhbHNlOwoKCSAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy53cml0YWJsZSA9PT0gZmFsc2UpIHRoaXMud3JpdGFibGUgPSBmYWxzZTsKCgkgIHRoaXMuYWxsb3dIYWxmT3BlbiA9IHRydWU7CgkgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuYWxsb3dIYWxmT3BlbiA9PT0gZmFsc2UpIHRoaXMuYWxsb3dIYWxmT3BlbiA9IGZhbHNlOwoKCSAgdGhpcy5vbmNlKCdlbmQnLCBvbmVuZCk7Cgl9CgoJLy8gdGhlIG5vLWhhbGYtb3BlbiBlbmZvcmNlcgoJZnVuY3Rpb24gb25lbmQoKSB7CgkgIC8vIGlmIHdlIGFsbG93IGhhbGYtb3BlbiBzdGF0ZSwgb3IgaWYgdGhlIHdyaXRhYmxlIHNpZGUgZW5kZWQsCgkgIC8vIHRoZW4gd2UncmUgb2suCgkgIGlmICh0aGlzLmFsbG93SGFsZk9wZW4gfHwgdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZCkgcmV0dXJuOwoKCSAgLy8gbm8gbW9yZSBkYXRhIGNhbiBiZSB3cml0dGVuLgoJICAvLyBCdXQgYWxsb3cgbW9yZSB3cml0ZXMgdG8gaGFwcGVuIGluIHRoaXMgdGljay4KCSAgbmV4dFRpY2sob25FbmROVCwgdGhpcyk7Cgl9CgoJZnVuY3Rpb24gb25FbmROVChzZWxmKSB7CgkgIHNlbGYuZW5kKCk7Cgl9CgoJLy8gYSB0cmFuc2Zvcm0gc3RyZWFtIGlzIGEgcmVhZGFibGUvd3JpdGFibGUgc3RyZWFtIHdoZXJlIHlvdSBkbwoJaW5oZXJpdHMkMShUcmFuc2Zvcm0sIER1cGxleCk7CgoJZnVuY3Rpb24gVHJhbnNmb3JtU3RhdGUoc3RyZWFtKSB7CgkgIHRoaXMuYWZ0ZXJUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoZXIsIGRhdGEpIHsKCSAgICByZXR1cm4gYWZ0ZXJUcmFuc2Zvcm0oc3RyZWFtLCBlciwgZGF0YSk7CgkgIH07CgoJICB0aGlzLm5lZWRUcmFuc2Zvcm0gPSBmYWxzZTsKCSAgdGhpcy50cmFuc2Zvcm1pbmcgPSBmYWxzZTsKCSAgdGhpcy53cml0ZWNiID0gbnVsbDsKCSAgdGhpcy53cml0ZWNodW5rID0gbnVsbDsKCSAgdGhpcy53cml0ZWVuY29kaW5nID0gbnVsbDsKCX0KCglmdW5jdGlvbiBhZnRlclRyYW5zZm9ybShzdHJlYW0sIGVyLCBkYXRhKSB7CgkgIHZhciB0cyA9IHN0cmVhbS5fdHJhbnNmb3JtU3RhdGU7CgkgIHRzLnRyYW5zZm9ybWluZyA9IGZhbHNlOwoKCSAgdmFyIGNiID0gdHMud3JpdGVjYjsKCgkgIGlmICghY2IpIHJldHVybiBzdHJlYW0uZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ25vIHdyaXRlY2IgaW4gVHJhbnNmb3JtIGNsYXNzJykpOwoKCSAgdHMud3JpdGVjaHVuayA9IG51bGw7CgkgIHRzLndyaXRlY2IgPSBudWxsOwoKCSAgaWYgKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdW5kZWZpbmVkKSBzdHJlYW0ucHVzaChkYXRhKTsKCgkgIGNiKGVyKTsKCgkgIHZhciBycyA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTsKCSAgcnMucmVhZGluZyA9IGZhbHNlOwoJICBpZiAocnMubmVlZFJlYWRhYmxlIHx8IHJzLmxlbmd0aCA8IHJzLmhpZ2hXYXRlck1hcmspIHsKCSAgICBzdHJlYW0uX3JlYWQocnMuaGlnaFdhdGVyTWFyayk7CgkgIH0KCX0KCWZ1bmN0aW9uIFRyYW5zZm9ybShvcHRpb25zKSB7CgkgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBUcmFuc2Zvcm0pKSByZXR1cm4gbmV3IFRyYW5zZm9ybShvcHRpb25zKTsKCgkgIER1cGxleC5jYWxsKHRoaXMsIG9wdGlvbnMpOwoKCSAgdGhpcy5fdHJhbnNmb3JtU3RhdGUgPSBuZXcgVHJhbnNmb3JtU3RhdGUodGhpcyk7CgoJICAvLyB3aGVuIHRoZSB3cml0YWJsZSBzaWRlIGZpbmlzaGVzLCB0aGVuIGZsdXNoIG91dCBhbnl0aGluZyByZW1haW5pbmcuCgkgIHZhciBzdHJlYW0gPSB0aGlzOwoKCSAgLy8gc3RhcnQgb3V0IGFza2luZyBmb3IgYSByZWFkYWJsZSBldmVudCBvbmNlIGRhdGEgaXMgdHJhbnNmb3JtZWQuCgkgIHRoaXMuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTsKCgkgIC8vIHdlIGhhdmUgaW1wbGVtZW50ZWQgdGhlIF9yZWFkIG1ldGhvZCwgYW5kIGRvbmUgdGhlIG90aGVyIHRoaW5ncwoJICAvLyB0aGF0IFJlYWRhYmxlIHdhbnRzIGJlZm9yZSB0aGUgZmlyc3QgX3JlYWQgY2FsbCwgc28gdW5zZXQgdGhlCgkgIC8vIHN5bmMgZ3VhcmQgZmxhZy4KCSAgdGhpcy5fcmVhZGFibGVTdGF0ZS5zeW5jID0gZmFsc2U7CgoJICBpZiAob3B0aW9ucykgewoJICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbicpIHRoaXMuX3RyYW5zZm9ybSA9IG9wdGlvbnMudHJhbnNmb3JtOwoKCSAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmx1c2ggPT09ICdmdW5jdGlvbicpIHRoaXMuX2ZsdXNoID0gb3B0aW9ucy5mbHVzaDsKCSAgfQoKCSAgdGhpcy5vbmNlKCdwcmVmaW5pc2gnLCBmdW5jdGlvbiAoKSB7CgkgICAgaWYgKHR5cGVvZiB0aGlzLl9mbHVzaCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZmx1c2goZnVuY3Rpb24gKGVyKSB7CgkgICAgICBkb25lKHN0cmVhbSwgZXIpOwoJICAgIH0pO2Vsc2UgZG9uZShzdHJlYW0pOwoJICB9KTsKCX0KCglUcmFuc2Zvcm0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nKSB7CgkgIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm0gPSBmYWxzZTsKCSAgcmV0dXJuIER1cGxleC5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsIGNodW5rLCBlbmNvZGluZyk7Cgl9OwoKCS8vIFRoaXMgaXMgdGhlIHBhcnQgd2hlcmUgeW91IGRvIHN0dWZmIQoJLy8gb3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiBpbiBpbXBsZW1lbnRhdGlvbiBjbGFzc2VzLgoJLy8gJ2NodW5rJyBpcyBhbiBpbnB1dCBjaHVuay4KCS8vCgkvLyBDYWxsIGBwdXNoKG5ld0NodW5rKWAgdG8gcGFzcyBhbG9uZyB0cmFuc2Zvcm1lZCBvdXRwdXQKCS8vIHRvIHRoZSByZWFkYWJsZSBzaWRlLiAgWW91IG1heSBjYWxsICdwdXNoJyB6ZXJvIG9yIG1vcmUgdGltZXMuCgkvLwoJLy8gQ2FsbCBgY2IoZXJyKWAgd2hlbiB5b3UgYXJlIGRvbmUgd2l0aCB0aGlzIGNodW5rLiAgSWYgeW91IHBhc3MKCS8vIGFuIGVycm9yLCB0aGVuIHRoYXQnbGwgcHV0IHRoZSBodXJ0IG9uIHRoZSB3aG9sZSBvcGVyYXRpb24uICBJZiB5b3UKCS8vIG5ldmVyIGNhbGwgY2IoKSwgdGhlbiB5b3UnbGwgbmV2ZXIgZ2V0IGFub3RoZXIgY2h1bmsuCglUcmFuc2Zvcm0ucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikgewoJICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpOwoJfTsKCglUcmFuc2Zvcm0ucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7CgkgIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlOwoJICB0cy53cml0ZWNiID0gY2I7CgkgIHRzLndyaXRlY2h1bmsgPSBjaHVuazsKCSAgdHMud3JpdGVlbmNvZGluZyA9IGVuY29kaW5nOwoJICBpZiAoIXRzLnRyYW5zZm9ybWluZykgewoJICAgIHZhciBycyA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7CgkgICAgaWYgKHRzLm5lZWRUcmFuc2Zvcm0gfHwgcnMubmVlZFJlYWRhYmxlIHx8IHJzLmxlbmd0aCA8IHJzLmhpZ2hXYXRlck1hcmspIHRoaXMuX3JlYWQocnMuaGlnaFdhdGVyTWFyayk7CgkgIH0KCX07CgoJLy8gRG9lc24ndCBtYXR0ZXIgd2hhdCB0aGUgYXJncyBhcmUgaGVyZS4KCS8vIF90cmFuc2Zvcm0gZG9lcyBhbGwgdGhlIHdvcmsuCgkvLyBUaGF0IHdlIGdvdCBoZXJlIG1lYW5zIHRoYXQgdGhlIHJlYWRhYmxlIHNpZGUgd2FudHMgbW9yZSBkYXRhLgoJVHJhbnNmb3JtLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7CgkgIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlOwoKCSAgaWYgKHRzLndyaXRlY2h1bmsgIT09IG51bGwgJiYgdHMud3JpdGVjYiAmJiAhdHMudHJhbnNmb3JtaW5nKSB7CgkgICAgdHMudHJhbnNmb3JtaW5nID0gdHJ1ZTsKCSAgICB0aGlzLl90cmFuc2Zvcm0odHMud3JpdGVjaHVuaywgdHMud3JpdGVlbmNvZGluZywgdHMuYWZ0ZXJUcmFuc2Zvcm0pOwoJICB9IGVsc2UgewoJICAgIC8vIG1hcmsgdGhhdCB3ZSBuZWVkIGEgdHJhbnNmb3JtLCBzbyB0aGF0IGFueSBkYXRhIHRoYXQgY29tZXMgaW4KCSAgICAvLyB3aWxsIGdldCBwcm9jZXNzZWQsIG5vdyB0aGF0IHdlJ3ZlIGFza2VkIGZvciBpdC4KCSAgICB0cy5uZWVkVHJhbnNmb3JtID0gdHJ1ZTsKCSAgfQoJfTsKCglmdW5jdGlvbiBkb25lKHN0cmVhbSwgZXIpIHsKCSAgaWYgKGVyKSByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpOwoKCSAgLy8gaWYgdGhlcmUncyBub3RoaW5nIGluIHRoZSB3cml0ZSBidWZmZXIsIHRoZW4gdGhhdCBtZWFucwoJICAvLyB0aGF0IG5vdGhpbmcgbW9yZSB3aWxsIGV2ZXIgYmUgcHJvdmlkZWQKCSAgdmFyIHdzID0gc3RyZWFtLl93cml0YWJsZVN0YXRlOwoJICB2YXIgdHMgPSBzdHJlYW0uX3RyYW5zZm9ybVN0YXRlOwoKCSAgaWYgKHdzLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdDYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gd3MubGVuZ3RoICE9IDAnKTsKCgkgIGlmICh0cy50cmFuc2Zvcm1pbmcpIHRocm93IG5ldyBFcnJvcignQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHN0aWxsIHRyYW5zZm9ybWluZycpOwoKCSAgcmV0dXJuIHN0cmVhbS5wdXNoKG51bGwpOwoJfQoKCWluaGVyaXRzJDEoUGFzc1Rocm91Z2gsIFRyYW5zZm9ybSk7CglmdW5jdGlvbiBQYXNzVGhyb3VnaChvcHRpb25zKSB7CgkgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQYXNzVGhyb3VnaCkpIHJldHVybiBuZXcgUGFzc1Rocm91Z2gob3B0aW9ucyk7CgoJICBUcmFuc2Zvcm0uY2FsbCh0aGlzLCBvcHRpb25zKTsKCX0KCglQYXNzVGhyb3VnaC5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7CgkgIGNiKG51bGwsIGNodW5rKTsKCX07CgoJaW5oZXJpdHMkMShTdHJlYW0sIEVFKTsKCVN0cmVhbS5SZWFkYWJsZSA9IFJlYWRhYmxlOwoJU3RyZWFtLldyaXRhYmxlID0gV3JpdGFibGUkMTsKCVN0cmVhbS5EdXBsZXggPSBEdXBsZXg7CglTdHJlYW0uVHJhbnNmb3JtID0gVHJhbnNmb3JtOwoJU3RyZWFtLlBhc3NUaHJvdWdoID0gUGFzc1Rocm91Z2g7CgoJLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC40LngKCVN0cmVhbS5TdHJlYW0gPSBTdHJlYW07CgoJLy8gb2xkLXN0eWxlIHN0cmVhbXMuICBOb3RlIHRoYXQgdGhlIHBpcGUgbWV0aG9kICh0aGUgb25seSByZWxldmFudAoJLy8gcGFydCBvZiB0aGlzIGNsYXNzKSBpcyBvdmVycmlkZGVuIGluIHRoZSBSZWFkYWJsZSBjbGFzcy4KCglmdW5jdGlvbiBTdHJlYW0oKSB7CgkgIEVFLmNhbGwodGhpcyk7Cgl9CgoJU3RyZWFtLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24oZGVzdCwgb3B0aW9ucykgewoJICB2YXIgc291cmNlID0gdGhpczsKCgkgIGZ1bmN0aW9uIG9uZGF0YShjaHVuaykgewoJICAgIGlmIChkZXN0LndyaXRhYmxlKSB7CgkgICAgICBpZiAoZmFsc2UgPT09IGRlc3Qud3JpdGUoY2h1bmspICYmIHNvdXJjZS5wYXVzZSkgewoJICAgICAgICBzb3VyY2UucGF1c2UoKTsKCSAgICAgIH0KCSAgICB9CgkgIH0KCgkgIHNvdXJjZS5vbignZGF0YScsIG9uZGF0YSk7CgoJICBmdW5jdGlvbiBvbmRyYWluKCkgewoJICAgIGlmIChzb3VyY2UucmVhZGFibGUgJiYgc291cmNlLnJlc3VtZSkgewoJICAgICAgc291cmNlLnJlc3VtZSgpOwoJICAgIH0KCSAgfQoKCSAgZGVzdC5vbignZHJhaW4nLCBvbmRyYWluKTsKCgkgIC8vIElmIHRoZSAnZW5kJyBvcHRpb24gaXMgbm90IHN1cHBsaWVkLCBkZXN0LmVuZCgpIHdpbGwgYmUgY2FsbGVkIHdoZW4KCSAgLy8gc291cmNlIGdldHMgdGhlICdlbmQnIG9yICdjbG9zZScgZXZlbnRzLiAgT25seSBkZXN0LmVuZCgpIG9uY2UuCgkgIGlmICghZGVzdC5faXNTdGRpbyAmJiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5lbmQgIT09IGZhbHNlKSkgewoJICAgIHNvdXJjZS5vbignZW5kJywgb25lbmQpOwoJICAgIHNvdXJjZS5vbignY2xvc2UnLCBvbmNsb3NlKTsKCSAgfQoKCSAgdmFyIGRpZE9uRW5kID0gZmFsc2U7CgkgIGZ1bmN0aW9uIG9uZW5kKCkgewoJICAgIGlmIChkaWRPbkVuZCkgcmV0dXJuOwoJICAgIGRpZE9uRW5kID0gdHJ1ZTsKCgkgICAgZGVzdC5lbmQoKTsKCSAgfQoKCgkgIGZ1bmN0aW9uIG9uY2xvc2UoKSB7CgkgICAgaWYgKGRpZE9uRW5kKSByZXR1cm47CgkgICAgZGlkT25FbmQgPSB0cnVlOwoKCSAgICBpZiAodHlwZW9mIGRlc3QuZGVzdHJveSA9PT0gJ2Z1bmN0aW9uJykgZGVzdC5kZXN0cm95KCk7CgkgIH0KCgkgIC8vIGRvbid0IGxlYXZlIGRhbmdsaW5nIHBpcGVzIHdoZW4gdGhlcmUgYXJlIGVycm9ycy4KCSAgZnVuY3Rpb24gb25lcnJvcihlcikgewoJICAgIGNsZWFudXAoKTsKCSAgICBpZiAoRUUubGlzdGVuZXJDb3VudCh0aGlzLCAnZXJyb3InKSA9PT0gMCkgewoJICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCBzdHJlYW0gZXJyb3IgaW4gcGlwZS4KCSAgICB9CgkgIH0KCgkgIHNvdXJjZS5vbignZXJyb3InLCBvbmVycm9yKTsKCSAgZGVzdC5vbignZXJyb3InLCBvbmVycm9yKTsKCgkgIC8vIHJlbW92ZSBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycyB0aGF0IHdlcmUgYWRkZWQuCgkgIGZ1bmN0aW9uIGNsZWFudXAoKSB7CgkgICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTsKCSAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pOwoKCSAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9uZW5kKTsKCSAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25jbG9zZSk7CgoJICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTsKCSAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpOwoKCSAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIGNsZWFudXApOwoJICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBjbGVhbnVwKTsKCgkgICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBjbGVhbnVwKTsKCSAgfQoKCSAgc291cmNlLm9uKCdlbmQnLCBjbGVhbnVwKTsKCSAgc291cmNlLm9uKCdjbG9zZScsIGNsZWFudXApOwoKCSAgZGVzdC5vbignY2xvc2UnLCBjbGVhbnVwKTsKCgkgIGRlc3QuZW1pdCgncGlwZScsIHNvdXJjZSk7CgoJICAvLyBBbGxvdyBmb3IgdW5peC1saWtlIHVzYWdlOiBBLnBpcGUoQikucGlwZShDKQoJICByZXR1cm4gZGVzdDsKCX07CgoJdmFyIHJTdGF0ZXMgPSB7CgkgIFVOU0VOVDogMCwKCSAgT1BFTkVEOiAxLAoJICBIRUFERVJTX1JFQ0VJVkVEOiAyLAoJICBMT0FESU5HOiAzLAoJICBET05FOiA0Cgl9OwoJZnVuY3Rpb24gSW5jb21pbmdNZXNzYWdlKHhociwgcmVzcG9uc2UsIG1vZGUpIHsKCSAgdmFyIHNlbGYgPSB0aGlzOwoJICBSZWFkYWJsZS5jYWxsKHNlbGYpOwoKCSAgc2VsZi5fbW9kZSA9IG1vZGU7CgkgIHNlbGYuaGVhZGVycyA9IHt9OwoJICBzZWxmLnJhd0hlYWRlcnMgPSBbXTsKCSAgc2VsZi50cmFpbGVycyA9IHt9OwoJICBzZWxmLnJhd1RyYWlsZXJzID0gW107CgoJICAvLyBGYWtlIHRoZSAnY2xvc2UnIGV2ZW50LCBidXQgb25seSBvbmNlICdlbmQnIGZpcmVzCgkgIHNlbGYub24oJ2VuZCcsIGZ1bmN0aW9uKCkgewoJICAgIC8vIFRoZSBuZXh0VGljayBpcyBuZWNlc3NhcnkgdG8gcHJldmVudCB0aGUgJ3JlcXVlc3QnIG1vZHVsZSBmcm9tIGNhdXNpbmcgYW4gaW5maW5pdGUgbG9vcAoJICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7CgkgICAgICBzZWxmLmVtaXQoJ2Nsb3NlJyk7CgkgICAgfSk7CgkgIH0pOwoJICB2YXIgcmVhZDsKCSAgaWYgKG1vZGUgPT09ICdmZXRjaCcpIHsKCSAgICBzZWxmLl9mZXRjaFJlc3BvbnNlID0gcmVzcG9uc2U7CgoJICAgIHNlbGYudXJsID0gcmVzcG9uc2UudXJsOwoJICAgIHNlbGYuc3RhdHVzQ29kZSA9IHJlc3BvbnNlLnN0YXR1czsKCSAgICBzZWxmLnN0YXR1c01lc3NhZ2UgPSByZXNwb25zZS5zdGF0dXNUZXh0OwoJICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdGlibGUgdmVyc2lvbiBvZiBmb3IgKDxpdGVtPiBvZiA8aXRlcmFibGU+KToKCSAgICAgIC8vIGZvciAodmFyIDxpdGVtPixfaSxfaXQgPSA8aXRlcmFibGU+W1N5bWJvbC5pdGVyYXRvcl0oKTsgPGl0ZW0+ID0gKF9pID0gX2l0Lm5leHQoKSkudmFsdWUsIV9pLmRvbmU7KQoJICAgIGZvciAodmFyIGhlYWRlciwgX2ksIF9pdCA9IHJlc3BvbnNlLmhlYWRlcnNbU3ltYm9sLml0ZXJhdG9yXSgpOyBoZWFkZXIgPSAoX2kgPSBfaXQubmV4dCgpKS52YWx1ZSwgIV9pLmRvbmU7KSB7CgkgICAgICBzZWxmLmhlYWRlcnNbaGVhZGVyWzBdLnRvTG93ZXJDYXNlKCldID0gaGVhZGVyWzFdOwoJICAgICAgc2VsZi5yYXdIZWFkZXJzLnB1c2goaGVhZGVyWzBdLCBoZWFkZXJbMV0pOwoJICAgIH0KCgkgICAgLy8gVE9ETzogdGhpcyBkb2Vzbid0IHJlc3BlY3QgYmFja3ByZXNzdXJlLiBPbmNlIFdyaXRhYmxlU3RyZWFtIGlzIGF2YWlsYWJsZSwgdGhpcyBjYW4gYmUgZml4ZWQKCSAgICB2YXIgcmVhZGVyID0gcmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKTsKCgkgICAgcmVhZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgIHJlYWRlci5yZWFkKCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHsKCSAgICAgICAgaWYgKHNlbGYuX2Rlc3Ryb3llZCkKCSAgICAgICAgICByZXR1cm4KCSAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7CgkgICAgICAgICAgc2VsZi5wdXNoKG51bGwpOwoJICAgICAgICAgIHJldHVybgoJICAgICAgICB9CgkgICAgICAgIHNlbGYucHVzaChuZXcgYnVmZmVyLkJ1ZmZlcihyZXN1bHQudmFsdWUpKTsKCSAgICAgICAgcmVhZCgpOwoJICAgICAgfSk7CgkgICAgfTsKCSAgICByZWFkKCk7CgoJICB9IGVsc2UgewoJICAgIHNlbGYuX3hociA9IHhocjsKCSAgICBzZWxmLl9wb3MgPSAwOwoKCSAgICBzZWxmLnVybCA9IHhoci5yZXNwb25zZVVSTDsKCSAgICBzZWxmLnN0YXR1c0NvZGUgPSB4aHIuc3RhdHVzOwoJICAgIHNlbGYuc3RhdHVzTWVzc2FnZSA9IHhoci5zdGF0dXNUZXh0OwoJICAgIHZhciBoZWFkZXJzID0geGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnNwbGl0KC9ccj9cbi8pOwoJICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHsKCSAgICAgIHZhciBtYXRjaGVzID0gaGVhZGVyLm1hdGNoKC9eKFteOl0rKTpccyooLiopLyk7CgkgICAgICBpZiAobWF0Y2hlcykgewoJICAgICAgICB2YXIga2V5ID0gbWF0Y2hlc1sxXS50b0xvd2VyQ2FzZSgpOwoJICAgICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHsKCSAgICAgICAgICBpZiAoc2VsZi5oZWFkZXJzW2tleV0gPT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgc2VsZi5oZWFkZXJzW2tleV0gPSBbXTsKCSAgICAgICAgICB9CgkgICAgICAgICAgc2VsZi5oZWFkZXJzW2tleV0ucHVzaChtYXRjaGVzWzJdKTsKCSAgICAgICAgfSBlbHNlIGlmIChzZWxmLmhlYWRlcnNba2V5XSAhPT0gdW5kZWZpbmVkKSB7CgkgICAgICAgICAgc2VsZi5oZWFkZXJzW2tleV0gKz0gJywgJyArIG1hdGNoZXNbMl07CgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgc2VsZi5oZWFkZXJzW2tleV0gPSBtYXRjaGVzWzJdOwoJICAgICAgICB9CgkgICAgICAgIHNlbGYucmF3SGVhZGVycy5wdXNoKG1hdGNoZXNbMV0sIG1hdGNoZXNbMl0pOwoJICAgICAgfQoJICAgIH0pOwoKCSAgICBzZWxmLl9jaGFyc2V0ID0gJ3gtdXNlci1kZWZpbmVkJzsKCSAgICBpZiAoIW92ZXJyaWRlTWltZVR5cGUpIHsKCSAgICAgIHZhciBtaW1lVHlwZSA9IHNlbGYucmF3SGVhZGVyc1snbWltZS10eXBlJ107CgkgICAgICBpZiAobWltZVR5cGUpIHsKCSAgICAgICAgdmFyIGNoYXJzZXRNYXRjaCA9IG1pbWVUeXBlLm1hdGNoKC87XHMqY2hhcnNldD0oW147XSkoO3wkKS8pOwoJICAgICAgICBpZiAoY2hhcnNldE1hdGNoKSB7CgkgICAgICAgICAgc2VsZi5fY2hhcnNldCA9IGNoYXJzZXRNYXRjaFsxXS50b0xvd2VyQ2FzZSgpOwoJICAgICAgICB9CgkgICAgICB9CgkgICAgICBpZiAoIXNlbGYuX2NoYXJzZXQpCgkgICAgICAgIHNlbGYuX2NoYXJzZXQgPSAndXRmLTgnOyAvLyBiZXN0IGd1ZXNzCgkgICAgfQoJICB9Cgl9CgoJaW5oZXJpdHMkMShJbmNvbWluZ01lc3NhZ2UsIFJlYWRhYmxlKTsKCglJbmNvbWluZ01lc3NhZ2UucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24oKSB7fTsKCglJbmNvbWluZ01lc3NhZ2UucHJvdG90eXBlLl9vblhIUlByb2dyZXNzID0gZnVuY3Rpb24oKSB7CgkgIHZhciBzZWxmID0gdGhpczsKCgkgIHZhciB4aHIgPSBzZWxmLl94aHI7CgoJICB2YXIgcmVzcG9uc2UgPSBudWxsOwoJICBzd2l0Y2ggKHNlbGYuX21vZGUpIHsKCSAgY2FzZSAndGV4dDp2YmFycmF5JzogLy8gRm9yIElFOQoJICAgIGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gclN0YXRlcy5ET05FKQoJICAgICAgYnJlYWsKCSAgICB0cnkgewoJICAgICAgLy8gVGhpcyBmYWlscyBpbiBJRTgKCSAgICAgIHJlc3BvbnNlID0gbmV3IGdsb2JhbCQxLlZCQXJyYXkoeGhyLnJlc3BvbnNlQm9keSkudG9BcnJheSgpOwoJICAgIH0gY2F0Y2ggKGUpIHsKCSAgICAgIC8vIHBhc3MKCSAgICB9CgkgICAgaWYgKHJlc3BvbnNlICE9PSBudWxsKSB7CgkgICAgICBzZWxmLnB1c2gobmV3IGJ1ZmZlci5CdWZmZXIocmVzcG9uc2UpKTsKCSAgICAgIGJyZWFrCgkgICAgfQoJICAgIC8vIEZhbGxzIHRocm91Z2ggaW4gSUU4CgkgIGNhc2UgJ3RleHQnOgoJICAgIHRyeSB7IC8vIFRoaXMgd2lsbCBmYWlsIHdoZW4gcmVhZHlTdGF0ZSA9IDMgaW4gSUU5LiBTd2l0Y2ggbW9kZSBhbmQgd2FpdCBmb3IgcmVhZHlTdGF0ZSA9IDQKCSAgICAgIHJlc3BvbnNlID0geGhyLnJlc3BvbnNlVGV4dDsKCSAgICB9IGNhdGNoIChlKSB7CgkgICAgICBzZWxmLl9tb2RlID0gJ3RleHQ6dmJhcnJheSc7CgkgICAgICBicmVhawoJICAgIH0KCSAgICBpZiAocmVzcG9uc2UubGVuZ3RoID4gc2VsZi5fcG9zKSB7CgkgICAgICB2YXIgbmV3RGF0YSA9IHJlc3BvbnNlLnN1YnN0cihzZWxmLl9wb3MpOwoJICAgICAgaWYgKHNlbGYuX2NoYXJzZXQgPT09ICd4LXVzZXItZGVmaW5lZCcpIHsKCSAgICAgICAgdmFyIGJ1ZmZlciQxID0gbmV3IGJ1ZmZlci5CdWZmZXIobmV3RGF0YS5sZW5ndGgpOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld0RhdGEubGVuZ3RoOyBpKyspCgkgICAgICAgICAgYnVmZmVyJDFbaV0gPSBuZXdEYXRhLmNoYXJDb2RlQXQoaSkgJiAweGZmOwoKCSAgICAgICAgc2VsZi5wdXNoKGJ1ZmZlciQxKTsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHNlbGYucHVzaChuZXdEYXRhLCBzZWxmLl9jaGFyc2V0KTsKCSAgICAgIH0KCSAgICAgIHNlbGYuX3BvcyA9IHJlc3BvbnNlLmxlbmd0aDsKCSAgICB9CgkgICAgYnJlYWsKCSAgY2FzZSAnYXJyYXlidWZmZXInOgoJICAgIGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gclN0YXRlcy5ET05FIHx8ICF4aHIucmVzcG9uc2UpCgkgICAgICBicmVhawoJICAgIHJlc3BvbnNlID0geGhyLnJlc3BvbnNlOwoJICAgIHNlbGYucHVzaChuZXcgYnVmZmVyLkJ1ZmZlcihuZXcgVWludDhBcnJheShyZXNwb25zZSkpKTsKCSAgICBicmVhawoJICBjYXNlICdtb3otY2h1bmtlZC1hcnJheWJ1ZmZlcic6IC8vIHRha2Ugd2hvbGUKCSAgICByZXNwb25zZSA9IHhoci5yZXNwb25zZTsKCSAgICBpZiAoeGhyLnJlYWR5U3RhdGUgIT09IHJTdGF0ZXMuTE9BRElORyB8fCAhcmVzcG9uc2UpCgkgICAgICBicmVhawoJICAgIHNlbGYucHVzaChuZXcgYnVmZmVyLkJ1ZmZlcihuZXcgVWludDhBcnJheShyZXNwb25zZSkpKTsKCSAgICBicmVhawoJICBjYXNlICdtcy1zdHJlYW0nOgoJICAgIHJlc3BvbnNlID0geGhyLnJlc3BvbnNlOwoJICAgIGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gclN0YXRlcy5MT0FESU5HKQoJICAgICAgYnJlYWsKCSAgICB2YXIgcmVhZGVyID0gbmV3IGdsb2JhbCQxLk1TU3RyZWFtUmVhZGVyKCk7CgkgICAgcmVhZGVyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHsKCSAgICAgIGlmIChyZWFkZXIucmVzdWx0LmJ5dGVMZW5ndGggPiBzZWxmLl9wb3MpIHsKCSAgICAgICAgc2VsZi5wdXNoKG5ldyBidWZmZXIuQnVmZmVyKG5ldyBVaW50OEFycmF5KHJlYWRlci5yZXN1bHQuc2xpY2Uoc2VsZi5fcG9zKSkpKTsKCSAgICAgICAgc2VsZi5fcG9zID0gcmVhZGVyLnJlc3VsdC5ieXRlTGVuZ3RoOwoJICAgICAgfQoJICAgIH07CgkgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewoJICAgICAgc2VsZi5wdXNoKG51bGwpOwoJICAgIH07CgkgICAgICAvLyByZWFkZXIub25lcnJvciA9ID8/PyAvLyBUT0RPOiB0aGlzCgkgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKHJlc3BvbnNlKTsKCSAgICBicmVhawoJICB9CgoJICAvLyBUaGUgbXMtc3RyZWFtIGNhc2UgaGFuZGxlcyBlbmQgc2VwYXJhdGVseSBpbiByZWFkZXIub25sb2FkKCkKCSAgaWYgKHNlbGYuX3hoci5yZWFkeVN0YXRlID09PSByU3RhdGVzLkRPTkUgJiYgc2VsZi5fbW9kZSAhPT0gJ21zLXN0cmVhbScpIHsKCSAgICBzZWxmLnB1c2gobnVsbCk7CgkgIH0KCX07CgoJLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vamhpZXNleS90by1hcnJheWJ1ZmZlci9ibG9iLzY1MDJkOTg1MGU3MGJhNzkzNWE3ZGY0YWQ4NmIzNThmYzIxNmY5ZjAvaW5kZXguanMKCWZ1bmN0aW9uIHRvQXJyYXlCdWZmZXIgKGJ1ZikgewoJICAvLyBJZiB0aGUgYnVmZmVyIGlzIGJhY2tlZCBieSBhIFVpbnQ4QXJyYXksIGEgZmFzdGVyIHZlcnNpb24gd2lsbCB3b3JrCgkgIGlmIChidWYgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7CgkgICAgLy8gSWYgdGhlIGJ1ZmZlciBpc24ndCBhIHN1YmFycmF5LCByZXR1cm4gdGhlIHVuZGVybHlpbmcgQXJyYXlCdWZmZXIKCSAgICBpZiAoYnVmLmJ5dGVPZmZzZXQgPT09IDAgJiYgYnVmLmJ5dGVMZW5ndGggPT09IGJ1Zi5idWZmZXIuYnl0ZUxlbmd0aCkgewoJICAgICAgcmV0dXJuIGJ1Zi5idWZmZXIKCSAgICB9IGVsc2UgaWYgKHR5cGVvZiBidWYuYnVmZmVyLnNsaWNlID09PSAnZnVuY3Rpb24nKSB7CgkgICAgICAvLyBPdGhlcndpc2Ugd2UgbmVlZCB0byBnZXQgYSBwcm9wZXIgY29weQoJICAgICAgcmV0dXJuIGJ1Zi5idWZmZXIuc2xpY2UoYnVmLmJ5dGVPZmZzZXQsIGJ1Zi5ieXRlT2Zmc2V0ICsgYnVmLmJ5dGVMZW5ndGgpCgkgICAgfQoJICB9CgoJICBpZiAoYnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHsKCSAgICAvLyBUaGlzIGlzIHRoZSBzbG93IHZlcnNpb24gdGhhdCB3aWxsIHdvcmsgd2l0aCBhbnkgQnVmZmVyCgkgICAgLy8gaW1wbGVtZW50YXRpb24gKGV2ZW4gaW4gb2xkIGJyb3dzZXJzKQoJICAgIHZhciBhcnJheUNvcHkgPSBuZXcgVWludDhBcnJheShidWYubGVuZ3RoKTsKCSAgICB2YXIgbGVuID0gYnVmLmxlbmd0aDsKCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CgkgICAgICBhcnJheUNvcHlbaV0gPSBidWZbaV07CgkgICAgfQoJICAgIHJldHVybiBhcnJheUNvcHkuYnVmZmVyCgkgIH0gZWxzZSB7CgkgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJykKCSAgfQoJfQoKCWZ1bmN0aW9uIGRlY2lkZU1vZGUocHJlZmVyQmluYXJ5LCB1c2VGZXRjaCkgewoJICBpZiAoaGFzRmV0Y2ggJiYgdXNlRmV0Y2gpIHsKCSAgICByZXR1cm4gJ2ZldGNoJwoJICB9IGVsc2UgaWYgKG1vemNodW5rZWRhcnJheWJ1ZmZlcikgewoJICAgIHJldHVybiAnbW96LWNodW5rZWQtYXJyYXlidWZmZXInCgkgIH0gZWxzZSBpZiAobXNzdHJlYW0pIHsKCSAgICByZXR1cm4gJ21zLXN0cmVhbScKCSAgfSBlbHNlIGlmIChhcnJheWJ1ZmZlciAmJiBwcmVmZXJCaW5hcnkpIHsKCSAgICByZXR1cm4gJ2FycmF5YnVmZmVyJwoJICB9IGVsc2UgaWYgKHZiQXJyYXkgJiYgcHJlZmVyQmluYXJ5KSB7CgkgICAgcmV0dXJuICd0ZXh0OnZiYXJyYXknCgkgIH0gZWxzZSB7CgkgICAgcmV0dXJuICd0ZXh0JwoJICB9Cgl9CgoJZnVuY3Rpb24gQ2xpZW50UmVxdWVzdChvcHRzKSB7CgkgIHZhciBzZWxmID0gdGhpczsKCSAgV3JpdGFibGUkMS5jYWxsKHNlbGYpOwoKCSAgc2VsZi5fb3B0cyA9IG9wdHM7CgkgIHNlbGYuX2JvZHkgPSBbXTsKCSAgc2VsZi5faGVhZGVycyA9IHt9OwoJICBpZiAob3B0cy5hdXRoKQoJICAgIHNlbGYuc2V0SGVhZGVyKCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgKyBuZXcgYnVmZmVyLkJ1ZmZlcihvcHRzLmF1dGgpLnRvU3RyaW5nKCdiYXNlNjQnKSk7CgkgIE9iamVjdC5rZXlzKG9wdHMuaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7CgkgICAgc2VsZi5zZXRIZWFkZXIobmFtZSwgb3B0cy5oZWFkZXJzW25hbWVdKTsKCSAgfSk7CgoJICB2YXIgcHJlZmVyQmluYXJ5OwoJICB2YXIgdXNlRmV0Y2ggPSB0cnVlOwoJICBpZiAob3B0cy5tb2RlID09PSAnZGlzYWJsZS1mZXRjaCcpIHsKCSAgICAvLyBJZiB0aGUgdXNlIG9mIFhIUiBzaG91bGQgYmUgcHJlZmVycmVkIGFuZCBpbmNsdWRlcyBwcmVzZXJ2aW5nIHRoZSAnY29udGVudC10eXBlJyBoZWFkZXIKCSAgICB1c2VGZXRjaCA9IGZhbHNlOwoJICAgIHByZWZlckJpbmFyeSA9IHRydWU7CgkgIH0gZWxzZSBpZiAob3B0cy5tb2RlID09PSAncHJlZmVyLXN0cmVhbWluZycpIHsKCSAgICAvLyBJZiBzdHJlYW1pbmcgaXMgYSBoaWdoIHByaW9yaXR5IGJ1dCBiaW5hcnkgY29tcGF0aWJpbGl0eSBhbmQKCSAgICAvLyB0aGUgYWNjdXJhY3kgb2YgdGhlICdjb250ZW50LXR5cGUnIGhlYWRlciBhcmVuJ3QKCSAgICBwcmVmZXJCaW5hcnkgPSBmYWxzZTsKCSAgfSBlbHNlIGlmIChvcHRzLm1vZGUgPT09ICdhbGxvdy13cm9uZy1jb250ZW50LXR5cGUnKSB7CgkgICAgLy8gSWYgc3RyZWFtaW5nIGlzIG1vcmUgaW1wb3J0YW50IHRoYW4gcHJlc2VydmluZyB0aGUgJ2NvbnRlbnQtdHlwZScgaGVhZGVyCgkgICAgcHJlZmVyQmluYXJ5ID0gIW92ZXJyaWRlTWltZVR5cGU7CgkgIH0gZWxzZSBpZiAoIW9wdHMubW9kZSB8fCBvcHRzLm1vZGUgPT09ICdkZWZhdWx0JyB8fCBvcHRzLm1vZGUgPT09ICdwcmVmZXItZmFzdCcpIHsKCSAgICAvLyBVc2UgYmluYXJ5IGlmIHRleHQgc3RyZWFtaW5nIG1heSBjb3JydXB0IGRhdGEgb3IgdGhlIGNvbnRlbnQtdHlwZSBoZWFkZXIsIG9yIGZvciBzcGVlZAoJICAgIHByZWZlckJpbmFyeSA9IHRydWU7CgkgIH0gZWxzZSB7CgkgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIGZvciBvcHRzLm1vZGUnKQoJICB9CgkgIHNlbGYuX21vZGUgPSBkZWNpZGVNb2RlKHByZWZlckJpbmFyeSwgdXNlRmV0Y2gpOwoKCSAgc2VsZi5vbignZmluaXNoJywgZnVuY3Rpb24oKSB7CgkgICAgc2VsZi5fb25GaW5pc2goKTsKCSAgfSk7Cgl9CgoJaW5oZXJpdHMkMShDbGllbnRSZXF1ZXN0LCBXcml0YWJsZSQxKTsKCS8vIFRha2VuIGZyb20gaHR0cDovL3d3dy53My5vcmcvVFIvWE1MSHR0cFJlcXVlc3QvI3RoZS1zZXRyZXF1ZXN0aGVhZGVyJTI4JTI5LW1ldGhvZAoJdmFyIHVuc2FmZUhlYWRlcnMgPSBbCgkgICdhY2NlcHQtY2hhcnNldCcsCgkgICdhY2NlcHQtZW5jb2RpbmcnLAoJICAnYWNjZXNzLWNvbnRyb2wtcmVxdWVzdC1oZWFkZXJzJywKCSAgJ2FjY2Vzcy1jb250cm9sLXJlcXVlc3QtbWV0aG9kJywKCSAgJ2Nvbm5lY3Rpb24nLAoJICAnY29udGVudC1sZW5ndGgnLAoJICAnY29va2llJywKCSAgJ2Nvb2tpZTInLAoJICAnZGF0ZScsCgkgICdkbnQnLAoJICAnZXhwZWN0JywKCSAgJ2hvc3QnLAoJICAna2VlcC1hbGl2ZScsCgkgICdvcmlnaW4nLAoJICAncmVmZXJlcicsCgkgICd0ZScsCgkgICd0cmFpbGVyJywKCSAgJ3RyYW5zZmVyLWVuY29kaW5nJywKCSAgJ3VwZ3JhZGUnLAoJICAndXNlci1hZ2VudCcsCgkgICd2aWEnCgldOwoJQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuc2V0SGVhZGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHsKCSAgdmFyIHNlbGYgPSB0aGlzOwoJICB2YXIgbG93ZXJOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpOwoJICAgIC8vIFRoaXMgY2hlY2sgaXMgbm90IG5lY2Vzc2FyeSwgYnV0IGl0IHByZXZlbnRzIHdhcm5pbmdzIGZyb20gYnJvd3NlcnMgYWJvdXQgc2V0dGluZyB1bnNhZmUKCSAgICAvLyBoZWFkZXJzLiBUbyBiZSBob25lc3QgSSdtIG5vdCBlbnRpcmVseSBzdXJlIGhpZGluZyB0aGVzZSB3YXJuaW5ncyBpcyBhIGdvb2QgdGhpbmcsIGJ1dAoJICAgIC8vIGh0dHAtYnJvd3NlcmlmeSBkaWQgaXQsIHNvIEkgd2lsbCB0b28uCgkgIGlmICh1bnNhZmVIZWFkZXJzLmluZGV4T2YobG93ZXJOYW1lKSAhPT0gLTEpCgkgICAgcmV0dXJuCgoJICBzZWxmLl9oZWFkZXJzW2xvd2VyTmFtZV0gPSB7CgkgICAgbmFtZTogbmFtZSwKCSAgICB2YWx1ZTogdmFsdWUKCSAgfTsKCX07CgoJQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuZ2V0SGVhZGVyID0gZnVuY3Rpb24obmFtZSkgewoJICB2YXIgc2VsZiA9IHRoaXM7CgkgIHJldHVybiBzZWxmLl9oZWFkZXJzW25hbWUudG9Mb3dlckNhc2UoKV0udmFsdWUKCX07CgoJQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUucmVtb3ZlSGVhZGVyID0gZnVuY3Rpb24obmFtZSkgewoJICB2YXIgc2VsZiA9IHRoaXM7CgkgIGRlbGV0ZSBzZWxmLl9oZWFkZXJzW25hbWUudG9Mb3dlckNhc2UoKV07Cgl9OwoKCUNsaWVudFJlcXVlc3QucHJvdG90eXBlLl9vbkZpbmlzaCA9IGZ1bmN0aW9uKCkgewoJICB2YXIgc2VsZiA9IHRoaXM7CgoJICBpZiAoc2VsZi5fZGVzdHJveWVkKQoJICAgIHJldHVybgoJICB2YXIgb3B0cyA9IHNlbGYuX29wdHM7CgoJICB2YXIgaGVhZGVyc09iaiA9IHNlbGYuX2hlYWRlcnM7CgkgIHZhciBib2R5OwoJICBpZiAob3B0cy5tZXRob2QgPT09ICdQT1NUJyB8fCBvcHRzLm1ldGhvZCA9PT0gJ1BVVCcgfHwgb3B0cy5tZXRob2QgPT09ICdQQVRDSCcpIHsKCSAgICBpZiAoYmxvYkNvbnN0cnVjdG9yKCkpIHsKCSAgICAgIGJvZHkgPSBuZXcgZ2xvYmFsJDEuQmxvYihzZWxmLl9ib2R5Lm1hcChmdW5jdGlvbihidWZmZXIpIHsKCSAgICAgICAgcmV0dXJuIHRvQXJyYXlCdWZmZXIoYnVmZmVyKQoJICAgICAgfSksIHsKCSAgICAgICAgdHlwZTogKGhlYWRlcnNPYmpbJ2NvbnRlbnQtdHlwZSddIHx8IHt9KS52YWx1ZSB8fCAnJwoJICAgICAgfSk7CgkgICAgfSBlbHNlIHsKCSAgICAgIC8vIGdldCB1dGY4IHN0cmluZwoJICAgICAgYm9keSA9IGJ1ZmZlci5CdWZmZXIuY29uY2F0KHNlbGYuX2JvZHkpLnRvU3RyaW5nKCk7CgkgICAgfQoJICB9CgoJICBpZiAoc2VsZi5fbW9kZSA9PT0gJ2ZldGNoJykgewoJICAgIHZhciBoZWFkZXJzID0gT2JqZWN0LmtleXMoaGVhZGVyc09iaikubWFwKGZ1bmN0aW9uKG5hbWUpIHsKCSAgICAgIHJldHVybiBbaGVhZGVyc09ialtuYW1lXS5uYW1lLCBoZWFkZXJzT2JqW25hbWVdLnZhbHVlXQoJICAgIH0pOwoKCSAgICBnbG9iYWwkMS5mZXRjaChzZWxmLl9vcHRzLnVybCwgewoJICAgICAgbWV0aG9kOiBzZWxmLl9vcHRzLm1ldGhvZCwKCSAgICAgIGhlYWRlcnM6IGhlYWRlcnMsCgkgICAgICBib2R5OiBib2R5LAoJICAgICAgbW9kZTogJ2NvcnMnLAoJICAgICAgY3JlZGVudGlhbHM6IG9wdHMud2l0aENyZWRlbnRpYWxzID8gJ2luY2x1ZGUnIDogJ3NhbWUtb3JpZ2luJwoJICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKCSAgICAgIHNlbGYuX2ZldGNoUmVzcG9uc2UgPSByZXNwb25zZTsKCSAgICAgIHNlbGYuX2Nvbm5lY3QoKTsKCSAgICB9LCBmdW5jdGlvbihyZWFzb24pIHsKCSAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCByZWFzb24pOwoJICAgIH0pOwoJICB9IGVsc2UgewoJICAgIHZhciB4aHIgPSBzZWxmLl94aHIgPSBuZXcgZ2xvYmFsJDEuWE1MSHR0cFJlcXVlc3QoKTsKCSAgICB0cnkgewoJICAgICAgeGhyLm9wZW4oc2VsZi5fb3B0cy5tZXRob2QsIHNlbGYuX29wdHMudXJsLCB0cnVlKTsKCSAgICB9IGNhdGNoIChlcnIpIHsKCSAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7CgkgICAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4KCSAgICB9CgoJICAgIC8vIENhbid0IHNldCByZXNwb25zZVR5cGUgb24gcmVhbGx5IG9sZCBicm93c2VycwoJICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIpCgkgICAgICB4aHIucmVzcG9uc2VUeXBlID0gc2VsZi5fbW9kZS5zcGxpdCgnOicpWzBdOwoKCSAgICBpZiAoJ3dpdGhDcmVkZW50aWFscycgaW4geGhyKQoJICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9ICEhb3B0cy53aXRoQ3JlZGVudGlhbHM7CgoJICAgIGlmIChzZWxmLl9tb2RlID09PSAndGV4dCcgJiYgJ292ZXJyaWRlTWltZVR5cGUnIGluIHhocikKCSAgICAgIHhoci5vdmVycmlkZU1pbWVUeXBlKCd0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkJyk7CgoJICAgIE9iamVjdC5rZXlzKGhlYWRlcnNPYmopLmZvckVhY2goZnVuY3Rpb24obmFtZSkgewoJICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyc09ialtuYW1lXS5uYW1lLCBoZWFkZXJzT2JqW25hbWVdLnZhbHVlKTsKCSAgICB9KTsKCgkgICAgc2VsZi5fcmVzcG9uc2UgPSBudWxsOwoJICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKCSAgICAgIHN3aXRjaCAoeGhyLnJlYWR5U3RhdGUpIHsKCSAgICAgIGNhc2UgclN0YXRlcy5MT0FESU5HOgoJICAgICAgY2FzZSByU3RhdGVzLkRPTkU6CgkgICAgICAgIHNlbGYuX29uWEhSUHJvZ3Jlc3MoKTsKCSAgICAgICAgYnJlYWsKCSAgICAgIH0KCSAgICB9OwoJICAgICAgLy8gTmVjZXNzYXJ5IGZvciBzdHJlYW1pbmcgaW4gRmlyZWZveCwgc2luY2UgeGhyLnJlc3BvbnNlIGlzIE9OTFkgZGVmaW5lZAoJICAgICAgLy8gaW4gb25wcm9ncmVzcywgbm90IGluIG9ucmVhZHlzdGF0ZWNoYW5nZSB3aXRoIHhoci5yZWFkeVN0YXRlID0gMwoJICAgIGlmIChzZWxmLl9tb2RlID09PSAnbW96LWNodW5rZWQtYXJyYXlidWZmZXInKSB7CgkgICAgICB4aHIub25wcm9ncmVzcyA9IGZ1bmN0aW9uKCkgewoJICAgICAgICBzZWxmLl9vblhIUlByb2dyZXNzKCk7CgkgICAgICB9OwoJICAgIH0KCgkgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsKCSAgICAgIGlmIChzZWxmLl9kZXN0cm95ZWQpCgkgICAgICAgIHJldHVybgoJICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignWEhSIGVycm9yJykpOwoJICAgIH07CgoJICAgIHRyeSB7CgkgICAgICB4aHIuc2VuZChib2R5KTsKCSAgICB9IGNhdGNoIChlcnIpIHsKCSAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7CgkgICAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4KCSAgICB9CgkgIH0KCX07CgoJLyoqCgkgKiBDaGVja3MgaWYgeGhyLnN0YXR1cyBpcyByZWFkYWJsZSBhbmQgbm9uLXplcm8sIGluZGljYXRpbmcgbm8gZXJyb3IuCgkgKiBFdmVuIHRob3VnaCB0aGUgc3BlYyBzYXlzIGl0IHNob3VsZCBiZSBhdmFpbGFibGUgaW4gcmVhZHlTdGF0ZSAzLAoJICogYWNjZXNzaW5nIGl0IHRocm93cyBhbiBleGNlcHRpb24gaW4gSUU4CgkgKi8KCWZ1bmN0aW9uIHN0YXR1c1ZhbGlkKHhocikgewoJICB0cnkgewoJICAgIHZhciBzdGF0dXMgPSB4aHIuc3RhdHVzOwoJICAgIHJldHVybiAoc3RhdHVzICE9PSBudWxsICYmIHN0YXR1cyAhPT0gMCkKCSAgfSBjYXRjaCAoZSkgewoJICAgIHJldHVybiBmYWxzZQoJICB9Cgl9CgoJQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuX29uWEhSUHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHsKCSAgdmFyIHNlbGYgPSB0aGlzOwoKCSAgaWYgKCFzdGF0dXNWYWxpZChzZWxmLl94aHIpIHx8IHNlbGYuX2Rlc3Ryb3llZCkKCSAgICByZXR1cm4KCgkgIGlmICghc2VsZi5fcmVzcG9uc2UpCgkgICAgc2VsZi5fY29ubmVjdCgpOwoKCSAgc2VsZi5fcmVzcG9uc2UuX29uWEhSUHJvZ3Jlc3MoKTsKCX07CgoJQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuX2Nvbm5lY3QgPSBmdW5jdGlvbigpIHsKCSAgdmFyIHNlbGYgPSB0aGlzOwoKCSAgaWYgKHNlbGYuX2Rlc3Ryb3llZCkKCSAgICByZXR1cm4KCgkgIHNlbGYuX3Jlc3BvbnNlID0gbmV3IEluY29taW5nTWVzc2FnZShzZWxmLl94aHIsIHNlbGYuX2ZldGNoUmVzcG9uc2UsIHNlbGYuX21vZGUpOwoJICBzZWxmLmVtaXQoJ3Jlc3BvbnNlJywgc2VsZi5fcmVzcG9uc2UpOwoJfTsKCglDbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbihjaHVuaywgZW5jb2RpbmcsIGNiKSB7CgkgIHZhciBzZWxmID0gdGhpczsKCgkgIHNlbGYuX2JvZHkucHVzaChjaHVuayk7CgkgIGNiKCk7Cgl9OwoKCUNsaWVudFJlcXVlc3QucHJvdG90eXBlLmFib3J0ID0gQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkgewoJICB2YXIgc2VsZiA9IHRoaXM7CgkgIHNlbGYuX2Rlc3Ryb3llZCA9IHRydWU7CgkgIGlmIChzZWxmLl9yZXNwb25zZSkKCSAgICBzZWxmLl9yZXNwb25zZS5fZGVzdHJveWVkID0gdHJ1ZTsKCSAgaWYgKHNlbGYuX3hocikKCSAgICBzZWxmLl94aHIuYWJvcnQoKTsKCSAgICAvLyBDdXJyZW50bHksIHRoZXJlIGlzbid0IGEgd2F5IHRvIHRydWx5IGFib3J0IGEgZmV0Y2guCgkgICAgLy8gSWYgeW91IGxpa2UgYmlrZXNoZWRkaW5nLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy9mZXRjaC9pc3N1ZXMvMjcKCX07CgoJQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oZGF0YSwgZW5jb2RpbmcsIGNiKSB7CgkgIHZhciBzZWxmID0gdGhpczsKCSAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7CgkgICAgY2IgPSBkYXRhOwoJICAgIGRhdGEgPSB1bmRlZmluZWQ7CgkgIH0KCgkgIFdyaXRhYmxlJDEucHJvdG90eXBlLmVuZC5jYWxsKHNlbGYsIGRhdGEsIGVuY29kaW5nLCBjYik7Cgl9OwoKCUNsaWVudFJlcXVlc3QucHJvdG90eXBlLmZsdXNoSGVhZGVycyA9IGZ1bmN0aW9uKCkge307CglDbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7fTsKCUNsaWVudFJlcXVlc3QucHJvdG90eXBlLnNldE5vRGVsYXkgPSBmdW5jdGlvbigpIHt9OwoJQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuc2V0U29ja2V0S2VlcEFsaXZlID0gZnVuY3Rpb24oKSB7fTsKCglmdW5jdGlvbiByZXF1ZXN0KG9wdHMsIGNiKSB7CgkgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3N0cmluZycpCgkgICAgb3B0cyA9IHVybFBhcnNlKG9wdHMpOwoKCgkgIC8vIE5vcm1hbGx5LCB0aGUgcGFnZSBpcyBsb2FkZWQgZnJvbSBodHRwIG9yIGh0dHBzLCBzbyBub3Qgc3BlY2lmeWluZyBhIHByb3RvY29sCgkgIC8vIHdpbGwgcmVzdWx0IGluIGEgKHZhbGlkKSBwcm90b2NvbC1yZWxhdGl2ZSB1cmwuIEhvd2V2ZXIsIHRoaXMgd29uJ3Qgd29yayBpZgoJICAvLyB0aGUgcHJvdG9jb2wgaXMgc29tZXRoaW5nIGVsc2UsIGxpa2UgJ2ZpbGU6JwoJICB2YXIgZGVmYXVsdFByb3RvY29sID0gZ2xvYmFsJDEubG9jYXRpb24ucHJvdG9jb2wuc2VhcmNoKC9eaHR0cHM/OiQvKSA9PT0gLTEgPyAnaHR0cDonIDogJyc7CgoJICB2YXIgcHJvdG9jb2wgPSBvcHRzLnByb3RvY29sIHx8IGRlZmF1bHRQcm90b2NvbDsKCSAgdmFyIGhvc3QgPSBvcHRzLmhvc3RuYW1lIHx8IG9wdHMuaG9zdDsKCSAgdmFyIHBvcnQgPSBvcHRzLnBvcnQ7CgkgIHZhciBwYXRoID0gb3B0cy5wYXRoIHx8ICcvJzsKCgkgIC8vIE5lY2Vzc2FyeSBmb3IgSVB2NiBhZGRyZXNzZXMKCSAgaWYgKGhvc3QgJiYgaG9zdC5pbmRleE9mKCc6JykgIT09IC0xKQoJICAgIGhvc3QgPSAnWycgKyBob3N0ICsgJ10nOwoKCSAgLy8gVGhpcyBtYXkgYmUgYSByZWxhdGl2ZSB1cmwuIFRoZSBicm93c2VyIHNob3VsZCBhbHdheXMgYmUgYWJsZSB0byBpbnRlcnByZXQgaXQgY29ycmVjdGx5LgoJICBvcHRzLnVybCA9IChob3N0ID8gKHByb3RvY29sICsgJy8vJyArIGhvc3QpIDogJycpICsgKHBvcnQgPyAnOicgKyBwb3J0IDogJycpICsgcGF0aDsKCSAgb3B0cy5tZXRob2QgPSAob3B0cy5tZXRob2QgfHwgJ0dFVCcpLnRvVXBwZXJDYXNlKCk7CgkgIG9wdHMuaGVhZGVycyA9IG9wdHMuaGVhZGVycyB8fCB7fTsKCgkgIC8vIEFsc28gdmFsaWQgb3B0cy5hdXRoLCBvcHRzLm1vZGUKCgkgIHZhciByZXEgPSBuZXcgQ2xpZW50UmVxdWVzdChvcHRzKTsKCSAgaWYgKGNiKQoJICAgIHJlcS5vbigncmVzcG9uc2UnLCBjYik7CgkgIHJldHVybiByZXEKCX0KCglmdW5jdGlvbiBnZXQob3B0cywgY2IpIHsKCSAgdmFyIHJlcSA9IHJlcXVlc3Qob3B0cywgY2IpOwoJICByZXEuZW5kKCk7CgkgIHJldHVybiByZXEKCX0KCglmdW5jdGlvbiBBZ2VudCgpIHt9CglBZ2VudC5kZWZhdWx0TWF4U29ja2V0cyA9IDQ7CgoJdmFyIE1FVEhPRFMgPSBbCgkgICdDSEVDS09VVCcsCgkgICdDT05ORUNUJywKCSAgJ0NPUFknLAoJICAnREVMRVRFJywKCSAgJ0dFVCcsCgkgICdIRUFEJywKCSAgJ0xPQ0snLAoJICAnTS1TRUFSQ0gnLAoJICAnTUVSR0UnLAoJICAnTUtBQ1RJVklUWScsCgkgICdNS0NPTCcsCgkgICdNT1ZFJywKCSAgJ05PVElGWScsCgkgICdPUFRJT05TJywKCSAgJ1BBVENIJywKCSAgJ1BPU1QnLAoJICAnUFJPUEZJTkQnLAoJICAnUFJPUFBBVENIJywKCSAgJ1BVUkdFJywKCSAgJ1BVVCcsCgkgICdSRVBPUlQnLAoJICAnU0VBUkNIJywKCSAgJ1NVQlNDUklCRScsCgkgICdUUkFDRScsCgkgICdVTkxPQ0snLAoJICAnVU5TVUJTQ1JJQkUnCgldOwoJdmFyIFNUQVRVU19DT0RFUyA9IHsKCSAgMTAwOiAnQ29udGludWUnLAoJICAxMDE6ICdTd2l0Y2hpbmcgUHJvdG9jb2xzJywKCSAgMTAyOiAnUHJvY2Vzc2luZycsIC8vIFJGQyAyNTE4LCBvYnNvbGV0ZWQgYnkgUkZDIDQ5MTgKCSAgMjAwOiAnT0snLAoJICAyMDE6ICdDcmVhdGVkJywKCSAgMjAyOiAnQWNjZXB0ZWQnLAoJICAyMDM6ICdOb24tQXV0aG9yaXRhdGl2ZSBJbmZvcm1hdGlvbicsCgkgIDIwNDogJ05vIENvbnRlbnQnLAoJICAyMDU6ICdSZXNldCBDb250ZW50JywKCSAgMjA2OiAnUGFydGlhbCBDb250ZW50JywKCSAgMjA3OiAnTXVsdGktU3RhdHVzJywgLy8gUkZDIDQ5MTgKCSAgMzAwOiAnTXVsdGlwbGUgQ2hvaWNlcycsCgkgIDMwMTogJ01vdmVkIFBlcm1hbmVudGx5JywKCSAgMzAyOiAnTW92ZWQgVGVtcG9yYXJpbHknLAoJICAzMDM6ICdTZWUgT3RoZXInLAoJICAzMDQ6ICdOb3QgTW9kaWZpZWQnLAoJICAzMDU6ICdVc2UgUHJveHknLAoJICAzMDc6ICdUZW1wb3JhcnkgUmVkaXJlY3QnLAoJICA0MDA6ICdCYWQgUmVxdWVzdCcsCgkgIDQwMTogJ1VuYXV0aG9yaXplZCcsCgkgIDQwMjogJ1BheW1lbnQgUmVxdWlyZWQnLAoJICA0MDM6ICdGb3JiaWRkZW4nLAoJICA0MDQ6ICdOb3QgRm91bmQnLAoJICA0MDU6ICdNZXRob2QgTm90IEFsbG93ZWQnLAoJICA0MDY6ICdOb3QgQWNjZXB0YWJsZScsCgkgIDQwNzogJ1Byb3h5IEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkJywKCSAgNDA4OiAnUmVxdWVzdCBUaW1lLW91dCcsCgkgIDQwOTogJ0NvbmZsaWN0JywKCSAgNDEwOiAnR29uZScsCgkgIDQxMTogJ0xlbmd0aCBSZXF1aXJlZCcsCgkgIDQxMjogJ1ByZWNvbmRpdGlvbiBGYWlsZWQnLAoJICA0MTM6ICdSZXF1ZXN0IEVudGl0eSBUb28gTGFyZ2UnLAoJICA0MTQ6ICdSZXF1ZXN0LVVSSSBUb28gTGFyZ2UnLAoJICA0MTU6ICdVbnN1cHBvcnRlZCBNZWRpYSBUeXBlJywKCSAgNDE2OiAnUmVxdWVzdGVkIFJhbmdlIE5vdCBTYXRpc2ZpYWJsZScsCgkgIDQxNzogJ0V4cGVjdGF0aW9uIEZhaWxlZCcsCgkgIDQxODogJ0lcJ20gYSB0ZWFwb3QnLCAvLyBSRkMgMjMyNAoJICA0MjI6ICdVbnByb2Nlc3NhYmxlIEVudGl0eScsIC8vIFJGQyA0OTE4CgkgIDQyMzogJ0xvY2tlZCcsIC8vIFJGQyA0OTE4CgkgIDQyNDogJ0ZhaWxlZCBEZXBlbmRlbmN5JywgLy8gUkZDIDQ5MTgKCSAgNDI1OiAnVW5vcmRlcmVkIENvbGxlY3Rpb24nLCAvLyBSRkMgNDkxOAoJICA0MjY6ICdVcGdyYWRlIFJlcXVpcmVkJywgLy8gUkZDIDI4MTcKCSAgNDI4OiAnUHJlY29uZGl0aW9uIFJlcXVpcmVkJywgLy8gUkZDIDY1ODUKCSAgNDI5OiAnVG9vIE1hbnkgUmVxdWVzdHMnLCAvLyBSRkMgNjU4NQoJICA0MzE6ICdSZXF1ZXN0IEhlYWRlciBGaWVsZHMgVG9vIExhcmdlJywgLy8gUkZDIDY1ODUKCSAgNTAwOiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJywKCSAgNTAxOiAnTm90IEltcGxlbWVudGVkJywKCSAgNTAyOiAnQmFkIEdhdGV3YXknLAoJICA1MDM6ICdTZXJ2aWNlIFVuYXZhaWxhYmxlJywKCSAgNTA0OiAnR2F0ZXdheSBUaW1lLW91dCcsCgkgIDUwNTogJ0hUVFAgVmVyc2lvbiBOb3QgU3VwcG9ydGVkJywKCSAgNTA2OiAnVmFyaWFudCBBbHNvIE5lZ290aWF0ZXMnLCAvLyBSRkMgMjI5NQoJICA1MDc6ICdJbnN1ZmZpY2llbnQgU3RvcmFnZScsIC8vIFJGQyA0OTE4CgkgIDUwOTogJ0JhbmR3aWR0aCBMaW1pdCBFeGNlZWRlZCcsCgkgIDUxMDogJ05vdCBFeHRlbmRlZCcsIC8vIFJGQyAyNzc0CgkgIDUxMTogJ05ldHdvcmsgQXV0aGVudGljYXRpb24gUmVxdWlyZWQnIC8vIFJGQyA2NTg1Cgl9OwoKCXZhciByZXF1aXJlJCQyID0gewoJICByZXF1ZXN0LAoJICBnZXQsCgkgIEFnZW50LAoJICBNRVRIT0RTLAoJICBTVEFUVVNfQ09ERVMKCX07CgoJdmFyIGRlYnVnJDE7CgoJdmFyIGRlYnVnXzEgPSBmdW5jdGlvbiAoKSB7CgkgIGlmICghZGVidWckMSkgewoJICAgIHRyeSB7CgkgICAgICAvKiBlc2xpbnQgZ2xvYmFsLXJlcXVpcmU6IG9mZiAqLwoJICAgICAgZGVidWckMSA9IHJlcXVpcmUoImRlYnVnIikoImZvbGxvdy1yZWRpcmVjdHMiKTsKCSAgICB9CgkgICAgY2F0Y2ggKGVycm9yKSB7IC8qICovIH0KCSAgICBpZiAodHlwZW9mIGRlYnVnJDEgIT09ICJmdW5jdGlvbiIpIHsKCSAgICAgIGRlYnVnJDEgPSBmdW5jdGlvbiAoKSB7IC8qICovIH07CgkgICAgfQoJICB9CgkgIGRlYnVnJDEuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKCX07CgoJdmFyIHVybCA9IHJlcXVpcmUkJDA7Cgl2YXIgVVJMID0gdXJsLlVSTDsKCXZhciBodHRwID0gcmVxdWlyZSQkMjsKCXZhciBodHRwcyQxID0gcmVxdWlyZSQkMjsKCXZhciBXcml0YWJsZSA9IFN0cmVhbS5Xcml0YWJsZTsKCXZhciBhc3NlcnQkMSA9IGFzc2VydCQzOwoJdmFyIGRlYnVnID0gZGVidWdfMTsKCgkvLyBDcmVhdGUgaGFuZGxlcnMgdGhhdCBwYXNzIGV2ZW50cyBmcm9tIG5hdGl2ZSByZXF1ZXN0cwoJdmFyIGV2ZW50cyA9IFsiYWJvcnQiLCAiYWJvcnRlZCIsICJjb25uZWN0IiwgImVycm9yIiwgInNvY2tldCIsICJ0aW1lb3V0Il07Cgl2YXIgZXZlbnRIYW5kbGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7CglldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHsKCSAgZXZlbnRIYW5kbGVyc1tldmVudF0gPSBmdW5jdGlvbiAoYXJnMSwgYXJnMiwgYXJnMykgewoJICAgIHRoaXMuX3JlZGlyZWN0YWJsZS5lbWl0KGV2ZW50LCBhcmcxLCBhcmcyLCBhcmczKTsKCSAgfTsKCX0pOwoKCS8vIEVycm9yIHR5cGVzIHdpdGggY29kZXMKCXZhciBSZWRpcmVjdGlvbkVycm9yID0gY3JlYXRlRXJyb3JUeXBlKAoJICAiRVJSX0ZSX1JFRElSRUNUSU9OX0ZBSUxVUkUiLAoJICAiUmVkaXJlY3RlZCByZXF1ZXN0IGZhaWxlZCIKCSk7Cgl2YXIgVG9vTWFueVJlZGlyZWN0c0Vycm9yID0gY3JlYXRlRXJyb3JUeXBlKAoJICAiRVJSX0ZSX1RPT19NQU5ZX1JFRElSRUNUUyIsCgkgICJNYXhpbXVtIG51bWJlciBvZiByZWRpcmVjdHMgZXhjZWVkZWQiCgkpOwoJdmFyIE1heEJvZHlMZW5ndGhFeGNlZWRlZEVycm9yID0gY3JlYXRlRXJyb3JUeXBlKAoJICAiRVJSX0ZSX01BWF9CT0RZX0xFTkdUSF9FWENFRURFRCIsCgkgICJSZXF1ZXN0IGJvZHkgbGFyZ2VyIHRoYW4gbWF4Qm9keUxlbmd0aCBsaW1pdCIKCSk7Cgl2YXIgV3JpdGVBZnRlckVuZEVycm9yID0gY3JlYXRlRXJyb3JUeXBlKAoJICAiRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkQiLAoJICAid3JpdGUgYWZ0ZXIgZW5kIgoJKTsKCgkvLyBBbiBIVFRQKFMpIHJlcXVlc3QgdGhhdCBjYW4gYmUgcmVkaXJlY3RlZAoJZnVuY3Rpb24gUmVkaXJlY3RhYmxlUmVxdWVzdChvcHRpb25zLCByZXNwb25zZUNhbGxiYWNrKSB7CgkgIC8vIEluaXRpYWxpemUgdGhlIHJlcXVlc3QKCSAgV3JpdGFibGUuY2FsbCh0aGlzKTsKCSAgdGhpcy5fc2FuaXRpemVPcHRpb25zKG9wdGlvbnMpOwoJICB0aGlzLl9vcHRpb25zID0gb3B0aW9uczsKCSAgdGhpcy5fZW5kZWQgPSBmYWxzZTsKCSAgdGhpcy5fZW5kaW5nID0gZmFsc2U7CgkgIHRoaXMuX3JlZGlyZWN0Q291bnQgPSAwOwoJICB0aGlzLl9yZWRpcmVjdHMgPSBbXTsKCSAgdGhpcy5fcmVxdWVzdEJvZHlMZW5ndGggPSAwOwoJICB0aGlzLl9yZXF1ZXN0Qm9keUJ1ZmZlcnMgPSBbXTsKCgkgIC8vIEF0dGFjaCBhIGNhbGxiYWNrIGlmIHBhc3NlZAoJICBpZiAocmVzcG9uc2VDYWxsYmFjaykgewoJICAgIHRoaXMub24oInJlc3BvbnNlIiwgcmVzcG9uc2VDYWxsYmFjayk7CgkgIH0KCgkgIC8vIFJlYWN0IHRvIHJlc3BvbnNlcyBvZiBuYXRpdmUgcmVxdWVzdHMKCSAgdmFyIHNlbGYgPSB0aGlzOwoJICB0aGlzLl9vbk5hdGl2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7CgkgICAgc2VsZi5fcHJvY2Vzc1Jlc3BvbnNlKHJlc3BvbnNlKTsKCSAgfTsKCgkgIC8vIFBlcmZvcm0gdGhlIGZpcnN0IHJlcXVlc3QKCSAgdGhpcy5fcGVyZm9ybVJlcXVlc3QoKTsKCX0KCVJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShXcml0YWJsZS5wcm90b3R5cGUpOwoKCVJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gKCkgewoJICBhYm9ydFJlcXVlc3QodGhpcy5fY3VycmVudFJlcXVlc3QpOwoJICB0aGlzLmVtaXQoImFib3J0Iik7Cgl9OwoKCS8vIFdyaXRlcyBidWZmZXJlZCBkYXRhIHRvIHRoZSBjdXJyZW50IG5hdGl2ZSByZXF1ZXN0CglSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChkYXRhLCBlbmNvZGluZywgY2FsbGJhY2spIHsKCSAgLy8gV3JpdGluZyBpcyBub3QgYWxsb3dlZCBpZiBlbmQgaGFzIGJlZW4gY2FsbGVkCgkgIGlmICh0aGlzLl9lbmRpbmcpIHsKCSAgICB0aHJvdyBuZXcgV3JpdGVBZnRlckVuZEVycm9yKCk7CgkgIH0KCgkgIC8vIFZhbGlkYXRlIGlucHV0IGFuZCBzaGlmdCBwYXJhbWV0ZXJzIGlmIG5lY2Vzc2FyeQoJICBpZiAoISh0eXBlb2YgZGF0YSA9PT0gInN0cmluZyIgfHwgdHlwZW9mIGRhdGEgPT09ICJvYmplY3QiICYmICgibGVuZ3RoIiBpbiBkYXRhKSkpIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJkYXRhIHNob3VsZCBiZSBhIHN0cmluZywgQnVmZmVyIG9yIFVpbnQ4QXJyYXkiKTsKCSAgfQoJICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAiZnVuY3Rpb24iKSB7CgkgICAgY2FsbGJhY2sgPSBlbmNvZGluZzsKCSAgICBlbmNvZGluZyA9IG51bGw7CgkgIH0KCgkgIC8vIElnbm9yZSBlbXB0eSBidWZmZXJzLCBzaW5jZSB3cml0aW5nIHRoZW0gZG9lc24ndCBpbnZva2UgdGhlIGNhbGxiYWNrCgkgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9pc3N1ZXMvMjIwNjYKCSAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSB7CgkgICAgaWYgKGNhbGxiYWNrKSB7CgkgICAgICBjYWxsYmFjaygpOwoJICAgIH0KCSAgICByZXR1cm47CgkgIH0KCSAgLy8gT25seSB3cml0ZSB3aGVuIHdlIGRvbid0IGV4Y2VlZCB0aGUgbWF4aW11bSBib2R5IGxlbmd0aAoJICBpZiAodGhpcy5fcmVxdWVzdEJvZHlMZW5ndGggKyBkYXRhLmxlbmd0aCA8PSB0aGlzLl9vcHRpb25zLm1heEJvZHlMZW5ndGgpIHsKCSAgICB0aGlzLl9yZXF1ZXN0Qm9keUxlbmd0aCArPSBkYXRhLmxlbmd0aDsKCSAgICB0aGlzLl9yZXF1ZXN0Qm9keUJ1ZmZlcnMucHVzaCh7IGRhdGE6IGRhdGEsIGVuY29kaW5nOiBlbmNvZGluZyB9KTsKCSAgICB0aGlzLl9jdXJyZW50UmVxdWVzdC53cml0ZShkYXRhLCBlbmNvZGluZywgY2FsbGJhY2spOwoJICB9CgkgIC8vIEVycm9yIHdoZW4gd2UgZXhjZWVkIHRoZSBtYXhpbXVtIGJvZHkgbGVuZ3RoCgkgIGVsc2UgewoJICAgIHRoaXMuZW1pdCgiZXJyb3IiLCBuZXcgTWF4Qm9keUxlbmd0aEV4Y2VlZGVkRXJyb3IoKSk7CgkgICAgdGhpcy5hYm9ydCgpOwoJICB9Cgl9OwoKCS8vIEVuZHMgdGhlIGN1cnJlbnQgbmF0aXZlIHJlcXVlc3QKCVJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChkYXRhLCBlbmNvZGluZywgY2FsbGJhY2spIHsKCSAgLy8gU2hpZnQgcGFyYW1ldGVycyBpZiBuZWNlc3NhcnkKCSAgaWYgKHR5cGVvZiBkYXRhID09PSAiZnVuY3Rpb24iKSB7CgkgICAgY2FsbGJhY2sgPSBkYXRhOwoJICAgIGRhdGEgPSBlbmNvZGluZyA9IG51bGw7CgkgIH0KCSAgZWxzZSBpZiAodHlwZW9mIGVuY29kaW5nID09PSAiZnVuY3Rpb24iKSB7CgkgICAgY2FsbGJhY2sgPSBlbmNvZGluZzsKCSAgICBlbmNvZGluZyA9IG51bGw7CgkgIH0KCgkgIC8vIFdyaXRlIGRhdGEgaWYgbmVlZGVkIGFuZCBlbmQKCSAgaWYgKCFkYXRhKSB7CgkgICAgdGhpcy5fZW5kZWQgPSB0aGlzLl9lbmRpbmcgPSB0cnVlOwoJICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0LmVuZChudWxsLCBudWxsLCBjYWxsYmFjayk7CgkgIH0KCSAgZWxzZSB7CgkgICAgdmFyIHNlbGYgPSB0aGlzOwoJICAgIHZhciBjdXJyZW50UmVxdWVzdCA9IHRoaXMuX2N1cnJlbnRSZXF1ZXN0OwoJICAgIHRoaXMud3JpdGUoZGF0YSwgZW5jb2RpbmcsIGZ1bmN0aW9uICgpIHsKCSAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTsKCSAgICAgIGN1cnJlbnRSZXF1ZXN0LmVuZChudWxsLCBudWxsLCBjYWxsYmFjayk7CgkgICAgfSk7CgkgICAgdGhpcy5fZW5kaW5nID0gdHJ1ZTsKCSAgfQoJfTsKCgkvLyBTZXRzIGEgaGVhZGVyIHZhbHVlIG9uIHRoZSBjdXJyZW50IG5hdGl2ZSByZXF1ZXN0CglSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5zZXRIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHsKCSAgdGhpcy5fb3B0aW9ucy5oZWFkZXJzW25hbWVdID0gdmFsdWU7CgkgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0LnNldEhlYWRlcihuYW1lLCB2YWx1ZSk7Cgl9OwoKCS8vIENsZWFycyBhIGhlYWRlciB2YWx1ZSBvbiB0aGUgY3VycmVudCBuYXRpdmUgcmVxdWVzdAoJUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUucmVtb3ZlSGVhZGVyID0gZnVuY3Rpb24gKG5hbWUpIHsKCSAgZGVsZXRlIHRoaXMuX29wdGlvbnMuaGVhZGVyc1tuYW1lXTsKCSAgdGhpcy5fY3VycmVudFJlcXVlc3QucmVtb3ZlSGVhZGVyKG5hbWUpOwoJfTsKCgkvLyBHbG9iYWwgdGltZW91dCBmb3IgYWxsIHVuZGVybHlpbmcgcmVxdWVzdHMKCVJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLnNldFRpbWVvdXQgPSBmdW5jdGlvbiAobXNlY3MsIGNhbGxiYWNrKSB7CgkgIHZhciBzZWxmID0gdGhpczsKCgkgIC8vIERlc3Ryb3lzIHRoZSBzb2NrZXQgb24gdGltZW91dAoJICBmdW5jdGlvbiBkZXN0cm95T25UaW1lb3V0KHNvY2tldCkgewoJICAgIHNvY2tldC5zZXRUaW1lb3V0KG1zZWNzKTsKCSAgICBzb2NrZXQucmVtb3ZlTGlzdGVuZXIoInRpbWVvdXQiLCBzb2NrZXQuZGVzdHJveSk7CgkgICAgc29ja2V0LmFkZExpc3RlbmVyKCJ0aW1lb3V0Iiwgc29ja2V0LmRlc3Ryb3kpOwoJICB9CgoJICAvLyBTZXRzIHVwIGEgdGltZXIgdG8gdHJpZ2dlciBhIHRpbWVvdXQgZXZlbnQKCSAgZnVuY3Rpb24gc3RhcnRUaW1lcihzb2NrZXQpIHsKCSAgICBpZiAoc2VsZi5fdGltZW91dCkgewoJICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3RpbWVvdXQpOwoJICAgIH0KCSAgICBzZWxmLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkgICAgICBzZWxmLmVtaXQoInRpbWVvdXQiKTsKCSAgICAgIGNsZWFyVGltZXIoKTsKCSAgICB9LCBtc2Vjcyk7CgkgICAgZGVzdHJveU9uVGltZW91dChzb2NrZXQpOwoJICB9CgoJICAvLyBTdG9wcyBhIHRpbWVvdXQgZnJvbSB0cmlnZ2VyaW5nCgkgIGZ1bmN0aW9uIGNsZWFyVGltZXIoKSB7CgkgICAgLy8gQ2xlYXIgdGhlIHRpbWVvdXQKCSAgICBpZiAoc2VsZi5fdGltZW91dCkgewoJICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3RpbWVvdXQpOwoJICAgICAgc2VsZi5fdGltZW91dCA9IG51bGw7CgkgICAgfQoKCSAgICAvLyBDbGVhbiB1cCBhbGwgYXR0YWNoZWQgbGlzdGVuZXJzCgkgICAgc2VsZi5yZW1vdmVMaXN0ZW5lcigiYWJvcnQiLCBjbGVhclRpbWVyKTsKCSAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsIGNsZWFyVGltZXIpOwoJICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoInJlc3BvbnNlIiwgY2xlYXJUaW1lcik7CgkgICAgaWYgKGNhbGxiYWNrKSB7CgkgICAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCJ0aW1lb3V0IiwgY2FsbGJhY2spOwoJICAgIH0KCSAgICBpZiAoIXNlbGYuc29ja2V0KSB7CgkgICAgICBzZWxmLl9jdXJyZW50UmVxdWVzdC5yZW1vdmVMaXN0ZW5lcigic29ja2V0Iiwgc3RhcnRUaW1lcik7CgkgICAgfQoJICB9CgoJICAvLyBBdHRhY2ggY2FsbGJhY2sgaWYgcGFzc2VkCgkgIGlmIChjYWxsYmFjaykgewoJICAgIHRoaXMub24oInRpbWVvdXQiLCBjYWxsYmFjayk7CgkgIH0KCgkgIC8vIFN0YXJ0IHRoZSB0aW1lciBpZiBvciB3aGVuIHRoZSBzb2NrZXQgaXMgb3BlbmVkCgkgIGlmICh0aGlzLnNvY2tldCkgewoJICAgIHN0YXJ0VGltZXIodGhpcy5zb2NrZXQpOwoJICB9CgkgIGVsc2UgewoJICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0Lm9uY2UoInNvY2tldCIsIHN0YXJ0VGltZXIpOwoJICB9CgoJICAvLyBDbGVhbiB1cCBvbiBldmVudHMKCSAgdGhpcy5vbigic29ja2V0IiwgZGVzdHJveU9uVGltZW91dCk7CgkgIHRoaXMub24oImFib3J0IiwgY2xlYXJUaW1lcik7CgkgIHRoaXMub24oImVycm9yIiwgY2xlYXJUaW1lcik7CgkgIHRoaXMub24oInJlc3BvbnNlIiwgY2xlYXJUaW1lcik7CgoJICByZXR1cm4gdGhpczsKCX07CgoJLy8gUHJveHkgYWxsIG90aGVyIHB1YmxpYyBDbGllbnRSZXF1ZXN0IG1ldGhvZHMKCVsKCSAgImZsdXNoSGVhZGVycyIsICJnZXRIZWFkZXIiLAoJICAic2V0Tm9EZWxheSIsICJzZXRTb2NrZXRLZWVwQWxpdmUiLAoJXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHsKCSAgUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uIChhLCBiKSB7CgkgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRSZXF1ZXN0W21ldGhvZF0oYSwgYik7CgkgIH07Cgl9KTsKCgkvLyBQcm94eSBhbGwgcHVibGljIENsaWVudFJlcXVlc3QgcHJvcGVydGllcwoJWyJhYm9ydGVkIiwgImNvbm5lY3Rpb24iLCAic29ja2V0Il0uZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHsKCSAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLCBwcm9wZXJ0eSwgewoJICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fY3VycmVudFJlcXVlc3RbcHJvcGVydHldOyB9LAoJICB9KTsKCX0pOwoKCVJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLl9zYW5pdGl6ZU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgewoJICAvLyBFbnN1cmUgaGVhZGVycyBhcmUgYWx3YXlzIHByZXNlbnQKCSAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHsKCSAgICBvcHRpb25zLmhlYWRlcnMgPSB7fTsKCSAgfQoKCSAgLy8gU2luY2UgaHR0cC5yZXF1ZXN0IHRyZWF0cyBob3N0IGFzIGFuIGFsaWFzIG9mIGhvc3RuYW1lLAoJICAvLyBidXQgdGhlIHVybCBtb2R1bGUgaW50ZXJwcmV0cyBob3N0IGFzIGhvc3RuYW1lIHBsdXMgcG9ydCwKCSAgLy8gZWxpbWluYXRlIHRoZSBob3N0IHByb3BlcnR5IHRvIGF2b2lkIGNvbmZ1c2lvbi4KCSAgaWYgKG9wdGlvbnMuaG9zdCkgewoJICAgIC8vIFVzZSBob3N0bmFtZSBpZiBzZXQsIGJlY2F1c2UgaXQgaGFzIHByZWNlZGVuY2UKCSAgICBpZiAoIW9wdGlvbnMuaG9zdG5hbWUpIHsKCSAgICAgIG9wdGlvbnMuaG9zdG5hbWUgPSBvcHRpb25zLmhvc3Q7CgkgICAgfQoJICAgIGRlbGV0ZSBvcHRpb25zLmhvc3Q7CgkgIH0KCgkgIC8vIENvbXBsZXRlIHRoZSBVUkwgb2JqZWN0IHdoZW4gbmVjZXNzYXJ5CgkgIGlmICghb3B0aW9ucy5wYXRobmFtZSAmJiBvcHRpb25zLnBhdGgpIHsKCSAgICB2YXIgc2VhcmNoUG9zID0gb3B0aW9ucy5wYXRoLmluZGV4T2YoIj8iKTsKCSAgICBpZiAoc2VhcmNoUG9zIDwgMCkgewoJICAgICAgb3B0aW9ucy5wYXRobmFtZSA9IG9wdGlvbnMucGF0aDsKCSAgICB9CgkgICAgZWxzZSB7CgkgICAgICBvcHRpb25zLnBhdGhuYW1lID0gb3B0aW9ucy5wYXRoLnN1YnN0cmluZygwLCBzZWFyY2hQb3MpOwoJICAgICAgb3B0aW9ucy5zZWFyY2ggPSBvcHRpb25zLnBhdGguc3Vic3RyaW5nKHNlYXJjaFBvcyk7CgkgICAgfQoJICB9Cgl9OwoKCgkvLyBFeGVjdXRlcyB0aGUgbmV4dCBuYXRpdmUgcmVxdWVzdCAoaW5pdGlhbCBvciByZWRpcmVjdCkKCVJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLl9wZXJmb3JtUmVxdWVzdCA9IGZ1bmN0aW9uICgpIHsKCSAgLy8gTG9hZCB0aGUgbmF0aXZlIHByb3RvY29sCgkgIHZhciBwcm90b2NvbCA9IHRoaXMuX29wdGlvbnMucHJvdG9jb2w7CgkgIHZhciBuYXRpdmVQcm90b2NvbCA9IHRoaXMuX29wdGlvbnMubmF0aXZlUHJvdG9jb2xzW3Byb3RvY29sXTsKCSAgaWYgKCFuYXRpdmVQcm90b2NvbCkgewoJICAgIHRoaXMuZW1pdCgiZXJyb3IiLCBuZXcgVHlwZUVycm9yKCJVbnN1cHBvcnRlZCBwcm90b2NvbCAiICsgcHJvdG9jb2wpKTsKCSAgICByZXR1cm47CgkgIH0KCgkgIC8vIElmIHNwZWNpZmllZCwgdXNlIHRoZSBhZ2VudCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm90b2NvbAoJICAvLyAoSFRUUCBhbmQgSFRUUFMgdXNlIGRpZmZlcmVudCB0eXBlcyBvZiBhZ2VudHMpCgkgIGlmICh0aGlzLl9vcHRpb25zLmFnZW50cykgewoJICAgIHZhciBzY2hlbWUgPSBwcm90b2NvbC5zdWJzdHIoMCwgcHJvdG9jb2wubGVuZ3RoIC0gMSk7CgkgICAgdGhpcy5fb3B0aW9ucy5hZ2VudCA9IHRoaXMuX29wdGlvbnMuYWdlbnRzW3NjaGVtZV07CgkgIH0KCgkgIC8vIENyZWF0ZSB0aGUgbmF0aXZlIHJlcXVlc3QKCSAgdmFyIHJlcXVlc3QgPSB0aGlzLl9jdXJyZW50UmVxdWVzdCA9CgkgICAgICAgIG5hdGl2ZVByb3RvY29sLnJlcXVlc3QodGhpcy5fb3B0aW9ucywgdGhpcy5fb25OYXRpdmVSZXNwb25zZSk7CgkgIHRoaXMuX2N1cnJlbnRVcmwgPSB1cmwuZm9ybWF0KHRoaXMuX29wdGlvbnMpOwoKCSAgLy8gU2V0IHVwIGV2ZW50IGhhbmRsZXJzCgkgIHJlcXVlc3QuX3JlZGlyZWN0YWJsZSA9IHRoaXM7CgkgIGZvciAodmFyIGUgPSAwOyBlIDwgZXZlbnRzLmxlbmd0aDsgZSsrKSB7CgkgICAgcmVxdWVzdC5vbihldmVudHNbZV0sIGV2ZW50SGFuZGxlcnNbZXZlbnRzW2VdXSk7CgkgIH0KCgkgIC8vIEVuZCBhIHJlZGlyZWN0ZWQgcmVxdWVzdAoJICAvLyAoVGhlIGZpcnN0IHJlcXVlc3QgbXVzdCBiZSBlbmRlZCBleHBsaWNpdGx5IHdpdGggUmVkaXJlY3RhYmxlUmVxdWVzdCNlbmQpCgkgIGlmICh0aGlzLl9pc1JlZGlyZWN0KSB7CgkgICAgLy8gV3JpdGUgdGhlIHJlcXVlc3QgZW50aXR5IGFuZCBlbmQuCgkgICAgdmFyIGkgPSAwOwoJICAgIHZhciBzZWxmID0gdGhpczsKCSAgICB2YXIgYnVmZmVycyA9IHRoaXMuX3JlcXVlc3RCb2R5QnVmZmVyczsKCSAgICAoZnVuY3Rpb24gd3JpdGVOZXh0KGVycm9yKSB7CgkgICAgICAvLyBPbmx5IHdyaXRlIGlmIHRoaXMgcmVxdWVzdCBoYXMgbm90IGJlZW4gcmVkaXJlY3RlZCB5ZXQKCSAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCgkgICAgICBpZiAocmVxdWVzdCA9PT0gc2VsZi5fY3VycmVudFJlcXVlc3QpIHsKCSAgICAgICAgLy8gUmVwb3J0IGFueSB3cml0ZSBlcnJvcnMKCSAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCgkgICAgICAgIGlmIChlcnJvcikgewoJICAgICAgICAgIHNlbGYuZW1pdCgiZXJyb3IiLCBlcnJvcik7CgkgICAgICAgIH0KCSAgICAgICAgLy8gV3JpdGUgdGhlIG5leHQgYnVmZmVyIGlmIHRoZXJlIGFyZSBzdGlsbCBsZWZ0CgkgICAgICAgIGVsc2UgaWYgKGkgPCBidWZmZXJzLmxlbmd0aCkgewoJICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2krK107CgkgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8KCSAgICAgICAgICBpZiAoIXJlcXVlc3QuZmluaXNoZWQpIHsKCSAgICAgICAgICAgIHJlcXVlc3Qud3JpdGUoYnVmZmVyLmRhdGEsIGJ1ZmZlci5lbmNvZGluZywgd3JpdGVOZXh0KTsKCSAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRW5kIHRoZSByZXF1ZXN0IGlmIGBlbmRgIGhhcyBiZWVuIGNhbGxlZCBvbiB1cwoJICAgICAgICBlbHNlIGlmIChzZWxmLl9lbmRlZCkgewoJICAgICAgICAgIHJlcXVlc3QuZW5kKCk7CgkgICAgICAgIH0KCSAgICAgIH0KCSAgICB9KCkpOwoJICB9Cgl9OwoKCS8vIFByb2Nlc3NlcyBhIHJlc3BvbnNlIGZyb20gdGhlIGN1cnJlbnQgbmF0aXZlIHJlcXVlc3QKCVJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLl9wcm9jZXNzUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHsKCSAgLy8gU3RvcmUgdGhlIHJlZGlyZWN0ZWQgcmVzcG9uc2UKCSAgdmFyIHN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXNDb2RlOwoJICBpZiAodGhpcy5fb3B0aW9ucy50cmFja1JlZGlyZWN0cykgewoJICAgIHRoaXMuX3JlZGlyZWN0cy5wdXNoKHsKCSAgICAgIHVybDogdGhpcy5fY3VycmVudFVybCwKCSAgICAgIGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnMsCgkgICAgICBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLAoJICAgIH0pOwoJICB9CgoJICAvLyBSRkM3MjMxwqc2LjQ6IFRoZSAzeHggKFJlZGlyZWN0aW9uKSBjbGFzcyBvZiBzdGF0dXMgY29kZSBpbmRpY2F0ZXMKCSAgLy8gdGhhdCBmdXJ0aGVyIGFjdGlvbiBuZWVkcyB0byBiZSB0YWtlbiBieSB0aGUgdXNlciBhZ2VudCBpbiBvcmRlciB0bwoJICAvLyBmdWxmaWxsIHRoZSByZXF1ZXN0LiBJZiBhIExvY2F0aW9uIGhlYWRlciBmaWVsZCBpcyBwcm92aWRlZCwKCSAgLy8gdGhlIHVzZXIgYWdlbnQgTUFZIGF1dG9tYXRpY2FsbHkgcmVkaXJlY3QgaXRzIHJlcXVlc3QgdG8gdGhlIFVSSQoJICAvLyByZWZlcmVuY2VkIGJ5IHRoZSBMb2NhdGlvbiBmaWVsZCB2YWx1ZSwKCSAgLy8gZXZlbiBpZiB0aGUgc3BlY2lmaWMgc3RhdHVzIGNvZGUgaXMgbm90IHVuZGVyc3Rvb2QuCgoJICAvLyBJZiB0aGUgcmVzcG9uc2UgaXMgbm90IGEgcmVkaXJlY3Q7IHJldHVybiBpdCBhcy1pcwoJICB2YXIgbG9jYXRpb24gPSByZXNwb25zZS5oZWFkZXJzLmxvY2F0aW9uOwoJICBpZiAoIWxvY2F0aW9uIHx8IHRoaXMuX29wdGlvbnMuZm9sbG93UmVkaXJlY3RzID09PSBmYWxzZSB8fAoJICAgICAgc3RhdHVzQ29kZSA8IDMwMCB8fCBzdGF0dXNDb2RlID49IDQwMCkgewoJICAgIHJlc3BvbnNlLnJlc3BvbnNlVXJsID0gdGhpcy5fY3VycmVudFVybDsKCSAgICByZXNwb25zZS5yZWRpcmVjdHMgPSB0aGlzLl9yZWRpcmVjdHM7CgkgICAgdGhpcy5lbWl0KCJyZXNwb25zZSIsIHJlc3BvbnNlKTsKCgkgICAgLy8gQ2xlYW4gdXAKCSAgICB0aGlzLl9yZXF1ZXN0Qm9keUJ1ZmZlcnMgPSBbXTsKCSAgICByZXR1cm47CgkgIH0KCgkgIC8vIFRoZSByZXNwb25zZSBpcyBhIHJlZGlyZWN0LCBzbyBhYm9ydCB0aGUgY3VycmVudCByZXF1ZXN0CgkgIGFib3J0UmVxdWVzdCh0aGlzLl9jdXJyZW50UmVxdWVzdCk7CgkgIC8vIERpc2NhcmQgdGhlIHJlbWFpbmRlciBvZiB0aGUgcmVzcG9uc2UgdG8gYXZvaWQgd2FpdGluZyBmb3IgZGF0YQoJICByZXNwb25zZS5kZXN0cm95KCk7CgoJICAvLyBSRkM3MjMxwqc2LjQ6IEEgY2xpZW50IFNIT1VMRCBkZXRlY3QgYW5kIGludGVydmVuZQoJICAvLyBpbiBjeWNsaWNhbCByZWRpcmVjdGlvbnMgKGkuZS4sICJpbmZpbml0ZSIgcmVkaXJlY3Rpb24gbG9vcHMpLgoJICBpZiAoKyt0aGlzLl9yZWRpcmVjdENvdW50ID4gdGhpcy5fb3B0aW9ucy5tYXhSZWRpcmVjdHMpIHsKCSAgICB0aGlzLmVtaXQoImVycm9yIiwgbmV3IFRvb01hbnlSZWRpcmVjdHNFcnJvcigpKTsKCSAgICByZXR1cm47CgkgIH0KCgkgIC8vIFJGQzcyMzHCpzYuNDogQXV0b21hdGljIHJlZGlyZWN0aW9uIG5lZWRzIHRvIGRvbmUgd2l0aAoJICAvLyBjYXJlIGZvciBtZXRob2RzIG5vdCBrbm93biB0byBiZSBzYWZlLCBb4oCmXQoJICAvLyBSRkM3MjMxwqc2LjQuMuKAkzM6IEZvciBoaXN0b3JpY2FsIHJlYXNvbnMsIGEgdXNlciBhZ2VudCBNQVkgY2hhbmdlCgkgIC8vIHRoZSByZXF1ZXN0IG1ldGhvZCBmcm9tIFBPU1QgdG8gR0VUIGZvciB0aGUgc3Vic2VxdWVudCByZXF1ZXN0LgoJICBpZiAoKHN0YXR1c0NvZGUgPT09IDMwMSB8fCBzdGF0dXNDb2RlID09PSAzMDIpICYmIHRoaXMuX29wdGlvbnMubWV0aG9kID09PSAiUE9TVCIgfHwKCSAgICAgIC8vIFJGQzcyMzHCpzYuNC40OiBUaGUgMzAzIChTZWUgT3RoZXIpIHN0YXR1cyBjb2RlIGluZGljYXRlcyB0aGF0CgkgICAgICAvLyB0aGUgc2VydmVyIGlzIHJlZGlyZWN0aW5nIHRoZSB1c2VyIGFnZW50IHRvIGEgZGlmZmVyZW50IHJlc291cmNlIFvigKZdCgkgICAgICAvLyBBIHVzZXIgYWdlbnQgY2FuIHBlcmZvcm0gYSByZXRyaWV2YWwgcmVxdWVzdCB0YXJnZXRpbmcgdGhhdCBVUkkKCSAgICAgIC8vIChhIEdFVCBvciBIRUFEIHJlcXVlc3QgaWYgdXNpbmcgSFRUUCkgW+KApl0KCSAgICAgIChzdGF0dXNDb2RlID09PSAzMDMpICYmICEvXig/OkdFVHxIRUFEKSQvLnRlc3QodGhpcy5fb3B0aW9ucy5tZXRob2QpKSB7CgkgICAgdGhpcy5fb3B0aW9ucy5tZXRob2QgPSAiR0VUIjsKCSAgICAvLyBEcm9wIGEgcG9zc2libGUgZW50aXR5IGFuZCBoZWFkZXJzIHJlbGF0ZWQgdG8gaXQKCSAgICB0aGlzLl9yZXF1ZXN0Qm9keUJ1ZmZlcnMgPSBbXTsKCSAgICByZW1vdmVNYXRjaGluZ0hlYWRlcnMoL15jb250ZW50LS9pLCB0aGlzLl9vcHRpb25zLmhlYWRlcnMpOwoJICB9CgoJICAvLyBEcm9wIHRoZSBIb3N0IGhlYWRlciwgYXMgdGhlIHJlZGlyZWN0IG1pZ2h0IGxlYWQgdG8gYSBkaWZmZXJlbnQgaG9zdAoJICB2YXIgY3VycmVudEhvc3RIZWFkZXIgPSByZW1vdmVNYXRjaGluZ0hlYWRlcnMoL15ob3N0JC9pLCB0aGlzLl9vcHRpb25zLmhlYWRlcnMpOwoKCSAgLy8gSWYgdGhlIHJlZGlyZWN0IGlzIHJlbGF0aXZlLCBjYXJyeSBvdmVyIHRoZSBob3N0IG9mIHRoZSBsYXN0IHJlcXVlc3QKCSAgdmFyIGN1cnJlbnRVcmxQYXJ0cyA9IHVybC5wYXJzZSh0aGlzLl9jdXJyZW50VXJsKTsKCSAgdmFyIGN1cnJlbnRIb3N0ID0gY3VycmVudEhvc3RIZWFkZXIgfHwgY3VycmVudFVybFBhcnRzLmhvc3Q7CgkgIHZhciBjdXJyZW50VXJsID0gL15cdys6Ly50ZXN0KGxvY2F0aW9uKSA/IHRoaXMuX2N1cnJlbnRVcmwgOgoJICAgIHVybC5mb3JtYXQoT2JqZWN0LmFzc2lnbihjdXJyZW50VXJsUGFydHMsIHsgaG9zdDogY3VycmVudEhvc3QgfSkpOwoKCSAgLy8gRGV0ZXJtaW5lIHRoZSBVUkwgb2YgdGhlIHJlZGlyZWN0aW9uCgkgIHZhciByZWRpcmVjdFVybDsKCSAgdHJ5IHsKCSAgICByZWRpcmVjdFVybCA9IHVybC5yZXNvbHZlKGN1cnJlbnRVcmwsIGxvY2F0aW9uKTsKCSAgfQoJICBjYXRjaCAoY2F1c2UpIHsKCSAgICB0aGlzLmVtaXQoImVycm9yIiwgbmV3IFJlZGlyZWN0aW9uRXJyb3IoY2F1c2UpKTsKCSAgICByZXR1cm47CgkgIH0KCgkgIC8vIENyZWF0ZSB0aGUgcmVkaXJlY3RlZCByZXF1ZXN0CgkgIGRlYnVnKCJyZWRpcmVjdGluZyB0byIsIHJlZGlyZWN0VXJsKTsKCSAgdGhpcy5faXNSZWRpcmVjdCA9IHRydWU7CgkgIHZhciByZWRpcmVjdFVybFBhcnRzID0gdXJsLnBhcnNlKHJlZGlyZWN0VXJsKTsKCSAgT2JqZWN0LmFzc2lnbih0aGlzLl9vcHRpb25zLCByZWRpcmVjdFVybFBhcnRzKTsKCgkgIC8vIERyb3AgY29uZmlkZW50aWFsIGhlYWRlcnMgd2hlbiByZWRpcmVjdGluZyB0byBhIGxlc3Mgc2VjdXJlIHByb3RvY29sCgkgIC8vIG9yIHRvIGEgZGlmZmVyZW50IGRvbWFpbiB0aGF0IGlzIG5vdCBhIHN1cGVyZG9tYWluCgkgIGlmIChyZWRpcmVjdFVybFBhcnRzLnByb3RvY29sICE9PSBjdXJyZW50VXJsUGFydHMucHJvdG9jb2wgJiYKCSAgICAgcmVkaXJlY3RVcmxQYXJ0cy5wcm90b2NvbCAhPT0gImh0dHBzOiIgfHwKCSAgICAgcmVkaXJlY3RVcmxQYXJ0cy5ob3N0ICE9PSBjdXJyZW50SG9zdCAmJgoJICAgICAhaXNTdWJkb21haW4ocmVkaXJlY3RVcmxQYXJ0cy5ob3N0LCBjdXJyZW50SG9zdCkpIHsKCSAgICByZW1vdmVNYXRjaGluZ0hlYWRlcnMoL14oPzphdXRob3JpemF0aW9ufGNvb2tpZSkkL2ksIHRoaXMuX29wdGlvbnMuaGVhZGVycyk7CgkgIH0KCgkgIC8vIEV2YWx1YXRlIHRoZSBiZWZvcmVSZWRpcmVjdCBjYWxsYmFjawoJICBpZiAodHlwZW9mIHRoaXMuX29wdGlvbnMuYmVmb3JlUmVkaXJlY3QgPT09ICJmdW5jdGlvbiIpIHsKCSAgICB2YXIgcmVzcG9uc2VEZXRhaWxzID0geyBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzIH07CgkgICAgdHJ5IHsKCSAgICAgIHRoaXMuX29wdGlvbnMuYmVmb3JlUmVkaXJlY3QuY2FsbChudWxsLCB0aGlzLl9vcHRpb25zLCByZXNwb25zZURldGFpbHMpOwoJICAgIH0KCSAgICBjYXRjaCAoZXJyKSB7CgkgICAgICB0aGlzLmVtaXQoImVycm9yIiwgZXJyKTsKCSAgICAgIHJldHVybjsKCSAgICB9CgkgICAgdGhpcy5fc2FuaXRpemVPcHRpb25zKHRoaXMuX29wdGlvbnMpOwoJICB9CgoJICAvLyBQZXJmb3JtIHRoZSByZWRpcmVjdGVkIHJlcXVlc3QKCSAgdHJ5IHsKCSAgICB0aGlzLl9wZXJmb3JtUmVxdWVzdCgpOwoJICB9CgkgIGNhdGNoIChjYXVzZSkgewoJICAgIHRoaXMuZW1pdCgiZXJyb3IiLCBuZXcgUmVkaXJlY3Rpb25FcnJvcihjYXVzZSkpOwoJICB9Cgl9OwoKCS8vIFdyYXBzIHRoZSBrZXkvdmFsdWUgb2JqZWN0IG9mIHByb3RvY29scyB3aXRoIHJlZGlyZWN0IGZ1bmN0aW9uYWxpdHkKCWZ1bmN0aW9uIHdyYXAocHJvdG9jb2xzKSB7CgkgIC8vIERlZmF1bHQgc2V0dGluZ3MKCSAgdmFyIGV4cG9ydHMgPSB7CgkgICAgbWF4UmVkaXJlY3RzOiAyMSwKCSAgICBtYXhCb2R5TGVuZ3RoOiAxMCAqIDEwMjQgKiAxMDI0LAoJICB9OwoKCSAgLy8gV3JhcCBlYWNoIHByb3RvY29sCgkgIHZhciBuYXRpdmVQcm90b2NvbHMgPSB7fTsKCSAgT2JqZWN0LmtleXMocHJvdG9jb2xzKS5mb3JFYWNoKGZ1bmN0aW9uIChzY2hlbWUpIHsKCSAgICB2YXIgcHJvdG9jb2wgPSBzY2hlbWUgKyAiOiI7CgkgICAgdmFyIG5hdGl2ZVByb3RvY29sID0gbmF0aXZlUHJvdG9jb2xzW3Byb3RvY29sXSA9IHByb3RvY29sc1tzY2hlbWVdOwoJICAgIHZhciB3cmFwcGVkUHJvdG9jb2wgPSBleHBvcnRzW3NjaGVtZV0gPSBPYmplY3QuY3JlYXRlKG5hdGl2ZVByb3RvY29sKTsKCgkgICAgLy8gRXhlY3V0ZXMgYSByZXF1ZXN0LCBmb2xsb3dpbmcgcmVkaXJlY3RzCgkgICAgZnVuY3Rpb24gcmVxdWVzdChpbnB1dCwgb3B0aW9ucywgY2FsbGJhY2spIHsKCSAgICAgIC8vIFBhcnNlIHBhcmFtZXRlcnMKCSAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICJzdHJpbmciKSB7CgkgICAgICAgIHZhciB1cmxTdHIgPSBpbnB1dDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICBpbnB1dCA9IHVybFRvT3B0aW9ucyhuZXcgVVJMKHVybFN0cikpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlcnIpIHsKCSAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwoJICAgICAgICAgIGlucHV0ID0gdXJsLnBhcnNlKHVybFN0cik7CgkgICAgICAgIH0KCSAgICAgIH0KCSAgICAgIGVsc2UgaWYgKFVSTCAmJiAoaW5wdXQgaW5zdGFuY2VvZiBVUkwpKSB7CgkgICAgICAgIGlucHV0ID0gdXJsVG9PcHRpb25zKGlucHV0KTsKCSAgICAgIH0KCSAgICAgIGVsc2UgewoJICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnM7CgkgICAgICAgIG9wdGlvbnMgPSBpbnB1dDsKCSAgICAgICAgaW5wdXQgPSB7IHByb3RvY29sOiBwcm90b2NvbCB9OwoJICAgICAgfQoJICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAiZnVuY3Rpb24iKSB7CgkgICAgICAgIGNhbGxiYWNrID0gb3B0aW9uczsKCSAgICAgICAgb3B0aW9ucyA9IG51bGw7CgkgICAgICB9CgoJICAgICAgLy8gU2V0IGRlZmF1bHRzCgkgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7CgkgICAgICAgIG1heFJlZGlyZWN0czogZXhwb3J0cy5tYXhSZWRpcmVjdHMsCgkgICAgICAgIG1heEJvZHlMZW5ndGg6IGV4cG9ydHMubWF4Qm9keUxlbmd0aCwKCSAgICAgIH0sIGlucHV0LCBvcHRpb25zKTsKCSAgICAgIG9wdGlvbnMubmF0aXZlUHJvdG9jb2xzID0gbmF0aXZlUHJvdG9jb2xzOwoKCSAgICAgIGFzc2VydCQxLmVxdWFsKG9wdGlvbnMucHJvdG9jb2wsIHByb3RvY29sLCAicHJvdG9jb2wgbWlzbWF0Y2giKTsKCSAgICAgIGRlYnVnKCJvcHRpb25zIiwgb3B0aW9ucyk7CgkgICAgICByZXR1cm4gbmV3IFJlZGlyZWN0YWJsZVJlcXVlc3Qob3B0aW9ucywgY2FsbGJhY2spOwoJICAgIH0KCgkgICAgLy8gRXhlY3V0ZXMgYSBHRVQgcmVxdWVzdCwgZm9sbG93aW5nIHJlZGlyZWN0cwoJICAgIGZ1bmN0aW9uIGdldChpbnB1dCwgb3B0aW9ucywgY2FsbGJhY2spIHsKCSAgICAgIHZhciB3cmFwcGVkUmVxdWVzdCA9IHdyYXBwZWRQcm90b2NvbC5yZXF1ZXN0KGlucHV0LCBvcHRpb25zLCBjYWxsYmFjayk7CgkgICAgICB3cmFwcGVkUmVxdWVzdC5lbmQoKTsKCSAgICAgIHJldHVybiB3cmFwcGVkUmVxdWVzdDsKCSAgICB9CgoJICAgIC8vIEV4cG9zZSB0aGUgcHJvcGVydGllcyBvbiB0aGUgd3JhcHBlZCBwcm90b2NvbAoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHdyYXBwZWRQcm90b2NvbCwgewoJICAgICAgcmVxdWVzdDogeyB2YWx1ZTogcmVxdWVzdCwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9LAoJICAgICAgZ2V0OiB7IHZhbHVlOiBnZXQsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwKCSAgICB9KTsKCSAgfSk7CgkgIHJldHVybiBleHBvcnRzOwoJfQoKCS8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCglmdW5jdGlvbiBub29wKCkgeyAvKiBlbXB0eSAqLyB9CgoJLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvYmxvYi9tYXN0ZXIvbGliL2ludGVybmFsL3VybC5qcwoJZnVuY3Rpb24gdXJsVG9PcHRpb25zKHVybE9iamVjdCkgewoJICB2YXIgb3B0aW9ucyA9IHsKCSAgICBwcm90b2NvbDogdXJsT2JqZWN0LnByb3RvY29sLAoJICAgIGhvc3RuYW1lOiB1cmxPYmplY3QuaG9zdG5hbWUuc3RhcnRzV2l0aCgiWyIpID8KCSAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCgkgICAgICB1cmxPYmplY3QuaG9zdG5hbWUuc2xpY2UoMSwgLTEpIDoKCSAgICAgIHVybE9iamVjdC5ob3N0bmFtZSwKCSAgICBoYXNoOiB1cmxPYmplY3QuaGFzaCwKCSAgICBzZWFyY2g6IHVybE9iamVjdC5zZWFyY2gsCgkgICAgcGF0aG5hbWU6IHVybE9iamVjdC5wYXRobmFtZSwKCSAgICBwYXRoOiB1cmxPYmplY3QucGF0aG5hbWUgKyB1cmxPYmplY3Quc2VhcmNoLAoJICAgIGhyZWY6IHVybE9iamVjdC5ocmVmLAoJICB9OwoJICBpZiAodXJsT2JqZWN0LnBvcnQgIT09ICIiKSB7CgkgICAgb3B0aW9ucy5wb3J0ID0gTnVtYmVyKHVybE9iamVjdC5wb3J0KTsKCSAgfQoJICByZXR1cm4gb3B0aW9uczsKCX0KCglmdW5jdGlvbiByZW1vdmVNYXRjaGluZ0hlYWRlcnMocmVnZXgsIGhlYWRlcnMpIHsKCSAgdmFyIGxhc3RWYWx1ZTsKCSAgZm9yICh2YXIgaGVhZGVyIGluIGhlYWRlcnMpIHsKCSAgICBpZiAocmVnZXgudGVzdChoZWFkZXIpKSB7CgkgICAgICBsYXN0VmFsdWUgPSBoZWFkZXJzW2hlYWRlcl07CgkgICAgICBkZWxldGUgaGVhZGVyc1toZWFkZXJdOwoJICAgIH0KCSAgfQoJICByZXR1cm4gKGxhc3RWYWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgbGFzdFZhbHVlID09PSAidW5kZWZpbmVkIikgPwoJICAgIHVuZGVmaW5lZCA6IFN0cmluZyhsYXN0VmFsdWUpLnRyaW0oKTsKCX0KCglmdW5jdGlvbiBjcmVhdGVFcnJvclR5cGUoY29kZSwgZGVmYXVsdE1lc3NhZ2UpIHsKCSAgZnVuY3Rpb24gQ3VzdG9tRXJyb3IoY2F1c2UpIHsKCSAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTsKCSAgICBpZiAoIWNhdXNlKSB7CgkgICAgICB0aGlzLm1lc3NhZ2UgPSBkZWZhdWx0TWVzc2FnZTsKCSAgICB9CgkgICAgZWxzZSB7CgkgICAgICB0aGlzLm1lc3NhZ2UgPSBkZWZhdWx0TWVzc2FnZSArICI6ICIgKyBjYXVzZS5tZXNzYWdlOwoJICAgICAgdGhpcy5jYXVzZSA9IGNhdXNlOwoJICAgIH0KCSAgfQoJICBDdXN0b21FcnJvci5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTsKCSAgQ3VzdG9tRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3VzdG9tRXJyb3I7CgkgIEN1c3RvbUVycm9yLnByb3RvdHlwZS5uYW1lID0gIkVycm9yIFsiICsgY29kZSArICJdIjsKCSAgQ3VzdG9tRXJyb3IucHJvdG90eXBlLmNvZGUgPSBjb2RlOwoJICByZXR1cm4gQ3VzdG9tRXJyb3I7Cgl9CgoJZnVuY3Rpb24gYWJvcnRSZXF1ZXN0KHJlcXVlc3QpIHsKCSAgZm9yICh2YXIgZSA9IDA7IGUgPCBldmVudHMubGVuZ3RoOyBlKyspIHsKCSAgICByZXF1ZXN0LnJlbW92ZUxpc3RlbmVyKGV2ZW50c1tlXSwgZXZlbnRIYW5kbGVyc1tldmVudHNbZV1dKTsKCSAgfQoJICByZXF1ZXN0Lm9uKCJlcnJvciIsIG5vb3ApOwoJICByZXF1ZXN0LmFib3J0KCk7Cgl9CgoJZnVuY3Rpb24gaXNTdWJkb21haW4oc3ViZG9tYWluLCBkb21haW4pIHsKCSAgY29uc3QgZG90ID0gc3ViZG9tYWluLmxlbmd0aCAtIGRvbWFpbi5sZW5ndGggLSAxOwoJICByZXR1cm4gZG90ID4gMCAmJiBzdWJkb21haW5bZG90XSA9PT0gIi4iICYmIHN1YmRvbWFpbi5lbmRzV2l0aChkb21haW4pOwoJfQoKCS8vIEV4cG9ydHMKCWZvbGxvd1JlZGlyZWN0cy5leHBvcnRzID0gd3JhcCh7IGh0dHA6IGh0dHAsIGh0dHBzOiBodHRwcyQxIH0pOwoJZm9sbG93UmVkaXJlY3RzLmV4cG9ydHMud3JhcCA9IHdyYXA7CgoJdmFyIFNUUkVBTSA9IFN0cmVhbSwKCSAgICBVVElMID0gcmVxdWlyZSQkMSQxLAoJICAgIFN0cmluZ0RlY29kZXIgPSBzdHJpbmdfZGVjb2Rlci5TdHJpbmdEZWNvZGVyOwoKCWZ1bmN0aW9uIE1lbW9yeVJlYWRhYmxlU3RyZWFtKGRhdGEsIG9wdGlvbnMpIHsKCSAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTWVtb3J5UmVhZGFibGVTdHJlYW0pKQoJICAgICAgICByZXR1cm4gbmV3IE1lbW9yeVJlYWRhYmxlU3RyZWFtKGRhdGEsIG9wdGlvbnMpOwoJICAgIE1lbW9yeVJlYWRhYmxlU3RyZWFtLnN1cGVyXy5jYWxsKHRoaXMsIG9wdGlvbnMpOwoJICAgIHRoaXMuaW5pdChkYXRhLCBvcHRpb25zKTsKCX0KCVVUSUwuaW5oZXJpdHMoTWVtb3J5UmVhZGFibGVTdHJlYW0sIFNUUkVBTS5SZWFkYWJsZSk7CgoKCWZ1bmN0aW9uIE1lbW9yeVdyaXRhYmxlU3RyZWFtKGRhdGEsIG9wdGlvbnMpIHsKCSAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTWVtb3J5V3JpdGFibGVTdHJlYW0pKQoJICAgICAgICByZXR1cm4gbmV3IE1lbW9yeVdyaXRhYmxlU3RyZWFtKGRhdGEsIG9wdGlvbnMpOwoJICAgIE1lbW9yeVdyaXRhYmxlU3RyZWFtLnN1cGVyXy5jYWxsKHRoaXMsIG9wdGlvbnMpOwoJICAgIHRoaXMuaW5pdChkYXRhLCBvcHRpb25zKTsKCX0KCVVUSUwuaW5oZXJpdHMoTWVtb3J5V3JpdGFibGVTdHJlYW0sIFNUUkVBTS5Xcml0YWJsZSk7CgoKCWZ1bmN0aW9uIE1lbW9yeUR1cGxleFN0cmVhbShkYXRhLCBvcHRpb25zKSB7CgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1lbW9yeUR1cGxleFN0cmVhbSkpCgkgICAgICAgIHJldHVybiBuZXcgTWVtb3J5RHVwbGV4U3RyZWFtKGRhdGEsIG9wdGlvbnMpOwoJICAgIE1lbW9yeUR1cGxleFN0cmVhbS5zdXBlcl8uY2FsbCh0aGlzLCBvcHRpb25zKTsKCSAgICB0aGlzLmluaXQoZGF0YSwgb3B0aW9ucyk7Cgl9CglVVElMLmluaGVyaXRzKE1lbW9yeUR1cGxleFN0cmVhbSwgU1RSRUFNLkR1cGxleCk7CgoKCU1lbW9yeVJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS5pbml0ID0KCU1lbW9yeVdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZS5pbml0ID0KCU1lbW9yeUR1cGxleFN0cmVhbS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIGluaXQgKGRhdGEsIG9wdGlvbnMpIHsKCSAgICB2YXIgc2VsZiA9IHRoaXM7CgkgICAgdGhpcy5xdWV1ZSA9IFtdOwoKCSAgICBpZiAoZGF0YSkgewoJICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHsKCSAgICAgICAgICAgIGRhdGEgPSBbIGRhdGEgXTsKCSAgICAgICAgfQoKCSAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChjaHVuaykgewoJICAgICAgICAgICAgaWYgKCEoY2h1bmsgaW5zdGFuY2VvZiBidWZmZXIuQnVmZmVyKSkgewoJICAgICAgICAgICAgICAgIGNodW5rID0gbmV3IGJ1ZmZlci5CdWZmZXIoY2h1bmspOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgc2VsZi5xdWV1ZS5wdXNoKGNodW5rKTsKCSAgICAgICAgfSk7CgoJICAgIH0KCSAgICAKCSAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCSAgICAKCSAgICB0aGlzLm1heGJ1ZnNpemUgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCdtYXhidWZzaXplJykgPyBvcHRpb25zLm1heGJ1ZnNpemUKCSAgICAgICAgICAgIDogbnVsbDsKCSAgICB0aGlzLmJ1Zm92ZXJmbG93ID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnYnVmb3ZlcmZsb3cnKSA/IG9wdGlvbnMuYnVmb3ZlcmZsb3cKCSAgICAgICAgICAgIDogbnVsbDsKCSAgICB0aGlzLmZyZXF1ZW5jZSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2ZyZXF1ZW5jZScpID8gb3B0aW9ucy5mcmVxdWVuY2UKCSAgICAgICAgICAgIDogbnVsbDsKCX07CgoJZnVuY3Rpb24gTWVtb3J5U3RyZWFtJDEgKGRhdGEsIG9wdGlvbnMpIHsKCSAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTWVtb3J5U3RyZWFtJDEpKQoJICAgICAgICByZXR1cm4gbmV3IE1lbW9yeVN0cmVhbSQxKGRhdGEsIG9wdGlvbnMpOwoJICAgIAoJICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwoJICAgIAoJICAgIHZhciByZWFkYWJsZSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3JlYWRhYmxlJykgPyBvcHRpb25zLnJlYWRhYmxlIDogdHJ1ZSwKCSAgICAgICAgd3JpdGFibGUgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCd3cml0YWJsZScpID8gb3B0aW9ucy53cml0YWJsZSA6IHRydWU7CgkgICAgCgkgICAgaWYgKHJlYWRhYmxlICYmIHdyaXRhYmxlKSB7CgkgICAgICAgIHJldHVybiBuZXcgTWVtb3J5RHVwbGV4U3RyZWFtKGRhdGEsIG9wdGlvbnMpOwoJICAgIH0gZWxzZSBpZiAocmVhZGFibGUpIHsKCSAgICAgICAgcmV0dXJuIG5ldyBNZW1vcnlSZWFkYWJsZVN0cmVhbShkYXRhLCBvcHRpb25zKTsKCSAgICB9IGVsc2UgaWYgKHdyaXRhYmxlKSB7CgkgICAgICAgIHJldHVybiBuZXcgTWVtb3J5V3JpdGFibGVTdHJlYW0oZGF0YSwgb3B0aW9ucyk7CgkgICAgfSBlbHNlIHsKCSAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHN0cmVhbSB0eXBlICBSZWFkYWJsZSwgV3JpdGFibGUgb3IgRHVwbGV4ICIpOwoJICAgIH0KCX0KCgoJTWVtb3J5U3RyZWFtJDEuY3JlYXRlUmVhZFN0cmVhbSA9IGZ1bmN0aW9uIChkYXRhLCBvcHRpb25zKSB7CgkgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CgkgICAgb3B0aW9ucy5yZWFkYWJsZSA9IHRydWU7CgkgICAgb3B0aW9ucy53cml0YWJsZSA9IGZhbHNlOwoKCSAgICByZXR1cm4gbmV3IE1lbW9yeVN0cmVhbSQxKGRhdGEsIG9wdGlvbnMpOwoJfTsKCgoJTWVtb3J5U3RyZWFtJDEuY3JlYXRlV3JpdGVTdHJlYW0gPSBmdW5jdGlvbiAoZGF0YSwgb3B0aW9ucykgewoJICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwoJICAgIG9wdGlvbnMucmVhZGFibGUgPSBmYWxzZTsKCSAgICBvcHRpb25zLndyaXRhYmxlID0gdHJ1ZTsKCgkgICAgcmV0dXJuIG5ldyBNZW1vcnlTdHJlYW0kMShkYXRhLCBvcHRpb25zKTsKCX07CgoKCU1lbW9yeVJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS5fcmVhZCA9CglNZW1vcnlEdXBsZXhTdHJlYW0ucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24gX3JlYWQgKG4pIHsKCSAgICB2YXIgc2VsZiA9IHRoaXMsCgkgICAgICAgIGZyZXF1ZW5jZSA9IHNlbGYuZnJlcXVlbmNlIHx8IDAsCgkgICAgICAgIHdhaXRfZGF0YSA9IHRoaXMgaW5zdGFuY2VvZiBTVFJFQU0uRHVwbGV4ICYmICEgdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCA/IHRydWUgOiBmYWxzZTsKCSAgICBpZiAoICEgdGhpcy5xdWV1ZS5sZW5ndGggJiYgISB3YWl0X2RhdGEpIHsKCSAgICAgICAgdGhpcy5wdXNoKG51bGwpOy8vIGZpbmlzaCBzdHJlYW0KCSAgICB9IGVsc2UgaWYgKHRoaXMucXVldWUubGVuZ3RoKSB7CgkgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKHNlbGYucXVldWUubGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgdmFyIGNodW5rID0gc2VsZi5xdWV1ZS5zaGlmdCgpOwoJICAgICAgICAgICAgICAgIGlmIChjaHVuayAmJiAhIHNlbGYuX3JlYWRhYmxlU3RhdGUuZW5kZWQpIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCAhIHNlbGYucHVzaChjaHVuaykgKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnF1ZXVlLnVuc2hpZnQoY2h1bmspOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9LCBmcmVxdWVuY2UpOwoJICAgIH0KCX07CgoKCU1lbW9yeVdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZS5fd3JpdGUgPQoJTWVtb3J5RHVwbGV4U3RyZWFtLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiBfd3JpdGUgKGNodW5rLCBlbmNvZGluZywgY2IpIHsKCSAgICB2YXIgZGVjb2RlciA9IG51bGw7CgkgICAgdHJ5IHsKCSAgICAgICAgZGVjb2RlciA9IHRoaXMuZGVjb2RlU3RyaW5ncyAmJiBlbmNvZGluZyA/IG5ldyBTdHJpbmdEZWNvZGVyKGVuY29kaW5nKSA6IG51bGw7CgkgICAgfSBjYXRjaCAoZXJyKXsKCSAgICAgICAgcmV0dXJuIGNiKGVycik7CgkgICAgfQoJICAgIAoJICAgIHZhciBkZWNvZGVkX2NodW5rID0gZGVjb2RlciA/IGRlY29kZXIud3JpdGUoY2h1bmspIDogY2h1bmssCgkgICAgICAgIHF1ZXVlX3NpemUgPSB0aGlzLl9nZXRRdWV1ZVNpemUoKSwKCSAgICAgICAgY2h1bmtfc2l6ZSA9IGRlY29kZWRfY2h1bmsubGVuZ3RoOwoJICAgIAoJICAgIGlmICh0aGlzLm1heGJ1ZnNpemUgJiYgKHF1ZXVlX3NpemUgKyBjaHVua19zaXplKSA+IHRoaXMubWF4YnVmc2l6ZSApIHsKCSAgICAgICAgaWYgKHRoaXMuYnVmb3ZlcmZsb3cpIHsKCSAgICAgICAgICAgIHJldHVybiBjYigiQnVmZmVyIG92ZXJmbG93ZWQgKCIgKyB0aGlzLmJ1Zm92ZXJmbG93ICsgIi8iICsgcXVldWVfc2l6ZSArICIpIik7CgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgICByZXR1cm4gY2IoKTsKCSAgICAgICAgfQoJICAgIH0KCSAgICAKCSAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFNUUkVBTS5EdXBsZXgpIHsKCSAgICAgICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoKSB7CgkgICAgICAgICAgICB0aGlzLnB1c2godGhpcy5xdWV1ZS5zaGlmdCgpKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnB1c2goZGVjb2RlZF9jaHVuayk7CgkgICAgfSBlbHNlIHsKCSAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKGRlY29kZWRfY2h1bmspOwoJICAgIH0KCSAgICBjYigpOwoJfTsKCgoJTWVtb3J5RHVwbGV4U3RyZWFtLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikgewoJICAgIHZhciBzZWxmID0gdGhpczsKCSAgICByZXR1cm4gTWVtb3J5RHVwbGV4U3RyZWFtLnN1cGVyXy5wcm90b3R5cGUuZW5kLmNhbGwodGhpcywgY2h1bmssIGVuY29kaW5nLCBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHNlbGYucHVzaChudWxsKTsvL2ZpbmlzaCByZWFkYmxlIHN0cmVhbSB0b28KCSAgICAgICAgaWYgKGNiKSBjYigpOwoJICAgIH0pOwoJfTsKCgoJTWVtb3J5UmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLl9nZXRRdWV1ZVNpemUgPSAgCglNZW1vcnlXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUuX2dldFF1ZXVlU2l6ZSA9IAoJTWVtb3J5RHVwbGV4U3RyZWFtLnByb3RvdHlwZS5fZ2V0UXVldWVTaXplID0gZnVuY3Rpb24gKCkgewoJICAgIHZhciBxdWV1ZXNpemUgPSAwLCBpOwoJICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnF1ZXVlLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgIHF1ZXVlc2l6ZSArPSBBcnJheS5pc0FycmF5KHRoaXMucXVldWVbaV0pID8gdGhpcy5xdWV1ZVtpXVswXS5sZW5ndGgKCSAgICAgICAgICAgICAgICA6IHRoaXMucXVldWVbaV0ubGVuZ3RoOwoJICAgIH0KCSAgICByZXR1cm4gcXVldWVzaXplOwoJfTsKCgoJTWVtb3J5V3JpdGFibGVTdHJlYW0ucHJvdG90eXBlLnRvU3RyaW5nID0gCglNZW1vcnlEdXBsZXhTdHJlYW0ucHJvdG90eXBlLnRvU3RyaW5nID0gCglNZW1vcnlSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUudG9TdHJpbmcgPSAKCU1lbW9yeVdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZS5nZXRBbGwgPSAKCU1lbW9yeUR1cGxleFN0cmVhbS5wcm90b3R5cGUuZ2V0QWxsID0gCglNZW1vcnlSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24gKCkgewoJICAgIHZhciByZXQgPSAnJzsKCSAgICB0aGlzLnF1ZXVlLmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHsKCSAgICAgICAgcmV0ICs9IGRhdGE7CgkgICAgfSk7CgkgICAgcmV0dXJuIHJldDsKCX07CgoKCU1lbW9yeVdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZS50b0J1ZmZlciA9IAoJTWVtb3J5RHVwbGV4U3RyZWFtLnByb3RvdHlwZS50b0J1ZmZlciA9IAoJTWVtb3J5UmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLnRvQnVmZmVyID0gZnVuY3Rpb24gKCkgewoJICAgIHZhciBidWZmZXIkMSA9IG5ldyBidWZmZXIuQnVmZmVyKHRoaXMuX2dldFF1ZXVlU2l6ZSgpKSwKCSAgICAgICAgY3VycmVudE9mZnNldCA9IDA7CgoJICAgIHRoaXMucXVldWUuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkgewoJICAgICAgICB2YXIgZGF0YV9idWZmZXIgPSBkYXRhIGluc3RhbmNlb2YgYnVmZmVyLkJ1ZmZlciA/IGRhdGEgOiBuZXcgYnVmZmVyLkJ1ZmZlcihkYXRhKTsKCSAgICAgICAgZGF0YV9idWZmZXIuY29weShidWZmZXIkMSwgY3VycmVudE9mZnNldCk7CgkgICAgICAgIGN1cnJlbnRPZmZzZXQgKz0gZGF0YS5sZW5ndGg7CgkgICAgfSk7CgkgICAgcmV0dXJuIGJ1ZmZlciQxOwoJfTsKCgoJdmFyIG1lbW9yeXN0cmVhbSA9IE1lbW9yeVN0cmVhbSQxOwoKCXZhciBzZW12ZXIkMSA9IHtleHBvcnRzOiB7fX07CgoJKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKCWV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IFNlbVZlcjsKCgl2YXIgZGVidWc7CgkvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwoJaWYgKHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJgoJICAgIHByb2Nlc3MuZW52ICYmCgkgICAgcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyAmJgoJICAgIC9cYnNlbXZlclxiL2kudGVzdChwcm9jZXNzLmVudi5OT0RFX0RFQlVHKSkgewoJICBkZWJ1ZyA9IGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7CgkgICAgYXJncy51bnNoaWZ0KCdTRU1WRVInKTsKCSAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmdzKTsKCSAgfTsKCX0gZWxzZSB7CgkgIGRlYnVnID0gZnVuY3Rpb24gKCkge307Cgl9CgoJLy8gTm90ZTogdGhpcyBpcyB0aGUgc2VtdmVyLm9yZyB2ZXJzaW9uIG9mIHRoZSBzcGVjIHRoYXQgaXQgaW1wbGVtZW50cwoJLy8gTm90IG5lY2Vzc2FyaWx5IHRoZSBwYWNrYWdlIHZlcnNpb24gb2YgdGhpcyBjb2RlLgoJZXhwb3J0cy5TRU1WRVJfU1BFQ19WRVJTSU9OID0gJzIuMC4wJzsKCgl2YXIgTUFYX0xFTkdUSCA9IDI1NjsKCXZhciBNQVhfU0FGRV9JTlRFR0VSID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgfHwKCSAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gOTAwNzE5OTI1NDc0MDk5MTsKCgkvLyBNYXggc2FmZSBzZWdtZW50IGxlbmd0aCBmb3IgY29lcmNpb24uCgl2YXIgTUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSCA9IDE2OwoKCS8vIFRoZSBhY3R1YWwgcmVnZXhwcyBnbyBvbiBleHBvcnRzLnJlCgl2YXIgcmUgPSBleHBvcnRzLnJlID0gW107Cgl2YXIgc3JjID0gZXhwb3J0cy5zcmMgPSBbXTsKCXZhciBSID0gMDsKCgkvLyBUaGUgZm9sbG93aW5nIFJlZ3VsYXIgRXhwcmVzc2lvbnMgY2FuIGJlIHVzZWQgZm9yIHRva2VuaXppbmcsCgkvLyB2YWxpZGF0aW5nLCBhbmQgcGFyc2luZyBTZW1WZXIgdmVyc2lvbiBzdHJpbmdzLgoKCS8vICMjIE51bWVyaWMgSWRlbnRpZmllcgoJLy8gQSBzaW5nbGUgYDBgLCBvciBhIG5vbi16ZXJvIGRpZ2l0IGZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBkaWdpdHMuCgoJdmFyIE5VTUVSSUNJREVOVElGSUVSID0gUisrOwoJc3JjW05VTUVSSUNJREVOVElGSUVSXSA9ICcwfFsxLTldXFxkKic7Cgl2YXIgTlVNRVJJQ0lERU5USUZJRVJMT09TRSA9IFIrKzsKCXNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSA9ICdbMC05XSsnOwoKCS8vICMjIE5vbi1udW1lcmljIElkZW50aWZpZXIKCS8vIFplcm8gb3IgbW9yZSBkaWdpdHMsIGZvbGxvd2VkIGJ5IGEgbGV0dGVyIG9yIGh5cGhlbiwgYW5kIHRoZW4gemVybyBvcgoJLy8gbW9yZSBsZXR0ZXJzLCBkaWdpdHMsIG9yIGh5cGhlbnMuCgoJdmFyIE5PTk5VTUVSSUNJREVOVElGSUVSID0gUisrOwoJc3JjW05PTk5VTUVSSUNJREVOVElGSUVSXSA9ICdcXGQqW2EtekEtWi1dW2EtekEtWjAtOS1dKic7CgoJLy8gIyMgTWFpbiBWZXJzaW9uCgkvLyBUaHJlZSBkb3Qtc2VwYXJhdGVkIG51bWVyaWMgaWRlbnRpZmllcnMuCgoJdmFyIE1BSU5WRVJTSU9OID0gUisrOwoJc3JjW01BSU5WRVJTSU9OXSA9ICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUl0gKyAnKVxcLicgKwoJICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUl0gKyAnKVxcLicgKwoJICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUl0gKyAnKSc7CgoJdmFyIE1BSU5WRVJTSU9OTE9PU0UgPSBSKys7CglzcmNbTUFJTlZFUlNJT05MT09TRV0gPSAnKCcgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJMT09TRV0gKyAnKVxcLicgKwoJICAgICAgICAgICAgICAgICAgICAgICAgJygnICsgc3JjW05VTUVSSUNJREVOVElGSUVSTE9PU0VdICsgJylcXC4nICsKCSAgICAgICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArICcpJzsKCgkvLyAjIyBQcmUtcmVsZWFzZSBWZXJzaW9uIElkZW50aWZpZXIKCS8vIEEgbnVtZXJpYyBpZGVudGlmaWVyLCBvciBhIG5vbi1udW1lcmljIGlkZW50aWZpZXIuCgoJdmFyIFBSRVJFTEVBU0VJREVOVElGSUVSID0gUisrOwoJc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSXSA9ICcoPzonICsgc3JjW05VTUVSSUNJREVOVElGSUVSXSArCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3wnICsgc3JjW05PTk5VTUVSSUNJREVOVElGSUVSXSArICcpJzsKCgl2YXIgUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRSA9IFIrKzsKCXNyY1tQUkVSRUxFQVNFSURFTlRJRklFUkxPT1NFXSA9ICcoPzonICsgc3JjW05VTUVSSUNJREVOVElGSUVSTE9PU0VdICsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd8JyArIHNyY1tOT05OVU1FUklDSURFTlRJRklFUl0gKyAnKSc7CgoJLy8gIyMgUHJlLXJlbGVhc2UgVmVyc2lvbgoJLy8gSHlwaGVuLCBmb2xsb3dlZCBieSBvbmUgb3IgbW9yZSBkb3Qtc2VwYXJhdGVkIHByZS1yZWxlYXNlIHZlcnNpb24KCS8vIGlkZW50aWZpZXJzLgoKCXZhciBQUkVSRUxFQVNFID0gUisrOwoJc3JjW1BSRVJFTEVBU0VdID0gJyg/Oi0oJyArIHNyY1tQUkVSRUxFQVNFSURFTlRJRklFUl0gKwoJICAgICAgICAgICAgICAgICAgJyg/OlxcLicgKyBzcmNbUFJFUkVMRUFTRUlERU5USUZJRVJdICsgJykqKSknOwoKCXZhciBQUkVSRUxFQVNFTE9PU0UgPSBSKys7CglzcmNbUFJFUkVMRUFTRUxPT1NFXSA9ICcoPzotPygnICsgc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSTE9PU0VdICsKCSAgICAgICAgICAgICAgICAgICAgICAgJyg/OlxcLicgKyBzcmNbUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRV0gKyAnKSopKSc7CgoJLy8gIyMgQnVpbGQgTWV0YWRhdGEgSWRlbnRpZmllcgoJLy8gQW55IGNvbWJpbmF0aW9uIG9mIGRpZ2l0cywgbGV0dGVycywgb3IgaHlwaGVucy4KCgl2YXIgQlVJTERJREVOVElGSUVSID0gUisrOwoJc3JjW0JVSUxESURFTlRJRklFUl0gPSAnWzAtOUEtWmEtei1dKyc7CgoJLy8gIyMgQnVpbGQgTWV0YWRhdGEKCS8vIFBsdXMgc2lnbiwgZm9sbG93ZWQgYnkgb25lIG9yIG1vcmUgcGVyaW9kLXNlcGFyYXRlZCBidWlsZCBtZXRhZGF0YQoJLy8gaWRlbnRpZmllcnMuCgoJdmFyIEJVSUxEID0gUisrOwoJc3JjW0JVSUxEXSA9ICcoPzpcXCsoJyArIHNyY1tCVUlMRElERU5USUZJRVJdICsKCSAgICAgICAgICAgICAnKD86XFwuJyArIHNyY1tCVUlMRElERU5USUZJRVJdICsgJykqKSknOwoKCS8vICMjIEZ1bGwgVmVyc2lvbiBTdHJpbmcKCS8vIEEgbWFpbiB2ZXJzaW9uLCBmb2xsb3dlZCBvcHRpb25hbGx5IGJ5IGEgcHJlLXJlbGVhc2UgdmVyc2lvbiBhbmQKCS8vIGJ1aWxkIG1ldGFkYXRhLgoKCS8vIE5vdGUgdGhhdCB0aGUgb25seSBtYWpvciwgbWlub3IsIHBhdGNoLCBhbmQgcHJlLXJlbGVhc2Ugc2VjdGlvbnMgb2YKCS8vIHRoZSB2ZXJzaW9uIHN0cmluZyBhcmUgY2FwdHVyaW5nIGdyb3Vwcy4gIFRoZSBidWlsZCBtZXRhZGF0YSBpcyBub3QgYQoJLy8gY2FwdHVyaW5nIGdyb3VwLCBiZWNhdXNlIGl0IHNob3VsZCBub3QgZXZlciBiZSB1c2VkIGluIHZlcnNpb24KCS8vIGNvbXBhcmlzb24uCgoJdmFyIEZVTEwgPSBSKys7Cgl2YXIgRlVMTFBMQUlOID0gJ3Y/JyArIHNyY1tNQUlOVkVSU0lPTl0gKwoJICAgICAgICAgICAgICAgIHNyY1tQUkVSRUxFQVNFXSArICc/JyArCgkgICAgICAgICAgICAgICAgc3JjW0JVSUxEXSArICc/JzsKCglzcmNbRlVMTF0gPSAnXicgKyBGVUxMUExBSU4gKyAnJCc7CgoJLy8gbGlrZSBmdWxsLCBidXQgYWxsb3dzIHYxLjIuMyBhbmQgPTEuMi4zLCB3aGljaCBwZW9wbGUgZG8gc29tZXRpbWVzLgoJLy8gYWxzbywgMS4wLjBhbHBoYTEgKHByZXJlbGVhc2Ugd2l0aG91dCB0aGUgaHlwaGVuKSB3aGljaCBpcyBwcmV0dHkKCS8vIGNvbW1vbiBpbiB0aGUgbnBtIHJlZ2lzdHJ5LgoJdmFyIExPT1NFUExBSU4gPSAnW3Y9XFxzXSonICsgc3JjW01BSU5WRVJTSU9OTE9PU0VdICsKCSAgICAgICAgICAgICAgICAgc3JjW1BSRVJFTEVBU0VMT09TRV0gKyAnPycgKwoJICAgICAgICAgICAgICAgICBzcmNbQlVJTERdICsgJz8nOwoKCXZhciBMT09TRSA9IFIrKzsKCXNyY1tMT09TRV0gPSAnXicgKyBMT09TRVBMQUlOICsgJyQnOwoKCXZhciBHVExUID0gUisrOwoJc3JjW0dUTFRdID0gJygoPzo8fD4pPz0/KSc7CgoJLy8gU29tZXRoaW5nIGxpa2UgIjIuKiIgb3IgIjEuMi54Ii4KCS8vIE5vdGUgdGhhdCAieC54IiBpcyBhIHZhbGlkIHhSYW5nZSBpZGVudGlmZXIsIG1lYW5pbmcgImFueSB2ZXJzaW9uIgoJLy8gT25seSB0aGUgZmlyc3QgaXRlbSBpcyBzdHJpY3RseSByZXF1aXJlZC4KCXZhciBYUkFOR0VJREVOVElGSUVSTE9PU0UgPSBSKys7CglzcmNbWFJBTkdFSURFTlRJRklFUkxPT1NFXSA9IHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArICd8eHxYfFxcKic7Cgl2YXIgWFJBTkdFSURFTlRJRklFUiA9IFIrKzsKCXNyY1tYUkFOR0VJREVOVElGSUVSXSA9IHNyY1tOVU1FUklDSURFTlRJRklFUl0gKyAnfHh8WHxcXConOwoKCXZhciBYUkFOR0VQTEFJTiA9IFIrKzsKCXNyY1tYUkFOR0VQTEFJTl0gPSAnW3Y9XFxzXSooJyArIHNyY1tYUkFOR0VJREVOVElGSUVSXSArICcpJyArCgkgICAgICAgICAgICAgICAgICAgJyg/OlxcLignICsgc3JjW1hSQU5HRUlERU5USUZJRVJdICsgJyknICsKCSAgICAgICAgICAgICAgICAgICAnKD86XFwuKCcgKyBzcmNbWFJBTkdFSURFTlRJRklFUl0gKyAnKScgKwoJICAgICAgICAgICAgICAgICAgICcoPzonICsgc3JjW1BSRVJFTEVBU0VdICsgJyk/JyArCgkgICAgICAgICAgICAgICAgICAgc3JjW0JVSUxEXSArICc/JyArCgkgICAgICAgICAgICAgICAgICAgJyk/KT8nOwoKCXZhciBYUkFOR0VQTEFJTkxPT1NFID0gUisrOwoJc3JjW1hSQU5HRVBMQUlOTE9PU0VdID0gJ1t2PVxcc10qKCcgKyBzcmNbWFJBTkdFSURFTlRJRklFUkxPT1NFXSArICcpJyArCgkgICAgICAgICAgICAgICAgICAgICAgICAnKD86XFwuKCcgKyBzcmNbWFJBTkdFSURFTlRJRklFUkxPT1NFXSArICcpJyArCgkgICAgICAgICAgICAgICAgICAgICAgICAnKD86XFwuKCcgKyBzcmNbWFJBTkdFSURFTlRJRklFUkxPT1NFXSArICcpJyArCgkgICAgICAgICAgICAgICAgICAgICAgICAnKD86JyArIHNyY1tQUkVSRUxFQVNFTE9PU0VdICsgJyk/JyArCgkgICAgICAgICAgICAgICAgICAgICAgICBzcmNbQlVJTERdICsgJz8nICsKCSAgICAgICAgICAgICAgICAgICAgICAgICcpPyk/JzsKCgl2YXIgWFJBTkdFID0gUisrOwoJc3JjW1hSQU5HRV0gPSAnXicgKyBzcmNbR1RMVF0gKyAnXFxzKicgKyBzcmNbWFJBTkdFUExBSU5dICsgJyQnOwoJdmFyIFhSQU5HRUxPT1NFID0gUisrOwoJc3JjW1hSQU5HRUxPT1NFXSA9ICdeJyArIHNyY1tHVExUXSArICdcXHMqJyArIHNyY1tYUkFOR0VQTEFJTkxPT1NFXSArICckJzsKCgkvLyBDb2VyY2lvbi4KCS8vIEV4dHJhY3QgYW55dGhpbmcgdGhhdCBjb3VsZCBjb25jZWl2YWJseSBiZSBhIHBhcnQgb2YgYSB2YWxpZCBzZW12ZXIKCXZhciBDT0VSQ0UgPSBSKys7CglzcmNbQ09FUkNFXSA9ICcoPzpefFteXFxkXSknICsKCSAgICAgICAgICAgICAgJyhcXGR7MSwnICsgTUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSCArICd9KScgKwoJICAgICAgICAgICAgICAnKD86XFwuKFxcZHsxLCcgKyBNQVhfU0FGRV9DT01QT05FTlRfTEVOR1RIICsgJ30pKT8nICsKCSAgICAgICAgICAgICAgJyg/OlxcLihcXGR7MSwnICsgTUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSCArICd9KSk/JyArCgkgICAgICAgICAgICAgICcoPzokfFteXFxkXSknOwoKCS8vIFRpbGRlIHJhbmdlcy4KCS8vIE1lYW5pbmcgaXMgInJlYXNvbmFibHkgYXQgb3IgZ3JlYXRlciB0aGFuIgoJdmFyIExPTkVUSUxERSA9IFIrKzsKCXNyY1tMT05FVElMREVdID0gJyg/On4+PyknOwoKCXZhciBUSUxERVRSSU0gPSBSKys7CglzcmNbVElMREVUUklNXSA9ICcoXFxzKiknICsgc3JjW0xPTkVUSUxERV0gKyAnXFxzKyc7CglyZVtUSUxERVRSSU1dID0gbmV3IFJlZ0V4cChzcmNbVElMREVUUklNXSwgJ2cnKTsKCXZhciB0aWxkZVRyaW1SZXBsYWNlID0gJyQxfic7CgoJdmFyIFRJTERFID0gUisrOwoJc3JjW1RJTERFXSA9ICdeJyArIHNyY1tMT05FVElMREVdICsgc3JjW1hSQU5HRVBMQUlOXSArICckJzsKCXZhciBUSUxERUxPT1NFID0gUisrOwoJc3JjW1RJTERFTE9PU0VdID0gJ14nICsgc3JjW0xPTkVUSUxERV0gKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnJCc7CgoJLy8gQ2FyZXQgcmFuZ2VzLgoJLy8gTWVhbmluZyBpcyAiYXQgbGVhc3QgYW5kIGJhY2t3YXJkcyBjb21wYXRpYmxlIHdpdGgiCgl2YXIgTE9ORUNBUkVUID0gUisrOwoJc3JjW0xPTkVDQVJFVF0gPSAnKD86XFxeKSc7CgoJdmFyIENBUkVUVFJJTSA9IFIrKzsKCXNyY1tDQVJFVFRSSU1dID0gJyhcXHMqKScgKyBzcmNbTE9ORUNBUkVUXSArICdcXHMrJzsKCXJlW0NBUkVUVFJJTV0gPSBuZXcgUmVnRXhwKHNyY1tDQVJFVFRSSU1dLCAnZycpOwoJdmFyIGNhcmV0VHJpbVJlcGxhY2UgPSAnJDFeJzsKCgl2YXIgQ0FSRVQgPSBSKys7CglzcmNbQ0FSRVRdID0gJ14nICsgc3JjW0xPTkVDQVJFVF0gKyBzcmNbWFJBTkdFUExBSU5dICsgJyQnOwoJdmFyIENBUkVUTE9PU0UgPSBSKys7CglzcmNbQ0FSRVRMT09TRV0gPSAnXicgKyBzcmNbTE9ORUNBUkVUXSArIHNyY1tYUkFOR0VQTEFJTkxPT1NFXSArICckJzsKCgkvLyBBIHNpbXBsZSBndC9sdC9lcSB0aGluZywgb3IganVzdCAiIiB0byBpbmRpY2F0ZSAiYW55IHZlcnNpb24iCgl2YXIgQ09NUEFSQVRPUkxPT1NFID0gUisrOwoJc3JjW0NPTVBBUkFUT1JMT09TRV0gPSAnXicgKyBzcmNbR1RMVF0gKyAnXFxzKignICsgTE9PU0VQTEFJTiArICcpJHxeJCc7Cgl2YXIgQ09NUEFSQVRPUiA9IFIrKzsKCXNyY1tDT01QQVJBVE9SXSA9ICdeJyArIHNyY1tHVExUXSArICdcXHMqKCcgKyBGVUxMUExBSU4gKyAnKSR8XiQnOwoKCS8vIEFuIGV4cHJlc3Npb24gdG8gc3RyaXAgYW55IHdoaXRlc3BhY2UgYmV0d2VlbiB0aGUgZ3RsdCBhbmQgdGhlIHRoaW5nCgkvLyBpdCBtb2RpZmllcywgc28gdGhhdCBgPiAxLjIuM2AgPT0+IGA+MS4yLjNgCgl2YXIgQ09NUEFSQVRPUlRSSU0gPSBSKys7CglzcmNbQ09NUEFSQVRPUlRSSU1dID0gJyhcXHMqKScgKyBzcmNbR1RMVF0gKwoJICAgICAgICAgICAgICAgICAgICAgICdcXHMqKCcgKyBMT09TRVBMQUlOICsgJ3wnICsgc3JjW1hSQU5HRVBMQUlOXSArICcpJzsKCgkvLyB0aGlzIG9uZSBoYXMgdG8gdXNlIHRoZSAvZyBmbGFnCglyZVtDT01QQVJBVE9SVFJJTV0gPSBuZXcgUmVnRXhwKHNyY1tDT01QQVJBVE9SVFJJTV0sICdnJyk7Cgl2YXIgY29tcGFyYXRvclRyaW1SZXBsYWNlID0gJyQxJDIkMyc7CgoJLy8gU29tZXRoaW5nIGxpa2UgYDEuMi4zIC0gMS4yLjRgCgkvLyBOb3RlIHRoYXQgdGhlc2UgYWxsIHVzZSB0aGUgbG9vc2UgZm9ybSwgYmVjYXVzZSB0aGV5J2xsIGJlCgkvLyBjaGVja2VkIGFnYWluc3QgZWl0aGVyIHRoZSBzdHJpY3Qgb3IgbG9vc2UgY29tcGFyYXRvciBmb3JtCgkvLyBsYXRlci4KCXZhciBIWVBIRU5SQU5HRSA9IFIrKzsKCXNyY1tIWVBIRU5SQU5HRV0gPSAnXlxccyooJyArIHNyY1tYUkFOR0VQTEFJTl0gKyAnKScgKwoJICAgICAgICAgICAgICAgICAgICdcXHMrLVxccysnICsKCSAgICAgICAgICAgICAgICAgICAnKCcgKyBzcmNbWFJBTkdFUExBSU5dICsgJyknICsKCSAgICAgICAgICAgICAgICAgICAnXFxzKiQnOwoKCXZhciBIWVBIRU5SQU5HRUxPT1NFID0gUisrOwoJc3JjW0hZUEhFTlJBTkdFTE9PU0VdID0gJ15cXHMqKCcgKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnKScgKwoJICAgICAgICAgICAgICAgICAgICAgICAgJ1xccystXFxzKycgKwoJICAgICAgICAgICAgICAgICAgICAgICAgJygnICsgc3JjW1hSQU5HRVBMQUlOTE9PU0VdICsgJyknICsKCSAgICAgICAgICAgICAgICAgICAgICAgICdcXHMqJCc7CgoJLy8gU3RhciByYW5nZXMgYmFzaWNhbGx5IGp1c3QgYWxsb3cgYW55dGhpbmcgYXQgYWxsLgoJdmFyIFNUQVIgPSBSKys7CglzcmNbU1RBUl0gPSAnKDx8Pik/PT9cXHMqXFwqJzsKCgkvLyBDb21waWxlIHRvIGFjdHVhbCByZWdleHAgb2JqZWN0cy4KCS8vIEFsbCBhcmUgZmxhZy1mcmVlLCB1bmxlc3MgdGhleSB3ZXJlIGNyZWF0ZWQgYWJvdmUgd2l0aCBhIGZsYWcuCglmb3IgKHZhciBpID0gMDsgaSA8IFI7IGkrKykgewoJICBkZWJ1ZyhpLCBzcmNbaV0pOwoJICBpZiAoIXJlW2ldKSB7CgkgICAgcmVbaV0gPSBuZXcgUmVnRXhwKHNyY1tpXSk7CgkgIH0KCX0KCglleHBvcnRzLnBhcnNlID0gcGFyc2U7CglmdW5jdGlvbiBwYXJzZSAodmVyc2lvbiwgb3B0aW9ucykgewoJICBpZiAoIW9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7CgkgICAgb3B0aW9ucyA9IHsKCSAgICAgIGxvb3NlOiAhIW9wdGlvbnMsCgkgICAgICBpbmNsdWRlUHJlcmVsZWFzZTogZmFsc2UKCSAgICB9OwoJICB9CgoJICBpZiAodmVyc2lvbiBpbnN0YW5jZW9mIFNlbVZlcikgewoJICAgIHJldHVybiB2ZXJzaW9uCgkgIH0KCgkgIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ3N0cmluZycpIHsKCSAgICByZXR1cm4gbnVsbAoJICB9CgoJICBpZiAodmVyc2lvbi5sZW5ndGggPiBNQVhfTEVOR1RIKSB7CgkgICAgcmV0dXJuIG51bGwKCSAgfQoKCSAgdmFyIHIgPSBvcHRpb25zLmxvb3NlID8gcmVbTE9PU0VdIDogcmVbRlVMTF07CgkgIGlmICghci50ZXN0KHZlcnNpb24pKSB7CgkgICAgcmV0dXJuIG51bGwKCSAgfQoKCSAgdHJ5IHsKCSAgICByZXR1cm4gbmV3IFNlbVZlcih2ZXJzaW9uLCBvcHRpb25zKQoJICB9IGNhdGNoIChlcikgewoJICAgIHJldHVybiBudWxsCgkgIH0KCX0KCglleHBvcnRzLnZhbGlkID0gdmFsaWQ7CglmdW5jdGlvbiB2YWxpZCAodmVyc2lvbiwgb3B0aW9ucykgewoJICB2YXIgdiA9IHBhcnNlKHZlcnNpb24sIG9wdGlvbnMpOwoJICByZXR1cm4gdiA/IHYudmVyc2lvbiA6IG51bGwKCX0KCglleHBvcnRzLmNsZWFuID0gY2xlYW47CglmdW5jdGlvbiBjbGVhbiAodmVyc2lvbiwgb3B0aW9ucykgewoJICB2YXIgcyA9IHBhcnNlKHZlcnNpb24udHJpbSgpLnJlcGxhY2UoL15bPXZdKy8sICcnKSwgb3B0aW9ucyk7CgkgIHJldHVybiBzID8gcy52ZXJzaW9uIDogbnVsbAoJfQoKCWV4cG9ydHMuU2VtVmVyID0gU2VtVmVyOwoKCWZ1bmN0aW9uIFNlbVZlciAodmVyc2lvbiwgb3B0aW9ucykgewoJICBpZiAoIW9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7CgkgICAgb3B0aW9ucyA9IHsKCSAgICAgIGxvb3NlOiAhIW9wdGlvbnMsCgkgICAgICBpbmNsdWRlUHJlcmVsZWFzZTogZmFsc2UKCSAgICB9OwoJICB9CgkgIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7CgkgICAgaWYgKHZlcnNpb24ubG9vc2UgPT09IG9wdGlvbnMubG9vc2UpIHsKCSAgICAgIHJldHVybiB2ZXJzaW9uCgkgICAgfSBlbHNlIHsKCSAgICAgIHZlcnNpb24gPSB2ZXJzaW9uLnZlcnNpb247CgkgICAgfQoJICB9IGVsc2UgaWYgKHR5cGVvZiB2ZXJzaW9uICE9PSAnc3RyaW5nJykgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgVmVyc2lvbjogJyArIHZlcnNpb24pCgkgIH0KCgkgIGlmICh2ZXJzaW9uLmxlbmd0aCA+IE1BWF9MRU5HVEgpIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2ZXJzaW9uIGlzIGxvbmdlciB0aGFuICcgKyBNQVhfTEVOR1RIICsgJyBjaGFyYWN0ZXJzJykKCSAgfQoKCSAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNlbVZlcikpIHsKCSAgICByZXR1cm4gbmV3IFNlbVZlcih2ZXJzaW9uLCBvcHRpb25zKQoJICB9CgoJICBkZWJ1ZygnU2VtVmVyJywgdmVyc2lvbiwgb3B0aW9ucyk7CgkgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7CgkgIHRoaXMubG9vc2UgPSAhIW9wdGlvbnMubG9vc2U7CgoJICB2YXIgbSA9IHZlcnNpb24udHJpbSgpLm1hdGNoKG9wdGlvbnMubG9vc2UgPyByZVtMT09TRV0gOiByZVtGVUxMXSk7CgoJICBpZiAoIW0pIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIFZlcnNpb246ICcgKyB2ZXJzaW9uKQoJICB9CgoJICB0aGlzLnJhdyA9IHZlcnNpb247CgoJICAvLyB0aGVzZSBhcmUgYWN0dWFsbHkgbnVtYmVycwoJICB0aGlzLm1ham9yID0gK21bMV07CgkgIHRoaXMubWlub3IgPSArbVsyXTsKCSAgdGhpcy5wYXRjaCA9ICttWzNdOwoKCSAgaWYgKHRoaXMubWFqb3IgPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHRoaXMubWFqb3IgPCAwKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBtYWpvciB2ZXJzaW9uJykKCSAgfQoKCSAgaWYgKHRoaXMubWlub3IgPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHRoaXMubWlub3IgPCAwKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBtaW5vciB2ZXJzaW9uJykKCSAgfQoKCSAgaWYgKHRoaXMucGF0Y2ggPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHRoaXMucGF0Y2ggPCAwKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBwYXRjaCB2ZXJzaW9uJykKCSAgfQoKCSAgLy8gbnVtYmVyaWZ5IGFueSBwcmVyZWxlYXNlIG51bWVyaWMgaWRzCgkgIGlmICghbVs0XSkgewoJICAgIHRoaXMucHJlcmVsZWFzZSA9IFtdOwoJICB9IGVsc2UgewoJICAgIHRoaXMucHJlcmVsZWFzZSA9IG1bNF0uc3BsaXQoJy4nKS5tYXAoZnVuY3Rpb24gKGlkKSB7CgkgICAgICBpZiAoL15bMC05XSskLy50ZXN0KGlkKSkgewoJICAgICAgICB2YXIgbnVtID0gK2lkOwoJICAgICAgICBpZiAobnVtID49IDAgJiYgbnVtIDwgTUFYX1NBRkVfSU5URUdFUikgewoJICAgICAgICAgIHJldHVybiBudW0KCSAgICAgICAgfQoJICAgICAgfQoJICAgICAgcmV0dXJuIGlkCgkgICAgfSk7CgkgIH0KCgkgIHRoaXMuYnVpbGQgPSBtWzVdID8gbVs1XS5zcGxpdCgnLicpIDogW107CgkgIHRoaXMuZm9ybWF0KCk7Cgl9CgoJU2VtVmVyLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAoKSB7CgkgIHRoaXMudmVyc2lvbiA9IHRoaXMubWFqb3IgKyAnLicgKyB0aGlzLm1pbm9yICsgJy4nICsgdGhpcy5wYXRjaDsKCSAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGgpIHsKCSAgICB0aGlzLnZlcnNpb24gKz0gJy0nICsgdGhpcy5wcmVyZWxlYXNlLmpvaW4oJy4nKTsKCSAgfQoJICByZXR1cm4gdGhpcy52ZXJzaW9uCgl9OwoKCVNlbVZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgIHJldHVybiB0aGlzLnZlcnNpb24KCX07CgoJU2VtVmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gKG90aGVyKSB7CgkgIGRlYnVnKCdTZW1WZXIuY29tcGFyZScsIHRoaXMudmVyc2lvbiwgdGhpcy5vcHRpb25zLCBvdGhlcik7CgkgIGlmICghKG90aGVyIGluc3RhbmNlb2YgU2VtVmVyKSkgewoJICAgIG90aGVyID0gbmV3IFNlbVZlcihvdGhlciwgdGhpcy5vcHRpb25zKTsKCSAgfQoKCSAgcmV0dXJuIHRoaXMuY29tcGFyZU1haW4ob3RoZXIpIHx8IHRoaXMuY29tcGFyZVByZShvdGhlcikKCX07CgoJU2VtVmVyLnByb3RvdHlwZS5jb21wYXJlTWFpbiA9IGZ1bmN0aW9uIChvdGhlcikgewoJICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFNlbVZlcikpIHsKCSAgICBvdGhlciA9IG5ldyBTZW1WZXIob3RoZXIsIHRoaXMub3B0aW9ucyk7CgkgIH0KCgkgIHJldHVybiBjb21wYXJlSWRlbnRpZmllcnModGhpcy5tYWpvciwgb3RoZXIubWFqb3IpIHx8CgkgICAgICAgICBjb21wYXJlSWRlbnRpZmllcnModGhpcy5taW5vciwgb3RoZXIubWlub3IpIHx8CgkgICAgICAgICBjb21wYXJlSWRlbnRpZmllcnModGhpcy5wYXRjaCwgb3RoZXIucGF0Y2gpCgl9OwoKCVNlbVZlci5wcm90b3R5cGUuY29tcGFyZVByZSA9IGZ1bmN0aW9uIChvdGhlcikgewoJICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFNlbVZlcikpIHsKCSAgICBvdGhlciA9IG5ldyBTZW1WZXIob3RoZXIsIHRoaXMub3B0aW9ucyk7CgkgIH0KCgkgIC8vIE5PVCBoYXZpbmcgYSBwcmVyZWxlYXNlIGlzID4gaGF2aW5nIG9uZQoJICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCAmJiAhb3RoZXIucHJlcmVsZWFzZS5sZW5ndGgpIHsKCSAgICByZXR1cm4gLTEKCSAgfSBlbHNlIGlmICghdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCAmJiBvdGhlci5wcmVyZWxlYXNlLmxlbmd0aCkgewoJICAgIHJldHVybiAxCgkgIH0gZWxzZSBpZiAoIXRoaXMucHJlcmVsZWFzZS5sZW5ndGggJiYgIW90aGVyLnByZXJlbGVhc2UubGVuZ3RoKSB7CgkgICAgcmV0dXJuIDAKCSAgfQoKCSAgdmFyIGkgPSAwOwoJICBkbyB7CgkgICAgdmFyIGEgPSB0aGlzLnByZXJlbGVhc2VbaV07CgkgICAgdmFyIGIgPSBvdGhlci5wcmVyZWxlYXNlW2ldOwoJICAgIGRlYnVnKCdwcmVyZWxlYXNlIGNvbXBhcmUnLCBpLCBhLCBiKTsKCSAgICBpZiAoYSA9PT0gdW5kZWZpbmVkICYmIGIgPT09IHVuZGVmaW5lZCkgewoJICAgICAgcmV0dXJuIDAKCSAgICB9IGVsc2UgaWYgKGIgPT09IHVuZGVmaW5lZCkgewoJICAgICAgcmV0dXJuIDEKCSAgICB9IGVsc2UgaWYgKGEgPT09IHVuZGVmaW5lZCkgewoJICAgICAgcmV0dXJuIC0xCgkgICAgfSBlbHNlIGlmIChhID09PSBiKSB7CgkgICAgICBjb250aW51ZQoJICAgIH0gZWxzZSB7CgkgICAgICByZXR1cm4gY29tcGFyZUlkZW50aWZpZXJzKGEsIGIpCgkgICAgfQoJICB9IHdoaWxlICgrK2kpCgl9OwoKCS8vIHByZW1pbm9yIHdpbGwgYnVtcCB0aGUgdmVyc2lvbiB1cCB0byB0aGUgbmV4dCBtaW5vciByZWxlYXNlLCBhbmQgaW1tZWRpYXRlbHkKCS8vIGRvd24gdG8gcHJlLXJlbGVhc2UuIHByZW1ham9yIGFuZCBwcmVwYXRjaCB3b3JrIHRoZSBzYW1lIHdheS4KCVNlbVZlci5wcm90b3R5cGUuaW5jID0gZnVuY3Rpb24gKHJlbGVhc2UsIGlkZW50aWZpZXIpIHsKCSAgc3dpdGNoIChyZWxlYXNlKSB7CgkgICAgY2FzZSAncHJlbWFqb3InOgoJICAgICAgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9IDA7CgkgICAgICB0aGlzLnBhdGNoID0gMDsKCSAgICAgIHRoaXMubWlub3IgPSAwOwoJICAgICAgdGhpcy5tYWpvcisrOwoJICAgICAgdGhpcy5pbmMoJ3ByZScsIGlkZW50aWZpZXIpOwoJICAgICAgYnJlYWsKCSAgICBjYXNlICdwcmVtaW5vcic6CgkgICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID0gMDsKCSAgICAgIHRoaXMucGF0Y2ggPSAwOwoJICAgICAgdGhpcy5taW5vcisrOwoJICAgICAgdGhpcy5pbmMoJ3ByZScsIGlkZW50aWZpZXIpOwoJICAgICAgYnJlYWsKCSAgICBjYXNlICdwcmVwYXRjaCc6CgkgICAgICAvLyBJZiB0aGlzIGlzIGFscmVhZHkgYSBwcmVyZWxlYXNlLCBpdCB3aWxsIGJ1bXAgdG8gdGhlIG5leHQgdmVyc2lvbgoJICAgICAgLy8gZHJvcCBhbnkgcHJlcmVsZWFzZXMgdGhhdCBtaWdodCBhbHJlYWR5IGV4aXN0LCBzaW5jZSB0aGV5IGFyZSBub3QKCSAgICAgIC8vIHJlbGV2YW50IGF0IHRoaXMgcG9pbnQuCgkgICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID0gMDsKCSAgICAgIHRoaXMuaW5jKCdwYXRjaCcsIGlkZW50aWZpZXIpOwoJICAgICAgdGhpcy5pbmMoJ3ByZScsIGlkZW50aWZpZXIpOwoJICAgICAgYnJlYWsKCSAgICAvLyBJZiB0aGUgaW5wdXQgaXMgYSBub24tcHJlcmVsZWFzZSB2ZXJzaW9uLCB0aGlzIGFjdHMgdGhlIHNhbWUgYXMKCSAgICAvLyBwcmVwYXRjaC4KCSAgICBjYXNlICdwcmVyZWxlYXNlJzoKCSAgICAgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7CgkgICAgICAgIHRoaXMuaW5jKCdwYXRjaCcsIGlkZW50aWZpZXIpOwoJICAgICAgfQoJICAgICAgdGhpcy5pbmMoJ3ByZScsIGlkZW50aWZpZXIpOwoJICAgICAgYnJlYWsKCgkgICAgY2FzZSAnbWFqb3InOgoJICAgICAgLy8gSWYgdGhpcyBpcyBhIHByZS1tYWpvciB2ZXJzaW9uLCBidW1wIHVwIHRvIHRoZSBzYW1lIG1ham9yIHZlcnNpb24uCgkgICAgICAvLyBPdGhlcndpc2UgaW5jcmVtZW50IG1ham9yLgoJICAgICAgLy8gMS4wLjAtNSBidW1wcyB0byAxLjAuMAoJICAgICAgLy8gMS4xLjAgYnVtcHMgdG8gMi4wLjAKCSAgICAgIGlmICh0aGlzLm1pbm9yICE9PSAwIHx8CgkgICAgICAgICAgdGhpcy5wYXRjaCAhPT0gMCB8fAoJICAgICAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDApIHsKCSAgICAgICAgdGhpcy5tYWpvcisrOwoJICAgICAgfQoJICAgICAgdGhpcy5taW5vciA9IDA7CgkgICAgICB0aGlzLnBhdGNoID0gMDsKCSAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtdOwoJICAgICAgYnJlYWsKCSAgICBjYXNlICdtaW5vcic6CgkgICAgICAvLyBJZiB0aGlzIGlzIGEgcHJlLW1pbm9yIHZlcnNpb24sIGJ1bXAgdXAgdG8gdGhlIHNhbWUgbWlub3IgdmVyc2lvbi4KCSAgICAgIC8vIE90aGVyd2lzZSBpbmNyZW1lbnQgbWlub3IuCgkgICAgICAvLyAxLjIuMC01IGJ1bXBzIHRvIDEuMi4wCgkgICAgICAvLyAxLjIuMSBidW1wcyB0byAxLjMuMAoJICAgICAgaWYgKHRoaXMucGF0Y2ggIT09IDAgfHwgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMCkgewoJICAgICAgICB0aGlzLm1pbm9yKys7CgkgICAgICB9CgkgICAgICB0aGlzLnBhdGNoID0gMDsKCSAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtdOwoJICAgICAgYnJlYWsKCSAgICBjYXNlICdwYXRjaCc6CgkgICAgICAvLyBJZiB0aGlzIGlzIG5vdCBhIHByZS1yZWxlYXNlIHZlcnNpb24sIGl0IHdpbGwgaW5jcmVtZW50IHRoZSBwYXRjaC4KCSAgICAgIC8vIElmIGl0IGlzIGEgcHJlLXJlbGVhc2UgaXQgd2lsbCBidW1wIHVwIHRvIHRoZSBzYW1lIHBhdGNoIHZlcnNpb24uCgkgICAgICAvLyAxLjIuMC01IHBhdGNoZXMgdG8gMS4yLjAKCSAgICAgIC8vIDEuMi4wIHBhdGNoZXMgdG8gMS4yLjEKCSAgICAgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7CgkgICAgICAgIHRoaXMucGF0Y2grKzsKCSAgICAgIH0KCSAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtdOwoJICAgICAgYnJlYWsKCSAgICAvLyBUaGlzIHByb2JhYmx5IHNob3VsZG4ndCBiZSB1c2VkIHB1YmxpY2x5LgoJICAgIC8vIDEuMC4wICJwcmUiIHdvdWxkIGJlY29tZSAxLjAuMC0wIHdoaWNoIGlzIHRoZSB3cm9uZyBkaXJlY3Rpb24uCgkgICAgY2FzZSAncHJlJzoKCSAgICAgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7CgkgICAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFswXTsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHZhciBpID0gdGhpcy5wcmVyZWxlYXNlLmxlbmd0aDsKCSAgICAgICAgd2hpbGUgKC0taSA+PSAwKSB7CgkgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnByZXJlbGVhc2VbaV0gPT09ICdudW1iZXInKSB7CgkgICAgICAgICAgICB0aGlzLnByZXJlbGVhc2VbaV0rKzsKCSAgICAgICAgICAgIGkgPSAtMjsKCSAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGkgPT09IC0xKSB7CgkgICAgICAgICAgLy8gZGlkbid0IGluY3JlbWVudCBhbnl0aGluZwoJICAgICAgICAgIHRoaXMucHJlcmVsZWFzZS5wdXNoKDApOwoJICAgICAgICB9CgkgICAgICB9CgkgICAgICBpZiAoaWRlbnRpZmllcikgewoJICAgICAgICAvLyAxLjIuMC1iZXRhLjEgYnVtcHMgdG8gMS4yLjAtYmV0YS4yLAoJICAgICAgICAvLyAxLjIuMC1iZXRhLmZvb2JseiBvciAxLjIuMC1iZXRhIGJ1bXBzIHRvIDEuMi4wLWJldGEuMAoJICAgICAgICBpZiAodGhpcy5wcmVyZWxlYXNlWzBdID09PSBpZGVudGlmaWVyKSB7CgkgICAgICAgICAgaWYgKGlzTmFOKHRoaXMucHJlcmVsZWFzZVsxXSkpIHsKCSAgICAgICAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtpZGVudGlmaWVyLCAwXTsKCSAgICAgICAgICB9CgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW2lkZW50aWZpZXIsIDBdOwoJICAgICAgICB9CgkgICAgICB9CgkgICAgICBicmVhawoKCSAgICBkZWZhdWx0OgoJICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGluY3JlbWVudCBhcmd1bWVudDogJyArIHJlbGVhc2UpCgkgIH0KCSAgdGhpcy5mb3JtYXQoKTsKCSAgdGhpcy5yYXcgPSB0aGlzLnZlcnNpb247CgkgIHJldHVybiB0aGlzCgl9OwoKCWV4cG9ydHMuaW5jID0gaW5jOwoJZnVuY3Rpb24gaW5jICh2ZXJzaW9uLCByZWxlYXNlLCBsb29zZSwgaWRlbnRpZmllcikgewoJICBpZiAodHlwZW9mIChsb29zZSkgPT09ICdzdHJpbmcnKSB7CgkgICAgaWRlbnRpZmllciA9IGxvb3NlOwoJICAgIGxvb3NlID0gdW5kZWZpbmVkOwoJICB9CgoJICB0cnkgewoJICAgIHJldHVybiBuZXcgU2VtVmVyKHZlcnNpb24sIGxvb3NlKS5pbmMocmVsZWFzZSwgaWRlbnRpZmllcikudmVyc2lvbgoJICB9IGNhdGNoIChlcikgewoJICAgIHJldHVybiBudWxsCgkgIH0KCX0KCglleHBvcnRzLmRpZmYgPSBkaWZmOwoJZnVuY3Rpb24gZGlmZiAodmVyc2lvbjEsIHZlcnNpb24yKSB7CgkgIGlmIChlcSh2ZXJzaW9uMSwgdmVyc2lvbjIpKSB7CgkgICAgcmV0dXJuIG51bGwKCSAgfSBlbHNlIHsKCSAgICB2YXIgdjEgPSBwYXJzZSh2ZXJzaW9uMSk7CgkgICAgdmFyIHYyID0gcGFyc2UodmVyc2lvbjIpOwoJICAgIHZhciBwcmVmaXggPSAnJzsKCSAgICBpZiAodjEucHJlcmVsZWFzZS5sZW5ndGggfHwgdjIucHJlcmVsZWFzZS5sZW5ndGgpIHsKCSAgICAgIHByZWZpeCA9ICdwcmUnOwoJICAgICAgdmFyIGRlZmF1bHRSZXN1bHQgPSAncHJlcmVsZWFzZSc7CgkgICAgfQoJICAgIGZvciAodmFyIGtleSBpbiB2MSkgewoJICAgICAgaWYgKGtleSA9PT0gJ21ham9yJyB8fCBrZXkgPT09ICdtaW5vcicgfHwga2V5ID09PSAncGF0Y2gnKSB7CgkgICAgICAgIGlmICh2MVtrZXldICE9PSB2MltrZXldKSB7CgkgICAgICAgICAgcmV0dXJuIHByZWZpeCArIGtleQoJICAgICAgICB9CgkgICAgICB9CgkgICAgfQoJICAgIHJldHVybiBkZWZhdWx0UmVzdWx0IC8vIG1heSBiZSB1bmRlZmluZWQKCSAgfQoJfQoKCWV4cG9ydHMuY29tcGFyZUlkZW50aWZpZXJzID0gY29tcGFyZUlkZW50aWZpZXJzOwoKCXZhciBudW1lcmljID0gL15bMC05XSskLzsKCWZ1bmN0aW9uIGNvbXBhcmVJZGVudGlmaWVycyAoYSwgYikgewoJICB2YXIgYW51bSA9IG51bWVyaWMudGVzdChhKTsKCSAgdmFyIGJudW0gPSBudW1lcmljLnRlc3QoYik7CgoJICBpZiAoYW51bSAmJiBibnVtKSB7CgkgICAgYSA9ICthOwoJICAgIGIgPSArYjsKCSAgfQoKCSAgcmV0dXJuIGEgPT09IGIgPyAwCgkgICAgOiAoYW51bSAmJiAhYm51bSkgPyAtMQoJICAgIDogKGJudW0gJiYgIWFudW0pID8gMQoJICAgIDogYSA8IGIgPyAtMQoJICAgIDogMQoJfQoKCWV4cG9ydHMucmNvbXBhcmVJZGVudGlmaWVycyA9IHJjb21wYXJlSWRlbnRpZmllcnM7CglmdW5jdGlvbiByY29tcGFyZUlkZW50aWZpZXJzIChhLCBiKSB7CgkgIHJldHVybiBjb21wYXJlSWRlbnRpZmllcnMoYiwgYSkKCX0KCglleHBvcnRzLm1ham9yID0gbWFqb3I7CglmdW5jdGlvbiBtYWpvciAoYSwgbG9vc2UpIHsKCSAgcmV0dXJuIG5ldyBTZW1WZXIoYSwgbG9vc2UpLm1ham9yCgl9CgoJZXhwb3J0cy5taW5vciA9IG1pbm9yOwoJZnVuY3Rpb24gbWlub3IgKGEsIGxvb3NlKSB7CgkgIHJldHVybiBuZXcgU2VtVmVyKGEsIGxvb3NlKS5taW5vcgoJfQoKCWV4cG9ydHMucGF0Y2ggPSBwYXRjaDsKCWZ1bmN0aW9uIHBhdGNoIChhLCBsb29zZSkgewoJICByZXR1cm4gbmV3IFNlbVZlcihhLCBsb29zZSkucGF0Y2gKCX0KCglleHBvcnRzLmNvbXBhcmUgPSBjb21wYXJlOwoJZnVuY3Rpb24gY29tcGFyZSAoYSwgYiwgbG9vc2UpIHsKCSAgcmV0dXJuIG5ldyBTZW1WZXIoYSwgbG9vc2UpLmNvbXBhcmUobmV3IFNlbVZlcihiLCBsb29zZSkpCgl9CgoJZXhwb3J0cy5jb21wYXJlTG9vc2UgPSBjb21wYXJlTG9vc2U7CglmdW5jdGlvbiBjb21wYXJlTG9vc2UgKGEsIGIpIHsKCSAgcmV0dXJuIGNvbXBhcmUoYSwgYiwgdHJ1ZSkKCX0KCglleHBvcnRzLnJjb21wYXJlID0gcmNvbXBhcmU7CglmdW5jdGlvbiByY29tcGFyZSAoYSwgYiwgbG9vc2UpIHsKCSAgcmV0dXJuIGNvbXBhcmUoYiwgYSwgbG9vc2UpCgl9CgoJZXhwb3J0cy5zb3J0ID0gc29ydDsKCWZ1bmN0aW9uIHNvcnQgKGxpc3QsIGxvb3NlKSB7CgkgIHJldHVybiBsaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKCSAgICByZXR1cm4gZXhwb3J0cy5jb21wYXJlKGEsIGIsIGxvb3NlKQoJICB9KQoJfQoKCWV4cG9ydHMucnNvcnQgPSByc29ydDsKCWZ1bmN0aW9uIHJzb3J0IChsaXN0LCBsb29zZSkgewoJICByZXR1cm4gbGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CgkgICAgcmV0dXJuIGV4cG9ydHMucmNvbXBhcmUoYSwgYiwgbG9vc2UpCgkgIH0pCgl9CgoJZXhwb3J0cy5ndCA9IGd0OwoJZnVuY3Rpb24gZ3QgKGEsIGIsIGxvb3NlKSB7CgkgIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSA+IDAKCX0KCglleHBvcnRzLmx0ID0gbHQ7CglmdW5jdGlvbiBsdCAoYSwgYiwgbG9vc2UpIHsKCSAgcmV0dXJuIGNvbXBhcmUoYSwgYiwgbG9vc2UpIDwgMAoJfQoKCWV4cG9ydHMuZXEgPSBlcTsKCWZ1bmN0aW9uIGVxIChhLCBiLCBsb29zZSkgewoJICByZXR1cm4gY29tcGFyZShhLCBiLCBsb29zZSkgPT09IDAKCX0KCglleHBvcnRzLm5lcSA9IG5lcTsKCWZ1bmN0aW9uIG5lcSAoYSwgYiwgbG9vc2UpIHsKCSAgcmV0dXJuIGNvbXBhcmUoYSwgYiwgbG9vc2UpICE9PSAwCgl9CgoJZXhwb3J0cy5ndGUgPSBndGU7CglmdW5jdGlvbiBndGUgKGEsIGIsIGxvb3NlKSB7CgkgIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSA+PSAwCgl9CgoJZXhwb3J0cy5sdGUgPSBsdGU7CglmdW5jdGlvbiBsdGUgKGEsIGIsIGxvb3NlKSB7CgkgIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSA8PSAwCgl9CgoJZXhwb3J0cy5jbXAgPSBjbXA7CglmdW5jdGlvbiBjbXAgKGEsIG9wLCBiLCBsb29zZSkgewoJICBzd2l0Y2ggKG9wKSB7CgkgICAgY2FzZSAnPT09JzoKCSAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpCgkgICAgICAgIGEgPSBhLnZlcnNpb247CgkgICAgICBpZiAodHlwZW9mIGIgPT09ICdvYmplY3QnKQoJICAgICAgICBiID0gYi52ZXJzaW9uOwoJICAgICAgcmV0dXJuIGEgPT09IGIKCgkgICAgY2FzZSAnIT09JzoKCSAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpCgkgICAgICAgIGEgPSBhLnZlcnNpb247CgkgICAgICBpZiAodHlwZW9mIGIgPT09ICdvYmplY3QnKQoJICAgICAgICBiID0gYi52ZXJzaW9uOwoJICAgICAgcmV0dXJuIGEgIT09IGIKCgkgICAgY2FzZSAnJzoKCSAgICBjYXNlICc9JzoKCSAgICBjYXNlICc9PSc6CgkgICAgICByZXR1cm4gZXEoYSwgYiwgbG9vc2UpCgoJICAgIGNhc2UgJyE9JzoKCSAgICAgIHJldHVybiBuZXEoYSwgYiwgbG9vc2UpCgoJICAgIGNhc2UgJz4nOgoJICAgICAgcmV0dXJuIGd0KGEsIGIsIGxvb3NlKQoKCSAgICBjYXNlICc+PSc6CgkgICAgICByZXR1cm4gZ3RlKGEsIGIsIGxvb3NlKQoKCSAgICBjYXNlICc8JzoKCSAgICAgIHJldHVybiBsdChhLCBiLCBsb29zZSkKCgkgICAgY2FzZSAnPD0nOgoJICAgICAgcmV0dXJuIGx0ZShhLCBiLCBsb29zZSkKCgkgICAgZGVmYXVsdDoKCSAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgb3BlcmF0b3I6ICcgKyBvcCkKCSAgfQoJfQoKCWV4cG9ydHMuQ29tcGFyYXRvciA9IENvbXBhcmF0b3I7CglmdW5jdGlvbiBDb21wYXJhdG9yIChjb21wLCBvcHRpb25zKSB7CgkgIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHsKCSAgICBvcHRpb25zID0gewoJICAgICAgbG9vc2U6ICEhb3B0aW9ucywKCSAgICAgIGluY2x1ZGVQcmVyZWxlYXNlOiBmYWxzZQoJICAgIH07CgkgIH0KCgkgIGlmIChjb21wIGluc3RhbmNlb2YgQ29tcGFyYXRvcikgewoJICAgIGlmIChjb21wLmxvb3NlID09PSAhIW9wdGlvbnMubG9vc2UpIHsKCSAgICAgIHJldHVybiBjb21wCgkgICAgfSBlbHNlIHsKCSAgICAgIGNvbXAgPSBjb21wLnZhbHVlOwoJICAgIH0KCSAgfQoKCSAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENvbXBhcmF0b3IpKSB7CgkgICAgcmV0dXJuIG5ldyBDb21wYXJhdG9yKGNvbXAsIG9wdGlvbnMpCgkgIH0KCgkgIGRlYnVnKCdjb21wYXJhdG9yJywgY29tcCwgb3B0aW9ucyk7CgkgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7CgkgIHRoaXMubG9vc2UgPSAhIW9wdGlvbnMubG9vc2U7CgkgIHRoaXMucGFyc2UoY29tcCk7CgoJICBpZiAodGhpcy5zZW12ZXIgPT09IEFOWSkgewoJICAgIHRoaXMudmFsdWUgPSAnJzsKCSAgfSBlbHNlIHsKCSAgICB0aGlzLnZhbHVlID0gdGhpcy5vcGVyYXRvciArIHRoaXMuc2VtdmVyLnZlcnNpb247CgkgIH0KCgkgIGRlYnVnKCdjb21wJywgdGhpcyk7Cgl9CgoJdmFyIEFOWSA9IHt9OwoJQ29tcGFyYXRvci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoY29tcCkgewoJICB2YXIgciA9IHRoaXMub3B0aW9ucy5sb29zZSA/IHJlW0NPTVBBUkFUT1JMT09TRV0gOiByZVtDT01QQVJBVE9SXTsKCSAgdmFyIG0gPSBjb21wLm1hdGNoKHIpOwoKCSAgaWYgKCFtKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjb21wYXJhdG9yOiAnICsgY29tcCkKCSAgfQoKCSAgdGhpcy5vcGVyYXRvciA9IG1bMV07CgkgIGlmICh0aGlzLm9wZXJhdG9yID09PSAnPScpIHsKCSAgICB0aGlzLm9wZXJhdG9yID0gJyc7CgkgIH0KCgkgIC8vIGlmIGl0IGxpdGVyYWxseSBpcyBqdXN0ICc+JyBvciAnJyB0aGVuIGFsbG93IGFueXRoaW5nLgoJICBpZiAoIW1bMl0pIHsKCSAgICB0aGlzLnNlbXZlciA9IEFOWTsKCSAgfSBlbHNlIHsKCSAgICB0aGlzLnNlbXZlciA9IG5ldyBTZW1WZXIobVsyXSwgdGhpcy5vcHRpb25zLmxvb3NlKTsKCSAgfQoJfTsKCglDb21wYXJhdG9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgcmV0dXJuIHRoaXMudmFsdWUKCX07CgoJQ29tcGFyYXRvci5wcm90b3R5cGUudGVzdCA9IGZ1bmN0aW9uICh2ZXJzaW9uKSB7CgkgIGRlYnVnKCdDb21wYXJhdG9yLnRlc3QnLCB2ZXJzaW9uLCB0aGlzLm9wdGlvbnMubG9vc2UpOwoKCSAgaWYgKHRoaXMuc2VtdmVyID09PSBBTlkpIHsKCSAgICByZXR1cm4gdHJ1ZQoJICB9CgoJICBpZiAodHlwZW9mIHZlcnNpb24gPT09ICdzdHJpbmcnKSB7CgkgICAgdmVyc2lvbiA9IG5ldyBTZW1WZXIodmVyc2lvbiwgdGhpcy5vcHRpb25zKTsKCSAgfQoKCSAgcmV0dXJuIGNtcCh2ZXJzaW9uLCB0aGlzLm9wZXJhdG9yLCB0aGlzLnNlbXZlciwgdGhpcy5vcHRpb25zKQoJfTsKCglDb21wYXJhdG9yLnByb3RvdHlwZS5pbnRlcnNlY3RzID0gZnVuY3Rpb24gKGNvbXAsIG9wdGlvbnMpIHsKCSAgaWYgKCEoY29tcCBpbnN0YW5jZW9mIENvbXBhcmF0b3IpKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYSBDb21wYXJhdG9yIGlzIHJlcXVpcmVkJykKCSAgfQoKCSAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JykgewoJICAgIG9wdGlvbnMgPSB7CgkgICAgICBsb29zZTogISFvcHRpb25zLAoJICAgICAgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlCgkgICAgfTsKCSAgfQoKCSAgdmFyIHJhbmdlVG1wOwoKCSAgaWYgKHRoaXMub3BlcmF0b3IgPT09ICcnKSB7CgkgICAgcmFuZ2VUbXAgPSBuZXcgUmFuZ2UoY29tcC52YWx1ZSwgb3B0aW9ucyk7CgkgICAgcmV0dXJuIHNhdGlzZmllcyh0aGlzLnZhbHVlLCByYW5nZVRtcCwgb3B0aW9ucykKCSAgfSBlbHNlIGlmIChjb21wLm9wZXJhdG9yID09PSAnJykgewoJICAgIHJhbmdlVG1wID0gbmV3IFJhbmdlKHRoaXMudmFsdWUsIG9wdGlvbnMpOwoJICAgIHJldHVybiBzYXRpc2ZpZXMoY29tcC5zZW12ZXIsIHJhbmdlVG1wLCBvcHRpb25zKQoJICB9CgoJICB2YXIgc2FtZURpcmVjdGlvbkluY3JlYXNpbmcgPQoJICAgICh0aGlzLm9wZXJhdG9yID09PSAnPj0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc+JykgJiYKCSAgICAoY29tcC5vcGVyYXRvciA9PT0gJz49JyB8fCBjb21wLm9wZXJhdG9yID09PSAnPicpOwoJICB2YXIgc2FtZURpcmVjdGlvbkRlY3JlYXNpbmcgPQoJICAgICh0aGlzLm9wZXJhdG9yID09PSAnPD0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc8JykgJiYKCSAgICAoY29tcC5vcGVyYXRvciA9PT0gJzw9JyB8fCBjb21wLm9wZXJhdG9yID09PSAnPCcpOwoJICB2YXIgc2FtZVNlbVZlciA9IHRoaXMuc2VtdmVyLnZlcnNpb24gPT09IGNvbXAuc2VtdmVyLnZlcnNpb247CgkgIHZhciBkaWZmZXJlbnREaXJlY3Rpb25zSW5jbHVzaXZlID0KCSAgICAodGhpcy5vcGVyYXRvciA9PT0gJz49JyB8fCB0aGlzLm9wZXJhdG9yID09PSAnPD0nKSAmJgoJICAgIChjb21wLm9wZXJhdG9yID09PSAnPj0nIHx8IGNvbXAub3BlcmF0b3IgPT09ICc8PScpOwoJICB2YXIgb3Bwb3NpdGVEaXJlY3Rpb25zTGVzc1RoYW4gPQoJICAgIGNtcCh0aGlzLnNlbXZlciwgJzwnLCBjb21wLnNlbXZlciwgb3B0aW9ucykgJiYKCSAgICAoKHRoaXMub3BlcmF0b3IgPT09ICc+PScgfHwgdGhpcy5vcGVyYXRvciA9PT0gJz4nKSAmJgoJICAgIChjb21wLm9wZXJhdG9yID09PSAnPD0nIHx8IGNvbXAub3BlcmF0b3IgPT09ICc8JykpOwoJICB2YXIgb3Bwb3NpdGVEaXJlY3Rpb25zR3JlYXRlclRoYW4gPQoJICAgIGNtcCh0aGlzLnNlbXZlciwgJz4nLCBjb21wLnNlbXZlciwgb3B0aW9ucykgJiYKCSAgICAoKHRoaXMub3BlcmF0b3IgPT09ICc8PScgfHwgdGhpcy5vcGVyYXRvciA9PT0gJzwnKSAmJgoJICAgIChjb21wLm9wZXJhdG9yID09PSAnPj0nIHx8IGNvbXAub3BlcmF0b3IgPT09ICc+JykpOwoKCSAgcmV0dXJuIHNhbWVEaXJlY3Rpb25JbmNyZWFzaW5nIHx8IHNhbWVEaXJlY3Rpb25EZWNyZWFzaW5nIHx8CgkgICAgKHNhbWVTZW1WZXIgJiYgZGlmZmVyZW50RGlyZWN0aW9uc0luY2x1c2l2ZSkgfHwKCSAgICBvcHBvc2l0ZURpcmVjdGlvbnNMZXNzVGhhbiB8fCBvcHBvc2l0ZURpcmVjdGlvbnNHcmVhdGVyVGhhbgoJfTsKCglleHBvcnRzLlJhbmdlID0gUmFuZ2U7CglmdW5jdGlvbiBSYW5nZSAocmFuZ2UsIG9wdGlvbnMpIHsKCSAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JykgewoJICAgIG9wdGlvbnMgPSB7CgkgICAgICBsb29zZTogISFvcHRpb25zLAoJICAgICAgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlCgkgICAgfTsKCSAgfQoKCSAgaWYgKHJhbmdlIGluc3RhbmNlb2YgUmFuZ2UpIHsKCSAgICBpZiAocmFuZ2UubG9vc2UgPT09ICEhb3B0aW9ucy5sb29zZSAmJgoJICAgICAgICByYW5nZS5pbmNsdWRlUHJlcmVsZWFzZSA9PT0gISFvcHRpb25zLmluY2x1ZGVQcmVyZWxlYXNlKSB7CgkgICAgICByZXR1cm4gcmFuZ2UKCSAgICB9IGVsc2UgewoJICAgICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZS5yYXcsIG9wdGlvbnMpCgkgICAgfQoJICB9CgoJICBpZiAocmFuZ2UgaW5zdGFuY2VvZiBDb21wYXJhdG9yKSB7CgkgICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZS52YWx1ZSwgb3B0aW9ucykKCSAgfQoKCSAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJhbmdlKSkgewoJICAgIHJldHVybiBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpCgkgIH0KCgkgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7CgkgIHRoaXMubG9vc2UgPSAhIW9wdGlvbnMubG9vc2U7CgkgIHRoaXMuaW5jbHVkZVByZXJlbGVhc2UgPSAhIW9wdGlvbnMuaW5jbHVkZVByZXJlbGVhc2U7CgoJICAvLyBGaXJzdCwgc3BsaXQgYmFzZWQgb24gYm9vbGVhbiBvciB8fAoJICB0aGlzLnJhdyA9IHJhbmdlOwoJICB0aGlzLnNldCA9IHJhbmdlLnNwbGl0KC9ccypcfFx8XHMqLykubWFwKGZ1bmN0aW9uIChyYW5nZSkgewoJICAgIHJldHVybiB0aGlzLnBhcnNlUmFuZ2UocmFuZ2UudHJpbSgpKQoJICB9LCB0aGlzKS5maWx0ZXIoZnVuY3Rpb24gKGMpIHsKCSAgICAvLyB0aHJvdyBvdXQgYW55IHRoYXQgYXJlIG5vdCByZWxldmFudCBmb3Igd2hhdGV2ZXIgcmVhc29uCgkgICAgcmV0dXJuIGMubGVuZ3RoCgkgIH0pOwoKCSAgaWYgKCF0aGlzLnNldC5sZW5ndGgpIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIFNlbVZlciBSYW5nZTogJyArIHJhbmdlKQoJICB9CgoJICB0aGlzLmZvcm1hdCgpOwoJfQoKCVJhbmdlLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAoKSB7CgkgIHRoaXMucmFuZ2UgPSB0aGlzLnNldC5tYXAoZnVuY3Rpb24gKGNvbXBzKSB7CgkgICAgcmV0dXJuIGNvbXBzLmpvaW4oJyAnKS50cmltKCkKCSAgfSkuam9pbignfHwnKS50cmltKCk7CgkgIHJldHVybiB0aGlzLnJhbmdlCgl9OwoKCVJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgcmV0dXJuIHRoaXMucmFuZ2UKCX07CgoJUmFuZ2UucHJvdG90eXBlLnBhcnNlUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKCSAgdmFyIGxvb3NlID0gdGhpcy5vcHRpb25zLmxvb3NlOwoJICByYW5nZSA9IHJhbmdlLnRyaW0oKTsKCSAgLy8gYDEuMi4zIC0gMS4yLjRgID0+IGA+PTEuMi4zIDw9MS4yLjRgCgkgIHZhciBociA9IGxvb3NlID8gcmVbSFlQSEVOUkFOR0VMT09TRV0gOiByZVtIWVBIRU5SQU5HRV07CgkgIHJhbmdlID0gcmFuZ2UucmVwbGFjZShociwgaHlwaGVuUmVwbGFjZSk7CgkgIGRlYnVnKCdoeXBoZW4gcmVwbGFjZScsIHJhbmdlKTsKCSAgLy8gYD4gMS4yLjMgPCAxLjIuNWAgPT4gYD4xLjIuMyA8MS4yLjVgCgkgIHJhbmdlID0gcmFuZ2UucmVwbGFjZShyZVtDT01QQVJBVE9SVFJJTV0sIGNvbXBhcmF0b3JUcmltUmVwbGFjZSk7CgkgIGRlYnVnKCdjb21wYXJhdG9yIHRyaW0nLCByYW5nZSwgcmVbQ09NUEFSQVRPUlRSSU1dKTsKCgkgIC8vIGB+IDEuMi4zYCA9PiBgfjEuMi4zYAoJICByYW5nZSA9IHJhbmdlLnJlcGxhY2UocmVbVElMREVUUklNXSwgdGlsZGVUcmltUmVwbGFjZSk7CgoJICAvLyBgXiAxLjIuM2AgPT4gYF4xLjIuM2AKCSAgcmFuZ2UgPSByYW5nZS5yZXBsYWNlKHJlW0NBUkVUVFJJTV0sIGNhcmV0VHJpbVJlcGxhY2UpOwoKCSAgLy8gbm9ybWFsaXplIHNwYWNlcwoJICByYW5nZSA9IHJhbmdlLnNwbGl0KC9ccysvKS5qb2luKCcgJyk7CgoJICAvLyBBdCB0aGlzIHBvaW50LCB0aGUgcmFuZ2UgaXMgY29tcGxldGVseSB0cmltbWVkIGFuZAoJICAvLyByZWFkeSB0byBiZSBzcGxpdCBpbnRvIGNvbXBhcmF0b3JzLgoKCSAgdmFyIGNvbXBSZSA9IGxvb3NlID8gcmVbQ09NUEFSQVRPUkxPT1NFXSA6IHJlW0NPTVBBUkFUT1JdOwoJICB2YXIgc2V0ID0gcmFuZ2Uuc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24gKGNvbXApIHsKCSAgICByZXR1cm4gcGFyc2VDb21wYXJhdG9yKGNvbXAsIHRoaXMub3B0aW9ucykKCSAgfSwgdGhpcykuam9pbignICcpLnNwbGl0KC9ccysvKTsKCSAgaWYgKHRoaXMub3B0aW9ucy5sb29zZSkgewoJICAgIC8vIGluIGxvb3NlIG1vZGUsIHRocm93IG91dCBhbnkgdGhhdCBhcmUgbm90IHZhbGlkIGNvbXBhcmF0b3JzCgkgICAgc2V0ID0gc2V0LmZpbHRlcihmdW5jdGlvbiAoY29tcCkgewoJICAgICAgcmV0dXJuICEhY29tcC5tYXRjaChjb21wUmUpCgkgICAgfSk7CgkgIH0KCSAgc2V0ID0gc2V0Lm1hcChmdW5jdGlvbiAoY29tcCkgewoJICAgIHJldHVybiBuZXcgQ29tcGFyYXRvcihjb21wLCB0aGlzLm9wdGlvbnMpCgkgIH0sIHRoaXMpOwoKCSAgcmV0dXJuIHNldAoJfTsKCglSYW5nZS5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSwgb3B0aW9ucykgewoJICBpZiAoIShyYW5nZSBpbnN0YW5jZW9mIFJhbmdlKSkgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2EgUmFuZ2UgaXMgcmVxdWlyZWQnKQoJICB9CgoJICByZXR1cm4gdGhpcy5zZXQuc29tZShmdW5jdGlvbiAodGhpc0NvbXBhcmF0b3JzKSB7CgkgICAgcmV0dXJuIHRoaXNDb21wYXJhdG9ycy5ldmVyeShmdW5jdGlvbiAodGhpc0NvbXBhcmF0b3IpIHsKCSAgICAgIHJldHVybiByYW5nZS5zZXQuc29tZShmdW5jdGlvbiAocmFuZ2VDb21wYXJhdG9ycykgewoJICAgICAgICByZXR1cm4gcmFuZ2VDb21wYXJhdG9ycy5ldmVyeShmdW5jdGlvbiAocmFuZ2VDb21wYXJhdG9yKSB7CgkgICAgICAgICAgcmV0dXJuIHRoaXNDb21wYXJhdG9yLmludGVyc2VjdHMocmFuZ2VDb21wYXJhdG9yLCBvcHRpb25zKQoJICAgICAgICB9KQoJICAgICAgfSkKCSAgICB9KQoJICB9KQoJfTsKCgkvLyBNb3N0bHkganVzdCBmb3IgdGVzdGluZyBhbmQgbGVnYWN5IEFQSSByZWFzb25zCglleHBvcnRzLnRvQ29tcGFyYXRvcnMgPSB0b0NvbXBhcmF0b3JzOwoJZnVuY3Rpb24gdG9Db21wYXJhdG9ycyAocmFuZ2UsIG9wdGlvbnMpIHsKCSAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucykuc2V0Lm1hcChmdW5jdGlvbiAoY29tcCkgewoJICAgIHJldHVybiBjb21wLm1hcChmdW5jdGlvbiAoYykgewoJICAgICAgcmV0dXJuIGMudmFsdWUKCSAgICB9KS5qb2luKCcgJykudHJpbSgpLnNwbGl0KCcgJykKCSAgfSkKCX0KCgkvLyBjb21wcmlzZWQgb2YgeHJhbmdlcywgdGlsZGVzLCBzdGFycywgYW5kIGd0bHQncyBhdCB0aGlzIHBvaW50LgoJLy8gYWxyZWFkeSByZXBsYWNlZCB0aGUgaHlwaGVuIHJhbmdlcwoJLy8gdHVybiBpbnRvIGEgc2V0IG9mIEpVU1QgY29tcGFyYXRvcnMuCglmdW5jdGlvbiBwYXJzZUNvbXBhcmF0b3IgKGNvbXAsIG9wdGlvbnMpIHsKCSAgZGVidWcoJ2NvbXAnLCBjb21wLCBvcHRpb25zKTsKCSAgY29tcCA9IHJlcGxhY2VDYXJldHMoY29tcCwgb3B0aW9ucyk7CgkgIGRlYnVnKCdjYXJldCcsIGNvbXApOwoJICBjb21wID0gcmVwbGFjZVRpbGRlcyhjb21wLCBvcHRpb25zKTsKCSAgZGVidWcoJ3RpbGRlcycsIGNvbXApOwoJICBjb21wID0gcmVwbGFjZVhSYW5nZXMoY29tcCwgb3B0aW9ucyk7CgkgIGRlYnVnKCd4cmFuZ2UnLCBjb21wKTsKCSAgY29tcCA9IHJlcGxhY2VTdGFycyhjb21wLCBvcHRpb25zKTsKCSAgZGVidWcoJ3N0YXJzJywgY29tcCk7CgkgIHJldHVybiBjb21wCgl9CgoJZnVuY3Rpb24gaXNYIChpZCkgewoJICByZXR1cm4gIWlkIHx8IGlkLnRvTG93ZXJDYXNlKCkgPT09ICd4JyB8fCBpZCA9PT0gJyonCgl9CgoJLy8gfiwgfj4gLS0+ICogKGFueSwga2luZGEgc2lsbHkpCgkvLyB+MiwgfjIueCwgfjIueC54LCB+PjIsIH4+Mi54IH4+Mi54LnggLS0+ID49Mi4wLjAgPDMuMC4wCgkvLyB+Mi4wLCB+Mi4wLngsIH4+Mi4wLCB+PjIuMC54IC0tPiA+PTIuMC4wIDwyLjEuMAoJLy8gfjEuMiwgfjEuMi54LCB+PjEuMiwgfj4xLjIueCAtLT4gPj0xLjIuMCA8MS4zLjAKCS8vIH4xLjIuMywgfj4xLjIuMyAtLT4gPj0xLjIuMyA8MS4zLjAKCS8vIH4xLjIuMCwgfj4xLjIuMCAtLT4gPj0xLjIuMCA8MS4zLjAKCWZ1bmN0aW9uIHJlcGxhY2VUaWxkZXMgKGNvbXAsIG9wdGlvbnMpIHsKCSAgcmV0dXJuIGNvbXAudHJpbSgpLnNwbGl0KC9ccysvKS5tYXAoZnVuY3Rpb24gKGNvbXApIHsKCSAgICByZXR1cm4gcmVwbGFjZVRpbGRlKGNvbXAsIG9wdGlvbnMpCgkgIH0pLmpvaW4oJyAnKQoJfQoKCWZ1bmN0aW9uIHJlcGxhY2VUaWxkZSAoY29tcCwgb3B0aW9ucykgewoJICB2YXIgciA9IG9wdGlvbnMubG9vc2UgPyByZVtUSUxERUxPT1NFXSA6IHJlW1RJTERFXTsKCSAgcmV0dXJuIGNvbXAucmVwbGFjZShyLCBmdW5jdGlvbiAoXywgTSwgbSwgcCwgcHIpIHsKCSAgICBkZWJ1ZygndGlsZGUnLCBjb21wLCBfLCBNLCBtLCBwLCBwcik7CgkgICAgdmFyIHJldDsKCgkgICAgaWYgKGlzWChNKSkgewoJICAgICAgcmV0ID0gJyc7CgkgICAgfSBlbHNlIGlmIChpc1gobSkpIHsKCSAgICAgIHJldCA9ICc+PScgKyBNICsgJy4wLjAgPCcgKyAoK00gKyAxKSArICcuMC4wJzsKCSAgICB9IGVsc2UgaWYgKGlzWChwKSkgewoJICAgICAgLy8gfjEuMiA9PSA+PTEuMi4wIDwxLjMuMAoJICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4wIDwnICsgTSArICcuJyArICgrbSArIDEpICsgJy4wJzsKCSAgICB9IGVsc2UgaWYgKHByKSB7CgkgICAgICBkZWJ1ZygncmVwbGFjZVRpbGRlIHByJywgcHIpOwoJICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4nICsgcCArICctJyArIHByICsKCSAgICAgICAgICAgICcgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnOwoJICAgIH0gZWxzZSB7CgkgICAgICAvLyB+MS4yLjMgPT0gPj0xLjIuMyA8MS4zLjAKCSAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKwoJICAgICAgICAgICAgJyA8JyArIE0gKyAnLicgKyAoK20gKyAxKSArICcuMCc7CgkgICAgfQoKCSAgICBkZWJ1ZygndGlsZGUgcmV0dXJuJywgcmV0KTsKCSAgICByZXR1cm4gcmV0CgkgIH0pCgl9CgoJLy8gXiAtLT4gKiAoYW55LCBraW5kYSBzaWxseSkKCS8vIF4yLCBeMi54LCBeMi54LnggLS0+ID49Mi4wLjAgPDMuMC4wCgkvLyBeMi4wLCBeMi4wLnggLS0+ID49Mi4wLjAgPDMuMC4wCgkvLyBeMS4yLCBeMS4yLnggLS0+ID49MS4yLjAgPDIuMC4wCgkvLyBeMS4yLjMgLS0+ID49MS4yLjMgPDIuMC4wCgkvLyBeMS4yLjAgLS0+ID49MS4yLjAgPDIuMC4wCglmdW5jdGlvbiByZXBsYWNlQ2FyZXRzIChjb21wLCBvcHRpb25zKSB7CgkgIHJldHVybiBjb21wLnRyaW0oKS5zcGxpdCgvXHMrLykubWFwKGZ1bmN0aW9uIChjb21wKSB7CgkgICAgcmV0dXJuIHJlcGxhY2VDYXJldChjb21wLCBvcHRpb25zKQoJICB9KS5qb2luKCcgJykKCX0KCglmdW5jdGlvbiByZXBsYWNlQ2FyZXQgKGNvbXAsIG9wdGlvbnMpIHsKCSAgZGVidWcoJ2NhcmV0JywgY29tcCwgb3B0aW9ucyk7CgkgIHZhciByID0gb3B0aW9ucy5sb29zZSA/IHJlW0NBUkVUTE9PU0VdIDogcmVbQ0FSRVRdOwoJICByZXR1cm4gY29tcC5yZXBsYWNlKHIsIGZ1bmN0aW9uIChfLCBNLCBtLCBwLCBwcikgewoJICAgIGRlYnVnKCdjYXJldCcsIGNvbXAsIF8sIE0sIG0sIHAsIHByKTsKCSAgICB2YXIgcmV0OwoKCSAgICBpZiAoaXNYKE0pKSB7CgkgICAgICByZXQgPSAnJzsKCSAgICB9IGVsc2UgaWYgKGlzWChtKSkgewoJICAgICAgcmV0ID0gJz49JyArIE0gKyAnLjAuMCA8JyArICgrTSArIDEpICsgJy4wLjAnOwoJICAgIH0gZWxzZSBpZiAoaXNYKHApKSB7CgkgICAgICBpZiAoTSA9PT0gJzAnKSB7CgkgICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuMCA8JyArIE0gKyAnLicgKyAoK20gKyAxKSArICcuMCc7CgkgICAgICB9IGVsc2UgewoJICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLjAgPCcgKyAoK00gKyAxKSArICcuMC4wJzsKCSAgICAgIH0KCSAgICB9IGVsc2UgaWYgKHByKSB7CgkgICAgICBkZWJ1ZygncmVwbGFjZUNhcmV0IHByJywgcHIpOwoJICAgICAgaWYgKE0gPT09ICcwJykgewoJICAgICAgICBpZiAobSA9PT0gJzAnKSB7CgkgICAgICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4nICsgcCArICctJyArIHByICsKCSAgICAgICAgICAgICAgICAnIDwnICsgTSArICcuJyArIG0gKyAnLicgKyAoK3AgKyAxKTsKCSAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICsgJy0nICsgcHIgKwoJICAgICAgICAgICAgICAgICcgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnOwoJICAgICAgICB9CgkgICAgICB9IGVsc2UgewoJICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICsgJy0nICsgcHIgKwoJICAgICAgICAgICAgICAnIDwnICsgKCtNICsgMSkgKyAnLjAuMCc7CgkgICAgICB9CgkgICAgfSBlbHNlIHsKCSAgICAgIGRlYnVnKCdubyBwcicpOwoJICAgICAgaWYgKE0gPT09ICcwJykgewoJICAgICAgICBpZiAobSA9PT0gJzAnKSB7CgkgICAgICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4nICsgcCArCgkgICAgICAgICAgICAgICAgJyA8JyArIE0gKyAnLicgKyBtICsgJy4nICsgKCtwICsgMSk7CgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4nICsgcCArCgkgICAgICAgICAgICAgICAgJyA8JyArIE0gKyAnLicgKyAoK20gKyAxKSArICcuMCc7CgkgICAgICAgIH0KCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKwoJICAgICAgICAgICAgICAnIDwnICsgKCtNICsgMSkgKyAnLjAuMCc7CgkgICAgICB9CgkgICAgfQoKCSAgICBkZWJ1ZygnY2FyZXQgcmV0dXJuJywgcmV0KTsKCSAgICByZXR1cm4gcmV0CgkgIH0pCgl9CgoJZnVuY3Rpb24gcmVwbGFjZVhSYW5nZXMgKGNvbXAsIG9wdGlvbnMpIHsKCSAgZGVidWcoJ3JlcGxhY2VYUmFuZ2VzJywgY29tcCwgb3B0aW9ucyk7CgkgIHJldHVybiBjb21wLnNwbGl0KC9ccysvKS5tYXAoZnVuY3Rpb24gKGNvbXApIHsKCSAgICByZXR1cm4gcmVwbGFjZVhSYW5nZShjb21wLCBvcHRpb25zKQoJICB9KS5qb2luKCcgJykKCX0KCglmdW5jdGlvbiByZXBsYWNlWFJhbmdlIChjb21wLCBvcHRpb25zKSB7CgkgIGNvbXAgPSBjb21wLnRyaW0oKTsKCSAgdmFyIHIgPSBvcHRpb25zLmxvb3NlID8gcmVbWFJBTkdFTE9PU0VdIDogcmVbWFJBTkdFXTsKCSAgcmV0dXJuIGNvbXAucmVwbGFjZShyLCBmdW5jdGlvbiAocmV0LCBndGx0LCBNLCBtLCBwLCBwcikgewoJICAgIGRlYnVnKCd4UmFuZ2UnLCBjb21wLCByZXQsIGd0bHQsIE0sIG0sIHAsIHByKTsKCSAgICB2YXIgeE0gPSBpc1goTSk7CgkgICAgdmFyIHhtID0geE0gfHwgaXNYKG0pOwoJICAgIHZhciB4cCA9IHhtIHx8IGlzWChwKTsKCSAgICB2YXIgYW55WCA9IHhwOwoKCSAgICBpZiAoZ3RsdCA9PT0gJz0nICYmIGFueVgpIHsKCSAgICAgIGd0bHQgPSAnJzsKCSAgICB9CgoJICAgIGlmICh4TSkgewoJICAgICAgaWYgKGd0bHQgPT09ICc+JyB8fCBndGx0ID09PSAnPCcpIHsKCSAgICAgICAgLy8gbm90aGluZyBpcyBhbGxvd2VkCgkgICAgICAgIHJldCA9ICc8MC4wLjAnOwoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgLy8gbm90aGluZyBpcyBmb3JiaWRkZW4KCSAgICAgICAgcmV0ID0gJyonOwoJICAgICAgfQoJICAgIH0gZWxzZSBpZiAoZ3RsdCAmJiBhbnlYKSB7CgkgICAgICAvLyB3ZSBrbm93IHBhdGNoIGlzIGFuIHgsIGJlY2F1c2Ugd2UgaGF2ZSBhbnkgeCBhdCBhbGwuCgkgICAgICAvLyByZXBsYWNlIFggd2l0aCAwCgkgICAgICBpZiAoeG0pIHsKCSAgICAgICAgbSA9IDA7CgkgICAgICB9CgkgICAgICBwID0gMDsKCgkgICAgICBpZiAoZ3RsdCA9PT0gJz4nKSB7CgkgICAgICAgIC8vID4xID0+ID49Mi4wLjAKCSAgICAgICAgLy8gPjEuMiA9PiA+PTEuMy4wCgkgICAgICAgIC8vID4xLjIuMyA9PiA+PSAxLjIuNAoJICAgICAgICBndGx0ID0gJz49JzsKCSAgICAgICAgaWYgKHhtKSB7CgkgICAgICAgICAgTSA9ICtNICsgMTsKCSAgICAgICAgICBtID0gMDsKCSAgICAgICAgICBwID0gMDsKCSAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICBtID0gK20gKyAxOwoJICAgICAgICAgIHAgPSAwOwoJICAgICAgICB9CgkgICAgICB9IGVsc2UgaWYgKGd0bHQgPT09ICc8PScpIHsKCSAgICAgICAgLy8gPD0wLjcueCBpcyBhY3R1YWxseSA8MC44LjAsIHNpbmNlIGFueSAwLjcueCBzaG91bGQKCSAgICAgICAgLy8gcGFzcy4gIFNpbWlsYXJseSwgPD03LnggaXMgYWN0dWFsbHkgPDguMC4wLCBldGMuCgkgICAgICAgIGd0bHQgPSAnPCc7CgkgICAgICAgIGlmICh4bSkgewoJICAgICAgICAgIE0gPSArTSArIDE7CgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgbSA9ICttICsgMTsKCSAgICAgICAgfQoJICAgICAgfQoKCSAgICAgIHJldCA9IGd0bHQgKyBNICsgJy4nICsgbSArICcuJyArIHA7CgkgICAgfSBlbHNlIGlmICh4bSkgewoJICAgICAgcmV0ID0gJz49JyArIE0gKyAnLjAuMCA8JyArICgrTSArIDEpICsgJy4wLjAnOwoJICAgIH0gZWxzZSBpZiAoeHApIHsKCSAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuMCA8JyArIE0gKyAnLicgKyAoK20gKyAxKSArICcuMCc7CgkgICAgfQoKCSAgICBkZWJ1ZygneFJhbmdlIHJldHVybicsIHJldCk7CgoJICAgIHJldHVybiByZXQKCSAgfSkKCX0KCgkvLyBCZWNhdXNlICogaXMgQU5ELWVkIHdpdGggZXZlcnl0aGluZyBlbHNlIGluIHRoZSBjb21wYXJhdG9yLAoJLy8gYW5kICcnIG1lYW5zICJhbnkgdmVyc2lvbiIsIGp1c3QgcmVtb3ZlIHRoZSAqcyBlbnRpcmVseS4KCWZ1bmN0aW9uIHJlcGxhY2VTdGFycyAoY29tcCwgb3B0aW9ucykgewoJICBkZWJ1ZygncmVwbGFjZVN0YXJzJywgY29tcCwgb3B0aW9ucyk7CgkgIC8vIExvb3NlbmVzcyBpcyBpZ25vcmVkIGhlcmUuICBzdGFyIGlzIGFsd2F5cyBhcyBsb29zZSBhcyBpdCBnZXRzIQoJICByZXR1cm4gY29tcC50cmltKCkucmVwbGFjZShyZVtTVEFSXSwgJycpCgl9CgoJLy8gVGhpcyBmdW5jdGlvbiBpcyBwYXNzZWQgdG8gc3RyaW5nLnJlcGxhY2UocmVbSFlQSEVOUkFOR0VdKQoJLy8gTSwgbSwgcGF0Y2gsIHByZXJlbGVhc2UsIGJ1aWxkCgkvLyAxLjIgLSAzLjQuNSA9PiA+PTEuMi4wIDw9My40LjUKCS8vIDEuMi4zIC0gMy40ID0+ID49MS4yLjAgPDMuNS4wIEFueSAzLjQueCB3aWxsIGRvCgkvLyAxLjIgLSAzLjQgPT4gPj0xLjIuMCA8My41LjAKCWZ1bmN0aW9uIGh5cGhlblJlcGxhY2UgKCQwLAoJICBmcm9tLCBmTSwgZm0sIGZwLCBmcHIsIGZiLAoJICB0bywgdE0sIHRtLCB0cCwgdHByLCB0YikgewoJICBpZiAoaXNYKGZNKSkgewoJICAgIGZyb20gPSAnJzsKCSAgfSBlbHNlIGlmIChpc1goZm0pKSB7CgkgICAgZnJvbSA9ICc+PScgKyBmTSArICcuMC4wJzsKCSAgfSBlbHNlIGlmIChpc1goZnApKSB7CgkgICAgZnJvbSA9ICc+PScgKyBmTSArICcuJyArIGZtICsgJy4wJzsKCSAgfSBlbHNlIHsKCSAgICBmcm9tID0gJz49JyArIGZyb207CgkgIH0KCgkgIGlmIChpc1godE0pKSB7CgkgICAgdG8gPSAnJzsKCSAgfSBlbHNlIGlmIChpc1godG0pKSB7CgkgICAgdG8gPSAnPCcgKyAoK3RNICsgMSkgKyAnLjAuMCc7CgkgIH0gZWxzZSBpZiAoaXNYKHRwKSkgewoJICAgIHRvID0gJzwnICsgdE0gKyAnLicgKyAoK3RtICsgMSkgKyAnLjAnOwoJICB9IGVsc2UgaWYgKHRwcikgewoJICAgIHRvID0gJzw9JyArIHRNICsgJy4nICsgdG0gKyAnLicgKyB0cCArICctJyArIHRwcjsKCSAgfSBlbHNlIHsKCSAgICB0byA9ICc8PScgKyB0bzsKCSAgfQoKCSAgcmV0dXJuIChmcm9tICsgJyAnICsgdG8pLnRyaW0oKQoJfQoKCS8vIGlmIEFOWSBvZiB0aGUgc2V0cyBtYXRjaCBBTEwgb2YgaXRzIGNvbXBhcmF0b3JzLCB0aGVuIHBhc3MKCVJhbmdlLnByb3RvdHlwZS50ZXN0ID0gZnVuY3Rpb24gKHZlcnNpb24pIHsKCSAgaWYgKCF2ZXJzaW9uKSB7CgkgICAgcmV0dXJuIGZhbHNlCgkgIH0KCgkgIGlmICh0eXBlb2YgdmVyc2lvbiA9PT0gJ3N0cmluZycpIHsKCSAgICB2ZXJzaW9uID0gbmV3IFNlbVZlcih2ZXJzaW9uLCB0aGlzLm9wdGlvbnMpOwoJICB9CgoJICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2V0Lmxlbmd0aDsgaSsrKSB7CgkgICAgaWYgKHRlc3RTZXQodGhpcy5zZXRbaV0sIHZlcnNpb24sIHRoaXMub3B0aW9ucykpIHsKCSAgICAgIHJldHVybiB0cnVlCgkgICAgfQoJICB9CgkgIHJldHVybiBmYWxzZQoJfTsKCglmdW5jdGlvbiB0ZXN0U2V0IChzZXQsIHZlcnNpb24sIG9wdGlvbnMpIHsKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspIHsKCSAgICBpZiAoIXNldFtpXS50ZXN0KHZlcnNpb24pKSB7CgkgICAgICByZXR1cm4gZmFsc2UKCSAgICB9CgkgIH0KCgkgIGlmICh2ZXJzaW9uLnByZXJlbGVhc2UubGVuZ3RoICYmICFvcHRpb25zLmluY2x1ZGVQcmVyZWxlYXNlKSB7CgkgICAgLy8gRmluZCB0aGUgc2V0IG9mIHZlcnNpb25zIHRoYXQgYXJlIGFsbG93ZWQgdG8gaGF2ZSBwcmVyZWxlYXNlcwoJICAgIC8vIEZvciBleGFtcGxlLCBeMS4yLjMtcHIuMSBkZXN1Z2FycyB0byA+PTEuMi4zLXByLjEgPDIuMC4wCgkgICAgLy8gVGhhdCBzaG91bGQgYWxsb3cgYDEuMi4zLXByLjJgIHRvIHBhc3MuCgkgICAgLy8gSG93ZXZlciwgYDEuMi40LWFscGhhLm5vdHJlYWR5YCBzaG91bGQgTk9UIGJlIGFsbG93ZWQsCgkgICAgLy8gZXZlbiB0aG91Z2ggaXQncyB3aXRoaW4gdGhlIHJhbmdlIHNldCBieSB0aGUgY29tcGFyYXRvcnMuCgkgICAgZm9yIChpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKykgewoJICAgICAgZGVidWcoc2V0W2ldLnNlbXZlcik7CgkgICAgICBpZiAoc2V0W2ldLnNlbXZlciA9PT0gQU5ZKSB7CgkgICAgICAgIGNvbnRpbnVlCgkgICAgICB9CgoJICAgICAgaWYgKHNldFtpXS5zZW12ZXIucHJlcmVsZWFzZS5sZW5ndGggPiAwKSB7CgkgICAgICAgIHZhciBhbGxvd2VkID0gc2V0W2ldLnNlbXZlcjsKCSAgICAgICAgaWYgKGFsbG93ZWQubWFqb3IgPT09IHZlcnNpb24ubWFqb3IgJiYKCSAgICAgICAgICAgIGFsbG93ZWQubWlub3IgPT09IHZlcnNpb24ubWlub3IgJiYKCSAgICAgICAgICAgIGFsbG93ZWQucGF0Y2ggPT09IHZlcnNpb24ucGF0Y2gpIHsKCSAgICAgICAgICByZXR1cm4gdHJ1ZQoJICAgICAgICB9CgkgICAgICB9CgkgICAgfQoKCSAgICAvLyBWZXJzaW9uIGhhcyBhIC1wcmUsIGJ1dCBpdCdzIG5vdCBvbmUgb2YgdGhlIG9uZXMgd2UgbGlrZS4KCSAgICByZXR1cm4gZmFsc2UKCSAgfQoKCSAgcmV0dXJuIHRydWUKCX0KCglleHBvcnRzLnNhdGlzZmllcyA9IHNhdGlzZmllczsKCWZ1bmN0aW9uIHNhdGlzZmllcyAodmVyc2lvbiwgcmFuZ2UsIG9wdGlvbnMpIHsKCSAgdHJ5IHsKCSAgICByYW5nZSA9IG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucyk7CgkgIH0gY2F0Y2ggKGVyKSB7CgkgICAgcmV0dXJuIGZhbHNlCgkgIH0KCSAgcmV0dXJuIHJhbmdlLnRlc3QodmVyc2lvbikKCX0KCglleHBvcnRzLm1heFNhdGlzZnlpbmcgPSBtYXhTYXRpc2Z5aW5nOwoJZnVuY3Rpb24gbWF4U2F0aXNmeWluZyAodmVyc2lvbnMsIHJhbmdlLCBvcHRpb25zKSB7CgkgIHZhciBtYXggPSBudWxsOwoJICB2YXIgbWF4U1YgPSBudWxsOwoJICB0cnkgewoJICAgIHZhciByYW5nZU9iaiA9IG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucyk7CgkgIH0gY2F0Y2ggKGVyKSB7CgkgICAgcmV0dXJuIG51bGwKCSAgfQoJICB2ZXJzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7CgkgICAgaWYgKHJhbmdlT2JqLnRlc3QodikpIHsKCSAgICAgIC8vIHNhdGlzZmllcyh2LCByYW5nZSwgb3B0aW9ucykKCSAgICAgIGlmICghbWF4IHx8IG1heFNWLmNvbXBhcmUodikgPT09IC0xKSB7CgkgICAgICAgIC8vIGNvbXBhcmUobWF4LCB2LCB0cnVlKQoJICAgICAgICBtYXggPSB2OwoJICAgICAgICBtYXhTViA9IG5ldyBTZW1WZXIobWF4LCBvcHRpb25zKTsKCSAgICAgIH0KCSAgICB9CgkgIH0pOwoJICByZXR1cm4gbWF4Cgl9CgoJZXhwb3J0cy5taW5TYXRpc2Z5aW5nID0gbWluU2F0aXNmeWluZzsKCWZ1bmN0aW9uIG1pblNhdGlzZnlpbmcgKHZlcnNpb25zLCByYW5nZSwgb3B0aW9ucykgewoJICB2YXIgbWluID0gbnVsbDsKCSAgdmFyIG1pblNWID0gbnVsbDsKCSAgdHJ5IHsKCSAgICB2YXIgcmFuZ2VPYmogPSBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpOwoJICB9IGNhdGNoIChlcikgewoJICAgIHJldHVybiBudWxsCgkgIH0KCSAgdmVyc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAodikgewoJICAgIGlmIChyYW5nZU9iai50ZXN0KHYpKSB7CgkgICAgICAvLyBzYXRpc2ZpZXModiwgcmFuZ2UsIG9wdGlvbnMpCgkgICAgICBpZiAoIW1pbiB8fCBtaW5TVi5jb21wYXJlKHYpID09PSAxKSB7CgkgICAgICAgIC8vIGNvbXBhcmUobWluLCB2LCB0cnVlKQoJICAgICAgICBtaW4gPSB2OwoJICAgICAgICBtaW5TViA9IG5ldyBTZW1WZXIobWluLCBvcHRpb25zKTsKCSAgICAgIH0KCSAgICB9CgkgIH0pOwoJICByZXR1cm4gbWluCgl9CgoJZXhwb3J0cy5taW5WZXJzaW9uID0gbWluVmVyc2lvbjsKCWZ1bmN0aW9uIG1pblZlcnNpb24gKHJhbmdlLCBsb29zZSkgewoJICByYW5nZSA9IG5ldyBSYW5nZShyYW5nZSwgbG9vc2UpOwoKCSAgdmFyIG1pbnZlciA9IG5ldyBTZW1WZXIoJzAuMC4wJyk7CgkgIGlmIChyYW5nZS50ZXN0KG1pbnZlcikpIHsKCSAgICByZXR1cm4gbWludmVyCgkgIH0KCgkgIG1pbnZlciA9IG5ldyBTZW1WZXIoJzAuMC4wLTAnKTsKCSAgaWYgKHJhbmdlLnRlc3QobWludmVyKSkgewoJICAgIHJldHVybiBtaW52ZXIKCSAgfQoKCSAgbWludmVyID0gbnVsbDsKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZS5zZXQubGVuZ3RoOyArK2kpIHsKCSAgICB2YXIgY29tcGFyYXRvcnMgPSByYW5nZS5zZXRbaV07CgoJICAgIGNvbXBhcmF0b3JzLmZvckVhY2goZnVuY3Rpb24gKGNvbXBhcmF0b3IpIHsKCSAgICAgIC8vIENsb25lIHRvIGF2b2lkIG1hbmlwdWxhdGluZyB0aGUgY29tcGFyYXRvcidzIHNlbXZlciBvYmplY3QuCgkgICAgICB2YXIgY29tcHZlciA9IG5ldyBTZW1WZXIoY29tcGFyYXRvci5zZW12ZXIudmVyc2lvbik7CgkgICAgICBzd2l0Y2ggKGNvbXBhcmF0b3Iub3BlcmF0b3IpIHsKCSAgICAgICAgY2FzZSAnPic6CgkgICAgICAgICAgaWYgKGNvbXB2ZXIucHJlcmVsZWFzZS5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICAgIGNvbXB2ZXIucGF0Y2grKzsKCSAgICAgICAgICB9IGVsc2UgewoJICAgICAgICAgICAgY29tcHZlci5wcmVyZWxlYXNlLnB1c2goMCk7CgkgICAgICAgICAgfQoJICAgICAgICAgIGNvbXB2ZXIucmF3ID0gY29tcHZlci5mb3JtYXQoKTsKCSAgICAgICAgICAvKiBmYWxsdGhyb3VnaCAqLwoJICAgICAgICBjYXNlICcnOgoJICAgICAgICBjYXNlICc+PSc6CgkgICAgICAgICAgaWYgKCFtaW52ZXIgfHwgZ3QobWludmVyLCBjb21wdmVyKSkgewoJICAgICAgICAgICAgbWludmVyID0gY29tcHZlcjsKCSAgICAgICAgICB9CgkgICAgICAgICAgYnJlYWsKCSAgICAgICAgY2FzZSAnPCc6CgkgICAgICAgIGNhc2UgJzw9JzoKCSAgICAgICAgICAvKiBJZ25vcmUgbWF4aW11bSB2ZXJzaW9ucyAqLwoJICAgICAgICAgIGJyZWFrCgkgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCgkgICAgICAgIGRlZmF1bHQ6CgkgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIG9wZXJhdGlvbjogJyArIGNvbXBhcmF0b3Iub3BlcmF0b3IpCgkgICAgICB9CgkgICAgfSk7CgkgIH0KCgkgIGlmIChtaW52ZXIgJiYgcmFuZ2UudGVzdChtaW52ZXIpKSB7CgkgICAgcmV0dXJuIG1pbnZlcgoJICB9CgoJICByZXR1cm4gbnVsbAoJfQoKCWV4cG9ydHMudmFsaWRSYW5nZSA9IHZhbGlkUmFuZ2U7CglmdW5jdGlvbiB2YWxpZFJhbmdlIChyYW5nZSwgb3B0aW9ucykgewoJICB0cnkgewoJICAgIC8vIFJldHVybiAnKicgaW5zdGVhZCBvZiAnJyBzbyB0aGF0IHRydXRoaW5lc3Mgd29ya3MuCgkgICAgLy8gVGhpcyB3aWxsIHRocm93IGlmIGl0J3MgaW52YWxpZCBhbnl3YXkKCSAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKS5yYW5nZSB8fCAnKicKCSAgfSBjYXRjaCAoZXIpIHsKCSAgICByZXR1cm4gbnVsbAoJICB9Cgl9CgoJLy8gRGV0ZXJtaW5lIGlmIHZlcnNpb24gaXMgbGVzcyB0aGFuIGFsbCB0aGUgdmVyc2lvbnMgcG9zc2libGUgaW4gdGhlIHJhbmdlCglleHBvcnRzLmx0ciA9IGx0cjsKCWZ1bmN0aW9uIGx0ciAodmVyc2lvbiwgcmFuZ2UsIG9wdGlvbnMpIHsKCSAgcmV0dXJuIG91dHNpZGUodmVyc2lvbiwgcmFuZ2UsICc8Jywgb3B0aW9ucykKCX0KCgkvLyBEZXRlcm1pbmUgaWYgdmVyc2lvbiBpcyBncmVhdGVyIHRoYW4gYWxsIHRoZSB2ZXJzaW9ucyBwb3NzaWJsZSBpbiB0aGUgcmFuZ2UuCglleHBvcnRzLmd0ciA9IGd0cjsKCWZ1bmN0aW9uIGd0ciAodmVyc2lvbiwgcmFuZ2UsIG9wdGlvbnMpIHsKCSAgcmV0dXJuIG91dHNpZGUodmVyc2lvbiwgcmFuZ2UsICc+Jywgb3B0aW9ucykKCX0KCglleHBvcnRzLm91dHNpZGUgPSBvdXRzaWRlOwoJZnVuY3Rpb24gb3V0c2lkZSAodmVyc2lvbiwgcmFuZ2UsIGhpbG8sIG9wdGlvbnMpIHsKCSAgdmVyc2lvbiA9IG5ldyBTZW1WZXIodmVyc2lvbiwgb3B0aW9ucyk7CgkgIHJhbmdlID0gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKTsKCgkgIHZhciBndGZuLCBsdGVmbiwgbHRmbiwgY29tcCwgZWNvbXA7CgkgIHN3aXRjaCAoaGlsbykgewoJICAgIGNhc2UgJz4nOgoJICAgICAgZ3RmbiA9IGd0OwoJICAgICAgbHRlZm4gPSBsdGU7CgkgICAgICBsdGZuID0gbHQ7CgkgICAgICBjb21wID0gJz4nOwoJICAgICAgZWNvbXAgPSAnPj0nOwoJICAgICAgYnJlYWsKCSAgICBjYXNlICc8JzoKCSAgICAgIGd0Zm4gPSBsdDsKCSAgICAgIGx0ZWZuID0gZ3RlOwoJICAgICAgbHRmbiA9IGd0OwoJICAgICAgY29tcCA9ICc8JzsKCSAgICAgIGVjb21wID0gJzw9JzsKCSAgICAgIGJyZWFrCgkgICAgZGVmYXVsdDoKCSAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ011c3QgcHJvdmlkZSBhIGhpbG8gdmFsIG9mICI8IiBvciAiPiInKQoJICB9CgoJICAvLyBJZiBpdCBzYXRpc2lmZXMgdGhlIHJhbmdlIGl0IGlzIG5vdCBvdXRzaWRlCgkgIGlmIChzYXRpc2ZpZXModmVyc2lvbiwgcmFuZ2UsIG9wdGlvbnMpKSB7CgkgICAgcmV0dXJuIGZhbHNlCgkgIH0KCgkgIC8vIEZyb20gbm93IG9uLCB2YXJpYWJsZSB0ZXJtcyBhcmUgYXMgaWYgd2UncmUgaW4gImd0ciIgbW9kZS4KCSAgLy8gYnV0IG5vdGUgdGhhdCBldmVyeXRoaW5nIGlzIGZsaXBwZWQgZm9yIHRoZSAibHRyIiBmdW5jdGlvbi4KCgkgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2Uuc2V0Lmxlbmd0aDsgKytpKSB7CgkgICAgdmFyIGNvbXBhcmF0b3JzID0gcmFuZ2Uuc2V0W2ldOwoKCSAgICB2YXIgaGlnaCA9IG51bGw7CgkgICAgdmFyIGxvdyA9IG51bGw7CgoJICAgIGNvbXBhcmF0b3JzLmZvckVhY2goZnVuY3Rpb24gKGNvbXBhcmF0b3IpIHsKCSAgICAgIGlmIChjb21wYXJhdG9yLnNlbXZlciA9PT0gQU5ZKSB7CgkgICAgICAgIGNvbXBhcmF0b3IgPSBuZXcgQ29tcGFyYXRvcignPj0wLjAuMCcpOwoJICAgICAgfQoJICAgICAgaGlnaCA9IGhpZ2ggfHwgY29tcGFyYXRvcjsKCSAgICAgIGxvdyA9IGxvdyB8fCBjb21wYXJhdG9yOwoJICAgICAgaWYgKGd0Zm4oY29tcGFyYXRvci5zZW12ZXIsIGhpZ2guc2VtdmVyLCBvcHRpb25zKSkgewoJICAgICAgICBoaWdoID0gY29tcGFyYXRvcjsKCSAgICAgIH0gZWxzZSBpZiAobHRmbihjb21wYXJhdG9yLnNlbXZlciwgbG93LnNlbXZlciwgb3B0aW9ucykpIHsKCSAgICAgICAgbG93ID0gY29tcGFyYXRvcjsKCSAgICAgIH0KCSAgICB9KTsKCgkgICAgLy8gSWYgdGhlIGVkZ2UgdmVyc2lvbiBjb21wYXJhdG9yIGhhcyBhIG9wZXJhdG9yIHRoZW4gb3VyIHZlcnNpb24KCSAgICAvLyBpc24ndCBvdXRzaWRlIGl0CgkgICAgaWYgKGhpZ2gub3BlcmF0b3IgPT09IGNvbXAgfHwgaGlnaC5vcGVyYXRvciA9PT0gZWNvbXApIHsKCSAgICAgIHJldHVybiBmYWxzZQoJICAgIH0KCgkgICAgLy8gSWYgdGhlIGxvd2VzdCB2ZXJzaW9uIGNvbXBhcmF0b3IgaGFzIGFuIG9wZXJhdG9yIGFuZCBvdXIgdmVyc2lvbgoJICAgIC8vIGlzIGxlc3MgdGhhbiBpdCB0aGVuIGl0IGlzbid0IGhpZ2hlciB0aGFuIHRoZSByYW5nZQoJICAgIGlmICgoIWxvdy5vcGVyYXRvciB8fCBsb3cub3BlcmF0b3IgPT09IGNvbXApICYmCgkgICAgICAgIGx0ZWZuKHZlcnNpb24sIGxvdy5zZW12ZXIpKSB7CgkgICAgICByZXR1cm4gZmFsc2UKCSAgICB9IGVsc2UgaWYgKGxvdy5vcGVyYXRvciA9PT0gZWNvbXAgJiYgbHRmbih2ZXJzaW9uLCBsb3cuc2VtdmVyKSkgewoJICAgICAgcmV0dXJuIGZhbHNlCgkgICAgfQoJICB9CgkgIHJldHVybiB0cnVlCgl9CgoJZXhwb3J0cy5wcmVyZWxlYXNlID0gcHJlcmVsZWFzZTsKCWZ1bmN0aW9uIHByZXJlbGVhc2UgKHZlcnNpb24sIG9wdGlvbnMpIHsKCSAgdmFyIHBhcnNlZCA9IHBhcnNlKHZlcnNpb24sIG9wdGlvbnMpOwoJICByZXR1cm4gKHBhcnNlZCAmJiBwYXJzZWQucHJlcmVsZWFzZS5sZW5ndGgpID8gcGFyc2VkLnByZXJlbGVhc2UgOiBudWxsCgl9CgoJZXhwb3J0cy5pbnRlcnNlY3RzID0gaW50ZXJzZWN0czsKCWZ1bmN0aW9uIGludGVyc2VjdHMgKHIxLCByMiwgb3B0aW9ucykgewoJICByMSA9IG5ldyBSYW5nZShyMSwgb3B0aW9ucyk7CgkgIHIyID0gbmV3IFJhbmdlKHIyLCBvcHRpb25zKTsKCSAgcmV0dXJuIHIxLmludGVyc2VjdHMocjIpCgl9CgoJZXhwb3J0cy5jb2VyY2UgPSBjb2VyY2U7CglmdW5jdGlvbiBjb2VyY2UgKHZlcnNpb24pIHsKCSAgaWYgKHZlcnNpb24gaW5zdGFuY2VvZiBTZW1WZXIpIHsKCSAgICByZXR1cm4gdmVyc2lvbgoJICB9CgoJICBpZiAodHlwZW9mIHZlcnNpb24gIT09ICdzdHJpbmcnKSB7CgkgICAgcmV0dXJuIG51bGwKCSAgfQoKCSAgdmFyIG1hdGNoID0gdmVyc2lvbi5tYXRjaChyZVtDT0VSQ0VdKTsKCgkgIGlmIChtYXRjaCA9PSBudWxsKSB7CgkgICAgcmV0dXJuIG51bGwKCSAgfQoKCSAgcmV0dXJuIHBhcnNlKG1hdGNoWzFdICsKCSAgICAnLicgKyAobWF0Y2hbMl0gfHwgJzAnKSArCgkgICAgJy4nICsgKG1hdGNoWzNdIHx8ICcwJykpCgl9Cgl9KHNlbXZlciQxLCBzZW12ZXIkMS5leHBvcnRzKSk7CgoJdmFyIGFzc2VydCA9IGFzc2VydCQzOwoJdmFyIHRyYW5zbGF0ZSA9IHRyYW5zbGF0ZSQxOwoJdmFyIHJlcXVpcmVGcm9tU3RyaW5nID0gcmVxdWlyZUZyb21TdHJpbmckMS5leHBvcnRzOwoJdmFyIGh0dHBzID0gZm9sbG93UmVkaXJlY3RzLmV4cG9ydHMuaHR0cHM7Cgl2YXIgTWVtb3J5U3RyZWFtID0gbWVtb3J5c3RyZWFtOwoJdmFyIHNlbXZlciA9IHNlbXZlciQxLmV4cG9ydHM7CgoJZnVuY3Rpb24gc2V0dXBNZXRob2RzIChzb2xqc29uKSB7CgkgIHZhciB2ZXJzaW9uOwoJICBpZiAoJ19zb2xpZGl0eV92ZXJzaW9uJyBpbiBzb2xqc29uKSB7CgkgICAgdmVyc2lvbiA9IHNvbGpzb24uY3dyYXAoJ3NvbGlkaXR5X3ZlcnNpb24nLCAnc3RyaW5nJywgW10pOwoJICB9IGVsc2UgewoJICAgIHZlcnNpb24gPSBzb2xqc29uLmN3cmFwKCd2ZXJzaW9uJywgJ3N0cmluZycsIFtdKTsKCSAgfQoKCSAgdmFyIHZlcnNpb25Ub1NlbXZlciA9IGZ1bmN0aW9uICgpIHsKCSAgICByZXR1cm4gdHJhbnNsYXRlLnZlcnNpb25Ub1NlbXZlcih2ZXJzaW9uKCkpOwoJICB9OwoKCSAgdmFyIGlzVmVyc2lvbjYgPSBzZW12ZXIuZ3QodmVyc2lvblRvU2VtdmVyKCksICcwLjUuOTknKTsKCgkgIHZhciBsaWNlbnNlOwoJICBpZiAoJ19zb2xpZGl0eV9saWNlbnNlJyBpbiBzb2xqc29uKSB7CgkgICAgbGljZW5zZSA9IHNvbGpzb24uY3dyYXAoJ3NvbGlkaXR5X2xpY2Vuc2UnLCAnc3RyaW5nJywgW10pOwoJICB9IGVsc2UgaWYgKCdfbGljZW5zZScgaW4gc29sanNvbikgewoJICAgIGxpY2Vuc2UgPSBzb2xqc29uLmN3cmFwKCdsaWNlbnNlJywgJ3N0cmluZycsIFtdKTsKCSAgfSBlbHNlIHsKCSAgICAvLyBwcmUgMC40LjE0CgkgICAgbGljZW5zZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgIC8vIHJldHVybiB1bmRlZmluZWQKCSAgICB9OwoJICB9CgoJICB2YXIgYWxsb2M7CgkgIGlmICgnX3NvbGlkaXR5X2FsbG9jJyBpbiBzb2xqc29uKSB7CgkgICAgYWxsb2MgPSBzb2xqc29uLmN3cmFwKCdzb2xpZGl0eV9hbGxvYycsICdudW1iZXInLCBbICdudW1iZXInIF0pOwoJICB9IGVsc2UgewoJICAgIGFsbG9jID0gc29sanNvbi5fbWFsbG9jOwoJICAgIGFzc2VydChhbGxvYywgJ0V4cGVjdGVkIG1hbGxvYyB0byBiZSBwcmVzZW50LicpOwoJICB9CgoJICB2YXIgcmVzZXQ7CgkgIGlmICgnX3NvbGlkaXR5X3Jlc2V0JyBpbiBzb2xqc29uKSB7CgkgICAgcmVzZXQgPSBzb2xqc29uLmN3cmFwKCdzb2xpZGl0eV9yZXNldCcsIG51bGwsIFtdKTsKCSAgfQoKCSAgdmFyIGNvcHlUb0NTdHJpbmcgPSBmdW5jdGlvbiAoc3RyLCBwdHIpIHsKCSAgICB2YXIgbGVuZ3RoID0gc29sanNvbi5sZW5ndGhCeXRlc1VURjgoc3RyKTsKCSAgICAvLyBUaGlzIGlzIGFsbG9jYXRpbmcgbWVtb3J5IHVzaW5nIHNvbGMncyBhbGxvY2F0b3IuCgkgICAgLy8KCSAgICAvLyBCZWZvcmUgMC42LjA6CgkgICAgLy8gICBBc3N1bWluZyBjb3B5VG9DU3RyaW5nIGlzIG9ubHkgdXNlZCBpbiB0aGUgY29udGV4dCBvZiB3cmFwQ2FsbGJhY2ssIHNvbGMgd2lsbCBmcmVlIHRoZXNlIHBvaW50ZXJzLgoJICAgIC8vICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9zb2xpZGl0eS9ibG9iL3YwLjUuMTMvbGlic29sYy9saWJzb2xjLmgjTDM3LUw0MAoJICAgIC8vCgkgICAgLy8gQWZ0ZXIgMC42LjA6CgkgICAgLy8gICBUaGUgZHV0eSBpcyBvbiBzb2xjLWpzIHRvIGZyZWUgdGhlc2UgcG9pbnRlcnMuIFdlIGFjY29tcGxpc2ggdGhhdCBieSBjYWxsaW5nIGByZXNldGAgYXQgdGhlIGVuZC4KCSAgICB2YXIgYnVmZmVyID0gYWxsb2MobGVuZ3RoICsgMSk7CgkgICAgc29sanNvbi5zdHJpbmdUb1VURjgoc3RyLCBidWZmZXIsIGxlbmd0aCArIDEpOwoJICAgIHNvbGpzb24uc2V0VmFsdWUocHRyLCBidWZmZXIsICcqJyk7CgkgIH07CgoJICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgbXVsdGlwbGUgdmVyc2lvbnMgb2YgRW1zY3JpcHRlbi4KCSAgLy8gVGFrZSBhIHNpbmdsZSBgcHRyYCBhbmQgcmV0dXJucyBhIGBzdHJgLgoJICB2YXIgY29weUZyb21DU3RyaW5nID0gc29sanNvbi5VVEY4VG9TdHJpbmcgfHwgc29sanNvbi5Qb2ludGVyX3N0cmluZ2lmeTsKCgkgIHZhciB3cmFwQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKCSAgICBhc3NlcnQodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nLCAnSW52YWxpZCBjYWxsYmFjayBzcGVjaWZpZWQuJyk7CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkYXRhLCBjb250ZW50cywgZXJyb3IpIHsKCSAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhjb3B5RnJvbUNTdHJpbmcoZGF0YSkpOwoJICAgICAgaWYgKHR5cGVvZiByZXN1bHQuY29udGVudHMgPT09ICdzdHJpbmcnKSB7CgkgICAgICAgIGNvcHlUb0NTdHJpbmcocmVzdWx0LmNvbnRlbnRzLCBjb250ZW50cyk7CgkgICAgICB9CgkgICAgICBpZiAodHlwZW9mIHJlc3VsdC5lcnJvciA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgY29weVRvQ1N0cmluZyhyZXN1bHQuZXJyb3IsIGVycm9yKTsKCSAgICAgIH0KCSAgICB9OwoJICB9OwoKCSAgdmFyIHdyYXBDYWxsYmFja1dpdGhLaW5kID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CgkgICAgYXNzZXJ0KHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJywgJ0ludmFsaWQgY2FsbGJhY2sgc3BlY2lmaWVkLicpOwoJICAgIHJldHVybiBmdW5jdGlvbiAoY29udGV4dCwga2luZCwgZGF0YSwgY29udGVudHMsIGVycm9yKSB7CgkgICAgICAvLyBNdXN0IGJlIGEgbnVsbCBwb2ludGVyLgoJICAgICAgYXNzZXJ0KGNvbnRleHQgPT09IDAsICdDYWxsYmFjayBjb250ZXh0IG11c3QgYmUgbnVsbC4nKTsKCSAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhjb3B5RnJvbUNTdHJpbmcoa2luZCksIGNvcHlGcm9tQ1N0cmluZyhkYXRhKSk7CgkgICAgICBpZiAodHlwZW9mIHJlc3VsdC5jb250ZW50cyA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgY29weVRvQ1N0cmluZyhyZXN1bHQuY29udGVudHMsIGNvbnRlbnRzKTsKCSAgICAgIH0KCSAgICAgIGlmICh0eXBlb2YgcmVzdWx0LmVycm9yID09PSAnc3RyaW5nJykgewoJICAgICAgICBjb3B5VG9DU3RyaW5nKHJlc3VsdC5lcnJvciwgZXJyb3IpOwoJICAgICAgfQoJICAgIH07CgkgIH07CgoJICAvLyBUaGlzIGNhbGxzIGNvbXBpbGUoKSB3aXRoIGFyZ3MgfHwgY2IKCSAgdmFyIHJ1bldpdGhDYWxsYmFja3MgPSBmdW5jdGlvbiAoY2FsbGJhY2tzLCBjb21waWxlLCBhcmdzKSB7CgkgICAgaWYgKGNhbGxiYWNrcykgewoJICAgICAgYXNzZXJ0KHR5cGVvZiBjYWxsYmFja3MgPT09ICdvYmplY3QnLCAnSW52YWxpZCBjYWxsYmFjayBvYmplY3Qgc3BlY2lmaWVkLicpOwoJICAgIH0gZWxzZSB7CgkgICAgICBjYWxsYmFja3MgPSB7fTsKCSAgICB9CgoJICAgIHZhciByZWFkQ2FsbGJhY2sgPSBjYWxsYmFja3MuaW1wb3J0OwoJICAgIGlmIChyZWFkQ2FsbGJhY2sgPT09IHVuZGVmaW5lZCkgewoJICAgICAgcmVhZENhbGxiYWNrID0gZnVuY3Rpb24gKGRhdGEpIHsKCSAgICAgICAgcmV0dXJuIHsKCSAgICAgICAgICBlcnJvcjogJ0ZpbGUgaW1wb3J0IGNhbGxiYWNrIG5vdCBzdXBwb3J0ZWQnCgkgICAgICAgIH07CgkgICAgICB9OwoJICAgIH0KCgkgICAgdmFyIHNpbmdsZUNhbGxiYWNrOwoJICAgIGlmIChpc1ZlcnNpb242KSB7CgkgICAgICAvLyBBZnRlciAwLjYueCBtdWx0aXBsZSBraW5kIG9mIGNhbGxiYWNrcyBhcmUgc3VwcG9ydGVkLgoJICAgICAgdmFyIHNtdFNvbHZlckNhbGxiYWNrID0gY2FsbGJhY2tzLnNtdFNvbHZlcjsKCSAgICAgIGlmIChzbXRTb2x2ZXJDYWxsYmFjayA9PT0gdW5kZWZpbmVkKSB7CgkgICAgICAgIHNtdFNvbHZlckNhbGxiYWNrID0gZnVuY3Rpb24gKGRhdGEpIHsKCSAgICAgICAgICByZXR1cm4gewoJICAgICAgICAgICAgZXJyb3I6ICdTTVQgc29sdmVyIGNhbGxiYWNrIG5vdCBzdXBwb3J0ZWQnCgkgICAgICAgICAgfTsKCSAgICAgICAgfTsKCSAgICAgIH0KCgkgICAgICBzaW5nbGVDYWxsYmFjayA9IGZ1bmN0aW9uIChraW5kLCBkYXRhKSB7CgkgICAgICAgIGlmIChraW5kID09PSAnc291cmNlJykgewoJICAgICAgICAgIHJldHVybiByZWFkQ2FsbGJhY2soZGF0YSk7CgkgICAgICAgIH0gZWxzZSBpZiAoa2luZCA9PT0gJ3NtdC1xdWVyeScpIHsKCSAgICAgICAgICByZXR1cm4gc210U29sdmVyQ2FsbGJhY2soZGF0YSk7CgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgYXNzZXJ0KGZhbHNlLCAnSW52YWxpZCBjYWxsYmFjayBraW5kIHNwZWNpZmllZC4nKTsKCSAgICAgICAgfQoJICAgICAgfTsKCgkgICAgICBzaW5nbGVDYWxsYmFjayA9IHdyYXBDYWxsYmFja1dpdGhLaW5kKHNpbmdsZUNhbGxiYWNrKTsKCSAgICB9IGVsc2UgewoJICAgICAgLy8gT2xkIFNvbGlkaXR5IHZlcnNpb24gb25seSBzdXBwb3J0ZWQgaW1wb3J0cy4KCSAgICAgIHNpbmdsZUNhbGxiYWNrID0gd3JhcENhbGxiYWNrKHJlYWRDYWxsYmFjayk7CgkgICAgfQoKCSAgICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgbXVsdGlwbGUgdmVyc2lvbnMgb2YgRW1zY3JpcHRlbi4KCSAgICB2YXIgYWRkRnVuY3Rpb24gPSBzb2xqc29uLmFkZEZ1bmN0aW9uIHx8IHNvbGpzb24uUnVudGltZS5hZGRGdW5jdGlvbjsKCSAgICB2YXIgcmVtb3ZlRnVuY3Rpb24gPSBzb2xqc29uLnJlbW92ZUZ1bmN0aW9uIHx8IHNvbGpzb24uUnVudGltZS5yZW1vdmVGdW5jdGlvbjsKCgkgICAgdmFyIGNiID0gYWRkRnVuY3Rpb24oc2luZ2xlQ2FsbGJhY2ssICd2aWlpaWknKTsKCSAgICB2YXIgb3V0cHV0OwoJICAgIHRyeSB7CgkgICAgICBhcmdzLnB1c2goY2IpOwoJICAgICAgaWYgKGlzVmVyc2lvbjYpIHsKCSAgICAgICAgLy8gQ2FsbGJhY2sgY29udGV4dC4KCSAgICAgICAgYXJncy5wdXNoKG51bGwpOwoJICAgICAgfQoJICAgICAgb3V0cHV0ID0gY29tcGlsZS5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOwoJICAgIH0gY2F0Y2ggKGUpIHsKCSAgICAgIHJlbW92ZUZ1bmN0aW9uKGNiKTsKCSAgICAgIHRocm93IGU7CgkgICAgfQoJICAgIHJlbW92ZUZ1bmN0aW9uKGNiKTsKCSAgICBpZiAocmVzZXQpIHsKCSAgICAgIC8vIEV4cGxpY2l0bHkgZnJlZSBtZW1vcnkuCgkgICAgICAvLwoJICAgICAgLy8gTk9URTogY3dyYXAoKSBvZiAiY29tcGlsZSIgd2lsbCBjb3B5IHRoZSByZXR1cm5lZCBwb2ludGVyIGludG8gYQoJICAgICAgLy8gICAgICAgSmF2YXNjcmlwdCBzdHJpbmcgYW5kIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBjYWxsIGZyZWUoKSBvbiBpdC4KCSAgICAgIC8vICAgICAgIHJlc2V0KCkgaG93ZXZlciB3aWxsIGNsZWFyIHVwIGFsbCBhbGxvY2F0aW9ucy4KCSAgICAgIHJlc2V0KCk7CgkgICAgfQoJICAgIHJldHVybiBvdXRwdXQ7CgkgIH07CgoJICB2YXIgY29tcGlsZUpTT04gPSBudWxsOwoJICBpZiAoJ19jb21waWxlSlNPTicgaW4gc29sanNvbikgewoJICAgIC8vIGlucHV0ICh0ZXh0KSwgb3B0aW1pemUgKGJvb2wpIC0+IG91dHB1dCAoanNvbnRleHQpCgkgICAgY29tcGlsZUpTT04gPSBzb2xqc29uLmN3cmFwKCdjb21waWxlSlNPTicsICdzdHJpbmcnLCBbJ3N0cmluZycsICdudW1iZXInXSk7CgkgIH0KCgkgIHZhciBjb21waWxlSlNPTk11bHRpID0gbnVsbDsKCSAgaWYgKCdfY29tcGlsZUpTT05NdWx0aScgaW4gc29sanNvbikgewoJICAgIC8vIGlucHV0IChqc29udGV4dCksIG9wdGltaXplIChib29sKSAtPiBvdXRwdXQgKGpzb250ZXh0KQoJICAgIGNvbXBpbGVKU09OTXVsdGkgPSBzb2xqc29uLmN3cmFwKCdjb21waWxlSlNPTk11bHRpJywgJ3N0cmluZycsIFsnc3RyaW5nJywgJ251bWJlciddKTsKCSAgfQoKCSAgdmFyIGNvbXBpbGVKU09OQ2FsbGJhY2sgPSBudWxsOwoJICBpZiAoJ19jb21waWxlSlNPTkNhbGxiYWNrJyBpbiBzb2xqc29uKSB7CgkgICAgLy8gaW5wdXQgKGpzb250ZXh0KSwgb3B0aW1pemUgKGJvb2wpLCBjYWxsYmFjayAocHRyKSAtPiBvdXRwdXQgKGpzb250ZXh0KQoJICAgIHZhciBjb21waWxlSW50ZXJuYWwgPSBzb2xqc29uLmN3cmFwKCdjb21waWxlSlNPTkNhbGxiYWNrJywgJ3N0cmluZycsIFsnc3RyaW5nJywgJ251bWJlcicsICdudW1iZXInXSk7CgkgICAgY29tcGlsZUpTT05DYWxsYmFjayA9IGZ1bmN0aW9uIChpbnB1dCwgb3B0aW1pemUsIHJlYWRDYWxsYmFjaykgewoJICAgICAgcmV0dXJuIHJ1bldpdGhDYWxsYmFja3MocmVhZENhbGxiYWNrLCBjb21waWxlSW50ZXJuYWwsIFsgaW5wdXQsIG9wdGltaXplIF0pOwoJICAgIH07CgkgIH0KCgkgIHZhciBjb21waWxlU3RhbmRhcmQgPSBudWxsOwoJICBpZiAoJ19jb21waWxlU3RhbmRhcmQnIGluIHNvbGpzb24pIHsKCSAgICAvLyBpbnB1dCAoanNvbnRleHQpLCBjYWxsYmFjayAocHRyKSAtPiBvdXRwdXQgKGpzb250ZXh0KQoJICAgIHZhciBjb21waWxlU3RhbmRhcmRJbnRlcm5hbCA9IHNvbGpzb24uY3dyYXAoJ2NvbXBpbGVTdGFuZGFyZCcsICdzdHJpbmcnLCBbJ3N0cmluZycsICdudW1iZXInXSk7CgkgICAgY29tcGlsZVN0YW5kYXJkID0gZnVuY3Rpb24gKGlucHV0LCByZWFkQ2FsbGJhY2spIHsKCSAgICAgIHJldHVybiBydW5XaXRoQ2FsbGJhY2tzKHJlYWRDYWxsYmFjaywgY29tcGlsZVN0YW5kYXJkSW50ZXJuYWwsIFsgaW5wdXQgXSk7CgkgICAgfTsKCSAgfQoJICBpZiAoJ19zb2xpZGl0eV9jb21waWxlJyBpbiBzb2xqc29uKSB7CgkgICAgdmFyIHNvbGlkaXR5Q29tcGlsZTsKCSAgICBpZiAoaXNWZXJzaW9uNikgewoJICAgICAgLy8gaW5wdXQgKGpzb250ZXh0KSwgY2FsbGJhY2sgKHB0ciksIGNhbGxiYWNrX2NvbnRleHQgKHB0cikgLT4gb3V0cHV0IChqc29udGV4dCkKCSAgICAgIHNvbGlkaXR5Q29tcGlsZSA9IHNvbGpzb24uY3dyYXAoJ3NvbGlkaXR5X2NvbXBpbGUnLCAnc3RyaW5nJywgWydzdHJpbmcnLCAnbnVtYmVyJywgJ251bWJlciddKTsKCSAgICB9IGVsc2UgewoJICAgICAgLy8gaW5wdXQgKGpzb250ZXh0KSwgY2FsbGJhY2sgKHB0cikgLT4gb3V0cHV0IChqc29udGV4dCkKCSAgICAgIHNvbGlkaXR5Q29tcGlsZSA9IHNvbGpzb24uY3dyYXAoJ3NvbGlkaXR5X2NvbXBpbGUnLCAnc3RyaW5nJywgWydzdHJpbmcnLCAnbnVtYmVyJ10pOwoJICAgIH0KCSAgICBjb21waWxlU3RhbmRhcmQgPSBmdW5jdGlvbiAoaW5wdXQsIGNhbGxiYWNrcykgewoJICAgICAgcmV0dXJuIHJ1bldpdGhDYWxsYmFja3MoY2FsbGJhY2tzLCBzb2xpZGl0eUNvbXBpbGUsIFsgaW5wdXQgXSk7CgkgICAgfTsKCSAgfQoKCSAgLy8gRXhwZWN0cyBhIFN0YW5kYXJkIEpTT04gSS9PIGJ1dCBzdXBwb3J0cyBvbGQgY29tcGlsZXJzCgkgIHZhciBjb21waWxlU3RhbmRhcmRXcmFwcGVyID0gZnVuY3Rpb24gKGlucHV0LCByZWFkQ2FsbGJhY2spIHsKCSAgICBpZiAoY29tcGlsZVN0YW5kYXJkICE9PSBudWxsKSB7CgkgICAgICByZXR1cm4gY29tcGlsZVN0YW5kYXJkKGlucHV0LCByZWFkQ2FsbGJhY2spOwoJICAgIH0KCgkgICAgZnVuY3Rpb24gZm9ybWF0RmF0YWxFcnJvciAobWVzc2FnZSkgewoJICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsKCSAgICAgICAgZXJyb3JzOiBbCgkgICAgICAgICAgewoJICAgICAgICAgICAgJ3R5cGUnOiAnSlNPTkVycm9yJywKCSAgICAgICAgICAgICdjb21wb25lbnQnOiAnc29sY2pzJywKCSAgICAgICAgICAgICdzZXZlcml0eSc6ICdlcnJvcicsCgkgICAgICAgICAgICAnbWVzc2FnZSc6IG1lc3NhZ2UsCgkgICAgICAgICAgICAnZm9ybWF0dGVkTWVzc2FnZSc6ICdFcnJvcjogJyArIG1lc3NhZ2UKCSAgICAgICAgICB9CgkgICAgICAgIF0KCSAgICAgIH0pOwoJICAgIH0KCgkgICAgdHJ5IHsKCSAgICAgIGlucHV0ID0gSlNPTi5wYXJzZShpbnB1dCk7CgkgICAgfSBjYXRjaCAoZSkgewoJICAgICAgcmV0dXJuIGZvcm1hdEZhdGFsRXJyb3IoJ0ludmFsaWQgSlNPTiBzdXBwbGllZDogJyArIGUubWVzc2FnZSk7CgkgICAgfQoKCSAgICBpZiAoaW5wdXRbJ2xhbmd1YWdlJ10gIT09ICdTb2xpZGl0eScpIHsKCSAgICAgIHJldHVybiBmb3JtYXRGYXRhbEVycm9yKCdPbmx5ICJTb2xpZGl0eSIgaXMgc3VwcG9ydGVkIGFzIGEgbGFuZ3VhZ2UuJyk7CgkgICAgfQoKCSAgICAvLyBOT1RFOiB0aGlzIGlzIGRlbGliZXJhdGVseSBgPT0gbnVsbGAKCSAgICBpZiAoaW5wdXRbJ3NvdXJjZXMnXSA9PSBudWxsIHx8IGlucHV0Wydzb3VyY2VzJ10ubGVuZ3RoID09PSAwKSB7CgkgICAgICByZXR1cm4gZm9ybWF0RmF0YWxFcnJvcignTm8gaW5wdXQgc291cmNlcyBzcGVjaWZpZWQuJyk7CgkgICAgfQoKCSAgICBmdW5jdGlvbiBpc09wdGltaXplckVuYWJsZWQgKGlucHV0KSB7CgkgICAgICByZXR1cm4gaW5wdXRbJ3NldHRpbmdzJ10gJiYgaW5wdXRbJ3NldHRpbmdzJ11bJ29wdGltaXplciddICYmIGlucHV0WydzZXR0aW5ncyddWydvcHRpbWl6ZXInXVsnZW5hYmxlZCddOwoJICAgIH0KCgkgICAgZnVuY3Rpb24gdHJhbnNsYXRlU291cmNlcyAoaW5wdXQpIHsKCSAgICAgIHZhciBzb3VyY2VzID0ge307CgkgICAgICBmb3IgKHZhciBzb3VyY2UgaW4gaW5wdXRbJ3NvdXJjZXMnXSkgewoJICAgICAgICBpZiAoaW5wdXRbJ3NvdXJjZXMnXVtzb3VyY2VdWydjb250ZW50J10gIT09IG51bGwpIHsKCSAgICAgICAgICBzb3VyY2VzW3NvdXJjZV0gPSBpbnB1dFsnc291cmNlcyddW3NvdXJjZV1bJ2NvbnRlbnQnXTsKCSAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICAvLyBmb3JjZSBmYWlsdXJlCgkgICAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICAgIH0KCSAgICAgIH0KCSAgICAgIHJldHVybiBzb3VyY2VzOwoJICAgIH0KCgkgICAgZnVuY3Rpb24gbGlicmFyaWVzU3VwcGxpZWQgKGlucHV0KSB7CgkgICAgICBpZiAoaW5wdXRbJ3NldHRpbmdzJ10pIHsKCSAgICAgICAgcmV0dXJuIGlucHV0WydzZXR0aW5ncyddWydsaWJyYXJpZXMnXTsKCSAgICAgIH0KCSAgICB9CgoJICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZU91dHB1dCAob3V0cHV0LCBsaWJyYXJpZXMpIHsKCSAgICAgIHRyeSB7CgkgICAgICAgIG91dHB1dCA9IEpTT04ucGFyc2Uob3V0cHV0KTsKCSAgICAgIH0gY2F0Y2ggKGUpIHsKCSAgICAgICAgcmV0dXJuIGZvcm1hdEZhdGFsRXJyb3IoJ0NvbXBpbGVyIHJldHVybmVkIGludmFsaWQgSlNPTjogJyArIGUubWVzc2FnZSk7CgkgICAgICB9CgkgICAgICBvdXRwdXQgPSB0cmFuc2xhdGUudHJhbnNsYXRlSnNvbkNvbXBpbGVyT3V0cHV0KG91dHB1dCwgbGlicmFyaWVzKTsKCSAgICAgIGlmIChvdXRwdXQgPT0gbnVsbCkgewoJICAgICAgICByZXR1cm4gZm9ybWF0RmF0YWxFcnJvcignRmFpbGVkIHRvIHByb2Nlc3Mgb3V0cHV0LicpOwoJICAgICAgfQoJICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG91dHB1dCk7CgkgICAgfQoKCSAgICB2YXIgc291cmNlcyA9IHRyYW5zbGF0ZVNvdXJjZXMoaW5wdXQpOwoJICAgIGlmIChzb3VyY2VzID09PSBudWxsIHx8IE9iamVjdC5rZXlzKHNvdXJjZXMpLmxlbmd0aCA9PT0gMCkgewoJICAgICAgcmV0dXJuIGZvcm1hdEZhdGFsRXJyb3IoJ0ZhaWxlZCB0byBwcm9jZXNzIHNvdXJjZXMuJyk7CgkgICAgfQoKCSAgICAvLyBUcnkgbGlua2luZyBpZiBsaWJyYXJpZXMgd2VyZSBzdXBwbGllZAoJICAgIHZhciBsaWJyYXJpZXMgPSBsaWJyYXJpZXNTdXBwbGllZChpbnB1dCk7CgoJICAgIC8vIFRyeSB0byB3cmFwIGFyb3VuZCBvbGQgdmVyc2lvbnMKCSAgICBpZiAoY29tcGlsZUpTT05DYWxsYmFjayAhPT0gbnVsbCkgewoJICAgICAgcmV0dXJuIHRyYW5zbGF0ZU91dHB1dChjb21waWxlSlNPTkNhbGxiYWNrKEpTT04uc3RyaW5naWZ5KHsgJ3NvdXJjZXMnOiBzb3VyY2VzIH0pLCBpc09wdGltaXplckVuYWJsZWQoaW5wdXQpLCByZWFkQ2FsbGJhY2spLCBsaWJyYXJpZXMpOwoJICAgIH0KCgkgICAgaWYgKGNvbXBpbGVKU09OTXVsdGkgIT09IG51bGwpIHsKCSAgICAgIHJldHVybiB0cmFuc2xhdGVPdXRwdXQoY29tcGlsZUpTT05NdWx0aShKU09OLnN0cmluZ2lmeSh7ICdzb3VyY2VzJzogc291cmNlcyB9KSwgaXNPcHRpbWl6ZXJFbmFibGVkKGlucHV0KSksIGxpYnJhcmllcyk7CgkgICAgfQoKCSAgICAvLyBUcnkgb3VyIGx1Y2sgd2l0aCBhbiBhbmNpZW50IGNvbXBpbGVyCgkgICAgaWYgKGNvbXBpbGVKU09OICE9PSBudWxsKSB7CgkgICAgICBpZiAoT2JqZWN0LmtleXMoc291cmNlcykubGVuZ3RoICE9PSAxKSB7CgkgICAgICAgIHJldHVybiBmb3JtYXRGYXRhbEVycm9yKCdNdWx0aXBsZSBzb3VyY2VzIHByb3ZpZGVkLCBidXQgY29tcGlsZXIgb25seSBzdXBwb3J0cyBzaW5nbGUgaW5wdXQuJyk7CgkgICAgICB9CgkgICAgICByZXR1cm4gdHJhbnNsYXRlT3V0cHV0KGNvbXBpbGVKU09OKHNvdXJjZXNbT2JqZWN0LmtleXMoc291cmNlcylbMF1dLCBpc09wdGltaXplckVuYWJsZWQoaW5wdXQpKSwgbGlicmFyaWVzKTsKCSAgICB9CgoJICAgIHJldHVybiBmb3JtYXRGYXRhbEVycm9yKCdDb21waWxlciBkb2VzIG5vdCBzdXBwb3J0IGFueSBrbm93biBpbnRlcmZhY2UuJyk7CgkgIH07CgoJICByZXR1cm4gewoJICAgIHZlcnNpb246IHZlcnNpb24sCgkgICAgc2VtdmVyOiB2ZXJzaW9uVG9TZW12ZXIsCgkgICAgbGljZW5zZTogbGljZW5zZSwKCSAgICBsb3dsZXZlbDogewoJICAgICAgY29tcGlsZVNpbmdsZTogY29tcGlsZUpTT04sCgkgICAgICBjb21waWxlTXVsdGk6IGNvbXBpbGVKU09OTXVsdGksCgkgICAgICBjb21waWxlQ2FsbGJhY2s6IGNvbXBpbGVKU09OQ2FsbGJhY2ssCgkgICAgICBjb21waWxlU3RhbmRhcmQ6IGNvbXBpbGVTdGFuZGFyZAoJICAgIH0sCgkgICAgZmVhdHVyZXM6IHsKCSAgICAgIGxlZ2FjeVNpbmdsZUlucHV0OiBjb21waWxlSlNPTiAhPT0gbnVsbCwKCSAgICAgIG11bHRpcGxlSW5wdXRzOiBjb21waWxlSlNPTk11bHRpICE9PSBudWxsIHx8IGNvbXBpbGVTdGFuZGFyZCAhPT0gbnVsbCwKCSAgICAgIGltcG9ydENhbGxiYWNrOiBjb21waWxlSlNPTkNhbGxiYWNrICE9PSBudWxsIHx8IGNvbXBpbGVTdGFuZGFyZCAhPT0gbnVsbCwKCSAgICAgIG5hdGl2ZVN0YW5kYXJkSlNPTjogY29tcGlsZVN0YW5kYXJkICE9PSBudWxsCgkgICAgfSwKCSAgICBjb21waWxlOiBjb21waWxlU3RhbmRhcmRXcmFwcGVyLAoJICAgIC8vIExvYWRzIHRoZSBjb21waWxlciBvZiB0aGUgZ2l2ZW4gdmVyc2lvbiBmcm9tIHRoZSBnaXRodWIgcmVwb3NpdG9yeQoJICAgIC8vIGluc3RlYWQgb2YgZnJvbSB0aGUgbG9jYWwgZmlsZXN5c3RlbS4KCSAgICBsb2FkUmVtb3RlVmVyc2lvbjogZnVuY3Rpb24gKHZlcnNpb25TdHJpbmcsIGNiKSB7CgkgICAgICB2YXIgbWVtID0gbmV3IE1lbW9yeVN0cmVhbShudWxsLCB7cmVhZGFibGU6IGZhbHNlfSk7CgkgICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vYmluYXJpZXMuc29saWRpdHlsYW5nLm9yZy9iaW4vc29sanNvbi0nICsgdmVyc2lvblN0cmluZyArICcuanMnOwoJICAgICAgaHR0cHMuZ2V0KHVybCwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CgkgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlICE9PSAyMDApIHsKCSAgICAgICAgICBjYihuZXcgRXJyb3IoJ0Vycm9yIHJldHJpZXZpbmcgYmluYXJ5OiAnICsgcmVzcG9uc2Uuc3RhdHVzTWVzc2FnZSkpOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIHJlc3BvbnNlLnBpcGUobWVtKTsKCSAgICAgICAgICByZXNwb25zZS5vbignZW5kJywgZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgY2IobnVsbCwgc2V0dXBNZXRob2RzKHJlcXVpcmVGcm9tU3RyaW5nKG1lbS50b1N0cmluZygpLCAnc29sanNvbi0nICsgdmVyc2lvblN0cmluZyArICcuanMnKSkpOwoJICAgICAgICAgIH0pOwoJICAgICAgICB9CgkgICAgICB9KS5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyb3IpIHsKCSAgICAgICAgY2IoZXJyb3IpOwoJICAgICAgfSk7CgkgICAgfSwKCSAgICAvLyBVc2UgdGhpcyBpZiB5b3Ugd2FudCB0byBhZGQgd3JhcHBlciBmdW5jdGlvbnMgYXJvdW5kIHRoZSBwdXJlIG1vZHVsZS4KCSAgICBzZXR1cE1ldGhvZHM6IHNldHVwTWV0aG9kcwoJICB9OwoJfQoKCXZhciB3cmFwcGVyID0gc2V0dXBNZXRob2RzOwoKCXZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmV4cG9ydHM7CgoJdmFyIF93cmFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCh3cmFwcGVyKTsKCgkvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi8KCgkvKiBnbG9iYWxzIGltcG9ydFNjcmlwdHMgKi8KCWltcG9ydFNjcmlwdHMoImh0dHBzOi8vYmluYXJpZXMuc29saWRpdHlsYW5nLm9yZy9iaW4vc29sanNvbi12MC44LjkrY29tbWl0LmU1ZWVkNjNhLmpzIik7Cgl2YXIgY29tcGlsZXIgPSAoMCwgX3dyYXBwZXJbImRlZmF1bHQiXSkoc2VsZi5Nb2R1bGUpOwoJc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKF9yZWYpIHsKCSAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CgoJICBpZiAoJ2NvbXBpbGUnID09PSBkYXRhLnR5cGUpIHsKCSAgICBzZWxmLnBvc3RNZXNzYWdlKHsKCSAgICAgIHBheWxvYWQ6IGNvbXBpbGVyLmNvbXBpbGUoZGF0YS5wYXlsb2FkKSwKCSAgICAgIHR5cGU6ICdjb21waWxlX3Jlc3VsdCcKCSAgICB9KTsKCSAgfQoJfSk7CglzZWxmLnBvc3RNZXNzYWdlKHsKCSAgdHlwZTogJ2xvYWRlZCcKCX0pOwoKCXJldHVybiBTb2xpZGl0eUNvbXBpbGVyX3dvcmtlcjsKCn0pKCk7Cgo=","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU29saWRpdHlDb21waWxlci53b3JrZXIuanMiLCJzb3VyY2VzIjpbIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL0BidWlkbGVybGFicy9oZWRlcmEtc3RyYXRvLWpzL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL2dsb2JhbC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvYmFzZTY0LWpzL2luZGV4LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9pZWVlNzU0L2luZGV4LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9idWZmZXIvaW5kZXguanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL0BidWlkbGVybGFicy9oZWRlcmEtc3RyYXRvLWpzL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL3Byb2Nlc3MtZXM2LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy9pbmhlcml0cy5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvdXRpbC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvYXNzZXJ0LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9qcy1zaGEzL3NyYy9zaGEzLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9zb2xjL2xpbmtlci5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvc29sYy90cmFuc2xhdGUuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL0BidWlkbGVybGFicy9oZWRlcmEtc3RyYXRvLWpzL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL2VtcHR5LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy9wYXRoLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9yZXF1aXJlLWZyb20tc3RyaW5nL2luZGV4LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvcXMuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL0BidWlkbGVybGFicy9oZWRlcmEtc3RyYXRvLWpzL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL3VybC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvaHR0cC1saWIvY2FwYWJpbGl0eS5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvZXZlbnRzL2V2ZW50cy5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvcmVhZGFibGUtc3RyZWFtL2J1ZmZlci1saXN0LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9zYWZlLWJ1ZmZlci9pbmRleC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvc3RyaW5nX2RlY29kZXIvbGliL3N0cmluZ19kZWNvZGVyLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy9yZWFkYWJsZS1zdHJlYW0vcmVhZGFibGUuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL0BidWlkbGVybGFicy9oZWRlcmEtc3RyYXRvLWpzL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL3JlYWRhYmxlLXN0cmVhbS93cml0YWJsZS5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvcmVhZGFibGUtc3RyZWFtL2R1cGxleC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvcmVhZGFibGUtc3RyZWFtL3RyYW5zZm9ybS5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvcmVhZGFibGUtc3RyZWFtL3Bhc3N0aHJvdWdoLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy9zdHJlYW0uanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL0BidWlkbGVybGFicy9oZWRlcmEtc3RyYXRvLWpzL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL2h0dHAtbGliL3Jlc3BvbnNlLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy9odHRwLWxpYi90by1hcnJheWJ1ZmZlci5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvaHR0cC1saWIvcmVxdWVzdC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvaHR0cC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvZm9sbG93LXJlZGlyZWN0cy9kZWJ1Zy5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvZm9sbG93LXJlZGlyZWN0cy9pbmRleC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvQGJ1aWRsZXJsYWJzL2hlZGVyYS1zdHJhdG8tanMvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvbWVtb3J5c3RyZWFtL2luZGV4LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9zb2xjL25vZGVfbW9kdWxlcy9zZW12ZXIvc2VtdmVyLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9AYnVpZGxlcmxhYnMvaGVkZXJhLXN0cmF0by1qcy9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9zb2xjL3dyYXBwZXIuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL0BidWlkbGVybGFicy9oZWRlcmEtc3RyYXRvLWpzL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL1NvbGlkaXR5Q29tcGlsZXIud29ya2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgXCJkZWZhdWx0XCI6IG9ialxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJleHBvcnQgZGVmYXVsdCAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6XG4gIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6XG4gIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSk7IiwiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgdmFyIGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aCkpKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCIvKiEgaWVlZTc1NC4gQlNELTMtQ2xhdXNlIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqL1xuZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIG5CaXRzID0gLTdcbiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDFcbiAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblxuICBpICs9IGRcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBzID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBlTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSAoZSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSAobSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcbiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuICB2YXIgZCA9IGlzTEUgPyAxIDogLTFcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblxuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKVxuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwXG4gICAgZSA9IGVNYXhcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMilcbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS1cbiAgICAgIGMgKj0gMlxuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKytcbiAgICAgIGMgLz0gMlxuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDBcbiAgICAgIGUgPSBlTWF4XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICgodmFsdWUgKiBjKSAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuIiwiLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXG4ndXNlIHN0cmljdCdcblxuY29uc3QgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbmNvbnN0IGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbmNvbnN0IGN1c3RvbUluc3BlY3RTeW1ib2wgPVxuICAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgU3ltYm9sWydmb3InXSA9PT0gJ2Z1bmN0aW9uJykgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICA/IFN5bWJvbFsnZm9yJ10oJ25vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tJykgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICA6IG51bGxcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXG5jb25zdCBLX01BWF9MRU5HVEggPSAweDdmZmZmZmZmXG5leHBvcnRzLmtNYXhMZW5ndGggPSBLX01BWF9MRU5HVEhcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgUHJpbnQgd2FybmluZyBhbmQgcmVjb21tZW5kIHVzaW5nIGBidWZmZXJgIHY0Lnggd2hpY2ggaGFzIGFuIE9iamVjdFxuICogICAgICAgICAgICAgICBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogV2UgcmVwb3J0IHRoYXQgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0eXBlZCBhcnJheXMgaWYgdGhlIGFyZSBub3Qgc3ViY2xhc3NhYmxlXG4gKiB1c2luZyBfX3Byb3RvX18uIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgXG4gKiAoU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzgpLiBJRSAxMCBsYWNrcyBzdXBwb3J0XG4gKiBmb3IgX19wcm90b19fIGFuZCBoYXMgYSBidWdneSB0eXBlZCBhcnJheSBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbmlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgY29uc29sZS5lcnJvcihcbiAgICAnVGhpcyBicm93c2VyIGxhY2tzIHR5cGVkIGFycmF5IChVaW50OEFycmF5KSBzdXBwb3J0IHdoaWNoIGlzIHJlcXVpcmVkIGJ5ICcgK1xuICAgICdgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LidcbiAgKVxufVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIC8vIENhbiB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZD9cbiAgdHJ5IHtcbiAgICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuICAgIGNvbnN0IHByb3RvID0geyBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH0gfVxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihwcm90bywgVWludDhBcnJheS5wcm90b3R5cGUpXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGFyciwgcHJvdG8pXG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDJcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLCAncGFyZW50Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLmJ1ZmZlclxuICB9XG59KVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLnByb3RvdHlwZSwgJ29mZnNldCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGhpcykpIHJldHVybiB1bmRlZmluZWRcbiAgICByZXR1cm4gdGhpcy5ieXRlT2Zmc2V0XG4gIH1cbn0pXG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAobGVuZ3RoKSB7XG4gIGlmIChsZW5ndGggPiBLX01BWF9MRU5HVEgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJyArIGxlbmd0aCArICdcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKVxuICB9XG4gIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlXG4gIGNvbnN0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGJ1ZiwgQnVmZmVyLnByb3RvdHlwZSlcbiAgcmV0dXJuIGJ1ZlxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcidcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKGFyZylcbiAgfVxuICByZXR1cm4gZnJvbShhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbmZ1bmN0aW9uIGZyb20gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheVZpZXcodmFsdWUpXG4gIH1cblxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgJyArXG4gICAgICAnb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdmFsdWUpXG4gICAgKVxuICB9XG5cbiAgaWYgKGlzSW5zdGFuY2UodmFsdWUsIEFycmF5QnVmZmVyKSB8fFxuICAgICAgKHZhbHVlICYmIGlzSW5zdGFuY2UodmFsdWUuYnVmZmVyLCBBcnJheUJ1ZmZlcikpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIChpc0luc3RhbmNlKHZhbHVlLCBTaGFyZWRBcnJheUJ1ZmZlcikgfHxcbiAgICAgICh2YWx1ZSAmJiBpc0luc3RhbmNlKHZhbHVlLmJ1ZmZlciwgU2hhcmVkQXJyYXlCdWZmZXIpKSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInXG4gICAgKVxuICB9XG5cbiAgY29uc3QgdmFsdWVPZiA9IHZhbHVlLnZhbHVlT2YgJiYgdmFsdWUudmFsdWVPZigpXG4gIGlmICh2YWx1ZU9mICE9IG51bGwgJiYgdmFsdWVPZiAhPT0gdmFsdWUpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20odmFsdWVPZiwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgY29uc3QgYiA9IGZyb21PYmplY3QodmFsdWUpXG4gIGlmIChiKSByZXR1cm4gYlxuXG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9QcmltaXRpdmUgIT0gbnVsbCAmJlxuICAgICAgdHlwZW9mIHZhbHVlW1N5bWJvbC50b1ByaW1pdGl2ZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20odmFsdWVbU3ltYm9sLnRvUHJpbWl0aXZlXSgnc3RyaW5nJyksIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgK1xuICAgICdvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB2YWx1ZSlcbiAgKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbi8vIE5vdGU6IENoYW5nZSBwcm90b3R5cGUgKmFmdGVyKiBCdWZmZXIuZnJvbSBpcyBkZWZpbmVkIHRvIHdvcmthcm91bmQgQ2hyb21lIGJ1Zzpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvMTQ4XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoQnVmZmVyLnByb3RvdHlwZSwgVWludDhBcnJheS5wcm90b3R5cGUpXG5PYmplY3Quc2V0UHJvdG90eXBlT2YoQnVmZmVyLCBVaW50OEFycmF5KVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgc2l6ZSArICdcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcihzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIoc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAoc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHJldHVybiBjcmVhdGVCdWZmZXIoc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG59XG5cbi8qKlxuICogRXF1aXZhbGVudCB0byBCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqICovXG5CdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUoc2l6ZSlcbn1cbi8qKlxuICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUoc2l6ZSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gIH1cblxuICBjb25zdCBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICBsZXQgYnVmID0gY3JlYXRlQnVmZmVyKGxlbmd0aClcblxuICBjb25zdCBhY3R1YWwgPSBidWYud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIGJ1ZiA9IGJ1Zi5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKGFycmF5KSB7XG4gIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICBjb25zdCBidWYgPSBjcmVhdGVCdWZmZXIobGVuZ3RoKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgYnVmW2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheVZpZXcgKGFycmF5Vmlldykge1xuICBpZiAoaXNJbnN0YW5jZShhcnJheVZpZXcsIFVpbnQ4QXJyYXkpKSB7XG4gICAgY29uc3QgY29weSA9IG5ldyBVaW50OEFycmF5KGFycmF5VmlldylcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKGNvcHkuYnVmZmVyLCBjb3B5LmJ5dGVPZmZzZXQsIGNvcHkuYnl0ZUxlbmd0aClcbiAgfVxuICByZXR1cm4gZnJvbUFycmF5TGlrZShhcnJheVZpZXcpXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJvZmZzZXRcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBsZXQgYnVmXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYnVmLCBCdWZmZXIucHJvdG90eXBlKVxuXG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAob2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIGNvbnN0IGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG4gICAgY29uc3QgYnVmID0gY3JlYXRlQnVmZmVyKGxlbilcblxuICAgIGlmIChidWYubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gYnVmXG4gICAgfVxuXG4gICAgb2JqLmNvcHkoYnVmLCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIGJ1ZlxuICB9XG5cbiAgaWYgKG9iai5sZW5ndGggIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgbnVtYmVySXNOYU4ob2JqLmxlbmd0aCkpIHtcbiAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIoMClcbiAgICB9XG4gICAgcmV0dXJuIGZyb21BcnJheUxpa2Uob2JqKVxuICB9XG5cbiAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBBcnJheS5pc0FycmF5KG9iai5kYXRhKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKG9iai5kYXRhKVxuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrZWQgKGxlbmd0aCkge1xuICAvLyBOb3RlOiBjYW5ub3QgdXNlIGBsZW5ndGggPCBLX01BWF9MRU5HVEhgIGhlcmUgYmVjYXVzZSB0aGF0IGZhaWxzIHdoZW5cbiAgLy8gbGVuZ3RoIGlzIE5hTiAod2hpY2ggaXMgb3RoZXJ3aXNlIGNvZXJjZWQgdG8gemVyby4pXG4gIGlmIChsZW5ndGggPj0gS19NQVhfTEVOR1RIKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemU6IDB4JyArIEtfTUFYX0xFTkdUSC50b1N0cmluZygxNikgKyAnIGJ5dGVzJylcbiAgfVxuICByZXR1cm4gbGVuZ3RoIHwgMFxufVxuXG5mdW5jdGlvbiBTbG93QnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKCtsZW5ndGggIT0gbGVuZ3RoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gICAgbGVuZ3RoID0gMFxuICB9XG4gIHJldHVybiBCdWZmZXIuYWxsb2MoK2xlbmd0aClcbn1cblxuQnVmZmVyLmlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIgKGIpIHtcbiAgcmV0dXJuIGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlciA9PT0gdHJ1ZSAmJlxuICAgIGIgIT09IEJ1ZmZlci5wcm90b3R5cGUgLy8gc28gQnVmZmVyLmlzQnVmZmVyKEJ1ZmZlci5wcm90b3R5cGUpIHdpbGwgYmUgZmFsc2Vcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG4gIGlmIChpc0luc3RhbmNlKGEsIFVpbnQ4QXJyYXkpKSBhID0gQnVmZmVyLmZyb20oYSwgYS5vZmZzZXQsIGEuYnl0ZUxlbmd0aClcbiAgaWYgKGlzSW5zdGFuY2UoYiwgVWludDhBcnJheSkpIGIgPSBCdWZmZXIuZnJvbShiLCBiLm9mZnNldCwgYi5ieXRlTGVuZ3RoKVxuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJidWYxXCIsIFwiYnVmMlwiIGFyZ3VtZW50cyBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5J1xuICAgIClcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIGxldCB4ID0gYS5sZW5ndGhcbiAgbGV0IHkgPSBiLmxlbmd0aFxuXG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHggPSBhW2ldXG4gICAgICB5ID0gYltpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbkJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24gaXNFbmNvZGluZyAoZW5jb2RpbmcpIHtcbiAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnbGF0aW4xJzpcbiAgICBjYXNlICdiaW5hcnknOlxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbkJ1ZmZlci5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKGxpc3QsIGxlbmd0aCkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkobGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKVxuICB9XG5cbiAgbGV0IGlcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gMFxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICBsZXQgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIGxldCBidWYgPSBsaXN0W2ldXG4gICAgaWYgKGlzSW5zdGFuY2UoYnVmLCBVaW50OEFycmF5KSkge1xuICAgICAgaWYgKHBvcyArIGJ1Zi5sZW5ndGggPiBidWZmZXIubGVuZ3RoKSB7XG4gICAgICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIGJ1ZiA9IEJ1ZmZlci5mcm9tKGJ1ZilcbiAgICAgICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgICAgICBidWZmZXIsXG4gICAgICAgICAgYnVmLFxuICAgICAgICAgIHBvc1xuICAgICAgICApXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuICAgIH1cbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBpc0luc3RhbmNlKHN0cmluZywgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gJyArXG4gICAgICAnUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIHN0cmluZ1xuICAgIClcbiAgfVxuXG4gIGNvbnN0IGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgY29uc3QgbXVzdE1hdGNoID0gKGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSA9PT0gdHJ1ZSlcbiAgaWYgKCFtdXN0TWF0Y2ggJiYgbGVuID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIFVzZSBhIGZvciBsb29wIHRvIGF2b2lkIHJlY3Vyc2lvblxuICBsZXQgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsZW5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB7XG4gICAgICAgICAgcmV0dXJuIG11c3RNYXRjaCA/IC0xIDogdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgfVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuQnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cbmZ1bmN0aW9uIHNsb3dUb1N0cmluZyAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgbGV0IGxvd2VyZWRDYXNlID0gZmFsc2VcblxuICAvLyBObyBuZWVkIHRvIHZlcmlmeSB0aGF0IFwidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMlwiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHlcbiAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS5cblxuICAvLyBUaGlzIGJlaGF2ZXMgbmVpdGhlciBsaWtlIFN0cmluZyBub3IgVWludDhBcnJheSBpbiB0aGF0IHdlIHNldCBzdGFydC9lbmRcbiAgLy8gdG8gdGhlaXIgdXBwZXIvbG93ZXIgYm91bmRzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb3V0IG9mIHJhbmdlLlxuICAvLyB1bmRlZmluZWQgaXMgaGFuZGxlZCBzcGVjaWFsbHkgYXMgcGVyIEVDTUEtMjYyIDZ0aCBFZGl0aW9uLFxuICAvLyBTZWN0aW9uIDEzLjMuMy43IFJ1bnRpbWUgU2VtYW50aWNzOiBLZXllZEJpbmRpbmdJbml0aWFsaXphdGlvbi5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgLy8gUmV0dXJuIGVhcmx5IGlmIHN0YXJ0ID4gdGhpcy5sZW5ndGguIERvbmUgaGVyZSB0byBwcmV2ZW50IHBvdGVudGlhbCB1aW50MzJcbiAgLy8gY29lcmNpb24gZmFpbCBiZWxvdy5cbiAgaWYgKHN0YXJ0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoZW5kIDw9IDApIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIC8vIEZvcmNlIGNvZXJjaW9uIHRvIHVpbnQzMi4gVGhpcyB3aWxsIGFsc28gY29lcmNlIGZhbHNleS9OYU4gdmFsdWVzIHRvIDAuXG4gIGVuZCA+Pj49IDBcbiAgc3RhcnQgPj4+PSAwXG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1dGYxNmxlU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbi8vIFRoaXMgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCAoYW5kIHRoZSBgaXMtYnVmZmVyYCBucG0gcGFja2FnZSlcbi8vIHRvIGRldGVjdCBhIEJ1ZmZlciBpbnN0YW5jZS4gSXQncyBub3QgcG9zc2libGUgdG8gdXNlIGBpbnN0YW5jZW9mIEJ1ZmZlcmBcbi8vIHJlbGlhYmx5IGluIGEgYnJvd3NlcmlmeSBjb250ZXh0IGJlY2F1c2UgdGhlcmUgY291bGQgYmUgbXVsdGlwbGUgZGlmZmVyZW50XG4vLyBjb3BpZXMgb2YgdGhlICdidWZmZXInIHBhY2thZ2UgaW4gdXNlLiBUaGlzIG1ldGhvZCB3b3JrcyBldmVuIGZvciBCdWZmZXJcbi8vIGluc3RhbmNlcyB0aGF0IHdlcmUgY3JlYXRlZCBmcm9tIGFub3RoZXIgY29weSBvZiB0aGUgYGJ1ZmZlcmAgcGFja2FnZS5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzE1NFxuQnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXIgPSB0cnVlXG5cbmZ1bmN0aW9uIHN3YXAgKGIsIG4sIG0pIHtcbiAgY29uc3QgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICBjb25zdCBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICBjb25zdCBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgNCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpXG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDMpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDIpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkge1xuICBjb25zdCBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgY29uc3QgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmcgPSBCdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nXG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgbGV0IHN0ciA9ICcnXG4gIGNvbnN0IG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVNcbiAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5yZXBsYWNlKC8oLnsyfSkvZywgJyQxICcpLnRyaW0oKVxuICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG59XG5pZiAoY3VzdG9tSW5zcGVjdFN5bWJvbCkge1xuICBCdWZmZXIucHJvdG90eXBlW2N1c3RvbUluc3BlY3RTeW1ib2xdID0gQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKHRhcmdldCwgc3RhcnQsIGVuZCwgdGhpc1N0YXJ0LCB0aGlzRW5kKSB7XG4gIGlmIChpc0luc3RhbmNlKHRhcmdldCwgVWludDhBcnJheSkpIHtcbiAgICB0YXJnZXQgPSBCdWZmZXIuZnJvbSh0YXJnZXQsIHRhcmdldC5vZmZzZXQsIHRhcmdldC5ieXRlTGVuZ3RoKVxuICB9XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcInRhcmdldFwiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXkuICcgK1xuICAgICAgJ1JlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdGFyZ2V0KVxuICAgIClcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzU3RhcnQgPSAwXG4gIH1cbiAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ291dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQgJiYgc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICBpZiAoc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIHN0YXJ0ID4+Pj0gMFxuICBlbmQgPj4+PSAwXG4gIHRoaXNTdGFydCA+Pj49IDBcbiAgdGhpc0VuZCA+Pj49IDBcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0KSByZXR1cm4gMFxuXG4gIGxldCB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydFxuICBsZXQgeSA9IGVuZCAtIHN0YXJ0XG4gIGNvbnN0IGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgY29uc3QgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcbiAgY29uc3QgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAodGhpc0NvcHlbaV0gIT09IHRhcmdldENvcHlbaV0pIHtcbiAgICAgIHggPSB0aGlzQ29weVtpXVxuICAgICAgeSA9IHRhcmdldENvcHlbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG4vLyBGaW5kcyBlaXRoZXIgdGhlIGZpcnN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA+PSBgYnl0ZU9mZnNldGAsXG4vLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLlxuLy9cbi8vIEFyZ3VtZW50czpcbi8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoXG4vLyAtIHZhbCAtIGEgc3RyaW5nLCBCdWZmZXIsIG9yIG51bWJlclxuLy8gLSBieXRlT2Zmc2V0IC0gYW4gaW5kZXggaW50byBgYnVmZmVyYDsgd2lsbCBiZSBjbGFtcGVkIHRvIGFuIGludDMyXG4vLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZ1xuLy8gLSBkaXIgLSB0cnVlIGZvciBpbmRleE9mLCBmYWxzZSBmb3IgbGFzdEluZGV4T2ZcbmZ1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mIChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2hcbiAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHJldHVybiAtMVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XG4gIGlmICh0eXBlb2YgYnl0ZU9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IGJ5dGVPZmZzZXRcbiAgICBieXRlT2Zmc2V0ID0gMFxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPiAweDdmZmZmZmZmKSB7XG4gICAgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmZcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHtcbiAgICBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDBcbiAgfVxuICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKG51bWJlcklzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgW3ZhbF0sIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXInKVxufVxuXG5mdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIGxldCBpbmRleFNpemUgPSAxXG4gIGxldCBhcnJMZW5ndGggPSBhcnIubGVuZ3RoXG4gIGxldCB2YWxMZW5ndGggPSB2YWwubGVuZ3RoXG5cbiAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8XG4gICAgICAgIGVuY29kaW5nID09PSAndXRmMTZsZScgfHwgZW5jb2RpbmcgPT09ICd1dGYtMTZsZScpIHtcbiAgICAgIGlmIChhcnIubGVuZ3RoIDwgMiB8fCB2YWwubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH1cbiAgICAgIGluZGV4U2l6ZSA9IDJcbiAgICAgIGFyckxlbmd0aCAvPSAyXG4gICAgICB2YWxMZW5ndGggLz0gMlxuICAgICAgYnl0ZU9mZnNldCAvPSAyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG4gICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGJ1ZltpXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZCRShpICogaW5kZXhTaXplKVxuICAgIH1cbiAgfVxuXG4gIGxldCBpXG4gIGlmIChkaXIpIHtcbiAgICBsZXQgZm91bmRJbmRleCA9IC0xXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSkgZm91bmRJbmRleCA9IGlcbiAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSBpIC09IGkgLSBmb3VuZEluZGV4XG4gICAgICAgIGZvdW5kSW5kZXggPSAtMVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYnl0ZU9mZnNldCArIHZhbExlbmd0aCA+IGFyckxlbmd0aCkgYnl0ZU9mZnNldCA9IGFyckxlbmd0aCAtIHZhbExlbmd0aFxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBsZXQgZm91bmQgPSB0cnVlXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChyZWFkKGFyciwgaSArIGopICE9PSByZWFkKHZhbCwgaikpIHtcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZvdW5kKSByZXR1cm4gaVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZih2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSAhPT0gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gaGV4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwXG4gIGNvbnN0IHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBsZXQgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpXG4gICAgaWYgKG51bWJlcklzTmFOKHBhcnNlZCkpIHJldHVybiBpXG4gICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPj4+IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICBjb25zdCByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblxuICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIGxldCBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcbiAgY29uc3QgcmVzID0gW11cblxuICBsZXQgaSA9IHN0YXJ0XG4gIHdoaWxlIChpIDwgZW5kKSB7XG4gICAgY29uc3QgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgbGV0IGNvZGVQb2ludCA9IG51bGxcbiAgICBsZXQgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKVxuICAgICAgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKVxuICAgICAgICAgID8gM1xuICAgICAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4QkYpXG4gICAgICAgICAgICAgID8gMlxuICAgICAgICAgICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIGxldCBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbmNvbnN0IE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cbmZ1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheSAoY29kZVBvaW50cykge1xuICBjb25zdCBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aFxuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIGxldCByZXMgPSAnJ1xuICBsZXQgaSA9IDBcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgIFN0cmluZyxcbiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgbGV0IHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGxldCByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGNvbnN0IGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICBsZXQgb3V0ID0gJydcbiAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gaGV4U2xpY2VMb29rdXBUYWJsZVtidWZbaV1dXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG5mdW5jdGlvbiB1dGYxNmxlU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBjb25zdCBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICBsZXQgcmVzID0gJydcbiAgLy8gSWYgYnl0ZXMubGVuZ3RoIGlzIG9kZCwgdGhlIGxhc3QgOCBiaXRzIG11c3QgYmUgaWdub3JlZCAoc2FtZSBhcyBub2RlLmpzKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aCAtIDE7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgKGJ5dGVzW2kgKyAxXSAqIDI1NikpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICBjb25zdCBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlXG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihuZXdCdWYsIEJ1ZmZlci5wcm90b3R5cGUpXG5cbiAgcmV0dXJuIG5ld0J1ZlxufVxuXG4vKlxuICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7XG4gIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludExFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgbGV0IHZhbCA9IHRoaXNbb2Zmc2V0XVxuICBsZXQgbXVsID0gMVxuICBsZXQgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50QkUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICBsZXQgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIGxldCBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDggPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDE2TEUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MTZCRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQzMkxFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDMyQkUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkQmlnVUludDY0TEUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gcmVhZEJpZ1VJbnQ2NExFIChvZmZzZXQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpXG4gIGNvbnN0IGZpcnN0ID0gdGhpc1tvZmZzZXRdXG4gIGNvbnN0IGxhc3QgPSB0aGlzW29mZnNldCArIDddXG4gIGlmIChmaXJzdCA9PT0gdW5kZWZpbmVkIHx8IGxhc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgdGhpcy5sZW5ndGggLSA4KVxuICB9XG5cbiAgY29uc3QgbG8gPSBmaXJzdCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDI0XG5cbiAgY29uc3QgaGkgPSB0aGlzWysrb2Zmc2V0XSArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgbGFzdCAqIDIgKiogMjRcblxuICByZXR1cm4gQmlnSW50KGxvKSArIChCaWdJbnQoaGkpIDw8IEJpZ0ludCgzMikpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRCaWdVSW50NjRCRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiByZWFkQmlnVUludDY0QkUgKG9mZnNldCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0JylcbiAgY29uc3QgZmlyc3QgPSB0aGlzW29mZnNldF1cbiAgY29uc3QgbGFzdCA9IHRoaXNbb2Zmc2V0ICsgN11cbiAgaWYgKGZpcnN0ID09PSB1bmRlZmluZWQgfHwgbGFzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYm91bmRzRXJyb3Iob2Zmc2V0LCB0aGlzLmxlbmd0aCAtIDgpXG4gIH1cblxuICBjb25zdCBoaSA9IGZpcnN0ICogMiAqKiAyNCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgdGhpc1srK29mZnNldF1cblxuICBjb25zdCBsbyA9IHRoaXNbKytvZmZzZXRdICogMiAqKiAyNCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgbGFzdFxuXG4gIHJldHVybiAoQmlnSW50KGhpKSA8PCBCaWdJbnQoMzIpKSArIEJpZ0ludChsbylcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIGxldCB2YWwgPSB0aGlzW29mZnNldF1cbiAgbGV0IG11bCA9IDFcbiAgbGV0IGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICBsZXQgaSA9IGJ5dGVMZW5ndGhcbiAgbGV0IG11bCA9IDFcbiAgbGV0IHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1pXVxuICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIGNvbnN0IHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICBjb25zdCB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkQmlnSW50NjRMRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiByZWFkQmlnSW50NjRMRSAob2Zmc2V0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICB2YWxpZGF0ZU51bWJlcihvZmZzZXQsICdvZmZzZXQnKVxuICBjb25zdCBmaXJzdCA9IHRoaXNbb2Zmc2V0XVxuICBjb25zdCBsYXN0ID0gdGhpc1tvZmZzZXQgKyA3XVxuICBpZiAoZmlyc3QgPT09IHVuZGVmaW5lZCB8fCBsYXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICBib3VuZHNFcnJvcihvZmZzZXQsIHRoaXMubGVuZ3RoIC0gOClcbiAgfVxuXG4gIGNvbnN0IHZhbCA9IHRoaXNbb2Zmc2V0ICsgNF0gK1xuICAgIHRoaXNbb2Zmc2V0ICsgNV0gKiAyICoqIDggK1xuICAgIHRoaXNbb2Zmc2V0ICsgNl0gKiAyICoqIDE2ICtcbiAgICAobGFzdCA8PCAyNCkgLy8gT3ZlcmZsb3dcblxuICByZXR1cm4gKEJpZ0ludCh2YWwpIDw8IEJpZ0ludCgzMikpICtcbiAgICBCaWdJbnQoZmlyc3QgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAyNClcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEJpZ0ludDY0QkUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gcmVhZEJpZ0ludDY0QkUgKG9mZnNldCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0JylcbiAgY29uc3QgZmlyc3QgPSB0aGlzW29mZnNldF1cbiAgY29uc3QgbGFzdCA9IHRoaXNbb2Zmc2V0ICsgN11cbiAgaWYgKGZpcnN0ID09PSB1bmRlZmluZWQgfHwgbGFzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYm91bmRzRXJyb3Iob2Zmc2V0LCB0aGlzLmxlbmd0aCAtIDgpXG4gIH1cblxuICBjb25zdCB2YWwgPSAoZmlyc3QgPDwgMjQpICsgLy8gT3ZlcmZsb3dcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICB0aGlzWysrb2Zmc2V0XVxuXG4gIHJldHVybiAoQmlnSW50KHZhbCkgPDwgQmlnSW50KDMyKSkgK1xuICAgIEJpZ0ludCh0aGlzWysrb2Zmc2V0XSAqIDIgKiogMjQgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIGxhc3QpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOClcbn1cblxuZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKVxuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnRMRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY29uc3QgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICBsZXQgbXVsID0gMVxuICBsZXQgaSA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludEJFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjb25zdCBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIGxldCBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgbGV0IG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50OCA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiB3cml0ZVVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQxNkxFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50MTZCRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDMyTEUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQzMkJFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbmZ1bmN0aW9uIHdydEJpZ1VJbnQ2NExFIChidWYsIHZhbHVlLCBvZmZzZXQsIG1pbiwgbWF4KSB7XG4gIGNoZWNrSW50QkkodmFsdWUsIG1pbiwgbWF4LCBidWYsIG9mZnNldCwgNylcblxuICBsZXQgbG8gPSBOdW1iZXIodmFsdWUgJiBCaWdJbnQoMHhmZmZmZmZmZikpXG4gIGJ1ZltvZmZzZXQrK10gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0KytdID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBsb1xuICBsZXQgaGkgPSBOdW1iZXIodmFsdWUgPj4gQmlnSW50KDMyKSAmIEJpZ0ludCgweGZmZmZmZmZmKSlcbiAgYnVmW29mZnNldCsrXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0KytdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGhpXG4gIHJldHVybiBvZmZzZXRcbn1cblxuZnVuY3Rpb24gd3J0QmlnVUludDY0QkUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbWluLCBtYXgpIHtcbiAgY2hlY2tJbnRCSSh2YWx1ZSwgbWluLCBtYXgsIGJ1Ziwgb2Zmc2V0LCA3KVxuXG4gIGxldCBsbyA9IE51bWJlcih2YWx1ZSAmIEJpZ0ludCgweGZmZmZmZmZmKSlcbiAgYnVmW29mZnNldCArIDddID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQgKyA2XSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0ICsgNV0gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCArIDRdID0gbG9cbiAgbGV0IGhpID0gTnVtYmVyKHZhbHVlID4+IEJpZ0ludCgzMikgJiBCaWdJbnQoMHhmZmZmZmZmZikpXG4gIGJ1ZltvZmZzZXQgKyAzXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0ICsgMl0gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldCArIDFdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXRdID0gaGlcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUJpZ1VJbnQ2NExFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHdyaXRlQmlnVUludDY0TEUgKHZhbHVlLCBvZmZzZXQgPSAwKSB7XG4gIHJldHVybiB3cnRCaWdVSW50NjRMRSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBCaWdJbnQoMCksIEJpZ0ludCgnMHhmZmZmZmZmZmZmZmZmZmZmJykpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlQmlnVUludDY0QkUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gd3JpdGVCaWdVSW50NjRCRSAodmFsdWUsIG9mZnNldCA9IDApIHtcbiAgcmV0dXJuIHdydEJpZ1VJbnQ2NEJFKHRoaXMsIHZhbHVlLCBvZmZzZXQsIEJpZ0ludCgwKSwgQmlnSW50KCcweGZmZmZmZmZmZmZmZmZmZmYnKSlcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY29uc3QgbGltaXQgPSBNYXRoLnBvdygyLCAoOCAqIGJ5dGVMZW5ndGgpIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgbGV0IGkgPSAwXG4gIGxldCBtdWwgPSAxXG4gIGxldCBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSAtIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY29uc3QgbGltaXQgPSBNYXRoLnBvdygyLCAoOCAqIGJ5dGVMZW5ndGgpIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgbGV0IGkgPSBieXRlTGVuZ3RoIC0gMVxuICBsZXQgbXVsID0gMVxuICBsZXQgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUJpZ0ludDY0TEUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gd3JpdGVCaWdJbnQ2NExFICh2YWx1ZSwgb2Zmc2V0ID0gMCkge1xuICByZXR1cm4gd3J0QmlnVUludDY0TEUodGhpcywgdmFsdWUsIG9mZnNldCwgLUJpZ0ludCgnMHg4MDAwMDAwMDAwMDAwMDAwJyksIEJpZ0ludCgnMHg3ZmZmZmZmZmZmZmZmZmZmJykpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlQmlnSW50NjRCRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiB3cml0ZUJpZ0ludDY0QkUgKHZhbHVlLCBvZmZzZXQgPSAwKSB7XG4gIHJldHVybiB3cnRCaWdVSW50NjRCRSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAtQmlnSW50KCcweDgwMDAwMDAwMDAwMDAwMDAnKSwgQmlnSW50KCcweDdmZmZmZmZmZmZmZmZmZmYnKSlcbn0pXG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA0LCAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCAtMy40MDI4MjM0NjYzODUyODg2ZSszOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IHNob3VsZCBiZSBhIEJ1ZmZlcicpXG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblxuICAvLyBBcmUgd2Ugb29iP1xuICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkge1xuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0XG4gIH1cblxuICBjb25zdCBsZW4gPSBlbmQgLSBzdGFydFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBVc2UgYnVpbHQtaW4gd2hlbiBhdmFpbGFibGUsIG1pc3NpbmcgZnJvbSBJRTExXG4gICAgdGhpcy5jb3B5V2l0aGluKHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKVxuICB9IGVsc2Uge1xuICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKSxcbiAgICAgIHRhcmdldFN0YXJ0XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGxlblxufVxuXG4vLyBVc2FnZTpcbi8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoYnVmZmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChzdHJpbmdbLCBvZmZzZXRbLCBlbmRdXVssIGVuY29kaW5nXSlcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcbiAgLy8gSGFuZGxlIHN0cmluZyBjYXNlczpcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gc3RhcnRcbiAgICAgIHN0YXJ0ID0gMFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuZFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9XG4gICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICB9XG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKChlbmNvZGluZyA9PT0gJ3V0ZjgnICYmIGNvZGUgPCAxMjgpIHx8XG4gICAgICAgICAgZW5jb2RpbmcgPT09ICdsYXRpbjEnKSB7XG4gICAgICAgIC8vIEZhc3QgcGF0aDogSWYgYHZhbGAgZml0cyBpbnRvIGEgc2luZ2xlIGJ5dGUsIHVzZSB0aGF0IG51bWVyaWMgdmFsdWUuXG4gICAgICAgIHZhbCA9IGNvZGVcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAyNTVcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnYm9vbGVhbicpIHtcbiAgICB2YWwgPSBOdW1iZXIodmFsKVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIGxldCBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgICBjb25zdCBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgXCInICsgdmFsICtcbiAgICAgICAgJ1wiIGlzIGludmFsaWQgZm9yIGFyZ3VtZW50IFwidmFsdWVcIicpXG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCBlbmQgLSBzdGFydDsgKytpKSB7XG4gICAgICB0aGlzW2kgKyBzdGFydF0gPSBieXRlc1tpICUgbGVuXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIENVU1RPTSBFUlJPUlNcbi8vID09PT09PT09PT09PT1cblxuLy8gU2ltcGxpZmllZCB2ZXJzaW9ucyBmcm9tIE5vZGUsIGNoYW5nZWQgZm9yIEJ1ZmZlci1vbmx5IHVzYWdlXG5jb25zdCBlcnJvcnMgPSB7fVxuZnVuY3Rpb24gRSAoc3ltLCBnZXRNZXNzYWdlLCBCYXNlKSB7XG4gIGVycm9yc1tzeW1dID0gY2xhc3MgTm9kZUVycm9yIGV4dGVuZHMgQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgc3VwZXIoKVxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ21lc3NhZ2UnLCB7XG4gICAgICAgIHZhbHVlOiBnZXRNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0pXG5cbiAgICAgIC8vIEFkZCB0aGUgZXJyb3IgY29kZSB0byB0aGUgbmFtZSB0byBpbmNsdWRlIGl0IGluIHRoZSBzdGFjayB0cmFjZS5cbiAgICAgIHRoaXMubmFtZSA9IGAke3RoaXMubmFtZX0gWyR7c3ltfV1gXG4gICAgICAvLyBBY2Nlc3MgdGhlIHN0YWNrIHRvIGdlbmVyYXRlIHRoZSBlcnJvciBtZXNzYWdlIGluY2x1ZGluZyB0aGUgZXJyb3IgY29kZVxuICAgICAgLy8gZnJvbSB0aGUgbmFtZS5cbiAgICAgIHRoaXMuc3RhY2sgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcbiAgICAgIC8vIFJlc2V0IHRoZSBuYW1lIHRvIHRoZSBhY3R1YWwgbmFtZS5cbiAgICAgIGRlbGV0ZSB0aGlzLm5hbWVcbiAgICB9XG5cbiAgICBnZXQgY29kZSAoKSB7XG4gICAgICByZXR1cm4gc3ltXG4gICAgfVxuXG4gICAgc2V0IGNvZGUgKHZhbHVlKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2NvZGUnLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KVxuICAgIH1cblxuICAgIHRvU3RyaW5nICgpIHtcbiAgICAgIHJldHVybiBgJHt0aGlzLm5hbWV9IFske3N5bX1dOiAke3RoaXMubWVzc2FnZX1gXG4gICAgfVxuICB9XG59XG5cbkUoJ0VSUl9CVUZGRVJfT1VUX09GX0JPVU5EUycsXG4gIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHJldHVybiBgJHtuYW1lfSBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHNgXG4gICAgfVxuXG4gICAgcmV0dXJuICdBdHRlbXB0IHRvIGFjY2VzcyBtZW1vcnkgb3V0c2lkZSBidWZmZXIgYm91bmRzJ1xuICB9LCBSYW5nZUVycm9yKVxuRSgnRVJSX0lOVkFMSURfQVJHX1RZUEUnLFxuICBmdW5jdGlvbiAobmFtZSwgYWN0dWFsKSB7XG4gICAgcmV0dXJuIGBUaGUgXCIke25hbWV9XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiBhY3R1YWx9YFxuICB9LCBUeXBlRXJyb3IpXG5FKCdFUlJfT1VUX09GX1JBTkdFJyxcbiAgZnVuY3Rpb24gKHN0ciwgcmFuZ2UsIGlucHV0KSB7XG4gICAgbGV0IG1zZyA9IGBUaGUgdmFsdWUgb2YgXCIke3N0cn1cIiBpcyBvdXQgb2YgcmFuZ2UuYFxuICAgIGxldCByZWNlaXZlZCA9IGlucHV0XG4gICAgaWYgKE51bWJlci5pc0ludGVnZXIoaW5wdXQpICYmIE1hdGguYWJzKGlucHV0KSA+IDIgKiogMzIpIHtcbiAgICAgIHJlY2VpdmVkID0gYWRkTnVtZXJpY2FsU2VwYXJhdG9yKFN0cmluZyhpbnB1dCkpXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdiaWdpbnQnKSB7XG4gICAgICByZWNlaXZlZCA9IFN0cmluZyhpbnB1dClcbiAgICAgIGlmIChpbnB1dCA+IEJpZ0ludCgyKSAqKiBCaWdJbnQoMzIpIHx8IGlucHV0IDwgLShCaWdJbnQoMikgKiogQmlnSW50KDMyKSkpIHtcbiAgICAgICAgcmVjZWl2ZWQgPSBhZGROdW1lcmljYWxTZXBhcmF0b3IocmVjZWl2ZWQpXG4gICAgICB9XG4gICAgICByZWNlaXZlZCArPSAnbidcbiAgICB9XG4gICAgbXNnICs9IGAgSXQgbXVzdCBiZSAke3JhbmdlfS4gUmVjZWl2ZWQgJHtyZWNlaXZlZH1gXG4gICAgcmV0dXJuIG1zZ1xuICB9LCBSYW5nZUVycm9yKVxuXG5mdW5jdGlvbiBhZGROdW1lcmljYWxTZXBhcmF0b3IgKHZhbCkge1xuICBsZXQgcmVzID0gJydcbiAgbGV0IGkgPSB2YWwubGVuZ3RoXG4gIGNvbnN0IHN0YXJ0ID0gdmFsWzBdID09PSAnLScgPyAxIDogMFxuICBmb3IgKDsgaSA+PSBzdGFydCArIDQ7IGkgLT0gMykge1xuICAgIHJlcyA9IGBfJHt2YWwuc2xpY2UoaSAtIDMsIGkpfSR7cmVzfWBcbiAgfVxuICByZXR1cm4gYCR7dmFsLnNsaWNlKDAsIGkpfSR7cmVzfWBcbn1cblxuLy8gQ0hFQ0sgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gY2hlY2tCb3VuZHMgKGJ1Ziwgb2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpXG4gIGlmIChidWZbb2Zmc2V0XSA9PT0gdW5kZWZpbmVkIHx8IGJ1ZltvZmZzZXQgKyBieXRlTGVuZ3RoXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYm91bmRzRXJyb3Iob2Zmc2V0LCBidWYubGVuZ3RoIC0gKGJ5dGVMZW5ndGggKyAxKSlcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0ludEJJICh2YWx1ZSwgbWluLCBtYXgsIGJ1Ziwgb2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikge1xuICAgIGNvbnN0IG4gPSB0eXBlb2YgbWluID09PSAnYmlnaW50JyA/ICduJyA6ICcnXG4gICAgbGV0IHJhbmdlXG4gICAgaWYgKGJ5dGVMZW5ndGggPiAzKSB7XG4gICAgICBpZiAobWluID09PSAwIHx8IG1pbiA9PT0gQmlnSW50KDApKSB7XG4gICAgICAgIHJhbmdlID0gYD49IDAke259IGFuZCA8IDIke259ICoqICR7KGJ5dGVMZW5ndGggKyAxKSAqIDh9JHtufWBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJhbmdlID0gYD49IC0oMiR7bn0gKiogJHsoYnl0ZUxlbmd0aCArIDEpICogOCAtIDF9JHtufSkgYW5kIDwgMiAqKiBgICtcbiAgICAgICAgICAgICAgICBgJHsoYnl0ZUxlbmd0aCArIDEpICogOCAtIDF9JHtufWBcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmFuZ2UgPSBgPj0gJHttaW59JHtufSBhbmQgPD0gJHttYXh9JHtufWBcbiAgICB9XG4gICAgdGhyb3cgbmV3IGVycm9ycy5FUlJfT1VUX09GX1JBTkdFKCd2YWx1ZScsIHJhbmdlLCB2YWx1ZSlcbiAgfVxuICBjaGVja0JvdW5kcyhidWYsIG9mZnNldCwgYnl0ZUxlbmd0aClcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVOdW1iZXIgKHZhbHVlLCBuYW1lKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IGVycm9ycy5FUlJfSU5WQUxJRF9BUkdfVFlQRShuYW1lLCAnbnVtYmVyJywgdmFsdWUpXG4gIH1cbn1cblxuZnVuY3Rpb24gYm91bmRzRXJyb3IgKHZhbHVlLCBsZW5ndGgsIHR5cGUpIHtcbiAgaWYgKE1hdGguZmxvb3IodmFsdWUpICE9PSB2YWx1ZSkge1xuICAgIHZhbGlkYXRlTnVtYmVyKHZhbHVlLCB0eXBlKVxuICAgIHRocm93IG5ldyBlcnJvcnMuRVJSX09VVF9PRl9SQU5HRSh0eXBlIHx8ICdvZmZzZXQnLCAnYW4gaW50ZWdlcicsIHZhbHVlKVxuICB9XG5cbiAgaWYgKGxlbmd0aCA8IDApIHtcbiAgICB0aHJvdyBuZXcgZXJyb3JzLkVSUl9CVUZGRVJfT1VUX09GX0JPVU5EUygpXG4gIH1cblxuICB0aHJvdyBuZXcgZXJyb3JzLkVSUl9PVVRfT0ZfUkFOR0UodHlwZSB8fCAnb2Zmc2V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA+PSAke3R5cGUgPyAxIDogMH0gYW5kIDw9ICR7bGVuZ3RofWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSlcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG5jb25zdCBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXisvMC05QS1aYS16LV9dL2dcblxuZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuICAvLyBOb2RlIHRha2VzIGVxdWFsIHNpZ25zIGFzIGVuZCBvZiB0aGUgQmFzZTY0IGVuY29kaW5nXG4gIHN0ciA9IHN0ci5zcGxpdCgnPScpWzBdXG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHIudHJpbSgpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSdcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgbGV0IGNvZGVQb2ludFxuICBjb25zdCBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIGxldCBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICBjb25zdCBieXRlcyA9IFtdXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIGNvbnN0IGJ5dGVBcnJheSA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgbGV0IGMsIGhpLCBsb1xuICBjb25zdCBieXRlQXJyYXkgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuXG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaGkgPSBjID4+IDhcbiAgICBsbyA9IGMgJSAyNTZcbiAgICBieXRlQXJyYXkucHVzaChsbylcbiAgICBieXRlQXJyYXkucHVzaChoaSlcbiAgfVxuXG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcbn1cblxuZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGxldCBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG4vLyBBcnJheUJ1ZmZlciBvciBVaW50OEFycmF5IG9iamVjdHMgZnJvbSBvdGhlciBjb250ZXh0cyAoaS5lLiBpZnJhbWVzKSBkbyBub3QgcGFzc1xuLy8gdGhlIGBpbnN0YW5jZW9mYCBjaGVjayBidXQgdGhleSBzaG91bGQgYmUgdHJlYXRlZCBhcyBvZiB0aGF0IHR5cGUuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8xNjZcbmZ1bmN0aW9uIGlzSW5zdGFuY2UgKG9iaiwgdHlwZSkge1xuICByZXR1cm4gb2JqIGluc3RhbmNlb2YgdHlwZSB8fFxuICAgIChvYmogIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IgIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IubmFtZSAhPSBudWxsICYmXG4gICAgICBvYmouY29uc3RydWN0b3IubmFtZSA9PT0gdHlwZS5uYW1lKVxufVxuZnVuY3Rpb24gbnVtYmVySXNOYU4gKG9iaikge1xuICAvLyBGb3IgSUUxMSBzdXBwb3J0XG4gIHJldHVybiBvYmogIT09IG9iaiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuXG4vLyBDcmVhdGUgbG9va3VwIHRhYmxlIGZvciBgdG9TdHJpbmcoJ2hleCcpYFxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMjE5XG5jb25zdCBoZXhTbGljZUxvb2t1cFRhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgYWxwaGFiZXQgPSAnMDEyMzQ1Njc4OWFiY2RlZidcbiAgY29uc3QgdGFibGUgPSBuZXcgQXJyYXkoMjU2KVxuICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICBjb25zdCBpMTYgPSBpICogMTZcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IDE2OyArK2opIHtcbiAgICAgIHRhYmxlW2kxNiArIGpdID0gYWxwaGFiZXRbaV0gKyBhbHBoYWJldFtqXVxuICAgIH1cbiAgfVxuICByZXR1cm4gdGFibGVcbn0pKClcblxuLy8gUmV0dXJuIG5vdCBmdW5jdGlvbiB3aXRoIEVycm9yIGlmIEJpZ0ludCBub3Qgc3VwcG9ydGVkXG5mdW5jdGlvbiBkZWZpbmVCaWdJbnRNZXRob2QgKGZuKSB7XG4gIHJldHVybiB0eXBlb2YgQmlnSW50ID09PSAndW5kZWZpbmVkJyA/IEJ1ZmZlckJpZ0ludE5vdERlZmluZWQgOiBmblxufVxuXG5mdW5jdGlvbiBCdWZmZXJCaWdJbnROb3REZWZpbmVkICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdCaWdJbnQgbm90IHN1cHBvcnRlZCcpXG59XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbi8vIGJhc2VkIG9mZiBodHRwczovL2dpdGh1Yi5jb20vZGVmdW5jdHpvbWJpZS9ub2RlLXByb2Nlc3MvYmxvYi9tYXN0ZXIvYnJvd3Nlci5qc1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbnZhciBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuaWYgKHR5cGVvZiBnbG9iYWwuc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xufVxuaWYgKHR5cGVvZiBnbG9iYWwuY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xufVxuXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5mdW5jdGlvbiBuZXh0VGljayhmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufVxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnZhciB0aXRsZSA9ICdicm93c2VyJztcbnZhciBwbGF0Zm9ybSA9ICdicm93c2VyJztcbnZhciBicm93c2VyID0gdHJ1ZTtcbnZhciBlbnYgPSB7fTtcbnZhciBhcmd2ID0gW107XG52YXIgdmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xudmFyIHZlcnNpb25zID0ge307XG52YXIgcmVsZWFzZSA9IHt9O1xudmFyIGNvbmZpZyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIG9uID0gbm9vcDtcbnZhciBhZGRMaXN0ZW5lciA9IG5vb3A7XG52YXIgb25jZSA9IG5vb3A7XG52YXIgb2ZmID0gbm9vcDtcbnZhciByZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG52YXIgcmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnZhciBlbWl0ID0gbm9vcDtcblxuZnVuY3Rpb24gYmluZGluZyhuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufVxuXG5mdW5jdGlvbiBjd2QgKCkgeyByZXR1cm4gJy8nIH1cbmZ1bmN0aW9uIGNoZGlyIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufWZ1bmN0aW9uIHVtYXNrKCkgeyByZXR1cm4gMDsgfVxuXG4vLyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9rdW1hdmlzL2Jyb3dzZXItcHJvY2Vzcy1ocnRpbWUvYmxvYi9tYXN0ZXIvaW5kZXguanNcbnZhciBwZXJmb3JtYW5jZSA9IGdsb2JhbC5wZXJmb3JtYW5jZSB8fCB7fTtcbnZhciBwZXJmb3JtYW5jZU5vdyA9XG4gIHBlcmZvcm1hbmNlLm5vdyAgICAgICAgfHxcbiAgcGVyZm9ybWFuY2UubW96Tm93ICAgICB8fFxuICBwZXJmb3JtYW5jZS5tc05vdyAgICAgIHx8XG4gIHBlcmZvcm1hbmNlLm9Ob3cgICAgICAgfHxcbiAgcGVyZm9ybWFuY2Uud2Via2l0Tm93ICB8fFxuICBmdW5jdGlvbigpeyByZXR1cm4gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSB9O1xuXG4vLyBnZW5lcmF0ZSB0aW1lc3RhbXAgb3IgZGVsdGFcbi8vIHNlZSBodHRwOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NfcHJvY2Vzc19ocnRpbWVcbmZ1bmN0aW9uIGhydGltZShwcmV2aW91c1RpbWVzdGFtcCl7XG4gIHZhciBjbG9ja3RpbWUgPSBwZXJmb3JtYW5jZU5vdy5jYWxsKHBlcmZvcm1hbmNlKSoxZS0zO1xuICB2YXIgc2Vjb25kcyA9IE1hdGguZmxvb3IoY2xvY2t0aW1lKTtcbiAgdmFyIG5hbm9zZWNvbmRzID0gTWF0aC5mbG9vcigoY2xvY2t0aW1lJTEpKjFlOSk7XG4gIGlmIChwcmV2aW91c1RpbWVzdGFtcCkge1xuICAgIHNlY29uZHMgPSBzZWNvbmRzIC0gcHJldmlvdXNUaW1lc3RhbXBbMF07XG4gICAgbmFub3NlY29uZHMgPSBuYW5vc2Vjb25kcyAtIHByZXZpb3VzVGltZXN0YW1wWzFdO1xuICAgIGlmIChuYW5vc2Vjb25kczwwKSB7XG4gICAgICBzZWNvbmRzLS07XG4gICAgICBuYW5vc2Vjb25kcyArPSAxZTk7XG4gICAgfVxuICB9XG4gIHJldHVybiBbc2Vjb25kcyxuYW5vc2Vjb25kc11cbn1cblxudmFyIHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG5mdW5jdGlvbiB1cHRpbWUoKSB7XG4gIHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCk7XG4gIHZhciBkaWYgPSBjdXJyZW50VGltZSAtIHN0YXJ0VGltZTtcbiAgcmV0dXJuIGRpZiAvIDEwMDA7XG59XG5cbnZhciBicm93c2VyJDEgPSB7XG4gIG5leHRUaWNrOiBuZXh0VGljayxcbiAgdGl0bGU6IHRpdGxlLFxuICBicm93c2VyOiBicm93c2VyLFxuICBlbnY6IGVudixcbiAgYXJndjogYXJndixcbiAgdmVyc2lvbjogdmVyc2lvbixcbiAgdmVyc2lvbnM6IHZlcnNpb25zLFxuICBvbjogb24sXG4gIGFkZExpc3RlbmVyOiBhZGRMaXN0ZW5lcixcbiAgb25jZTogb25jZSxcbiAgb2ZmOiBvZmYsXG4gIHJlbW92ZUxpc3RlbmVyOiByZW1vdmVMaXN0ZW5lcixcbiAgcmVtb3ZlQWxsTGlzdGVuZXJzOiByZW1vdmVBbGxMaXN0ZW5lcnMsXG4gIGVtaXQ6IGVtaXQsXG4gIGJpbmRpbmc6IGJpbmRpbmcsXG4gIGN3ZDogY3dkLFxuICBjaGRpcjogY2hkaXIsXG4gIHVtYXNrOiB1bWFzayxcbiAgaHJ0aW1lOiBocnRpbWUsXG4gIHBsYXRmb3JtOiBwbGF0Zm9ybSxcbiAgcmVsZWFzZTogcmVsZWFzZSxcbiAgY29uZmlnOiBjb25maWcsXG4gIHVwdGltZTogdXB0aW1lXG59O1xuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyJDE7XG5leHBvcnQgeyBhZGRMaXN0ZW5lciwgYXJndiwgYmluZGluZywgYnJvd3NlciwgY2hkaXIsIGNvbmZpZywgY3dkLCBlbWl0LCBlbnYsIGhydGltZSwgbmV4dFRpY2ssIG9mZiwgb24sIG9uY2UsIHBsYXRmb3JtLCByZWxlYXNlLCByZW1vdmVBbGxMaXN0ZW5lcnMsIHJlbW92ZUxpc3RlbmVyLCB0aXRsZSwgdW1hc2ssIHVwdGltZSwgdmVyc2lvbiwgdmVyc2lvbnMgfTtcbiIsIlxudmFyIGluaGVyaXRzO1xuaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKXtcbiAgaW5oZXJpdHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgaW5oZXJpdHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgaW5oZXJpdHM7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbmltcG9ydCBwcm9jZXNzIGZyb20gJ3Byb2Nlc3MnO1xudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0IGZ1bmN0aW9uIGRlcHJlY2F0ZShmbiwgbXNnKSB7XG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmIChpc1VuZGVmaW5lZChnbG9iYWwucHJvY2VzcykpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnbG9nKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IDA7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbXNnID0gZm9ybWF0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9O1xuICAvLyBsZWdhY3kuLi5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuICBpZiAoaXNCb29sZWFuKG9wdHMpKSB7XG4gICAgLy8gbGVnYWN5Li4uXG4gICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuICB9IGVsc2UgaWYgKG9wdHMpIHtcbiAgICAvLyBnb3QgYW4gXCJvcHRpb25zXCIgb2JqZWN0XG4gICAgX2V4dGVuZChjdHgsIG9wdHMpO1xuICB9XG4gIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7XG4gIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7XG4gIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcbn1cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BTlNJX2VzY2FwZV9jb2RlI2dyYXBoaWNzXG5pbnNwZWN0LmNvbG9ycyA9IHtcbiAgJ2JvbGQnIDogWzEsIDIyXSxcbiAgJ2l0YWxpYycgOiBbMywgMjNdLFxuICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sXG4gICdpbnZlcnNlJyA6IFs3LCAyN10sXG4gICd3aGl0ZScgOiBbMzcsIDM5XSxcbiAgJ2dyZXknIDogWzkwLCAzOV0sXG4gICdibGFjaycgOiBbMzAsIDM5XSxcbiAgJ2JsdWUnIDogWzM0LCAzOV0sXG4gICdjeWFuJyA6IFszNiwgMzldLFxuICAnZ3JlZW4nIDogWzMyLCAzOV0sXG4gICdtYWdlbnRhJyA6IFszNSwgMzldLFxuICAncmVkJyA6IFszMSwgMzldLFxuICAneWVsbG93JyA6IFszMywgMzldXG59O1xuXG4vLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGVcbmluc3BlY3Quc3R5bGVzID0ge1xuICAnc3BlY2lhbCc6ICdjeWFuJyxcbiAgJ251bWJlcic6ICd5ZWxsb3cnLFxuICAnYm9vbGVhbic6ICd5ZWxsb3cnLFxuICAndW5kZWZpbmVkJzogJ2dyZXknLFxuICAnbnVsbCc6ICdib2xkJyxcbiAgJ3N0cmluZyc6ICdncmVlbicsXG4gICdkYXRlJzogJ21hZ2VudGEnLFxuICAvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuICAncmVnZXhwJzogJ3JlZCdcbn07XG5cblxuZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIHJldHVybiAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICtcbiAgICAgICAgICAgJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3R5bGl6ZU5vQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgcmV0dXJuIHN0cjtcbn1cblxuXG5mdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkge1xuICB2YXIgaGFzaCA9IHt9O1xuXG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLCBpZHgpIHtcbiAgICBoYXNoW3ZhbF0gPSB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gaGFzaDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMpIHtcbiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLlxuICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcbiAgaWYgKGN0eC5jdXN0b21JbnNwZWN0ICYmXG4gICAgICB2YWx1ZSAmJlxuICAgICAgaXNGdW5jdGlvbih2YWx1ZS5pbnNwZWN0KSAmJlxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBpbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmXG4gICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0J1ZmZlcihtYXliZUJ1Zikge1xuICByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKG1heWJlQnVmKTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0IGZ1bmN0aW9uIGxvZygpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZm9ybWF0LmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xufVxuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnLi9pbmhlcml0cyc7XG5leHBvcnQge2luaGVyaXRzfVxuXG5leHBvcnQgZnVuY3Rpb24gX2V4dGVuZChvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbmhlcml0czogaW5oZXJpdHMsXG4gIF9leHRlbmQ6IF9leHRlbmQsXG4gIGxvZzogbG9nLFxuICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gIGlzUHJpbWl0aXZlOiBpc1ByaW1pdGl2ZSxcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNFcnJvcjogaXNFcnJvcixcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNSZWdFeHA6IGlzUmVnRXhwLFxuICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG4gIGlzU3ltYm9sOiBpc1N5bWJvbCxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBpc051bGxPclVuZGVmaW5lZCxcbiAgaXNOdWxsOiBpc051bGwsXG4gIGlzQm9vbGVhbjogaXNCb29sZWFuLFxuICBpc0FycmF5OiBpc0FycmF5LFxuICBpbnNwZWN0OiBpbnNwZWN0LFxuICBkZXByZWNhdGU6IGRlcHJlY2F0ZSxcbiAgZm9ybWF0OiBmb3JtYXQsXG4gIGRlYnVnbG9nOiBkZWJ1Z2xvZ1xufVxuIiwiXG5mdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhciB4ID0gYS5sZW5ndGg7XG4gIHZhciB5ID0gYi5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV07XG4gICAgICB5ID0gYltpXTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBpZiAoeSA8IHgpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICByZXR1cm4gMDtcbn1cbnZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChoYXNPd24uY2FsbChvYmosIGtleSkpIGtleXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufTtcbi8vIGJhc2VkIG9uIG5vZGUgYXNzZXJ0LCBvcmlnaW5hbCBub3RpY2U6XG5cbi8vIGh0dHA6Ly93aWtpLmNvbW1vbmpzLm9yZy93aWtpL1VuaXRfVGVzdGluZy8xLjBcbi8vXG4vLyBUSElTIElTIE5PVCBURVNURUQgTk9SIExJS0VMWSBUTyBXT1JLIE9VVFNJREUgVjghXG4vL1xuLy8gT3JpZ2luYWxseSBmcm9tIG5hcndoYWwuanMgKGh0dHA6Ly9uYXJ3aGFsanMub3JnKVxuLy8gQ29weXJpZ2h0IChjKSAyMDA5IFRob21hcyBSb2JpbnNvbiA8Mjgwbm9ydGguY29tPlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICdTb2Z0d2FyZScpLCB0b1xuLy8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGVcbi8vIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vclxuLy8gc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAnQVMgSVMnLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuLy8gQVVUSE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU5cbi8vIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT05cbi8vIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuaW1wb3J0IHtpc0J1ZmZlcn0gZnJvbSAnYnVmZmVyJztcbmltcG9ydCB7aXNQcmltaXRpdmUsIGluaGVyaXRzLCBpc0Vycm9yLCBpc0Z1bmN0aW9uLCBpc1JlZ0V4cCwgaXNEYXRlLCBpbnNwZWN0IGFzIHV0aWxJbnNwZWN0fSBmcm9tICd1dGlsJztcbnZhciBwU2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgX2Z1bmN0aW9uc0hhdmVOYW1lcztcbmZ1bmN0aW9uIGZ1bmN0aW9uc0hhdmVOYW1lcygpIHtcbiAgaWYgKHR5cGVvZiBfZnVuY3Rpb25zSGF2ZU5hbWVzICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBfZnVuY3Rpb25zSGF2ZU5hbWVzO1xuICB9XG4gIHJldHVybiBfZnVuY3Rpb25zSGF2ZU5hbWVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZm9vKCkge30ubmFtZSA9PT0gJ2Zvbyc7XG4gIH0oKSk7XG59XG5mdW5jdGlvbiBwVG9TdHJpbmcgKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaik7XG59XG5mdW5jdGlvbiBpc1ZpZXcoYXJyYnVmKSB7XG4gIGlmIChpc0J1ZmZlcihhcnJidWYpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZ2xvYmFsLkFycmF5QnVmZmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyhhcnJidWYpO1xuICB9XG4gIGlmICghYXJyYnVmKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChhcnJidWYgaW5zdGFuY2VvZiBEYXRhVmlldykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChhcnJidWYuYnVmZmVyICYmIGFycmJ1Zi5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbi8vIDEuIFRoZSBhc3NlcnQgbW9kdWxlIHByb3ZpZGVzIGZ1bmN0aW9ucyB0aGF0IHRocm93XG4vLyBBc3NlcnRpb25FcnJvcidzIHdoZW4gcGFydGljdWxhciBjb25kaXRpb25zIGFyZSBub3QgbWV0LiBUaGVcbi8vIGFzc2VydCBtb2R1bGUgbXVzdCBjb25mb3JtIHRvIHRoZSBmb2xsb3dpbmcgaW50ZXJmYWNlLlxuXG5mdW5jdGlvbiBhc3NlcnQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgaWYgKCF2YWx1ZSkgZmFpbCh2YWx1ZSwgdHJ1ZSwgbWVzc2FnZSwgJz09Jywgb2spO1xufVxuZXhwb3J0IGRlZmF1bHQgYXNzZXJ0O1xuXG4vLyAyLiBUaGUgQXNzZXJ0aW9uRXJyb3IgaXMgZGVmaW5lZCBpbiBhc3NlcnQuXG4vLyBuZXcgYXNzZXJ0LkFzc2VydGlvbkVycm9yKHsgbWVzc2FnZTogbWVzc2FnZSxcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWw6IGFjdHVhbCxcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWQgfSlcblxudmFyIHJlZ2V4ID0gL1xccypmdW5jdGlvblxccysoW15cXChcXHNdKilcXHMqLztcbi8vIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9samhhcmIvZnVuY3Rpb24ucHJvdG90eXBlLm5hbWUvYmxvYi9hZGVlZWVjOGJmY2M2MDY4YjE4N2Q3ZDlmYjNkNWJiMWQzYTMwODk5L2ltcGxlbWVudGF0aW9uLmpzXG5mdW5jdGlvbiBnZXROYW1lKGZ1bmMpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChmdW5jdGlvbnNIYXZlTmFtZXMoKSkge1xuICAgIHJldHVybiBmdW5jLm5hbWU7XG4gIH1cbiAgdmFyIHN0ciA9IGZ1bmMudG9TdHJpbmcoKTtcbiAgdmFyIG1hdGNoID0gc3RyLm1hdGNoKHJlZ2V4KTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdO1xufVxuYXNzZXJ0LkFzc2VydGlvbkVycm9yID0gQXNzZXJ0aW9uRXJyb3I7XG5leHBvcnQgZnVuY3Rpb24gQXNzZXJ0aW9uRXJyb3Iob3B0aW9ucykge1xuICB0aGlzLm5hbWUgPSAnQXNzZXJ0aW9uRXJyb3InO1xuICB0aGlzLmFjdHVhbCA9IG9wdGlvbnMuYWN0dWFsO1xuICB0aGlzLmV4cGVjdGVkID0gb3B0aW9ucy5leHBlY3RlZDtcbiAgdGhpcy5vcGVyYXRvciA9IG9wdGlvbnMub3BlcmF0b3I7XG4gIGlmIChvcHRpb25zLm1lc3NhZ2UpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7XG4gICAgdGhpcy5nZW5lcmF0ZWRNZXNzYWdlID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5tZXNzYWdlID0gZ2V0TWVzc2FnZSh0aGlzKTtcbiAgICB0aGlzLmdlbmVyYXRlZE1lc3NhZ2UgPSB0cnVlO1xuICB9XG4gIHZhciBzdGFja1N0YXJ0RnVuY3Rpb24gPSBvcHRpb25zLnN0YWNrU3RhcnRGdW5jdGlvbiB8fCBmYWlsO1xuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBzdGFja1N0YXJ0RnVuY3Rpb24pO1xuICB9IGVsc2Uge1xuICAgIC8vIG5vbiB2OCBicm93c2VycyBzbyB3ZSBjYW4gaGF2ZSBhIHN0YWNrdHJhY2VcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCk7XG4gICAgaWYgKGVyci5zdGFjaykge1xuICAgICAgdmFyIG91dCA9IGVyci5zdGFjaztcblxuICAgICAgLy8gdHJ5IHRvIHN0cmlwIHVzZWxlc3MgZnJhbWVzXG4gICAgICB2YXIgZm5fbmFtZSA9IGdldE5hbWUoc3RhY2tTdGFydEZ1bmN0aW9uKTtcbiAgICAgIHZhciBpZHggPSBvdXQuaW5kZXhPZignXFxuJyArIGZuX25hbWUpO1xuICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgIC8vIG9uY2Ugd2UgaGF2ZSBsb2NhdGVkIHRoZSBmdW5jdGlvbiBmcmFtZVxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHN0cmlwIG91dCBldmVyeXRoaW5nIGJlZm9yZSBpdCAoYW5kIGl0cyBsaW5lKVxuICAgICAgICB2YXIgbmV4dF9saW5lID0gb3V0LmluZGV4T2YoJ1xcbicsIGlkeCArIDEpO1xuICAgICAgICBvdXQgPSBvdXQuc3Vic3RyaW5nKG5leHRfbGluZSArIDEpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YWNrID0gb3V0O1xuICAgIH1cbiAgfVxufVxuXG4vLyBhc3NlcnQuQXNzZXJ0aW9uRXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuaW5oZXJpdHMoQXNzZXJ0aW9uRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gdHJ1bmNhdGUocywgbikge1xuICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHMubGVuZ3RoIDwgbiA/IHMgOiBzLnNsaWNlKDAsIG4pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzO1xuICB9XG59XG5mdW5jdGlvbiBpbnNwZWN0KHNvbWV0aGluZykge1xuICBpZiAoZnVuY3Rpb25zSGF2ZU5hbWVzKCkgfHwgIWlzRnVuY3Rpb24oc29tZXRoaW5nKSkge1xuICAgIHJldHVybiB1dGlsSW5zcGVjdChzb21ldGhpbmcpO1xuICB9XG4gIHZhciByYXduYW1lID0gZ2V0TmFtZShzb21ldGhpbmcpO1xuICB2YXIgbmFtZSA9IHJhd25hbWUgPyAnOiAnICsgcmF3bmFtZSA6ICcnO1xuICByZXR1cm4gJ1tGdW5jdGlvbicgKyAgbmFtZSArICddJztcbn1cbmZ1bmN0aW9uIGdldE1lc3NhZ2Uoc2VsZikge1xuICByZXR1cm4gdHJ1bmNhdGUoaW5zcGVjdChzZWxmLmFjdHVhbCksIDEyOCkgKyAnICcgK1xuICAgICAgICAgc2VsZi5vcGVyYXRvciArICcgJyArXG4gICAgICAgICB0cnVuY2F0ZShpbnNwZWN0KHNlbGYuZXhwZWN0ZWQpLCAxMjgpO1xufVxuXG4vLyBBdCBwcmVzZW50IG9ubHkgdGhlIHRocmVlIGtleXMgbWVudGlvbmVkIGFib3ZlIGFyZSB1c2VkIGFuZFxuLy8gdW5kZXJzdG9vZCBieSB0aGUgc3BlYy4gSW1wbGVtZW50YXRpb25zIG9yIHN1YiBtb2R1bGVzIGNhbiBwYXNzXG4vLyBvdGhlciBrZXlzIHRvIHRoZSBBc3NlcnRpb25FcnJvcidzIGNvbnN0cnVjdG9yIC0gdGhleSB3aWxsIGJlXG4vLyBpZ25vcmVkLlxuXG4vLyAzLiBBbGwgb2YgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgbXVzdCB0aHJvdyBhbiBBc3NlcnRpb25FcnJvclxuLy8gd2hlbiBhIGNvcnJlc3BvbmRpbmcgY29uZGl0aW9uIGlzIG5vdCBtZXQsIHdpdGggYSBtZXNzYWdlIHRoYXRcbi8vIG1heSBiZSB1bmRlZmluZWQgaWYgbm90IHByb3ZpZGVkLiAgQWxsIGFzc2VydGlvbiBtZXRob2RzIHByb3ZpZGVcbi8vIGJvdGggdGhlIGFjdHVhbCBhbmQgZXhwZWN0ZWQgdmFsdWVzIHRvIHRoZSBhc3NlcnRpb24gZXJyb3IgZm9yXG4vLyBkaXNwbGF5IHB1cnBvc2VzLlxuXG5leHBvcnQgZnVuY3Rpb24gZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCBvcGVyYXRvciwgc3RhY2tTdGFydEZ1bmN0aW9uKSB7XG4gIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcih7XG4gICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgb3BlcmF0b3I6IG9wZXJhdG9yLFxuICAgIHN0YWNrU3RhcnRGdW5jdGlvbjogc3RhY2tTdGFydEZ1bmN0aW9uXG4gIH0pO1xufVxuXG4vLyBFWFRFTlNJT04hIGFsbG93cyBmb3Igd2VsbCBiZWhhdmVkIGVycm9ycyBkZWZpbmVkIGVsc2V3aGVyZS5cbmFzc2VydC5mYWlsID0gZmFpbDtcblxuLy8gNC4gUHVyZSBhc3NlcnRpb24gdGVzdHMgd2hldGhlciBhIHZhbHVlIGlzIHRydXRoeSwgYXMgZGV0ZXJtaW5lZFxuLy8gYnkgISFndWFyZC5cbi8vIGFzc2VydC5vayhndWFyZCwgbWVzc2FnZV9vcHQpO1xuLy8gVGhpcyBzdGF0ZW1lbnQgaXMgZXF1aXZhbGVudCB0byBhc3NlcnQuZXF1YWwodHJ1ZSwgISFndWFyZCxcbi8vIG1lc3NhZ2Vfb3B0KTsuIFRvIHRlc3Qgc3RyaWN0bHkgZm9yIHRoZSB2YWx1ZSB0cnVlLCB1c2Vcbi8vIGFzc2VydC5zdHJpY3RFcXVhbCh0cnVlLCBndWFyZCwgbWVzc2FnZV9vcHQpOy5cblxuZXhwb3J0IGZ1bmN0aW9uIG9rKHZhbHVlLCBtZXNzYWdlKSB7XG4gIGlmICghdmFsdWUpIGZhaWwodmFsdWUsIHRydWUsIG1lc3NhZ2UsICc9PScsIG9rKTtcbn1cbmFzc2VydC5vayA9IG9rO1xuZXhwb3J0IHtvayBhcyBhc3NlcnR9O1xuXG4vLyA1LiBUaGUgZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIHNoYWxsb3csIGNvZXJjaXZlIGVxdWFsaXR5IHdpdGhcbi8vID09LlxuLy8gYXNzZXJ0LmVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcbmFzc2VydC5lcXVhbCA9IGVxdWFsO1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCAhPSBleHBlY3RlZCkgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnPT0nLCBlcXVhbCk7XG59XG5cbi8vIDYuIFRoZSBub24tZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIGZvciB3aGV0aGVyIHR3byBvYmplY3RzIGFyZSBub3QgZXF1YWxcbi8vIHdpdGggIT0gYXNzZXJ0Lm5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcbmFzc2VydC5ub3RFcXVhbCA9IG5vdEVxdWFsO1xuZXhwb3J0IGZ1bmN0aW9uIG5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCA9PSBleHBlY3RlZCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJyE9Jywgbm90RXF1YWwpO1xuICB9XG59XG5cbi8vIDcuIFRoZSBlcXVpdmFsZW5jZSBhc3NlcnRpb24gdGVzdHMgYSBkZWVwIGVxdWFsaXR5IHJlbGF0aW9uLlxuLy8gYXNzZXJ0LmRlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5hc3NlcnQuZGVlcEVxdWFsID0gZGVlcEVxdWFsO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmICghX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBmYWxzZSkpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdkZWVwRXF1YWwnLCBkZWVwRXF1YWwpO1xuICB9XG59XG5hc3NlcnQuZGVlcFN0cmljdEVxdWFsID0gZGVlcFN0cmljdEVxdWFsO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmICghX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCB0cnVlKSkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ2RlZXBTdHJpY3RFcXVhbCcsIGRlZXBTdHJpY3RFcXVhbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBzdHJpY3QsIG1lbW9zKSB7XG4gIC8vIDcuMS4gQWxsIGlkZW50aWNhbCB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGFzIGRldGVybWluZWQgYnkgPT09LlxuICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGlzQnVmZmVyKGFjdHVhbCkgJiYgaXNCdWZmZXIoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGNvbXBhcmUoYWN0dWFsLCBleHBlY3RlZCkgPT09IDA7XG5cbiAgLy8gNy4yLiBJZiB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMgYSBEYXRlIG9iamVjdCwgdGhlIGFjdHVhbCB2YWx1ZSBpc1xuICAvLyBlcXVpdmFsZW50IGlmIGl0IGlzIGFsc28gYSBEYXRlIG9iamVjdCB0aGF0IHJlZmVycyB0byB0aGUgc2FtZSB0aW1lLlxuICB9IGVsc2UgaWYgKGlzRGF0ZShhY3R1YWwpICYmIGlzRGF0ZShleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gYWN0dWFsLmdldFRpbWUoKSA9PT0gZXhwZWN0ZWQuZ2V0VGltZSgpO1xuXG4gIC8vIDcuMyBJZiB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0LCB0aGUgYWN0dWFsIHZhbHVlIGlzXG4gIC8vIGVxdWl2YWxlbnQgaWYgaXQgaXMgYWxzbyBhIFJlZ0V4cCBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzb3VyY2UgYW5kXG4gIC8vIHByb3BlcnRpZXMgKGBnbG9iYWxgLCBgbXVsdGlsaW5lYCwgYGxhc3RJbmRleGAsIGBpZ25vcmVDYXNlYCkuXG4gIH0gZWxzZSBpZiAoaXNSZWdFeHAoYWN0dWFsKSAmJiBpc1JlZ0V4cChleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gYWN0dWFsLnNvdXJjZSA9PT0gZXhwZWN0ZWQuc291cmNlICYmXG4gICAgICAgICAgIGFjdHVhbC5nbG9iYWwgPT09IGV4cGVjdGVkLmdsb2JhbCAmJlxuICAgICAgICAgICBhY3R1YWwubXVsdGlsaW5lID09PSBleHBlY3RlZC5tdWx0aWxpbmUgJiZcbiAgICAgICAgICAgYWN0dWFsLmxhc3RJbmRleCA9PT0gZXhwZWN0ZWQubGFzdEluZGV4ICYmXG4gICAgICAgICAgIGFjdHVhbC5pZ25vcmVDYXNlID09PSBleHBlY3RlZC5pZ25vcmVDYXNlO1xuXG4gIC8vIDcuNC4gT3RoZXIgcGFpcnMgdGhhdCBkbyBub3QgYm90aCBwYXNzIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyxcbiAgLy8gZXF1aXZhbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSA9PS5cbiAgfSBlbHNlIGlmICgoYWN0dWFsID09PSBudWxsIHx8IHR5cGVvZiBhY3R1YWwgIT09ICdvYmplY3QnKSAmJlxuICAgICAgICAgICAgIChleHBlY3RlZCA9PT0gbnVsbCB8fCB0eXBlb2YgZXhwZWN0ZWQgIT09ICdvYmplY3QnKSkge1xuICAgIHJldHVybiBzdHJpY3QgPyBhY3R1YWwgPT09IGV4cGVjdGVkIDogYWN0dWFsID09IGV4cGVjdGVkO1xuXG4gIC8vIElmIGJvdGggdmFsdWVzIGFyZSBpbnN0YW5jZXMgb2YgdHlwZWQgYXJyYXlzLCB3cmFwIHRoZWlyIHVuZGVybHlpbmdcbiAgLy8gQXJyYXlCdWZmZXJzIGluIGEgQnVmZmVyIGVhY2ggdG8gaW5jcmVhc2UgcGVyZm9ybWFuY2VcbiAgLy8gVGhpcyBvcHRpbWl6YXRpb24gcmVxdWlyZXMgdGhlIGFycmF5cyB0byBoYXZlIHRoZSBzYW1lIHR5cGUgYXMgY2hlY2tlZCBieVxuICAvLyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nIChha2EgcFRvU3RyaW5nKS4gTmV2ZXIgcGVyZm9ybSBiaW5hcnlcbiAgLy8gY29tcGFyaXNvbnMgZm9yIEZsb2F0KkFycmF5cywgdGhvdWdoLCBzaW5jZSBlLmcuICswID09PSAtMCBidXQgdGhlaXJcbiAgLy8gYml0IHBhdHRlcm5zIGFyZSBub3QgaWRlbnRpY2FsLlxuICB9IGVsc2UgaWYgKGlzVmlldyhhY3R1YWwpICYmIGlzVmlldyhleHBlY3RlZCkgJiZcbiAgICAgICAgICAgICBwVG9TdHJpbmcoYWN0dWFsKSA9PT0gcFRvU3RyaW5nKGV4cGVjdGVkKSAmJlxuICAgICAgICAgICAgICEoYWN0dWFsIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5IHx8XG4gICAgICAgICAgICAgICBhY3R1YWwgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkpKSB7XG4gICAgcmV0dXJuIGNvbXBhcmUobmV3IFVpbnQ4QXJyYXkoYWN0dWFsLmJ1ZmZlciksXG4gICAgICAgICAgICAgICAgICAgbmV3IFVpbnQ4QXJyYXkoZXhwZWN0ZWQuYnVmZmVyKSkgPT09IDA7XG5cbiAgLy8gNy41IEZvciBhbGwgb3RoZXIgT2JqZWN0IHBhaXJzLCBpbmNsdWRpbmcgQXJyYXkgb2JqZWN0cywgZXF1aXZhbGVuY2UgaXNcbiAgLy8gZGV0ZXJtaW5lZCBieSBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGFzIHZlcmlmaWVkXG4gIC8vIHdpdGggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKSwgdGhlIHNhbWUgc2V0IG9mIGtleXNcbiAgLy8gKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksIGVxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeVxuICAvLyBjb3JyZXNwb25kaW5nIGtleSwgYW5kIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS4gTm90ZTogdGhpc1xuICAvLyBhY2NvdW50cyBmb3IgYm90aCBuYW1lZCBhbmQgaW5kZXhlZCBwcm9wZXJ0aWVzIG9uIEFycmF5cy5cbiAgfSBlbHNlIGlmIChpc0J1ZmZlcihhY3R1YWwpICE9PSBpc0J1ZmZlcihleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgbWVtb3MgPSBtZW1vcyB8fCB7YWN0dWFsOiBbXSwgZXhwZWN0ZWQ6IFtdfTtcblxuICAgIHZhciBhY3R1YWxJbmRleCA9IG1lbW9zLmFjdHVhbC5pbmRleE9mKGFjdHVhbCk7XG4gICAgaWYgKGFjdHVhbEluZGV4ICE9PSAtMSkge1xuICAgICAgaWYgKGFjdHVhbEluZGV4ID09PSBtZW1vcy5leHBlY3RlZC5pbmRleE9mKGV4cGVjdGVkKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vcy5hY3R1YWwucHVzaChhY3R1YWwpO1xuICAgIG1lbW9zLmV4cGVjdGVkLnB1c2goZXhwZWN0ZWQpO1xuXG4gICAgcmV0dXJuIG9iakVxdWl2KGFjdHVhbCwgZXhwZWN0ZWQsIHN0cmljdCwgbWVtb3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzQXJndW1lbnRzKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG59XG5cbmZ1bmN0aW9uIG9iakVxdWl2KGEsIGIsIHN0cmljdCwgYWN0dWFsVmlzaXRlZE9iamVjdHMpIHtcbiAgaWYgKGEgPT09IG51bGwgfHwgYSA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IG51bGwgfHwgYiA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy8gaWYgb25lIGlzIGEgcHJpbWl0aXZlLCB0aGUgb3RoZXIgbXVzdCBiZSBzYW1lXG4gIGlmIChpc1ByaW1pdGl2ZShhKSB8fCBpc1ByaW1pdGl2ZShiKSlcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgaWYgKHN0cmljdCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSkgIT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihiKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHZhciBhSXNBcmdzID0gaXNBcmd1bWVudHMoYSk7XG4gIHZhciBiSXNBcmdzID0gaXNBcmd1bWVudHMoYik7XG4gIGlmICgoYUlzQXJncyAmJiAhYklzQXJncykgfHwgKCFhSXNBcmdzICYmIGJJc0FyZ3MpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKGFJc0FyZ3MpIHtcbiAgICBhID0gcFNsaWNlLmNhbGwoYSk7XG4gICAgYiA9IHBTbGljZS5jYWxsKGIpO1xuICAgIHJldHVybiBfZGVlcEVxdWFsKGEsIGIsIHN0cmljdCk7XG4gIH1cbiAgdmFyIGthID0gb2JqZWN0S2V5cyhhKTtcbiAgdmFyIGtiID0gb2JqZWN0S2V5cyhiKTtcbiAgdmFyIGtleSwgaTtcbiAgLy8gaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChrZXlzIGluY29ycG9yYXRlc1xuICAvLyBoYXNPd25Qcm9wZXJ0eSlcbiAgaWYgKGthLmxlbmd0aCAhPT0ga2IubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy90aGUgc2FtZSBzZXQgb2Yga2V5cyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSxcbiAga2Euc29ydCgpO1xuICBrYi5zb3J0KCk7XG4gIC8vfn5+Y2hlYXAga2V5IHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoa2FbaV0gIT09IGtiW2ldKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5IGNvcnJlc3BvbmRpbmcga2V5LCBhbmRcbiAgLy9+fn5wb3NzaWJseSBleHBlbnNpdmUgZGVlcCB0ZXN0XG4gIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAga2V5ID0ga2FbaV07XG4gICAgaWYgKCFfZGVlcEVxdWFsKGFba2V5XSwgYltrZXldLCBzdHJpY3QsIGFjdHVhbFZpc2l0ZWRPYmplY3RzKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gOC4gVGhlIG5vbi1lcXVpdmFsZW5jZSBhc3NlcnRpb24gdGVzdHMgZm9yIGFueSBkZWVwIGluZXF1YWxpdHkuXG4vLyBhc3NlcnQubm90RGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcbmFzc2VydC5ub3REZWVwRXF1YWwgPSBub3REZWVwRXF1YWw7XG5leHBvcnQgZnVuY3Rpb24gbm90RGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKF9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgZmFsc2UpKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnbm90RGVlcEVxdWFsJywgbm90RGVlcEVxdWFsKTtcbiAgfVxufVxuXG5hc3NlcnQubm90RGVlcFN0cmljdEVxdWFsID0gbm90RGVlcFN0cmljdEVxdWFsO1xuZXhwb3J0IGZ1bmN0aW9uIG5vdERlZXBTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIHRydWUpKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnbm90RGVlcFN0cmljdEVxdWFsJywgbm90RGVlcFN0cmljdEVxdWFsKTtcbiAgfVxufVxuXG5cbi8vIDkuIFRoZSBzdHJpY3QgZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIHN0cmljdCBlcXVhbGl0eSwgYXMgZGV0ZXJtaW5lZCBieSA9PT0uXG4vLyBhc3NlcnQuc3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuYXNzZXJ0LnN0cmljdEVxdWFsID0gc3RyaWN0RXF1YWw7XG5leHBvcnQgZnVuY3Rpb24gc3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJz09PScsIHN0cmljdEVxdWFsKTtcbiAgfVxufVxuXG4vLyAxMC4gVGhlIHN0cmljdCBub24tZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIGZvciBzdHJpY3QgaW5lcXVhbGl0eSwgYXNcbi8vIGRldGVybWluZWQgYnkgIT09LiAgYXNzZXJ0Lm5vdFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcbmFzc2VydC5ub3RTdHJpY3RFcXVhbCA9IG5vdFN0cmljdEVxdWFsO1xuZXhwb3J0IGZ1bmN0aW9uIG5vdFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICchPT0nLCBub3RTdHJpY3RFcXVhbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkge1xuICBpZiAoIWFjdHVhbCB8fCAhZXhwZWN0ZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGV4cGVjdGVkKSA9PSAnW29iamVjdCBSZWdFeHBdJykge1xuICAgIHJldHVybiBleHBlY3RlZC50ZXN0KGFjdHVhbCk7XG4gIH1cblxuICB0cnkge1xuICAgIGlmIChhY3R1YWwgaW5zdGFuY2VvZiBleHBlY3RlZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSWdub3JlLiAgVGhlIGluc3RhbmNlb2YgY2hlY2sgZG9lc24ndCB3b3JrIGZvciBhcnJvdyBmdW5jdGlvbnMuXG4gIH1cblxuICBpZiAoRXJyb3IuaXNQcm90b3R5cGVPZihleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gZXhwZWN0ZWQuY2FsbCh7fSwgYWN0dWFsKSA9PT0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gX3RyeUJsb2NrKGJsb2NrKSB7XG4gIHZhciBlcnJvcjtcbiAgdHJ5IHtcbiAgICBibG9jaygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyb3IgPSBlO1xuICB9XG4gIHJldHVybiBlcnJvcjtcbn1cblxuZnVuY3Rpb24gX3Rocm93cyhzaG91bGRUaHJvdywgYmxvY2ssIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIHZhciBhY3R1YWw7XG5cbiAgaWYgKHR5cGVvZiBibG9jayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYmxvY2tcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZXhwZWN0ZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgbWVzc2FnZSA9IGV4cGVjdGVkO1xuICAgIGV4cGVjdGVkID0gbnVsbDtcbiAgfVxuXG4gIGFjdHVhbCA9IF90cnlCbG9jayhibG9jayk7XG5cbiAgbWVzc2FnZSA9IChleHBlY3RlZCAmJiBleHBlY3RlZC5uYW1lID8gJyAoJyArIGV4cGVjdGVkLm5hbWUgKyAnKS4nIDogJy4nKSArXG4gICAgICAgICAgICAobWVzc2FnZSA/ICcgJyArIG1lc3NhZ2UgOiAnLicpO1xuXG4gIGlmIChzaG91bGRUaHJvdyAmJiAhYWN0dWFsKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCAnTWlzc2luZyBleHBlY3RlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7XG4gIH1cblxuICB2YXIgdXNlclByb3ZpZGVkTWVzc2FnZSA9IHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJztcbiAgdmFyIGlzVW53YW50ZWRFeGNlcHRpb24gPSAhc2hvdWxkVGhyb3cgJiYgaXNFcnJvcihhY3R1YWwpO1xuICB2YXIgaXNVbmV4cGVjdGVkRXhjZXB0aW9uID0gIXNob3VsZFRocm93ICYmIGFjdHVhbCAmJiAhZXhwZWN0ZWQ7XG5cbiAgaWYgKChpc1Vud2FudGVkRXhjZXB0aW9uICYmXG4gICAgICB1c2VyUHJvdmlkZWRNZXNzYWdlICYmXG4gICAgICBleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsIGV4cGVjdGVkKSkgfHxcbiAgICAgIGlzVW5leHBlY3RlZEV4Y2VwdGlvbikge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgJ0dvdCB1bndhbnRlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7XG4gIH1cblxuICBpZiAoKHNob3VsZFRocm93ICYmIGFjdHVhbCAmJiBleHBlY3RlZCAmJlxuICAgICAgIWV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpKSB8fCAoIXNob3VsZFRocm93ICYmIGFjdHVhbCkpIHtcbiAgICB0aHJvdyBhY3R1YWw7XG4gIH1cbn1cblxuLy8gMTEuIEV4cGVjdGVkIHRvIHRocm93IGFuIGVycm9yOlxuLy8gYXNzZXJ0LnRocm93cyhibG9jaywgRXJyb3Jfb3B0LCBtZXNzYWdlX29wdCk7XG5hc3NlcnQudGhyb3dzID0gdGhyb3dzO1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93cyhibG9jaywgLypvcHRpb25hbCovZXJyb3IsIC8qb3B0aW9uYWwqL21lc3NhZ2UpIHtcbiAgX3Rocm93cyh0cnVlLCBibG9jaywgZXJyb3IsIG1lc3NhZ2UpO1xufVxuXG4vLyBFWFRFTlNJT04hIFRoaXMgaXMgYW5ub3lpbmcgdG8gd3JpdGUgb3V0c2lkZSB0aGlzIG1vZHVsZS5cbmFzc2VydC5kb2VzTm90VGhyb3cgPSBkb2VzTm90VGhyb3c7XG5leHBvcnQgZnVuY3Rpb24gZG9lc05vdFRocm93KGJsb2NrLCAvKm9wdGlvbmFsKi9lcnJvciwgLypvcHRpb25hbCovbWVzc2FnZSkge1xuICBfdGhyb3dzKGZhbHNlLCBibG9jaywgZXJyb3IsIG1lc3NhZ2UpO1xufVxuXG5hc3NlcnQuaWZFcnJvciA9IGlmRXJyb3I7XG5leHBvcnQgZnVuY3Rpb24gaWZFcnJvcihlcnIpIHtcbiAgaWYgKGVycikgdGhyb3cgZXJyO1xufVxuIiwiLyoqXG4gKiBbanMtc2hhM117QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VtbjE3OC9qcy1zaGEzfVxuICpcbiAqIEB2ZXJzaW9uIDAuOC4wXG4gKiBAYXV0aG9yIENoZW4sIFlpLUN5dWFuIFtlbW4xNzhAZ21haWwuY29tXVxuICogQGNvcHlyaWdodCBDaGVuLCBZaS1DeXVhbiAyMDE1LTIwMThcbiAqIEBsaWNlbnNlIE1JVFxuICovXG4vKmpzbGludCBiaXR3aXNlOiB0cnVlICovXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIElOUFVUX0VSUk9SID0gJ2lucHV0IGlzIGludmFsaWQgdHlwZSc7XG4gIHZhciBGSU5BTElaRV9FUlJPUiA9ICdmaW5hbGl6ZSBhbHJlYWR5IGNhbGxlZCc7XG4gIHZhciBXSU5ET1cgPSB0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JztcbiAgdmFyIHJvb3QgPSBXSU5ET1cgPyB3aW5kb3cgOiB7fTtcbiAgaWYgKHJvb3QuSlNfU0hBM19OT19XSU5ET1cpIHtcbiAgICBXSU5ET1cgPSBmYWxzZTtcbiAgfVxuICB2YXIgV0VCX1dPUktFUiA9ICFXSU5ET1cgJiYgdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnO1xuICB2YXIgTk9ERV9KUyA9ICFyb290LkpTX1NIQTNfTk9fTk9ERV9KUyAmJiB0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGU7XG4gIGlmIChOT0RFX0pTKSB7XG4gICAgcm9vdCA9IGdsb2JhbDtcbiAgfSBlbHNlIGlmIChXRUJfV09SS0VSKSB7XG4gICAgcm9vdCA9IHNlbGY7XG4gIH1cbiAgdmFyIENPTU1PTl9KUyA9ICFyb290LkpTX1NIQTNfTk9fQ09NTU9OX0pTICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzO1xuICB2YXIgQU1EID0gdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kO1xuICB2YXIgQVJSQVlfQlVGRkVSID0gIXJvb3QuSlNfU0hBM19OT19BUlJBWV9CVUZGRVIgJiYgdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJztcbiAgdmFyIEhFWF9DSEFSUyA9ICcwMTIzNDU2Nzg5YWJjZGVmJy5zcGxpdCgnJyk7XG4gIHZhciBTSEFLRV9QQURESU5HID0gWzMxLCA3OTM2LCAyMDMxNjE2LCA1MjAwOTM2OTZdO1xuICB2YXIgQ1NIQUtFX1BBRERJTkcgPSBbNCwgMTAyNCwgMjYyMTQ0LCA2NzEwODg2NF07XG4gIHZhciBLRUNDQUtfUEFERElORyA9IFsxLCAyNTYsIDY1NTM2LCAxNjc3NzIxNl07XG4gIHZhciBQQURESU5HID0gWzYsIDE1MzYsIDM5MzIxNiwgMTAwNjYzMjk2XTtcbiAgdmFyIFNISUZUID0gWzAsIDgsIDE2LCAyNF07XG4gIHZhciBSQyA9IFsxLCAwLCAzMjg5OCwgMCwgMzI5MDYsIDIxNDc0ODM2NDgsIDIxNDc1MTY0MTYsIDIxNDc0ODM2NDgsIDMyOTA3LCAwLCAyMTQ3NDgzNjQ5LFxuICAgIDAsIDIxNDc1MTY1NDUsIDIxNDc0ODM2NDgsIDMyNzc3LCAyMTQ3NDgzNjQ4LCAxMzgsIDAsIDEzNiwgMCwgMjE0NzUxNjQyNSwgMCxcbiAgICAyMTQ3NDgzNjU4LCAwLCAyMTQ3NTE2NTU1LCAwLCAxMzksIDIxNDc0ODM2NDgsIDMyOTA1LCAyMTQ3NDgzNjQ4LCAzMjc3MSxcbiAgICAyMTQ3NDgzNjQ4LCAzMjc3MCwgMjE0NzQ4MzY0OCwgMTI4LCAyMTQ3NDgzNjQ4LCAzMjc3OCwgMCwgMjE0NzQ4MzY1OCwgMjE0NzQ4MzY0OCxcbiAgICAyMTQ3NTE2NTQ1LCAyMTQ3NDgzNjQ4LCAzMjg5NiwgMjE0NzQ4MzY0OCwgMjE0NzQ4MzY0OSwgMCwgMjE0NzUxNjQyNCwgMjE0NzQ4MzY0OF07XG4gIHZhciBCSVRTID0gWzIyNCwgMjU2LCAzODQsIDUxMl07XG4gIHZhciBTSEFLRV9CSVRTID0gWzEyOCwgMjU2XTtcbiAgdmFyIE9VVFBVVF9UWVBFUyA9IFsnaGV4JywgJ2J1ZmZlcicsICdhcnJheUJ1ZmZlcicsICdhcnJheScsICdkaWdlc3QnXTtcbiAgdmFyIENTSEFLRV9CWVRFUEFEID0ge1xuICAgICcxMjgnOiAxNjgsXG4gICAgJzI1Nic6IDEzNlxuICB9O1xuXG4gIGlmIChyb290LkpTX1NIQTNfTk9fTk9ERV9KUyB8fCAhQXJyYXkuaXNBcnJheSkge1xuICAgIEFycmF5LmlzQXJyYXkgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChBUlJBWV9CVUZGRVIgJiYgKHJvb3QuSlNfU0hBM19OT19BUlJBWV9CVUZGRVJfSVNfVklFVyB8fCAhQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIEFycmF5QnVmZmVyLmlzVmlldyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmouYnVmZmVyICYmIG9iai5idWZmZXIuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyO1xuICAgIH07XG4gIH1cblxuICB2YXIgY3JlYXRlT3V0cHV0TWV0aG9kID0gZnVuY3Rpb24gKGJpdHMsIHBhZGRpbmcsIG91dHB1dFR5cGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBuZXcgS2VjY2FrKGJpdHMsIHBhZGRpbmcsIGJpdHMpLnVwZGF0ZShtZXNzYWdlKVtvdXRwdXRUeXBlXSgpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVNoYWtlT3V0cHV0TWV0aG9kID0gZnVuY3Rpb24gKGJpdHMsIHBhZGRpbmcsIG91dHB1dFR5cGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG1lc3NhZ2UsIG91dHB1dEJpdHMpIHtcbiAgICAgIHJldHVybiBuZXcgS2VjY2FrKGJpdHMsIHBhZGRpbmcsIG91dHB1dEJpdHMpLnVwZGF0ZShtZXNzYWdlKVtvdXRwdXRUeXBlXSgpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUNzaGFrZU91dHB1dE1ldGhvZCA9IGZ1bmN0aW9uIChiaXRzLCBwYWRkaW5nLCBvdXRwdXRUeXBlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlLCBvdXRwdXRCaXRzLCBuLCBzKSB7XG4gICAgICByZXR1cm4gbWV0aG9kc1snY3NoYWtlJyArIGJpdHNdLnVwZGF0ZShtZXNzYWdlLCBvdXRwdXRCaXRzLCBuLCBzKVtvdXRwdXRUeXBlXSgpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUttYWNPdXRwdXRNZXRob2QgPSBmdW5jdGlvbiAoYml0cywgcGFkZGluZywgb3V0cHV0VHlwZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoa2V5LCBtZXNzYWdlLCBvdXRwdXRCaXRzLCBzKSB7XG4gICAgICByZXR1cm4gbWV0aG9kc1sna21hYycgKyBiaXRzXS51cGRhdGUoa2V5LCBtZXNzYWdlLCBvdXRwdXRCaXRzLCBzKVtvdXRwdXRUeXBlXSgpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU91dHB1dE1ldGhvZHMgPSBmdW5jdGlvbiAobWV0aG9kLCBjcmVhdGVNZXRob2QsIGJpdHMsIHBhZGRpbmcpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE9VVFBVVF9UWVBFUy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHR5cGUgPSBPVVRQVVRfVFlQRVNbaV07XG4gICAgICBtZXRob2RbdHlwZV0gPSBjcmVhdGVNZXRob2QoYml0cywgcGFkZGluZywgdHlwZSk7XG4gICAgfVxuICAgIHJldHVybiBtZXRob2Q7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChiaXRzLCBwYWRkaW5nKSB7XG4gICAgdmFyIG1ldGhvZCA9IGNyZWF0ZU91dHB1dE1ldGhvZChiaXRzLCBwYWRkaW5nLCAnaGV4Jyk7XG4gICAgbWV0aG9kLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgS2VjY2FrKGJpdHMsIHBhZGRpbmcsIGJpdHMpO1xuICAgIH07XG4gICAgbWV0aG9kLnVwZGF0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbWV0aG9kLmNyZWF0ZSgpLnVwZGF0ZShtZXNzYWdlKTtcbiAgICB9O1xuICAgIHJldHVybiBjcmVhdGVPdXRwdXRNZXRob2RzKG1ldGhvZCwgY3JlYXRlT3V0cHV0TWV0aG9kLCBiaXRzLCBwYWRkaW5nKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlU2hha2VNZXRob2QgPSBmdW5jdGlvbiAoYml0cywgcGFkZGluZykge1xuICAgIHZhciBtZXRob2QgPSBjcmVhdGVTaGFrZU91dHB1dE1ldGhvZChiaXRzLCBwYWRkaW5nLCAnaGV4Jyk7XG4gICAgbWV0aG9kLmNyZWF0ZSA9IGZ1bmN0aW9uIChvdXRwdXRCaXRzKSB7XG4gICAgICByZXR1cm4gbmV3IEtlY2NhayhiaXRzLCBwYWRkaW5nLCBvdXRwdXRCaXRzKTtcbiAgICB9O1xuICAgIG1ldGhvZC51cGRhdGUgPSBmdW5jdGlvbiAobWVzc2FnZSwgb3V0cHV0Qml0cykge1xuICAgICAgcmV0dXJuIG1ldGhvZC5jcmVhdGUob3V0cHV0Qml0cykudXBkYXRlKG1lc3NhZ2UpO1xuICAgIH07XG4gICAgcmV0dXJuIGNyZWF0ZU91dHB1dE1ldGhvZHMobWV0aG9kLCBjcmVhdGVTaGFrZU91dHB1dE1ldGhvZCwgYml0cywgcGFkZGluZyk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUNzaGFrZU1ldGhvZCA9IGZ1bmN0aW9uIChiaXRzLCBwYWRkaW5nKSB7XG4gICAgdmFyIHcgPSBDU0hBS0VfQllURVBBRFtiaXRzXTtcbiAgICB2YXIgbWV0aG9kID0gY3JlYXRlQ3NoYWtlT3V0cHV0TWV0aG9kKGJpdHMsIHBhZGRpbmcsICdoZXgnKTtcbiAgICBtZXRob2QuY3JlYXRlID0gZnVuY3Rpb24gKG91dHB1dEJpdHMsIG4sIHMpIHtcbiAgICAgIGlmICghbiAmJiAhcykge1xuICAgICAgICByZXR1cm4gbWV0aG9kc1snc2hha2UnICsgYml0c10uY3JlYXRlKG91dHB1dEJpdHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBLZWNjYWsoYml0cywgcGFkZGluZywgb3V0cHV0Qml0cykuYnl0ZXBhZChbbiwgc10sIHcpO1xuICAgICAgfVxuICAgIH07XG4gICAgbWV0aG9kLnVwZGF0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvdXRwdXRCaXRzLCBuLCBzKSB7XG4gICAgICByZXR1cm4gbWV0aG9kLmNyZWF0ZShvdXRwdXRCaXRzLCBuLCBzKS51cGRhdGUobWVzc2FnZSk7XG4gICAgfTtcbiAgICByZXR1cm4gY3JlYXRlT3V0cHV0TWV0aG9kcyhtZXRob2QsIGNyZWF0ZUNzaGFrZU91dHB1dE1ldGhvZCwgYml0cywgcGFkZGluZyk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUttYWNNZXRob2QgPSBmdW5jdGlvbiAoYml0cywgcGFkZGluZykge1xuICAgIHZhciB3ID0gQ1NIQUtFX0JZVEVQQURbYml0c107XG4gICAgdmFyIG1ldGhvZCA9IGNyZWF0ZUttYWNPdXRwdXRNZXRob2QoYml0cywgcGFkZGluZywgJ2hleCcpO1xuICAgIG1ldGhvZC5jcmVhdGUgPSBmdW5jdGlvbiAoa2V5LCBvdXRwdXRCaXRzLCBzKSB7XG4gICAgICByZXR1cm4gbmV3IEttYWMoYml0cywgcGFkZGluZywgb3V0cHV0Qml0cykuYnl0ZXBhZChbJ0tNQUMnLCBzXSwgdykuYnl0ZXBhZChba2V5XSwgdyk7XG4gICAgfTtcbiAgICBtZXRob2QudXBkYXRlID0gZnVuY3Rpb24gKGtleSwgbWVzc2FnZSwgb3V0cHV0Qml0cywgcykge1xuICAgICAgcmV0dXJuIG1ldGhvZC5jcmVhdGUoa2V5LCBvdXRwdXRCaXRzLCBzKS51cGRhdGUobWVzc2FnZSk7XG4gICAgfTtcbiAgICByZXR1cm4gY3JlYXRlT3V0cHV0TWV0aG9kcyhtZXRob2QsIGNyZWF0ZUttYWNPdXRwdXRNZXRob2QsIGJpdHMsIHBhZGRpbmcpO1xuICB9O1xuXG4gIHZhciBhbGdvcml0aG1zID0gW1xuICAgIHsgbmFtZTogJ2tlY2NhaycsIHBhZGRpbmc6IEtFQ0NBS19QQURESU5HLCBiaXRzOiBCSVRTLCBjcmVhdGVNZXRob2Q6IGNyZWF0ZU1ldGhvZCB9LFxuICAgIHsgbmFtZTogJ3NoYTMnLCBwYWRkaW5nOiBQQURESU5HLCBiaXRzOiBCSVRTLCBjcmVhdGVNZXRob2Q6IGNyZWF0ZU1ldGhvZCB9LFxuICAgIHsgbmFtZTogJ3NoYWtlJywgcGFkZGluZzogU0hBS0VfUEFERElORywgYml0czogU0hBS0VfQklUUywgY3JlYXRlTWV0aG9kOiBjcmVhdGVTaGFrZU1ldGhvZCB9LFxuICAgIHsgbmFtZTogJ2NzaGFrZScsIHBhZGRpbmc6IENTSEFLRV9QQURESU5HLCBiaXRzOiBTSEFLRV9CSVRTLCBjcmVhdGVNZXRob2Q6IGNyZWF0ZUNzaGFrZU1ldGhvZCB9LFxuICAgIHsgbmFtZTogJ2ttYWMnLCBwYWRkaW5nOiBDU0hBS0VfUEFERElORywgYml0czogU0hBS0VfQklUUywgY3JlYXRlTWV0aG9kOiBjcmVhdGVLbWFjTWV0aG9kIH1cbiAgXTtcblxuICB2YXIgbWV0aG9kcyA9IHt9LCBtZXRob2ROYW1lcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYWxnb3JpdGhtcy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBhbGdvcml0aG0gPSBhbGdvcml0aG1zW2ldO1xuICAgIHZhciBiaXRzID0gYWxnb3JpdGhtLmJpdHM7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBiaXRzLmxlbmd0aDsgKytqKSB7XG4gICAgICB2YXIgbWV0aG9kTmFtZSA9IGFsZ29yaXRobS5uYW1lICsgJ18nICsgYml0c1tqXTtcbiAgICAgIG1ldGhvZE5hbWVzLnB1c2gobWV0aG9kTmFtZSk7XG4gICAgICBtZXRob2RzW21ldGhvZE5hbWVdID0gYWxnb3JpdGhtLmNyZWF0ZU1ldGhvZChiaXRzW2pdLCBhbGdvcml0aG0ucGFkZGluZyk7XG4gICAgICBpZiAoYWxnb3JpdGhtLm5hbWUgIT09ICdzaGEzJykge1xuICAgICAgICB2YXIgbmV3TWV0aG9kTmFtZSA9IGFsZ29yaXRobS5uYW1lICsgYml0c1tqXTtcbiAgICAgICAgbWV0aG9kTmFtZXMucHVzaChuZXdNZXRob2ROYW1lKTtcbiAgICAgICAgbWV0aG9kc1tuZXdNZXRob2ROYW1lXSA9IG1ldGhvZHNbbWV0aG9kTmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gS2VjY2FrKGJpdHMsIHBhZGRpbmcsIG91dHB1dEJpdHMpIHtcbiAgICB0aGlzLmJsb2NrcyA9IFtdO1xuICAgIHRoaXMucyA9IFtdO1xuICAgIHRoaXMucGFkZGluZyA9IHBhZGRpbmc7XG4gICAgdGhpcy5vdXRwdXRCaXRzID0gb3V0cHV0Qml0cztcbiAgICB0aGlzLnJlc2V0ID0gdHJ1ZTtcbiAgICB0aGlzLmZpbmFsaXplZCA9IGZhbHNlO1xuICAgIHRoaXMuYmxvY2sgPSAwO1xuICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuYmxvY2tDb3VudCA9ICgxNjAwIC0gKGJpdHMgPDwgMSkpID4+IDU7XG4gICAgdGhpcy5ieXRlQ291bnQgPSB0aGlzLmJsb2NrQ291bnQgPDwgMjtcbiAgICB0aGlzLm91dHB1dEJsb2NrcyA9IG91dHB1dEJpdHMgPj4gNTtcbiAgICB0aGlzLmV4dHJhQnl0ZXMgPSAob3V0cHV0Qml0cyAmIDMxKSA+PiAzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1MDsgKytpKSB7XG4gICAgICB0aGlzLnNbaV0gPSAwO1xuICAgIH1cbiAgfVxuXG4gIEtlY2Nhay5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihGSU5BTElaRV9FUlJPUik7XG4gICAgfVxuICAgIHZhciBub3RTdHJpbmcsIHR5cGUgPSB0eXBlb2YgbWVzc2FnZTtcbiAgICBpZiAodHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAobWVzc2FnZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihJTlBVVF9FUlJPUik7XG4gICAgICAgIH0gZWxzZSBpZiAoQVJSQVlfQlVGRkVSICYmIG1lc3NhZ2UuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpO1xuICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UpKSB7XG4gICAgICAgICAgaWYgKCFBUlJBWV9CVUZGRVIgfHwgIUFycmF5QnVmZmVyLmlzVmlldyhtZXNzYWdlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOUFVUX0VSUk9SKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihJTlBVVF9FUlJPUik7XG4gICAgICB9XG4gICAgICBub3RTdHJpbmcgPSB0cnVlO1xuICAgIH1cbiAgICB2YXIgYmxvY2tzID0gdGhpcy5ibG9ja3MsIGJ5dGVDb3VudCA9IHRoaXMuYnl0ZUNvdW50LCBsZW5ndGggPSBtZXNzYWdlLmxlbmd0aCxcbiAgICAgIGJsb2NrQ291bnQgPSB0aGlzLmJsb2NrQ291bnQsIGluZGV4ID0gMCwgcyA9IHRoaXMucywgaSwgY29kZTtcblxuICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKHRoaXMucmVzZXQpIHtcbiAgICAgICAgdGhpcy5yZXNldCA9IGZhbHNlO1xuICAgICAgICBibG9ja3NbMF0gPSB0aGlzLmJsb2NrO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgYmxvY2tDb3VudCArIDE7ICsraSkge1xuICAgICAgICAgIGJsb2Nrc1tpXSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChub3RTdHJpbmcpIHtcbiAgICAgICAgZm9yIChpID0gdGhpcy5zdGFydDsgaW5kZXggPCBsZW5ndGggJiYgaSA8IGJ5dGVDb3VudDsgKytpbmRleCkge1xuICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9IG1lc3NhZ2VbaW5kZXhdIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSB0aGlzLnN0YXJ0OyBpbmRleCA8IGxlbmd0aCAmJiBpIDwgYnl0ZUNvdW50OyArK2luZGV4KSB7XG4gICAgICAgICAgY29kZSA9IG1lc3NhZ2UuY2hhckNvZGVBdChpbmRleCk7XG4gICAgICAgICAgaWYgKGNvZGUgPCAweDgwKSB7XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSBjb2RlIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29kZSA8IDB4ODAwKSB7XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHhjMCB8IChjb2RlID4+IDYpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKGNvZGUgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgfSBlbHNlIGlmIChjb2RlIDwgMHhkODAwIHx8IGNvZGUgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHhlMCB8IChjb2RlID4+IDEyKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8ICgoY29kZSA+PiA2KSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKGNvZGUgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvZGUgPSAweDEwMDAwICsgKCgoY29kZSAmIDB4M2ZmKSA8PCAxMCkgfCAobWVzc2FnZS5jaGFyQ29kZUF0KCsraW5kZXgpICYgMHgzZmYpKTtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweGYwIHwgKGNvZGUgPj4gMTgpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKChjb2RlID4+IDEyKSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKChjb2RlID4+IDYpICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCAoY29kZSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdEJ5dGVJbmRleCA9IGk7XG4gICAgICBpZiAoaSA+PSBieXRlQ291bnQpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IGkgLSBieXRlQ291bnQ7XG4gICAgICAgIHRoaXMuYmxvY2sgPSBibG9ja3NbYmxvY2tDb3VudF07XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBibG9ja0NvdW50OyArK2kpIHtcbiAgICAgICAgICBzW2ldIF49IGJsb2Nrc1tpXTtcbiAgICAgICAgfVxuICAgICAgICBmKHMpO1xuICAgICAgICB0aGlzLnJlc2V0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBLZWNjYWsucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uICh4LCByaWdodCkge1xuICAgIHZhciBvID0geCAmIDI1NSwgbiA9IDE7XG4gICAgdmFyIGJ5dGVzID0gW29dO1xuICAgIHggPSB4ID4+IDg7XG4gICAgbyA9IHggJiAyNTU7XG4gICAgd2hpbGUgKG8gPiAwKSB7XG4gICAgICBieXRlcy51bnNoaWZ0KG8pO1xuICAgICAgeCA9IHggPj4gODtcbiAgICAgIG8gPSB4ICYgMjU1O1xuICAgICAgKytuO1xuICAgIH1cbiAgICBpZiAocmlnaHQpIHtcbiAgICAgIGJ5dGVzLnB1c2gobik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ5dGVzLnVuc2hpZnQobik7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlKGJ5dGVzKTtcbiAgICByZXR1cm4gYnl0ZXMubGVuZ3RoO1xuICB9O1xuXG4gIEtlY2Nhay5wcm90b3R5cGUuZW5jb2RlU3RyaW5nID0gZnVuY3Rpb24gKHN0cikge1xuICAgIHZhciBub3RTdHJpbmcsIHR5cGUgPSB0eXBlb2Ygc3RyO1xuICAgIGlmICh0eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChzdHIgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5QVVRfRVJST1IpO1xuICAgICAgICB9IGVsc2UgaWYgKEFSUkFZX0JVRkZFUiAmJiBzdHIuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgc3RyID0gbmV3IFVpbnQ4QXJyYXkoc3RyKTtcbiAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShzdHIpKSB7XG4gICAgICAgICAgaWYgKCFBUlJBWV9CVUZGRVIgfHwgIUFycmF5QnVmZmVyLmlzVmlldyhzdHIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5QVVRfRVJST1IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOUFVUX0VSUk9SKTtcbiAgICAgIH1cbiAgICAgIG5vdFN0cmluZyA9IHRydWU7XG4gICAgfVxuICAgIHZhciBieXRlcyA9IDAsIGxlbmd0aCA9IHN0ci5sZW5ndGg7XG4gICAgaWYgKG5vdFN0cmluZykge1xuICAgICAgYnl0ZXMgPSBsZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjb2RlIDwgMHg4MCkge1xuICAgICAgICAgIGJ5dGVzICs9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoY29kZSA8IDB4ODAwKSB7XG4gICAgICAgICAgYnl0ZXMgKz0gMjtcbiAgICAgICAgfSBlbHNlIGlmIChjb2RlIDwgMHhkODAwIHx8IGNvZGUgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgYnl0ZXMgKz0gMztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb2RlID0gMHgxMDAwMCArICgoKGNvZGUgJiAweDNmZikgPDwgMTApIHwgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAweDNmZikpO1xuICAgICAgICAgIGJ5dGVzICs9IDQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgYnl0ZXMgKz0gdGhpcy5lbmNvZGUoYnl0ZXMgKiA4KTtcbiAgICB0aGlzLnVwZGF0ZShzdHIpO1xuICAgIHJldHVybiBieXRlcztcbiAgfTtcblxuICBLZWNjYWsucHJvdG90eXBlLmJ5dGVwYWQgPSBmdW5jdGlvbiAoc3Rycywgdykge1xuICAgIHZhciBieXRlcyA9IHRoaXMuZW5jb2RlKHcpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3Rycy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXMgKz0gdGhpcy5lbmNvZGVTdHJpbmcoc3Ryc1tpXSk7XG4gICAgfVxuICAgIHZhciBwYWRkaW5nQnl0ZXMgPSB3IC0gYnl0ZXMgJSB3O1xuICAgIHZhciB6ZXJvcyA9IFtdO1xuICAgIHplcm9zLmxlbmd0aCA9IHBhZGRpbmdCeXRlcztcbiAgICB0aGlzLnVwZGF0ZSh6ZXJvcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgS2VjY2FrLnByb3RvdHlwZS5maW5hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xuICAgIHZhciBibG9ja3MgPSB0aGlzLmJsb2NrcywgaSA9IHRoaXMubGFzdEJ5dGVJbmRleCwgYmxvY2tDb3VudCA9IHRoaXMuYmxvY2tDb3VudCwgcyA9IHRoaXMucztcbiAgICBibG9ja3NbaSA+PiAyXSB8PSB0aGlzLnBhZGRpbmdbaSAmIDNdO1xuICAgIGlmICh0aGlzLmxhc3RCeXRlSW5kZXggPT09IHRoaXMuYnl0ZUNvdW50KSB7XG4gICAgICBibG9ja3NbMF0gPSBibG9ja3NbYmxvY2tDb3VudF07XG4gICAgICBmb3IgKGkgPSAxOyBpIDwgYmxvY2tDb3VudCArIDE7ICsraSkge1xuICAgICAgICBibG9ja3NbaV0gPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICBibG9ja3NbYmxvY2tDb3VudCAtIDFdIHw9IDB4ODAwMDAwMDA7XG4gICAgZm9yIChpID0gMDsgaSA8IGJsb2NrQ291bnQ7ICsraSkge1xuICAgICAgc1tpXSBePSBibG9ja3NbaV07XG4gICAgfVxuICAgIGYocyk7XG4gIH07XG5cbiAgS2VjY2FrLnByb3RvdHlwZS50b1N0cmluZyA9IEtlY2Nhay5wcm90b3R5cGUuaGV4ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmluYWxpemUoKTtcblxuICAgIHZhciBibG9ja0NvdW50ID0gdGhpcy5ibG9ja0NvdW50LCBzID0gdGhpcy5zLCBvdXRwdXRCbG9ja3MgPSB0aGlzLm91dHB1dEJsb2NrcyxcbiAgICAgIGV4dHJhQnl0ZXMgPSB0aGlzLmV4dHJhQnl0ZXMsIGkgPSAwLCBqID0gMDtcbiAgICB2YXIgaGV4ID0gJycsIGJsb2NrO1xuICAgIHdoaWxlIChqIDwgb3V0cHV0QmxvY2tzKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgYmxvY2tDb3VudCAmJiBqIDwgb3V0cHV0QmxvY2tzOyArK2ksICsraikge1xuICAgICAgICBibG9jayA9IHNbaV07XG4gICAgICAgIGhleCArPSBIRVhfQ0hBUlNbKGJsb2NrID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbYmxvY2sgJiAweDBGXSArXG4gICAgICAgICAgSEVYX0NIQVJTWyhibG9jayA+PiAxMikgJiAweDBGXSArIEhFWF9DSEFSU1soYmxvY2sgPj4gOCkgJiAweDBGXSArXG4gICAgICAgICAgSEVYX0NIQVJTWyhibG9jayA+PiAyMCkgJiAweDBGXSArIEhFWF9DSEFSU1soYmxvY2sgPj4gMTYpICYgMHgwRl0gK1xuICAgICAgICAgIEhFWF9DSEFSU1soYmxvY2sgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGJsb2NrID4+IDI0KSAmIDB4MEZdO1xuICAgICAgfVxuICAgICAgaWYgKGogJSBibG9ja0NvdW50ID09PSAwKSB7XG4gICAgICAgIGYocyk7XG4gICAgICAgIGkgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZXh0cmFCeXRlcykge1xuICAgICAgYmxvY2sgPSBzW2ldO1xuICAgICAgaGV4ICs9IEhFWF9DSEFSU1soYmxvY2sgPj4gNCkgJiAweDBGXSArIEhFWF9DSEFSU1tibG9jayAmIDB4MEZdO1xuICAgICAgaWYgKGV4dHJhQnl0ZXMgPiAxKSB7XG4gICAgICAgIGhleCArPSBIRVhfQ0hBUlNbKGJsb2NrID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhibG9jayA+PiA4KSAmIDB4MEZdO1xuICAgICAgfVxuICAgICAgaWYgKGV4dHJhQnl0ZXMgPiAyKSB7XG4gICAgICAgIGhleCArPSBIRVhfQ0hBUlNbKGJsb2NrID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhibG9jayA+PiAxNikgJiAweDBGXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhleDtcbiAgfTtcblxuICBLZWNjYWsucHJvdG90eXBlLmFycmF5QnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmluYWxpemUoKTtcblxuICAgIHZhciBibG9ja0NvdW50ID0gdGhpcy5ibG9ja0NvdW50LCBzID0gdGhpcy5zLCBvdXRwdXRCbG9ja3MgPSB0aGlzLm91dHB1dEJsb2NrcyxcbiAgICAgIGV4dHJhQnl0ZXMgPSB0aGlzLmV4dHJhQnl0ZXMsIGkgPSAwLCBqID0gMDtcbiAgICB2YXIgYnl0ZXMgPSB0aGlzLm91dHB1dEJpdHMgPj4gMztcbiAgICB2YXIgYnVmZmVyO1xuICAgIGlmIChleHRyYUJ5dGVzKSB7XG4gICAgICBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoKG91dHB1dEJsb2NrcyArIDEpIDw8IDIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnl0ZXMpO1xuICAgIH1cbiAgICB2YXIgYXJyYXkgPSBuZXcgVWludDMyQXJyYXkoYnVmZmVyKTtcbiAgICB3aGlsZSAoaiA8IG91dHB1dEJsb2Nrcykge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGJsb2NrQ291bnQgJiYgaiA8IG91dHB1dEJsb2NrczsgKytpLCArK2opIHtcbiAgICAgICAgYXJyYXlbal0gPSBzW2ldO1xuICAgICAgfVxuICAgICAgaWYgKGogJSBibG9ja0NvdW50ID09PSAwKSB7XG4gICAgICAgIGYocyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChleHRyYUJ5dGVzKSB7XG4gICAgICBhcnJheVtpXSA9IHNbaV07XG4gICAgICBidWZmZXIgPSBidWZmZXIuc2xpY2UoMCwgYnl0ZXMpO1xuICAgIH1cbiAgICByZXR1cm4gYnVmZmVyO1xuICB9O1xuXG4gIEtlY2Nhay5wcm90b3R5cGUuYnVmZmVyID0gS2VjY2FrLnByb3RvdHlwZS5hcnJheUJ1ZmZlcjtcblxuICBLZWNjYWsucHJvdG90eXBlLmRpZ2VzdCA9IEtlY2Nhay5wcm90b3R5cGUuYXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuXG4gICAgdmFyIGJsb2NrQ291bnQgPSB0aGlzLmJsb2NrQ291bnQsIHMgPSB0aGlzLnMsIG91dHB1dEJsb2NrcyA9IHRoaXMub3V0cHV0QmxvY2tzLFxuICAgICAgZXh0cmFCeXRlcyA9IHRoaXMuZXh0cmFCeXRlcywgaSA9IDAsIGogPSAwO1xuICAgIHZhciBhcnJheSA9IFtdLCBvZmZzZXQsIGJsb2NrO1xuICAgIHdoaWxlIChqIDwgb3V0cHV0QmxvY2tzKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgYmxvY2tDb3VudCAmJiBqIDwgb3V0cHV0QmxvY2tzOyArK2ksICsraikge1xuICAgICAgICBvZmZzZXQgPSBqIDw8IDI7XG4gICAgICAgIGJsb2NrID0gc1tpXTtcbiAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IGJsb2NrICYgMHhGRjtcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSAoYmxvY2sgPj4gOCkgJiAweEZGO1xuICAgICAgICBhcnJheVtvZmZzZXQgKyAyXSA9IChibG9jayA+PiAxNikgJiAweEZGO1xuICAgICAgICBhcnJheVtvZmZzZXQgKyAzXSA9IChibG9jayA+PiAyNCkgJiAweEZGO1xuICAgICAgfVxuICAgICAgaWYgKGogJSBibG9ja0NvdW50ID09PSAwKSB7XG4gICAgICAgIGYocyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChleHRyYUJ5dGVzKSB7XG4gICAgICBvZmZzZXQgPSBqIDw8IDI7XG4gICAgICBibG9jayA9IHNbaV07XG4gICAgICBhcnJheVtvZmZzZXRdID0gYmxvY2sgJiAweEZGO1xuICAgICAgaWYgKGV4dHJhQnl0ZXMgPiAxKSB7XG4gICAgICAgIGFycmF5W29mZnNldCArIDFdID0gKGJsb2NrID4+IDgpICYgMHhGRjtcbiAgICAgIH1cbiAgICAgIGlmIChleHRyYUJ5dGVzID4gMikge1xuICAgICAgICBhcnJheVtvZmZzZXQgKyAyXSA9IChibG9jayA+PiAxNikgJiAweEZGO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH07XG5cbiAgZnVuY3Rpb24gS21hYyhiaXRzLCBwYWRkaW5nLCBvdXRwdXRCaXRzKSB7XG4gICAgS2VjY2FrLmNhbGwodGhpcywgYml0cywgcGFkZGluZywgb3V0cHV0Qml0cyk7XG4gIH1cblxuICBLbWFjLnByb3RvdHlwZSA9IG5ldyBLZWNjYWsoKTtcblxuICBLbWFjLnByb3RvdHlwZS5maW5hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuY29kZSh0aGlzLm91dHB1dEJpdHMsIHRydWUpO1xuICAgIHJldHVybiBLZWNjYWsucHJvdG90eXBlLmZpbmFsaXplLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgdmFyIGYgPSBmdW5jdGlvbiAocykge1xuICAgIHZhciBoLCBsLCBuLCBjMCwgYzEsIGMyLCBjMywgYzQsIGM1LCBjNiwgYzcsIGM4LCBjOSxcbiAgICAgIGIwLCBiMSwgYjIsIGIzLCBiNCwgYjUsIGI2LCBiNywgYjgsIGI5LCBiMTAsIGIxMSwgYjEyLCBiMTMsIGIxNCwgYjE1LCBiMTYsIGIxNyxcbiAgICAgIGIxOCwgYjE5LCBiMjAsIGIyMSwgYjIyLCBiMjMsIGIyNCwgYjI1LCBiMjYsIGIyNywgYjI4LCBiMjksIGIzMCwgYjMxLCBiMzIsIGIzMyxcbiAgICAgIGIzNCwgYjM1LCBiMzYsIGIzNywgYjM4LCBiMzksIGI0MCwgYjQxLCBiNDIsIGI0MywgYjQ0LCBiNDUsIGI0NiwgYjQ3LCBiNDgsIGI0OTtcbiAgICBmb3IgKG4gPSAwOyBuIDwgNDg7IG4gKz0gMikge1xuICAgICAgYzAgPSBzWzBdIF4gc1sxMF0gXiBzWzIwXSBeIHNbMzBdIF4gc1s0MF07XG4gICAgICBjMSA9IHNbMV0gXiBzWzExXSBeIHNbMjFdIF4gc1szMV0gXiBzWzQxXTtcbiAgICAgIGMyID0gc1syXSBeIHNbMTJdIF4gc1syMl0gXiBzWzMyXSBeIHNbNDJdO1xuICAgICAgYzMgPSBzWzNdIF4gc1sxM10gXiBzWzIzXSBeIHNbMzNdIF4gc1s0M107XG4gICAgICBjNCA9IHNbNF0gXiBzWzE0XSBeIHNbMjRdIF4gc1szNF0gXiBzWzQ0XTtcbiAgICAgIGM1ID0gc1s1XSBeIHNbMTVdIF4gc1syNV0gXiBzWzM1XSBeIHNbNDVdO1xuICAgICAgYzYgPSBzWzZdIF4gc1sxNl0gXiBzWzI2XSBeIHNbMzZdIF4gc1s0Nl07XG4gICAgICBjNyA9IHNbN10gXiBzWzE3XSBeIHNbMjddIF4gc1szN10gXiBzWzQ3XTtcbiAgICAgIGM4ID0gc1s4XSBeIHNbMThdIF4gc1syOF0gXiBzWzM4XSBeIHNbNDhdO1xuICAgICAgYzkgPSBzWzldIF4gc1sxOV0gXiBzWzI5XSBeIHNbMzldIF4gc1s0OV07XG5cbiAgICAgIGggPSBjOCBeICgoYzIgPDwgMSkgfCAoYzMgPj4+IDMxKSk7XG4gICAgICBsID0gYzkgXiAoKGMzIDw8IDEpIHwgKGMyID4+PiAzMSkpO1xuICAgICAgc1swXSBePSBoO1xuICAgICAgc1sxXSBePSBsO1xuICAgICAgc1sxMF0gXj0gaDtcbiAgICAgIHNbMTFdIF49IGw7XG4gICAgICBzWzIwXSBePSBoO1xuICAgICAgc1syMV0gXj0gbDtcbiAgICAgIHNbMzBdIF49IGg7XG4gICAgICBzWzMxXSBePSBsO1xuICAgICAgc1s0MF0gXj0gaDtcbiAgICAgIHNbNDFdIF49IGw7XG4gICAgICBoID0gYzAgXiAoKGM0IDw8IDEpIHwgKGM1ID4+PiAzMSkpO1xuICAgICAgbCA9IGMxIF4gKChjNSA8PCAxKSB8IChjNCA+Pj4gMzEpKTtcbiAgICAgIHNbMl0gXj0gaDtcbiAgICAgIHNbM10gXj0gbDtcbiAgICAgIHNbMTJdIF49IGg7XG4gICAgICBzWzEzXSBePSBsO1xuICAgICAgc1syMl0gXj0gaDtcbiAgICAgIHNbMjNdIF49IGw7XG4gICAgICBzWzMyXSBePSBoO1xuICAgICAgc1szM10gXj0gbDtcbiAgICAgIHNbNDJdIF49IGg7XG4gICAgICBzWzQzXSBePSBsO1xuICAgICAgaCA9IGMyIF4gKChjNiA8PCAxKSB8IChjNyA+Pj4gMzEpKTtcbiAgICAgIGwgPSBjMyBeICgoYzcgPDwgMSkgfCAoYzYgPj4+IDMxKSk7XG4gICAgICBzWzRdIF49IGg7XG4gICAgICBzWzVdIF49IGw7XG4gICAgICBzWzE0XSBePSBoO1xuICAgICAgc1sxNV0gXj0gbDtcbiAgICAgIHNbMjRdIF49IGg7XG4gICAgICBzWzI1XSBePSBsO1xuICAgICAgc1szNF0gXj0gaDtcbiAgICAgIHNbMzVdIF49IGw7XG4gICAgICBzWzQ0XSBePSBoO1xuICAgICAgc1s0NV0gXj0gbDtcbiAgICAgIGggPSBjNCBeICgoYzggPDwgMSkgfCAoYzkgPj4+IDMxKSk7XG4gICAgICBsID0gYzUgXiAoKGM5IDw8IDEpIHwgKGM4ID4+PiAzMSkpO1xuICAgICAgc1s2XSBePSBoO1xuICAgICAgc1s3XSBePSBsO1xuICAgICAgc1sxNl0gXj0gaDtcbiAgICAgIHNbMTddIF49IGw7XG4gICAgICBzWzI2XSBePSBoO1xuICAgICAgc1syN10gXj0gbDtcbiAgICAgIHNbMzZdIF49IGg7XG4gICAgICBzWzM3XSBePSBsO1xuICAgICAgc1s0Nl0gXj0gaDtcbiAgICAgIHNbNDddIF49IGw7XG4gICAgICBoID0gYzYgXiAoKGMwIDw8IDEpIHwgKGMxID4+PiAzMSkpO1xuICAgICAgbCA9IGM3IF4gKChjMSA8PCAxKSB8IChjMCA+Pj4gMzEpKTtcbiAgICAgIHNbOF0gXj0gaDtcbiAgICAgIHNbOV0gXj0gbDtcbiAgICAgIHNbMThdIF49IGg7XG4gICAgICBzWzE5XSBePSBsO1xuICAgICAgc1syOF0gXj0gaDtcbiAgICAgIHNbMjldIF49IGw7XG4gICAgICBzWzM4XSBePSBoO1xuICAgICAgc1szOV0gXj0gbDtcbiAgICAgIHNbNDhdIF49IGg7XG4gICAgICBzWzQ5XSBePSBsO1xuXG4gICAgICBiMCA9IHNbMF07XG4gICAgICBiMSA9IHNbMV07XG4gICAgICBiMzIgPSAoc1sxMV0gPDwgNCkgfCAoc1sxMF0gPj4+IDI4KTtcbiAgICAgIGIzMyA9IChzWzEwXSA8PCA0KSB8IChzWzExXSA+Pj4gMjgpO1xuICAgICAgYjE0ID0gKHNbMjBdIDw8IDMpIHwgKHNbMjFdID4+PiAyOSk7XG4gICAgICBiMTUgPSAoc1syMV0gPDwgMykgfCAoc1syMF0gPj4+IDI5KTtcbiAgICAgIGI0NiA9IChzWzMxXSA8PCA5KSB8IChzWzMwXSA+Pj4gMjMpO1xuICAgICAgYjQ3ID0gKHNbMzBdIDw8IDkpIHwgKHNbMzFdID4+PiAyMyk7XG4gICAgICBiMjggPSAoc1s0MF0gPDwgMTgpIHwgKHNbNDFdID4+PiAxNCk7XG4gICAgICBiMjkgPSAoc1s0MV0gPDwgMTgpIHwgKHNbNDBdID4+PiAxNCk7XG4gICAgICBiMjAgPSAoc1syXSA8PCAxKSB8IChzWzNdID4+PiAzMSk7XG4gICAgICBiMjEgPSAoc1szXSA8PCAxKSB8IChzWzJdID4+PiAzMSk7XG4gICAgICBiMiA9IChzWzEzXSA8PCAxMikgfCAoc1sxMl0gPj4+IDIwKTtcbiAgICAgIGIzID0gKHNbMTJdIDw8IDEyKSB8IChzWzEzXSA+Pj4gMjApO1xuICAgICAgYjM0ID0gKHNbMjJdIDw8IDEwKSB8IChzWzIzXSA+Pj4gMjIpO1xuICAgICAgYjM1ID0gKHNbMjNdIDw8IDEwKSB8IChzWzIyXSA+Pj4gMjIpO1xuICAgICAgYjE2ID0gKHNbMzNdIDw8IDEzKSB8IChzWzMyXSA+Pj4gMTkpO1xuICAgICAgYjE3ID0gKHNbMzJdIDw8IDEzKSB8IChzWzMzXSA+Pj4gMTkpO1xuICAgICAgYjQ4ID0gKHNbNDJdIDw8IDIpIHwgKHNbNDNdID4+PiAzMCk7XG4gICAgICBiNDkgPSAoc1s0M10gPDwgMikgfCAoc1s0Ml0gPj4+IDMwKTtcbiAgICAgIGI0MCA9IChzWzVdIDw8IDMwKSB8IChzWzRdID4+PiAyKTtcbiAgICAgIGI0MSA9IChzWzRdIDw8IDMwKSB8IChzWzVdID4+PiAyKTtcbiAgICAgIGIyMiA9IChzWzE0XSA8PCA2KSB8IChzWzE1XSA+Pj4gMjYpO1xuICAgICAgYjIzID0gKHNbMTVdIDw8IDYpIHwgKHNbMTRdID4+PiAyNik7XG4gICAgICBiNCA9IChzWzI1XSA8PCAxMSkgfCAoc1syNF0gPj4+IDIxKTtcbiAgICAgIGI1ID0gKHNbMjRdIDw8IDExKSB8IChzWzI1XSA+Pj4gMjEpO1xuICAgICAgYjM2ID0gKHNbMzRdIDw8IDE1KSB8IChzWzM1XSA+Pj4gMTcpO1xuICAgICAgYjM3ID0gKHNbMzVdIDw8IDE1KSB8IChzWzM0XSA+Pj4gMTcpO1xuICAgICAgYjE4ID0gKHNbNDVdIDw8IDI5KSB8IChzWzQ0XSA+Pj4gMyk7XG4gICAgICBiMTkgPSAoc1s0NF0gPDwgMjkpIHwgKHNbNDVdID4+PiAzKTtcbiAgICAgIGIxMCA9IChzWzZdIDw8IDI4KSB8IChzWzddID4+PiA0KTtcbiAgICAgIGIxMSA9IChzWzddIDw8IDI4KSB8IChzWzZdID4+PiA0KTtcbiAgICAgIGI0MiA9IChzWzE3XSA8PCAyMykgfCAoc1sxNl0gPj4+IDkpO1xuICAgICAgYjQzID0gKHNbMTZdIDw8IDIzKSB8IChzWzE3XSA+Pj4gOSk7XG4gICAgICBiMjQgPSAoc1syNl0gPDwgMjUpIHwgKHNbMjddID4+PiA3KTtcbiAgICAgIGIyNSA9IChzWzI3XSA8PCAyNSkgfCAoc1syNl0gPj4+IDcpO1xuICAgICAgYjYgPSAoc1szNl0gPDwgMjEpIHwgKHNbMzddID4+PiAxMSk7XG4gICAgICBiNyA9IChzWzM3XSA8PCAyMSkgfCAoc1szNl0gPj4+IDExKTtcbiAgICAgIGIzOCA9IChzWzQ3XSA8PCAyNCkgfCAoc1s0Nl0gPj4+IDgpO1xuICAgICAgYjM5ID0gKHNbNDZdIDw8IDI0KSB8IChzWzQ3XSA+Pj4gOCk7XG4gICAgICBiMzAgPSAoc1s4XSA8PCAyNykgfCAoc1s5XSA+Pj4gNSk7XG4gICAgICBiMzEgPSAoc1s5XSA8PCAyNykgfCAoc1s4XSA+Pj4gNSk7XG4gICAgICBiMTIgPSAoc1sxOF0gPDwgMjApIHwgKHNbMTldID4+PiAxMik7XG4gICAgICBiMTMgPSAoc1sxOV0gPDwgMjApIHwgKHNbMThdID4+PiAxMik7XG4gICAgICBiNDQgPSAoc1syOV0gPDwgNykgfCAoc1syOF0gPj4+IDI1KTtcbiAgICAgIGI0NSA9IChzWzI4XSA8PCA3KSB8IChzWzI5XSA+Pj4gMjUpO1xuICAgICAgYjI2ID0gKHNbMzhdIDw8IDgpIHwgKHNbMzldID4+PiAyNCk7XG4gICAgICBiMjcgPSAoc1szOV0gPDwgOCkgfCAoc1szOF0gPj4+IDI0KTtcbiAgICAgIGI4ID0gKHNbNDhdIDw8IDE0KSB8IChzWzQ5XSA+Pj4gMTgpO1xuICAgICAgYjkgPSAoc1s0OV0gPDwgMTQpIHwgKHNbNDhdID4+PiAxOCk7XG5cbiAgICAgIHNbMF0gPSBiMCBeICh+YjIgJiBiNCk7XG4gICAgICBzWzFdID0gYjEgXiAofmIzICYgYjUpO1xuICAgICAgc1sxMF0gPSBiMTAgXiAofmIxMiAmIGIxNCk7XG4gICAgICBzWzExXSA9IGIxMSBeICh+YjEzICYgYjE1KTtcbiAgICAgIHNbMjBdID0gYjIwIF4gKH5iMjIgJiBiMjQpO1xuICAgICAgc1syMV0gPSBiMjEgXiAofmIyMyAmIGIyNSk7XG4gICAgICBzWzMwXSA9IGIzMCBeICh+YjMyICYgYjM0KTtcbiAgICAgIHNbMzFdID0gYjMxIF4gKH5iMzMgJiBiMzUpO1xuICAgICAgc1s0MF0gPSBiNDAgXiAofmI0MiAmIGI0NCk7XG4gICAgICBzWzQxXSA9IGI0MSBeICh+YjQzICYgYjQ1KTtcbiAgICAgIHNbMl0gPSBiMiBeICh+YjQgJiBiNik7XG4gICAgICBzWzNdID0gYjMgXiAofmI1ICYgYjcpO1xuICAgICAgc1sxMl0gPSBiMTIgXiAofmIxNCAmIGIxNik7XG4gICAgICBzWzEzXSA9IGIxMyBeICh+YjE1ICYgYjE3KTtcbiAgICAgIHNbMjJdID0gYjIyIF4gKH5iMjQgJiBiMjYpO1xuICAgICAgc1syM10gPSBiMjMgXiAofmIyNSAmIGIyNyk7XG4gICAgICBzWzMyXSA9IGIzMiBeICh+YjM0ICYgYjM2KTtcbiAgICAgIHNbMzNdID0gYjMzIF4gKH5iMzUgJiBiMzcpO1xuICAgICAgc1s0Ml0gPSBiNDIgXiAofmI0NCAmIGI0Nik7XG4gICAgICBzWzQzXSA9IGI0MyBeICh+YjQ1ICYgYjQ3KTtcbiAgICAgIHNbNF0gPSBiNCBeICh+YjYgJiBiOCk7XG4gICAgICBzWzVdID0gYjUgXiAofmI3ICYgYjkpO1xuICAgICAgc1sxNF0gPSBiMTQgXiAofmIxNiAmIGIxOCk7XG4gICAgICBzWzE1XSA9IGIxNSBeICh+YjE3ICYgYjE5KTtcbiAgICAgIHNbMjRdID0gYjI0IF4gKH5iMjYgJiBiMjgpO1xuICAgICAgc1syNV0gPSBiMjUgXiAofmIyNyAmIGIyOSk7XG4gICAgICBzWzM0XSA9IGIzNCBeICh+YjM2ICYgYjM4KTtcbiAgICAgIHNbMzVdID0gYjM1IF4gKH5iMzcgJiBiMzkpO1xuICAgICAgc1s0NF0gPSBiNDQgXiAofmI0NiAmIGI0OCk7XG4gICAgICBzWzQ1XSA9IGI0NSBeICh+YjQ3ICYgYjQ5KTtcbiAgICAgIHNbNl0gPSBiNiBeICh+YjggJiBiMCk7XG4gICAgICBzWzddID0gYjcgXiAofmI5ICYgYjEpO1xuICAgICAgc1sxNl0gPSBiMTYgXiAofmIxOCAmIGIxMCk7XG4gICAgICBzWzE3XSA9IGIxNyBeICh+YjE5ICYgYjExKTtcbiAgICAgIHNbMjZdID0gYjI2IF4gKH5iMjggJiBiMjApO1xuICAgICAgc1syN10gPSBiMjcgXiAofmIyOSAmIGIyMSk7XG4gICAgICBzWzM2XSA9IGIzNiBeICh+YjM4ICYgYjMwKTtcbiAgICAgIHNbMzddID0gYjM3IF4gKH5iMzkgJiBiMzEpO1xuICAgICAgc1s0Nl0gPSBiNDYgXiAofmI0OCAmIGI0MCk7XG4gICAgICBzWzQ3XSA9IGI0NyBeICh+YjQ5ICYgYjQxKTtcbiAgICAgIHNbOF0gPSBiOCBeICh+YjAgJiBiMik7XG4gICAgICBzWzldID0gYjkgXiAofmIxICYgYjMpO1xuICAgICAgc1sxOF0gPSBiMTggXiAofmIxMCAmIGIxMik7XG4gICAgICBzWzE5XSA9IGIxOSBeICh+YjExICYgYjEzKTtcbiAgICAgIHNbMjhdID0gYjI4IF4gKH5iMjAgJiBiMjIpO1xuICAgICAgc1syOV0gPSBiMjkgXiAofmIyMSAmIGIyMyk7XG4gICAgICBzWzM4XSA9IGIzOCBeICh+YjMwICYgYjMyKTtcbiAgICAgIHNbMzldID0gYjM5IF4gKH5iMzEgJiBiMzMpO1xuICAgICAgc1s0OF0gPSBiNDggXiAofmI0MCAmIGI0Mik7XG4gICAgICBzWzQ5XSA9IGI0OSBeICh+YjQxICYgYjQzKTtcblxuICAgICAgc1swXSBePSBSQ1tuXTtcbiAgICAgIHNbMV0gXj0gUkNbbiArIDFdO1xuICAgIH1cbiAgfTtcblxuICBpZiAoQ09NTU9OX0pTKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBtZXRob2RzO1xuICB9IGVsc2Uge1xuICAgIGZvciAoaSA9IDA7IGkgPCBtZXRob2ROYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgcm9vdFttZXRob2ROYW1lc1tpXV0gPSBtZXRob2RzW21ldGhvZE5hbWVzW2ldXTtcbiAgICB9XG4gICAgaWYgKEFNRCkge1xuICAgICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG1ldGhvZHM7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pKCk7XG4iLCJ2YXIgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG52YXIga2VjY2FrMjU2ID0gcmVxdWlyZSgnanMtc2hhMycpLmtlY2NhazI1NjtcblxuZnVuY3Rpb24gbGlicmFyeUhhc2hQbGFjZWhvbGRlciAoaW5wdXQpIHtcbiAgcmV0dXJuICckJyArIGtlY2NhazI1NihpbnB1dCkuc2xpY2UoMCwgMzQpICsgJyQnO1xufVxuXG52YXIgbGlua0J5dGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVjb2RlLCBsaWJyYXJpZXMpIHtcbiAgYXNzZXJ0KHR5cGVvZiBieXRlY29kZSA9PT0gJ3N0cmluZycpO1xuICBhc3NlcnQodHlwZW9mIGxpYnJhcmllcyA9PT0gJ29iamVjdCcpO1xuICAvLyBOT1RFOiBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgc3VwcG9ydCBvbGQgY29tcGlsZXIgd2hpY2ggZGlkbid0IHVzZSBmaWxlIG5hbWVzXG4gIHZhciBsaWJyYXJpZXNDb21wbGV0ZSA9IHt9O1xuICBmb3IgKHZhciBsaWJyYXJ5TmFtZSBpbiBsaWJyYXJpZXMpIHtcbiAgICBpZiAodHlwZW9mIGxpYnJhcmllc1tsaWJyYXJ5TmFtZV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBBUEkgY29tcGF0aWJsZSB3aXRoIHRoZSBzdGFuZGFyZCBKU09OIGkvb1xuICAgICAgZm9yICh2YXIgbGliIGluIGxpYnJhcmllc1tsaWJyYXJ5TmFtZV0pIHtcbiAgICAgICAgbGlicmFyaWVzQ29tcGxldGVbbGliXSA9IGxpYnJhcmllc1tsaWJyYXJ5TmFtZV1bbGliXTtcbiAgICAgICAgbGlicmFyaWVzQ29tcGxldGVbbGlicmFyeU5hbWUgKyAnOicgKyBsaWJdID0gbGlicmFyaWVzW2xpYnJhcnlOYW1lXVtsaWJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJsZSBBUEkgZm9yIGVhcmx5IHNvbGMtanMgdmVyc2lvbnNcbiAgICAgIHZhciBwYXJzZWQgPSBsaWJyYXJ5TmFtZS5tYXRjaCgvXihbXjpdKyk6KC4rKSQvKTtcbiAgICAgIGlmIChwYXJzZWQpIHtcbiAgICAgICAgbGlicmFyaWVzQ29tcGxldGVbcGFyc2VkWzJdXSA9IGxpYnJhcmllc1tsaWJyYXJ5TmFtZV07XG4gICAgICB9XG4gICAgICBsaWJyYXJpZXNDb21wbGV0ZVtsaWJyYXJ5TmFtZV0gPSBsaWJyYXJpZXNbbGlicmFyeU5hbWVdO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGlicmFyeU5hbWUgaW4gbGlicmFyaWVzQ29tcGxldGUpIHtcbiAgICB2YXIgaGV4QWRkcmVzcyA9IGxpYnJhcmllc0NvbXBsZXRlW2xpYnJhcnlOYW1lXTtcbiAgICBpZiAoaGV4QWRkcmVzcy5zbGljZSgwLCAyKSAhPT0gJzB4JyB8fCBoZXhBZGRyZXNzLmxlbmd0aCA+IDQyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYWRkcmVzcyBzcGVjaWZpZWQgZm9yICcgKyBsaWJyYXJ5TmFtZSk7XG4gICAgfVxuICAgIC8vIHJlbW92ZSAweCBwcmVmaXhcbiAgICBoZXhBZGRyZXNzID0gaGV4QWRkcmVzcy5zbGljZSgyKTtcbiAgICBoZXhBZGRyZXNzID0gQXJyYXkoNDAgLSBoZXhBZGRyZXNzLmxlbmd0aCArIDEpLmpvaW4oJzAnKSArIGhleEFkZHJlc3M7XG5cbiAgICAvLyBTdXBwb3J0IG9sZCAobGlicmFyeSBuYW1lKSBhbmQgbmV3IChoYXNoIG9mIGxpYnJhcnkgbmFtZSlcbiAgICAvLyBwbGFjZWhvbGRlcnMuXG4gICAgdmFyIHJlcGxhY2UgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgLy8gdHJ1bmNhdGUgdG8gMzcgY2hhcmFjdGVyc1xuICAgICAgdmFyIHRydW5jYXRlZE5hbWUgPSBuYW1lLnNsaWNlKDAsIDM2KTtcbiAgICAgIHZhciBsaWJMYWJlbCA9ICdfXycgKyB0cnVuY2F0ZWROYW1lICsgQXJyYXkoMzcgLSB0cnVuY2F0ZWROYW1lLmxlbmd0aCkuam9pbignXycpICsgJ19fJztcbiAgICAgIHdoaWxlIChieXRlY29kZS5pbmRleE9mKGxpYkxhYmVsKSA+PSAwKSB7XG4gICAgICAgIGJ5dGVjb2RlID0gYnl0ZWNvZGUucmVwbGFjZShsaWJMYWJlbCwgaGV4QWRkcmVzcyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJlcGxhY2UobGlicmFyeU5hbWUpO1xuICAgIHJlcGxhY2UobGlicmFyeUhhc2hQbGFjZWhvbGRlcihsaWJyYXJ5TmFtZSkpO1xuICB9XG5cbiAgcmV0dXJuIGJ5dGVjb2RlO1xufTtcblxudmFyIGZpbmRMaW5rUmVmZXJlbmNlcyA9IGZ1bmN0aW9uIChieXRlY29kZSkge1xuICBhc3NlcnQodHlwZW9mIGJ5dGVjb2RlID09PSAnc3RyaW5nJyk7XG4gIC8vIGZpbmQgNDAgYnl0ZXMgaW4gdGhlIHBhdHRlcm4gb2YgX18uLi48MzYgZGlnaXRzPi4uLl9fXG4gIC8vIGUuZy4gX19MaWIuc29sOkxfX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICB2YXIgbGlua1JlZmVyZW5jZXMgPSB7fTtcbiAgdmFyIG9mZnNldCA9IDA7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIGZvdW5kID0gYnl0ZWNvZGUubWF0Y2goL19fKC57MzZ9KV9fLyk7XG4gICAgaWYgKCFmb3VuZCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0ID0gZm91bmQuaW5kZXg7XG4gICAgLy8gdHJpbSB0cmFpbGluZyB1bmRlcnNjb3Jlc1xuICAgIC8vIE5PVEU6IHRoaXMgaGFzIG5vIHdheSBvZiBrbm93aW5nIGlmIHRoZSB0cmFpbGluZyB1bmRlcnNjb3JlIHdhcyBwYXJ0IG9mIHRoZSBuYW1lXG4gICAgdmFyIGxpYnJhcnlOYW1lID0gZm91bmRbMV0ucmVwbGFjZSgvXyskL2dtLCAnJyk7XG5cbiAgICBpZiAoIWxpbmtSZWZlcmVuY2VzW2xpYnJhcnlOYW1lXSkge1xuICAgICAgbGlua1JlZmVyZW5jZXNbbGlicmFyeU5hbWVdID0gW107XG4gICAgfVxuXG4gICAgbGlua1JlZmVyZW5jZXNbbGlicmFyeU5hbWVdLnB1c2goe1xuICAgICAgLy8gb2Zmc2V0cyBhcmUgaW4gYnl0ZXMgaW4gYmluYXJ5IHJlcHJlc2VudGF0aW9uIChhbmQgbm90IGhleClcbiAgICAgIHN0YXJ0OiAob2Zmc2V0ICsgc3RhcnQpIC8gMixcbiAgICAgIGxlbmd0aDogMjBcbiAgICB9KTtcblxuICAgIG9mZnNldCArPSBzdGFydCArIDIwO1xuXG4gICAgYnl0ZWNvZGUgPSBieXRlY29kZS5zbGljZShzdGFydCArIDIwKTtcbiAgfVxuICByZXR1cm4gbGlua1JlZmVyZW5jZXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbGlua0J5dGVjb2RlOiBsaW5rQnl0ZWNvZGUsXG4gIGZpbmRMaW5rUmVmZXJlbmNlczogZmluZExpbmtSZWZlcmVuY2VzXG59O1xuIiwidmFyIGxpbmtlciA9IHJlcXVpcmUoJy4vbGlua2VyLmpzJyk7XG5cbi8vLyBUcmFuc2xhdGUgb2xkIHN0eWxlIHZlcnNpb24gbnVtYmVycyB0byBzZW12ZXIuXG4vLy8gT2xkIHN0eWxlOiAwLjMuNi0zZmM2OGRhNS9SZWxlYXNlLUVtc2NyaXB0ZW4vY2xhbmdcbi8vLyAgICAgICAgICAgIDAuMy41LTM3MTY5MGYwL1JlbGVhc2UtRW1zY3JpcHRlbi9jbGFuZy9JbnRlcnByZXRlclxuLy8vICAgICAgICAgICAgMC4zLjUtMC9SZWxlYXNlLUVtc2NyaXB0ZW4vY2xhbmcvSW50ZXJwcmV0ZXJcbi8vLyAgICAgICAgICAgIDAuMi4wLWU3MDk4OTU4Ly4tRW1zY3JpcHRlbi9jbGFuZy9pbnQgbGlua2VkIHRvIGxpYmV0aGVyZXVtLTEuMS4xLWJiYjgwYWIwLy4tRW1zY3JpcHRlbi9jbGFuZy9pbnRcbi8vLyAgICAgICAgICAgIDAuMS4zLTAvLi0vY2xhbmcvaW50IGxpbmtlZCB0byBsaWJldGhlcmV1bS0wLjkuOTItMC8uLS9jbGFuZy9pbnRcbi8vLyAgICAgICAgICAgIDAuMS4yLTVjM2JmZDRiKi8uLS9jbGFuZy9pbnRcbi8vLyAgICAgICAgICAgIDAuMS4xLTZmZjRjZDZiL1JlbFdpdGhEZWJJbmZvLUVtc2NyaXB0ZW4vY2xhbmcvaW50XG4vLy8gTmV3IHN0eWxlOiAwLjQuNStjb21taXQuYjMxODM2NmUuRW1zY3JpcHRlbi5jbGFuZ1xuZnVuY3Rpb24gdmVyc2lvblRvU2VtdmVyICh2ZXJzaW9uKSB7XG4gIC8vIEZJWE1FOiBwYXJzZSBtb3JlIGRldGFpbCwgYnV0IHRoaXMgaXMgYSBnb29kIHN0YXJ0XG4gIHZhciBwYXJzZWQgPSB2ZXJzaW9uLm1hdGNoKC9eKFswLTldK1xcLlswLTldK1xcLlswLTldKyktKFswLTlhLWZdezh9KVsvKl0uKiQvKTtcbiAgaWYgKHBhcnNlZCkge1xuICAgIHJldHVybiBwYXJzZWRbMV0gKyAnK2NvbW1pdC4nICsgcGFyc2VkWzJdO1xuICB9XG4gIGlmICh2ZXJzaW9uLmluZGV4T2YoJzAuMS4zLTAnKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gJzAuMS4zJztcbiAgfVxuICBpZiAodmVyc2lvbi5pbmRleE9mKCcwLjMuNS0wJykgIT09IC0xKSB7XG4gICAgcmV0dXJuICcwLjMuNSc7XG4gIH1cbiAgLy8gYXNzdW1lIGl0IGlzIGFscmVhZHkgc2VtdmVyIGNvbXBhdGlibGVcbiAgcmV0dXJuIHZlcnNpb247XG59XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZUVycm9ycyAocmV0LCBlcnJvcnMpIHtcbiAgZm9yICh2YXIgZXJyb3IgaW4gZXJyb3JzKSB7XG4gICAgdmFyIHR5cGUgPSAnZXJyb3InO1xuICAgIHZhciBleHRyYWN0VHlwZSA9IC9eKC4qKTooXFxkKyk6KFxcZCspOiguKik6LztcbiAgICBleHRyYWN0VHlwZSA9IGV4dHJhY3RUeXBlLmV4ZWMoZXJyb3JzW2Vycm9yXSk7XG4gICAgaWYgKGV4dHJhY3RUeXBlKSB7XG4gICAgICB0eXBlID0gZXh0cmFjdFR5cGVbNF0udHJpbSgpO1xuICAgIH0gZWxzZSBpZiAoZXJyb3JzW2Vycm9yXS5pbmRleE9mKCc6IFdhcm5pbmc6JykpIHtcbiAgICAgIHR5cGUgPSAnV2FybmluZyc7XG4gICAgfSBlbHNlIGlmIChlcnJvcnNbZXJyb3JdLmluZGV4T2YoJzogRXJyb3I6JykpIHtcbiAgICAgIHR5cGUgPSAnRXJyb3InO1xuICAgIH1cbiAgICByZXQucHVzaCh7XG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgY29tcG9uZW50OiAnZ2VuZXJhbCcsXG4gICAgICBzZXZlcml0eTogKHR5cGUgPT09ICdXYXJuaW5nJykgPyAnd2FybmluZycgOiAnZXJyb3InLFxuICAgICAgbWVzc2FnZTogZXJyb3JzW2Vycm9yXSxcbiAgICAgIGZvcm1hdHRlZE1lc3NhZ2U6IGVycm9yc1tlcnJvcl1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2xhdGVHYXNFc3RpbWF0ZXMgKGdhc0VzdGltYXRlcykge1xuICBpZiAoZ2FzRXN0aW1hdGVzID09PSBudWxsKSB7XG4gICAgcmV0dXJuICdpbmZpbml0ZSc7XG4gIH1cblxuICBpZiAodHlwZW9mIGdhc0VzdGltYXRlcyA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gZ2FzRXN0aW1hdGVzLnRvU3RyaW5nKCk7XG4gIH1cblxuICB2YXIgZ2FzRXN0aW1hdGVzVHJhbnNsYXRlZCA9IHt9O1xuICBmb3IgKHZhciBmdW5jIGluIGdhc0VzdGltYXRlcykge1xuICAgIGdhc0VzdGltYXRlc1RyYW5zbGF0ZWRbZnVuY10gPSB0cmFuc2xhdGVHYXNFc3RpbWF0ZXMoZ2FzRXN0aW1hdGVzW2Z1bmNdKTtcbiAgfVxuICByZXR1cm4gZ2FzRXN0aW1hdGVzVHJhbnNsYXRlZDtcbn1cblxuZnVuY3Rpb24gdHJhbnNsYXRlSnNvbkNvbXBpbGVyT3V0cHV0IChvdXRwdXQsIGxpYnJhcmllcykge1xuICB2YXIgcmV0ID0ge307XG5cbiAgcmV0WydlcnJvcnMnXSA9IFtdO1xuICB2YXIgZXJyb3JzO1xuICBpZiAob3V0cHV0WydlcnJvciddKSB7XG4gICAgZXJyb3JzID0gWyBvdXRwdXRbJ2Vycm9yJ10gXTtcbiAgfSBlbHNlIHtcbiAgICBlcnJvcnMgPSBvdXRwdXRbJ2Vycm9ycyddO1xuICB9XG4gIHRyYW5zbGF0ZUVycm9ycyhyZXRbJ2Vycm9ycyddLCBlcnJvcnMpO1xuXG4gIHJldFsnY29udHJhY3RzJ10gPSB7fTtcbiAgZm9yICh2YXIgY29udHJhY3QgaW4gb3V0cHV0Wydjb250cmFjdHMnXSkge1xuICAgIC8vIFNwbGl0IG5hbWUgZmlyc3QsIGNhbiBiZSBgY29udHJhY3RgLCBgOmNvbnRyYWN0YCBvciBgZmlsZW5hbWU6Y29udHJhY3RgXG4gICAgdmFyIHRtcCA9IGNvbnRyYWN0Lm1hdGNoKC9eKChbXjpdKik6KT8oW146XSspJC8pO1xuICAgIGlmICh0bXAubGVuZ3RoICE9PSA0KSB7XG4gICAgICAvLyBGb3JjZSBhYm9ydFxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBmaWxlTmFtZSA9IHRtcFsyXTtcbiAgICBpZiAoZmlsZU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gdGhpcyBpcyB0aGUgY2FzZSBvZiBgY29udHJhY3RgXG4gICAgICBmaWxlTmFtZSA9ICcnO1xuICAgIH1cbiAgICB2YXIgY29udHJhY3ROYW1lID0gdG1wWzNdO1xuXG4gICAgdmFyIGNvbnRyYWN0SW5wdXQgPSBvdXRwdXRbJ2NvbnRyYWN0cyddW2NvbnRyYWN0XTtcblxuICAgIHZhciBnYXNFc3RpbWF0ZXMgPSBjb250cmFjdElucHV0WydnYXNFc3RpbWF0ZXMnXTtcbiAgICB2YXIgdHJhbnNsYXRlZEdhc0VzdGltYXRlcyA9IHt9O1xuXG4gICAgaWYgKGdhc0VzdGltYXRlc1snY3JlYXRpb24nXSkge1xuICAgICAgdHJhbnNsYXRlZEdhc0VzdGltYXRlc1snY3JlYXRpb24nXSA9IHtcbiAgICAgICAgJ2NvZGVEZXBvc2l0Q29zdCc6IHRyYW5zbGF0ZUdhc0VzdGltYXRlcyhnYXNFc3RpbWF0ZXNbJ2NyZWF0aW9uJ11bMV0pLFxuICAgICAgICAnZXhlY3V0aW9uQ29zdCc6IHRyYW5zbGF0ZUdhc0VzdGltYXRlcyhnYXNFc3RpbWF0ZXNbJ2NyZWF0aW9uJ11bMF0pXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoZ2FzRXN0aW1hdGVzWydpbnRlcm5hbCddKSB7XG4gICAgICB0cmFuc2xhdGVkR2FzRXN0aW1hdGVzWydpbnRlcm5hbCddID0gdHJhbnNsYXRlR2FzRXN0aW1hdGVzKGdhc0VzdGltYXRlc1snaW50ZXJuYWwnXSk7XG4gICAgfVxuICAgIGlmIChnYXNFc3RpbWF0ZXNbJ2V4dGVybmFsJ10pIHtcbiAgICAgIHRyYW5zbGF0ZWRHYXNFc3RpbWF0ZXNbJ2V4dGVybmFsJ10gPSB0cmFuc2xhdGVHYXNFc3RpbWF0ZXMoZ2FzRXN0aW1hdGVzWydleHRlcm5hbCddKTtcbiAgICB9XG5cbiAgICB2YXIgY29udHJhY3RPdXRwdXQgPSB7XG4gICAgICAnYWJpJzogSlNPTi5wYXJzZShjb250cmFjdElucHV0WydpbnRlcmZhY2UnXSksXG4gICAgICAnbWV0YWRhdGEnOiBjb250cmFjdElucHV0WydtZXRhZGF0YSddLFxuICAgICAgJ2V2bSc6IHtcbiAgICAgICAgJ2xlZ2FjeUFzc2VtYmx5JzogY29udHJhY3RJbnB1dFsnYXNzZW1ibHknXSxcbiAgICAgICAgJ2J5dGVjb2RlJzoge1xuICAgICAgICAgICdvYmplY3QnOiBjb250cmFjdElucHV0WydieXRlY29kZSddICYmIGxpbmtlci5saW5rQnl0ZWNvZGUoY29udHJhY3RJbnB1dFsnYnl0ZWNvZGUnXSwgbGlicmFyaWVzIHx8IHt9KSxcbiAgICAgICAgICAnb3Bjb2Rlcyc6IGNvbnRyYWN0SW5wdXRbJ29wY29kZXMnXSxcbiAgICAgICAgICAnc291cmNlTWFwJzogY29udHJhY3RJbnB1dFsnc3JjbWFwJ10sXG4gICAgICAgICAgJ2xpbmtSZWZlcmVuY2VzJzogY29udHJhY3RJbnB1dFsnYnl0ZWNvZGUnXSAmJiBsaW5rZXIuZmluZExpbmtSZWZlcmVuY2VzKGNvbnRyYWN0SW5wdXRbJ2J5dGVjb2RlJ10pXG4gICAgICAgIH0sXG4gICAgICAgICdkZXBsb3llZEJ5dGVjb2RlJzoge1xuICAgICAgICAgICdvYmplY3QnOiBjb250cmFjdElucHV0WydydW50aW1lQnl0ZWNvZGUnXSAmJiBsaW5rZXIubGlua0J5dGVjb2RlKGNvbnRyYWN0SW5wdXRbJ3J1bnRpbWVCeXRlY29kZSddLCBsaWJyYXJpZXMgfHwge30pLFxuICAgICAgICAgICdzb3VyY2VNYXAnOiBjb250cmFjdElucHV0WydzcmNtYXBSdW50aW1lJ10sXG4gICAgICAgICAgJ2xpbmtSZWZlcmVuY2VzJzogY29udHJhY3RJbnB1dFsncnVudGltZUJ5dGVjb2RlJ10gJiYgbGlua2VyLmZpbmRMaW5rUmVmZXJlbmNlcyhjb250cmFjdElucHV0WydydW50aW1lQnl0ZWNvZGUnXSlcbiAgICAgICAgfSxcbiAgICAgICAgJ21ldGhvZElkZW50aWZpZXJzJzogY29udHJhY3RJbnB1dFsnZnVuY3Rpb25IYXNoZXMnXSxcbiAgICAgICAgJ2dhc0VzdGltYXRlcyc6IHRyYW5zbGF0ZWRHYXNFc3RpbWF0ZXNcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKCFyZXRbJ2NvbnRyYWN0cyddW2ZpbGVOYW1lXSkge1xuICAgICAgcmV0Wydjb250cmFjdHMnXVtmaWxlTmFtZV0gPSB7fTtcbiAgICB9XG5cbiAgICByZXRbJ2NvbnRyYWN0cyddW2ZpbGVOYW1lXVtjb250cmFjdE5hbWVdID0gY29udHJhY3RPdXRwdXQ7XG4gIH1cblxuICB2YXIgc291cmNlTWFwID0ge307XG4gIGZvciAodmFyIHNvdXJjZUlkIGluIG91dHB1dFsnc291cmNlTGlzdCddKSB7XG4gICAgc291cmNlTWFwW291dHB1dFsnc291cmNlTGlzdCddW3NvdXJjZUlkXV0gPSBzb3VyY2VJZDtcbiAgfVxuXG4gIHJldFsnc291cmNlcyddID0ge307XG4gIGZvciAodmFyIHNvdXJjZSBpbiBvdXRwdXRbJ3NvdXJjZXMnXSkge1xuICAgIHJldFsnc291cmNlcyddW3NvdXJjZV0gPSB7XG4gICAgICBpZDogc291cmNlTWFwW3NvdXJjZV0sXG4gICAgICBsZWdhY3lBU1Q6IG91dHB1dFsnc291cmNlcyddW3NvdXJjZV0uQVNUXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZVN0cmluZyAodGV4dCkge1xuICByZXR1cm4gdGV4dFxuICAgIC5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJylcbiAgICAucmVwbGFjZSgvXFxyL2csICdcXFxccicpXG4gICAgLnJlcGxhY2UoL1xcdC9nLCAnXFxcXHQnKTtcbn1cblxuLy8gJ2FzbScgY2FuIGJlIGFuIG9iamVjdCBvciBhIHN0cmluZ1xuZnVuY3Rpb24gZm9ybWF0QXNzZW1ibHlUZXh0IChhc20sIHByZWZpeCwgc291cmNlKSB7XG4gIGlmICh0eXBlb2YgYXNtID09PSAnc3RyaW5nJyB8fCBhc20gPT09IG51bGwgfHwgYXNtID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gcHJlZml4ICsgKGFzbSB8fCAnJykgKyAnXFxuJztcbiAgfVxuICB2YXIgdGV4dCA9IHByZWZpeCArICcuY29kZVxcbic7XG4gIGFzbVsnLmNvZGUnXS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgdmFyIHYgPSBpdGVtLnZhbHVlID09PSB1bmRlZmluZWQgPyAnJyA6IGl0ZW0udmFsdWU7XG4gICAgdmFyIHNyYyA9ICcnO1xuICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBpdGVtLmJlZ2luICE9PSB1bmRlZmluZWQgJiYgaXRlbS5lbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3JjID0gZXNjYXBlU3RyaW5nKHNvdXJjZS5zbGljZShpdGVtLmJlZ2luLCBpdGVtLmVuZCkpO1xuICAgIH1cbiAgICBpZiAoc3JjLmxlbmd0aCA+IDMwKSB7XG4gICAgICBzcmMgPSBzcmMuc2xpY2UoMCwgMzApICsgJy4uLic7XG4gICAgfVxuICAgIGlmIChpdGVtLm5hbWUgIT09ICd0YWcnKSB7XG4gICAgICB0ZXh0ICs9ICcgICc7XG4gICAgfVxuICAgIHRleHQgKz0gcHJlZml4ICsgaXRlbS5uYW1lICsgJyAnICsgdiArICdcXHRcXHRcXHQnICsgc3JjICsgJ1xcbic7XG4gIH0pO1xuICB0ZXh0ICs9IHByZWZpeCArICcuZGF0YVxcbic7XG4gIHZhciBhc21EYXRhID0gYXNtWycuZGF0YSddIHx8IFtdO1xuICBmb3IgKHZhciBpIGluIGFzbURhdGEpIHtcbiAgICB2YXIgaXRlbSA9IGFzbURhdGFbaV07XG4gICAgdGV4dCArPSAnICAnICsgcHJlZml4ICsgJycgKyBpICsgJzpcXG4nO1xuICAgIHRleHQgKz0gZm9ybWF0QXNzZW1ibHlUZXh0KGl0ZW0sIHByZWZpeCArICcgICAgJywgc291cmNlKTtcbiAgfVxuICByZXR1cm4gdGV4dDtcbn1cblxuZnVuY3Rpb24gcHJldHR5UHJpbnRMZWdhY3lBc3NlbWJseUpTT04gKGFzc2VtYmx5LCBzb3VyY2UpIHtcbiAgcmV0dXJuIGZvcm1hdEFzc2VtYmx5VGV4dChhc3NlbWJseSwgJycsIHNvdXJjZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB2ZXJzaW9uVG9TZW12ZXI6IHZlcnNpb25Ub1NlbXZlcixcbiAgdHJhbnNsYXRlSnNvbkNvbXBpbGVyT3V0cHV0OiB0cmFuc2xhdGVKc29uQ29tcGlsZXJPdXRwdXQsXG4gIHByZXR0eVByaW50TGVnYWN5QXNzZW1ibHlKU09OOiBwcmV0dHlQcmludExlZ2FjeUFzc2VtYmx5SlNPTlxufTtcbiIsImV4cG9ydCBkZWZhdWx0IHt9O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxuLy8gbXVzdCBiZSBubyBzbGFzaGVzLCBlbXB0eSBlbGVtZW50cywgb3IgZGV2aWNlIG5hbWVzIChjOlxcKSBpbiB0aGUgYXJyYXlcbi8vIChzbyBhbHNvIG5vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXMgLSBpdCBkb2VzIG5vdCBkaXN0aW5ndWlzaFxuLy8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKVxuZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocGFydHMsIGFsbG93QWJvdmVSb290KSB7XG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBwYXJ0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBsYXN0ID0gcGFydHNbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBwYXJ0cy51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuLy8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb25cbi8vICdyb290JyBpcyBqdXN0IGEgc2xhc2gsIG9yIG5vdGhpbmcuXG52YXIgc3BsaXRQYXRoUmUgPVxuICAgIC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO1xudmFyIHNwbGl0UGF0aCA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG4gIHJldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKTtcbn07XG5cbi8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlKCkge1xuICB2YXIgcmVzb2x2ZWRQYXRoID0gJycsXG4gICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG5cbiAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogJy8nO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUocGF0aCkge1xuICB2YXIgaXNQYXRoQWJzb2x1dGUgPSBpc0Fic29sdXRlKHBhdGgpLFxuICAgICAgdHJhaWxpbmdTbGFzaCA9IHN1YnN0cihwYXRoLCAtMSkgPT09ICcvJztcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihwYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIWlzUGF0aEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc1BhdGhBYnNvbHV0ZSkge1xuICAgIHBhdGggPSAnLic7XG4gIH1cbiAgaWYgKHBhdGggJiYgdHJhaWxpbmdTbGFzaCkge1xuICAgIHBhdGggKz0gJy8nO1xuICB9XG5cbiAgcmV0dXJuIChpc1BhdGhBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnQgZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xufVxuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnQgZnVuY3Rpb24gam9pbigpIHtcbiAgdmFyIHBhdGhzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZShmaWx0ZXIocGF0aHMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7XG4gICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG4gIH0pLmpvaW4oJy8nKSk7XG59XG5cblxuLy8gcGF0aC5yZWxhdGl2ZShmcm9tLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydCBmdW5jdGlvbiByZWxhdGl2ZShmcm9tLCB0bykge1xuICBmcm9tID0gcmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7XG4gIHRvID0gcmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufVxuXG5leHBvcnQgdmFyIHNlcCA9ICcvJztcbmV4cG9ydCB2YXIgZGVsaW1pdGVyID0gJzonO1xuXG5leHBvcnQgZnVuY3Rpb24gZGlybmFtZShwYXRoKSB7XG4gIHZhciByZXN1bHQgPSBzcGxpdFBhdGgocGF0aCksXG4gICAgICByb290ID0gcmVzdWx0WzBdLFxuICAgICAgZGlyID0gcmVzdWx0WzFdO1xuXG4gIGlmICghcm9vdCAmJiAhZGlyKSB7XG4gICAgLy8gTm8gZGlybmFtZSB3aGF0c29ldmVyXG4gICAgcmV0dXJuICcuJztcbiAgfVxuXG4gIGlmIChkaXIpIHtcbiAgICAvLyBJdCBoYXMgYSBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaFxuICAgIGRpciA9IGRpci5zdWJzdHIoMCwgZGlyLmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgcmV0dXJuIHJvb3QgKyBkaXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXNlbmFtZShwYXRoLCBleHQpIHtcbiAgdmFyIGYgPSBzcGxpdFBhdGgocGF0aClbMl07XG4gIC8vIFRPRE86IG1ha2UgdGhpcyBjb21wYXJpc29uIGNhc2UtaW5zZW5zaXRpdmUgb24gd2luZG93cz9cbiAgaWYgKGV4dCAmJiBmLnN1YnN0cigtMSAqIGV4dC5sZW5ndGgpID09PSBleHQpIHtcbiAgICBmID0gZi5zdWJzdHIoMCwgZi5sZW5ndGggLSBleHQubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gZjtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZXh0bmFtZShwYXRoKSB7XG4gIHJldHVybiBzcGxpdFBhdGgocGF0aClbM107XG59XG5leHBvcnQgZGVmYXVsdCB7XG4gIGV4dG5hbWU6IGV4dG5hbWUsXG4gIGJhc2VuYW1lOiBiYXNlbmFtZSxcbiAgZGlybmFtZTogZGlybmFtZSxcbiAgc2VwOiBzZXAsXG4gIGRlbGltaXRlcjogZGVsaW1pdGVyLFxuICByZWxhdGl2ZTogcmVsYXRpdmUsXG4gIGpvaW46IGpvaW4sXG4gIGlzQWJzb2x1dGU6IGlzQWJzb2x1dGUsXG4gIG5vcm1hbGl6ZTogbm9ybWFsaXplLFxuICByZXNvbHZlOiByZXNvbHZlXG59O1xuZnVuY3Rpb24gZmlsdGVyICh4cywgZikge1xuICAgIGlmICh4cy5maWx0ZXIpIHJldHVybiB4cy5maWx0ZXIoZik7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGYoeHNbaV0sIGksIHhzKSkgcmVzLnB1c2goeHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyBTdHJpbmcucHJvdG90eXBlLnN1YnN0ciAtIG5lZ2F0aXZlIGluZGV4IGRvbid0IHdvcmsgaW4gSUU4XG52YXIgc3Vic3RyID0gJ2FiJy5zdWJzdHIoLTEpID09PSAnYicgP1xuICAgIGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHsgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbikgfSA6XG4gICAgZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikge1xuICAgICAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IHN0ci5sZW5ndGggKyBzdGFydDtcbiAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbik7XG4gICAgfVxuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgTW9kdWxlID0gcmVxdWlyZSgnbW9kdWxlJyk7XG52YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXF1aXJlRnJvbVN0cmluZyhjb2RlLCBmaWxlbmFtZSwgb3B0cykge1xuXHRpZiAodHlwZW9mIGZpbGVuYW1lID09PSAnb2JqZWN0Jykge1xuXHRcdG9wdHMgPSBmaWxlbmFtZTtcblx0XHRmaWxlbmFtZSA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdG9wdHMgPSBvcHRzIHx8IHt9O1xuXHRmaWxlbmFtZSA9IGZpbGVuYW1lIHx8ICcnO1xuXG5cdG9wdHMuYXBwZW5kUGF0aHMgPSBvcHRzLmFwcGVuZFBhdGhzIHx8IFtdO1xuXHRvcHRzLnByZXBlbmRQYXRocyA9IG9wdHMucHJlcGVuZFBhdGhzIHx8IFtdO1xuXG5cdGlmICh0eXBlb2YgY29kZSAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2NvZGUgbXVzdCBiZSBhIHN0cmluZywgbm90ICcgKyB0eXBlb2YgY29kZSk7XG5cdH1cblxuXHR2YXIgcGF0aHMgPSBNb2R1bGUuX25vZGVNb2R1bGVQYXRocyhwYXRoLmRpcm5hbWUoZmlsZW5hbWUpKTtcblxuXHR2YXIgcGFyZW50ID0gbW9kdWxlLnBhcmVudDtcblx0dmFyIG0gPSBuZXcgTW9kdWxlKGZpbGVuYW1lLCBwYXJlbnQpO1xuXHRtLmZpbGVuYW1lID0gZmlsZW5hbWU7XG5cdG0ucGF0aHMgPSBbXS5jb25jYXQob3B0cy5wcmVwZW5kUGF0aHMpLmNvbmNhdChwYXRocykuY29uY2F0KG9wdHMuYXBwZW5kUGF0aHMpO1xuXHRtLl9jb21waWxlKGNvZGUsIGZpbGVuYW1lKTtcblxuXHR2YXIgZXhwb3J0cyA9IG0uZXhwb3J0cztcblx0cGFyZW50ICYmIHBhcmVudC5jaGlsZHJlbiAmJiBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKG0pLCAxKTtcblxuXHRyZXR1cm4gZXhwb3J0cztcbn07XG4iLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMSBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjQuMScsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHtcblx0XHRcdC8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuZnVuY3Rpb24gc3RyaW5naWZ5UHJpbWl0aXZlKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeSAob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbmZ1bmN0aW9uIG1hcCAoeHMsIGYpIHtcbiAgaWYgKHhzLm1hcCkgcmV0dXJuIHhzLm1hcChmKTtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzLnB1c2goZih4c1tpXSwgaSkpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgcmVzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5leHBvcnQgZGVmYXVsdCB7XG4gIGVuY29kZTogc3RyaW5naWZ5LFxuICBzdHJpbmdpZnk6IHN0cmluZ2lmeSxcbiAgZGVjb2RlOiBwYXJzZSxcbiAgcGFyc2U6IHBhcnNlXG59XG5leHBvcnQge3N0cmluZ2lmeSBhcyBlbmNvZGUsIHBhcnNlIGFzIGRlY29kZX07XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuXG5pbXBvcnQge3RvQVNDSUl9IGZyb20gJ3B1bnljb2RlJztcbmltcG9ydCB7aXNPYmplY3QsaXNTdHJpbmcsaXNOdWxsT3JVbmRlZmluZWQsaXNOdWxsfSBmcm9tICd1dGlsJztcbmltcG9ydCB7cGFyc2UgYXMgcXNQYXJzZSxzdHJpbmdpZnkgYXMgcXNTdHJpbmdpZnl9IGZyb20gJ3F1ZXJ5c3RyaW5nJztcbmV4cG9ydCB7XG4gIHVybFBhcnNlIGFzIHBhcnNlLFxuICB1cmxSZXNvbHZlIGFzIHJlc29sdmUsXG4gIHVybFJlc29sdmVPYmplY3QgYXMgcmVzb2x2ZU9iamVjdCxcbiAgdXJsRm9ybWF0IGFzIGZvcm1hdFxufTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcGFyc2U6IHVybFBhcnNlLFxuICByZXNvbHZlOiB1cmxSZXNvbHZlLFxuICByZXNvbHZlT2JqZWN0OiB1cmxSZXNvbHZlT2JqZWN0LFxuICBmb3JtYXQ6IHVybEZvcm1hdCxcbiAgVXJsOiBVcmxcbn1cbmV4cG9ydCBmdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZVxuLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgc2ltcGxlUGF0aFBhdHRlcm4gPSAvXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLFxuXG4gIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gIGRlbGltcyA9IFsnPCcsICc+JywgJ1wiJywgJ2AnLCAnICcsICdcXHInLCAnXFxuJywgJ1xcdCddLFxuXG4gIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAvLyBBbGxvd2VkIGJ5IFJGQ3MsIGJ1dCBjYXVzZSBvZiBYU1MgYXR0YWNrcy4gIEFsd2F5cyBlc2NhcGUgdGhlc2UuXG4gIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAvLyBOb3RlIHRoYXQgYW55IGludmFsaWQgY2hhcnMgYXJlIGFsc28gaGFuZGxlZCwgYnV0IHRoZXNlXG4gIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAvLyB0aGVtLlxuICBub25Ib3N0Q2hhcnMgPSBbJyUnLCAnLycsICc/JywgJzsnLCAnIyddLmNvbmNhdChhdXRvRXNjYXBlKSxcbiAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgaG9zdG5hbWVQYXJ0UGF0dGVybiA9IC9eWythLXowLTlBLVpfLV17MCw2M30kLyxcbiAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICB1bnNhZmVQcm90b2NvbCA9IHtcbiAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICB9LFxuICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgfSxcbiAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAnaHR0cCc6IHRydWUsXG4gICAgJ2h0dHBzJzogdHJ1ZSxcbiAgICAnZnRwJzogdHJ1ZSxcbiAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAnZmlsZSc6IHRydWUsXG4gICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAnZnRwOic6IHRydWUsXG4gICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICdmaWxlOic6IHRydWVcbiAgfTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIGlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsO1xuXG4gIHZhciB1ID0gbmV3IFVybDtcbiAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTtcbiAgcmV0dXJuIHU7XG59XG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICByZXR1cm4gcGFyc2UodGhpcywgdXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlKHNlbGYsIHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCFpc1N0cmluZyh1cmwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIFxcJ3VybFxcJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgJyArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgc3BsaXR0ZXIgPVxuICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsXG4gICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHNlbGYucGF0aCA9IHJlc3Q7XG4gICAgICBzZWxmLmhyZWYgPSByZXN0O1xuICAgICAgc2VsZi5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICBzZWxmLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgc2VsZi5xdWVyeSA9IHFzUGFyc2Uoc2VsZi5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnF1ZXJ5ID0gc2VsZi5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgc2VsZi5zZWFyY2ggPSAnJztcbiAgICAgICAgc2VsZi5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHNlbGYucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICBzZWxmLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuICB2YXIgaSwgaGVjLCBsLCBwO1xuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHtcblxuICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgLy9cbiAgICAvLyBleDpcbiAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcblxuICAgIC8vIHYwLjEyIFRPRE8oaXNhYWNzKTogVGhpcyBpcyBub3QgcXVpdGUgaG93IENocm9tZSBkb2VzIHRoaW5ncy5cbiAgICAvLyBSZXZpZXcgb3VyIHRlc3QgY2FzZSBhZ2FpbnN0IGJyb3dzZXJzIG1vcmUgY29tcHJlaGVuc2l2ZWx5LlxuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFyc1xuICAgIHZhciBob3N0RW5kID0gLTE7XG4gICAgZm9yIChpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgc2VsZi5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yIChpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICBzZWxmLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICBwYXJzZUhvc3Qoc2VsZik7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgc2VsZi5ob3N0bmFtZSA9IHNlbGYuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSBzZWxmLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgIHNlbGYuaG9zdG5hbWVbc2VsZi5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSBzZWxmLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAoaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNlbGYuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHNlbGYuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHNlbGYuaG9zdG5hbWUgPSBzZWxmLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHNlbGYuaG9zdG5hbWUgPSB0b0FTQ0lJKHNlbGYuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHAgPSBzZWxmLnBvcnQgPyAnOicgKyBzZWxmLnBvcnQgOiAnJztcbiAgICB2YXIgaCA9IHNlbGYuaG9zdG5hbWUgfHwgJyc7XG4gICAgc2VsZi5ob3N0ID0gaCArIHA7XG4gICAgc2VsZi5ocmVmICs9IHNlbGYuaG9zdDtcblxuICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWVcbiAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaFxuICAgIGlmIChpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHNlbGYuaG9zdG5hbWUgPSBzZWxmLmhvc3RuYW1lLnN1YnN0cigxLCBzZWxmLmhvc3RuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykge1xuICAgICAgICByZXN0ID0gJy8nICsgcmVzdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub3cgcmVzdCBpcyBzZXQgdG8gdGhlIHBvc3QtaG9zdCBzdHVmZi5cbiAgLy8gY2hvcCBvZmYgYW55IGRlbGltIGNoYXJzLlxuICBpZiAoIXVuc2FmZVByb3RvY29sW2xvd2VyUHJvdG9dKSB7XG5cbiAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgXCJhdXRvRXNjYXBlXCIgY2hhcnMgZ2V0XG4gICAgLy8gZXNjYXBlZCwgZXZlbiBpZiBlbmNvZGVVUklDb21wb25lbnQgZG9lc24ndCB0aGluayB0aGV5XG4gICAgLy8gbmVlZCB0byBiZS5cbiAgICBmb3IgKGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICBzZWxmLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHNlbGYuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHNlbGYucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICBzZWxmLnF1ZXJ5ID0gcXNQYXJzZShzZWxmLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHNlbGYuc2VhcmNoID0gJyc7XG4gICAgc2VsZi5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSBzZWxmLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgIHNlbGYuaG9zdG5hbWUgJiYgIXNlbGYucGF0aG5hbWUpIHtcbiAgICBzZWxmLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAoc2VsZi5wYXRobmFtZSB8fCBzZWxmLnNlYXJjaCkge1xuICAgIHAgPSBzZWxmLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gc2VsZi5zZWFyY2ggfHwgJyc7XG4gICAgc2VsZi5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgc2VsZi5ocmVmID0gZm9ybWF0KHNlbGYpO1xuICByZXR1cm4gc2VsZjtcbn1cblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmIChpc1N0cmluZyhvYmopKSBvYmogPSBwYXJzZSh7fSwgb2JqKTtcbiAgcmV0dXJuIGZvcm1hdChvYmopO1xufVxuXG5mdW5jdGlvbiBmb3JtYXQoc2VsZikge1xuICB2YXIgYXV0aCA9IHNlbGYuYXV0aCB8fCAnJztcbiAgaWYgKGF1dGgpIHtcbiAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIGF1dGggPSBhdXRoLnJlcGxhY2UoLyUzQS9pLCAnOicpO1xuICAgIGF1dGggKz0gJ0AnO1xuICB9XG5cbiAgdmFyIHByb3RvY29sID0gc2VsZi5wcm90b2NvbCB8fCAnJyxcbiAgICBwYXRobmFtZSA9IHNlbGYucGF0aG5hbWUgfHwgJycsXG4gICAgaGFzaCA9IHNlbGYuaGFzaCB8fCAnJyxcbiAgICBob3N0ID0gZmFsc2UsXG4gICAgcXVlcnkgPSAnJztcblxuICBpZiAoc2VsZi5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyBzZWxmLmhvc3Q7XG4gIH0gZWxzZSBpZiAoc2VsZi5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHNlbGYuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICBzZWxmLmhvc3RuYW1lIDpcbiAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpO1xuICAgIGlmIChzZWxmLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgc2VsZi5wb3J0O1xuICAgIH1cbiAgfVxuXG4gIGlmIChzZWxmLnF1ZXJ5ICYmXG4gICAgaXNPYmplY3Qoc2VsZi5xdWVyeSkgJiZcbiAgICBPYmplY3Qua2V5cyhzZWxmLnF1ZXJ5KS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9IHFzU3RyaW5naWZ5KHNlbGYucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHNlbGYuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmIChzZWxmLnNsYXNoZXMgfHxcbiAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9IGVsc2UgaWYgKCFob3N0KSB7XG4gICAgaG9zdCA9ICcnO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgaGFzaCA9ICcjJyArIGhhc2g7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2g7XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gIH0pO1xuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTtcblxuICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZm9ybWF0KHRoaXMpO1xufVxuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKGlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIHZhciBya2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICBmb3IgKHZhciByayA9IDA7IHJrIDwgcmtleXMubGVuZ3RoOyByaysrKSB7XG4gICAgICB2YXIgcmtleSA9IHJrZXlzW3JrXTtcbiAgICAgIGlmIChya2V5ICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTtcbiAgICB9XG5cbiAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJlxuICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgdmFyIHJlbFBhdGg7XG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZ1xuICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LFxuICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLlxuICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsXG4gICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuXG4gICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLlxuICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzW3ZdO1xuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvdG9jb2wgPSByZWxhdGl2ZS5wcm90b2NvbDtcbiAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgIWhvc3RsZXNzUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgIGlzUmVsQWJzID0gKFxuICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICApLFxuICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcbiAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW107XG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cbiAgdmFyIGF1dGhJbkhvc3Q7XG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgP1xuICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID9cbiAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkge1xuICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLlxuICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFuc1xuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpO1xuICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgICAgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIWlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJycpO1xuXG4gIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXJcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmXG4gICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIWlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gIH1cbiAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoO1xuICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHBhcnNlSG9zdCh0aGlzKTtcbn07XG5cbmZ1bmN0aW9uIHBhcnNlSG9zdChzZWxmKSB7XG4gIHZhciBob3N0ID0gc2VsZi5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgc2VsZi5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgc2VsZi5ob3N0bmFtZSA9IGhvc3Q7XG59XG4iLCJleHBvcnQgdmFyIGhhc0ZldGNoID0gaXNGdW5jdGlvbihnbG9iYWwuZmV0Y2gpICYmIGlzRnVuY3Rpb24oZ2xvYmFsLlJlYWRhYmxlU3RyZWFtKVxuXG52YXIgX2Jsb2JDb25zdHJ1Y3RvcjtcbmV4cG9ydCBmdW5jdGlvbiBibG9iQ29uc3RydWN0b3IoKSB7XG4gIGlmICh0eXBlb2YgX2Jsb2JDb25zdHJ1Y3RvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gX2Jsb2JDb25zdHJ1Y3RvcjtcbiAgfVxuICB0cnkge1xuICAgIG5ldyBnbG9iYWwuQmxvYihbbmV3IEFycmF5QnVmZmVyKDEpXSlcbiAgICBfYmxvYkNvbnN0cnVjdG9yID0gdHJ1ZVxuICB9IGNhdGNoIChlKSB7XG4gICAgX2Jsb2JDb25zdHJ1Y3RvciA9IGZhbHNlXG4gIH1cbiAgcmV0dXJuIF9ibG9iQ29uc3RydWN0b3Jcbn1cbnZhciB4aHI7XG5cbmZ1bmN0aW9uIGNoZWNrVHlwZVN1cHBvcnQodHlwZSkge1xuICBpZiAoIXhocikge1xuICAgIHhociA9IG5ldyBnbG9iYWwuWE1MSHR0cFJlcXVlc3QoKVxuICAgIC8vIElmIGxvY2F0aW9uLmhvc3QgaXMgZW1wdHksIGUuZy4gaWYgdGhpcyBwYWdlL3dvcmtlciB3YXMgbG9hZGVkXG4gICAgLy8gZnJvbSBhIEJsb2IsIHRoZW4gdXNlIGV4YW1wbGUuY29tIHRvIGF2b2lkIGFuIGVycm9yXG4gICAgeGhyLm9wZW4oJ0dFVCcsIGdsb2JhbC5sb2NhdGlvbi5ob3N0ID8gJy8nIDogJ2h0dHBzOi8vZXhhbXBsZS5jb20nKVxuICB9XG4gIHRyeSB7XG4gICAgeGhyLnJlc3BvbnNlVHlwZSA9IHR5cGVcbiAgICByZXR1cm4geGhyLnJlc3BvbnNlVHlwZSA9PT0gdHlwZVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxufVxuXG4vLyBGb3Igc29tZSBzdHJhbmdlIHJlYXNvbiwgU2FmYXJpIDcuMCByZXBvcnRzIHR5cGVvZiBnbG9iYWwuQXJyYXlCdWZmZXIgPT09ICdvYmplY3QnLlxuLy8gU2FmYXJpIDcuMSBhcHBlYXJzIHRvIGhhdmUgZml4ZWQgdGhpcyBidWcuXG52YXIgaGF2ZUFycmF5QnVmZmVyID0gdHlwZW9mIGdsb2JhbC5BcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCdcbnZhciBoYXZlU2xpY2UgPSBoYXZlQXJyYXlCdWZmZXIgJiYgaXNGdW5jdGlvbihnbG9iYWwuQXJyYXlCdWZmZXIucHJvdG90eXBlLnNsaWNlKVxuXG5leHBvcnQgdmFyIGFycmF5YnVmZmVyID0gaGF2ZUFycmF5QnVmZmVyICYmIGNoZWNrVHlwZVN1cHBvcnQoJ2FycmF5YnVmZmVyJylcbiAgLy8gVGhlc2UgbmV4dCB0d28gdGVzdHMgdW5hdm9pZGFibHkgc2hvdyB3YXJuaW5ncyBpbiBDaHJvbWUuIFNpbmNlIGZldGNoIHdpbGwgYWx3YXlzXG4gIC8vIGJlIHVzZWQgaWYgaXQncyBhdmFpbGFibGUsIGp1c3QgcmV0dXJuIGZhbHNlIGZvciB0aGVzZSB0byBhdm9pZCB0aGUgd2FybmluZ3MuXG5leHBvcnQgdmFyIG1zc3RyZWFtID0gIWhhc0ZldGNoICYmIGhhdmVTbGljZSAmJiBjaGVja1R5cGVTdXBwb3J0KCdtcy1zdHJlYW0nKVxuZXhwb3J0IHZhciBtb3pjaHVua2VkYXJyYXlidWZmZXIgPSAhaGFzRmV0Y2ggJiYgaGF2ZUFycmF5QnVmZmVyICYmXG4gIGNoZWNrVHlwZVN1cHBvcnQoJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJylcbmV4cG9ydCB2YXIgb3ZlcnJpZGVNaW1lVHlwZSA9IGlzRnVuY3Rpb24oeGhyLm92ZXJyaWRlTWltZVR5cGUpXG5leHBvcnQgdmFyIHZiQXJyYXkgPSBpc0Z1bmN0aW9uKGdsb2JhbC5WQkFycmF5KVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbidcbn1cblxueGhyID0gbnVsbCAvLyBIZWxwIGdjXG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGhhbmRsZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCAnZXJyb3InLCBoYW5kbGVyLCBmbGFncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZVxuICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuXG4gICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHtcbiAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2VcbiAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuXG4gICAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlbWl0dGVyKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtCdWZmZXJ9IGZyb20gJ2J1ZmZlcic7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1ZmZlckxpc3Q7XG5cbmZ1bmN0aW9uIEJ1ZmZlckxpc3QoKSB7XG4gIHRoaXMuaGVhZCA9IG51bGw7XG4gIHRoaXMudGFpbCA9IG51bGw7XG4gIHRoaXMubGVuZ3RoID0gMDtcbn1cblxuQnVmZmVyTGlzdC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh2KSB7XG4gIHZhciBlbnRyeSA9IHsgZGF0YTogdiwgbmV4dDogbnVsbCB9O1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB0aGlzLnRhaWwubmV4dCA9IGVudHJ5O2Vsc2UgdGhpcy5oZWFkID0gZW50cnk7XG4gIHRoaXMudGFpbCA9IGVudHJ5O1xuICArK3RoaXMubGVuZ3RoO1xufTtcblxuQnVmZmVyTGlzdC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uICh2KSB7XG4gIHZhciBlbnRyeSA9IHsgZGF0YTogdiwgbmV4dDogdGhpcy5oZWFkIH07XG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgdGhpcy50YWlsID0gZW50cnk7XG4gIHRoaXMuaGVhZCA9IGVudHJ5O1xuICArK3RoaXMubGVuZ3RoO1xufTtcblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICB2YXIgcmV0ID0gdGhpcy5oZWFkLmRhdGE7XG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtlbHNlIHRoaXMuaGVhZCA9IHRoaXMuaGVhZC5uZXh0O1xuICAtLXRoaXMubGVuZ3RoO1xuICByZXR1cm4gcmV0O1xufTtcblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gIHRoaXMubGVuZ3RoID0gMDtcbn07XG5cbkJ1ZmZlckxpc3QucHJvdG90eXBlLmpvaW4gPSBmdW5jdGlvbiAocykge1xuICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiAnJztcbiAgdmFyIHAgPSB0aGlzLmhlYWQ7XG4gIHZhciByZXQgPSAnJyArIHAuZGF0YTtcbiAgd2hpbGUgKHAgPSBwLm5leHQpIHtcbiAgICByZXQgKz0gcyArIHAuZGF0YTtcbiAgfXJldHVybiByZXQ7XG59O1xuXG5CdWZmZXJMaXN0LnByb3RvdHlwZS5jb25jYXQgPSBmdW5jdGlvbiAobikge1xuICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiBCdWZmZXIuYWxsb2MoMCk7XG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHRoaXMuaGVhZC5kYXRhO1xuICB2YXIgcmV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG4gPj4+IDApO1xuICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgdmFyIGkgPSAwO1xuICB3aGlsZSAocCkge1xuICAgIHAuZGF0YS5jb3B5KHJldCwgaSk7XG4gICAgaSArPSBwLmRhdGEubGVuZ3RoO1xuICAgIHAgPSBwLm5leHQ7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBub2RlL25vLWRlcHJlY2F0ZWQtYXBpICovXG52YXIgYnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJylcbnZhciBCdWZmZXIgPSBidWZmZXIuQnVmZmVyXG5cbi8vIGFsdGVybmF0aXZlIHRvIHVzaW5nIE9iamVjdC5rZXlzIGZvciBvbGQgYnJvd3NlcnNcbmZ1bmN0aW9uIGNvcHlQcm9wcyAoc3JjLCBkc3QpIHtcbiAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgIGRzdFtrZXldID0gc3JjW2tleV1cbiAgfVxufVxuaWYgKEJ1ZmZlci5mcm9tICYmIEJ1ZmZlci5hbGxvYyAmJiBCdWZmZXIuYWxsb2NVbnNhZmUgJiYgQnVmZmVyLmFsbG9jVW5zYWZlU2xvdykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGJ1ZmZlclxufSBlbHNlIHtcbiAgLy8gQ29weSBwcm9wZXJ0aWVzIGZyb20gcmVxdWlyZSgnYnVmZmVyJylcbiAgY29weVByb3BzKGJ1ZmZlciwgZXhwb3J0cylcbiAgZXhwb3J0cy5CdWZmZXIgPSBTYWZlQnVmZmVyXG59XG5cbmZ1bmN0aW9uIFNhZmVCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbi8vIENvcHkgc3RhdGljIG1ldGhvZHMgZnJvbSBCdWZmZXJcbmNvcHlQcm9wcyhCdWZmZXIsIFNhZmVCdWZmZXIpXG5cblNhZmVCdWZmZXIuZnJvbSA9IGZ1bmN0aW9uIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuU2FmZUJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgdmFyIGJ1ZiA9IEJ1ZmZlcihzaXplKVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGJ1Zi5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgIH0gZWxzZSB7XG4gICAgICBidWYuZmlsbChmaWxsKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBidWYuZmlsbCgwKVxuICB9XG4gIHJldHVybiBidWZcbn1cblxuU2FmZUJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuICByZXR1cm4gQnVmZmVyKHNpemUpXG59XG5cblNhZmVCdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHJldHVybiBidWZmZXIuU2xvd0J1ZmZlcihzaXplKVxufVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBpc0VuY29kaW5nID0gQnVmZmVyLmlzRW5jb2RpbmcgfHwgZnVuY3Rpb24gKGVuY29kaW5nKSB7XG4gIGVuY29kaW5nID0gJycgKyBlbmNvZGluZztcbiAgc3dpdGNoIChlbmNvZGluZyAmJiBlbmNvZGluZy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpjYXNlICd1dGY4JzpjYXNlICd1dGYtOCc6Y2FzZSAnYXNjaWknOmNhc2UgJ2JpbmFyeSc6Y2FzZSAnYmFzZTY0JzpjYXNlICd1Y3MyJzpjYXNlICd1Y3MtMic6Y2FzZSAndXRmMTZsZSc6Y2FzZSAndXRmLTE2bGUnOmNhc2UgJ3Jhdyc6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7XG4gIGlmICghZW5jKSByZXR1cm4gJ3V0ZjgnO1xuICB2YXIgcmV0cmllZDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuYykge1xuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiAndXRmOCc7XG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gJ3V0ZjE2bGUnO1xuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiAnbGF0aW4xJztcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gZW5jO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHJldHJpZWQpIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gICAgICAgIGVuYyA9ICgnJyArIGVuYykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0cmllZCA9IHRydWU7XG4gICAgfVxuICB9XG59O1xuXG4vLyBEbyBub3QgY2FjaGUgYEJ1ZmZlci5pc0VuY29kaW5nYCB3aGVuIGNoZWNraW5nIGVuY29kaW5nIG5hbWVzIGFzIHNvbWVcbi8vIG1vZHVsZXMgbW9ua2V5LXBhdGNoIGl0IHRvIHN1cHBvcnQgYWRkaXRpb25hbCBlbmNvZGluZ3NcbmZ1bmN0aW9uIG5vcm1hbGl6ZUVuY29kaW5nKGVuYykge1xuICB2YXIgbmVuYyA9IF9ub3JtYWxpemVFbmNvZGluZyhlbmMpO1xuICBpZiAodHlwZW9mIG5lbmMgIT09ICdzdHJpbmcnICYmIChCdWZmZXIuaXNFbmNvZGluZyA9PT0gaXNFbmNvZGluZyB8fCAhaXNFbmNvZGluZyhlbmMpKSkgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jKTtcbiAgcmV0dXJuIG5lbmMgfHwgZW5jO1xufVxuXG4vLyBTdHJpbmdEZWNvZGVyIHByb3ZpZGVzIGFuIGludGVyZmFjZSBmb3IgZWZmaWNpZW50bHkgc3BsaXR0aW5nIGEgc2VyaWVzIG9mXG4vLyBidWZmZXJzIGludG8gYSBzZXJpZXMgb2YgSlMgc3RyaW5ncyB3aXRob3V0IGJyZWFraW5nIGFwYXJ0IG11bHRpLWJ5dGVcbi8vIGNoYXJhY3RlcnMuXG5leHBvcnRzLlN0cmluZ0RlY29kZXIgPSBTdHJpbmdEZWNvZGVyO1xuZnVuY3Rpb24gU3RyaW5nRGVjb2RlcihlbmNvZGluZykge1xuICB0aGlzLmVuY29kaW5nID0gbm9ybWFsaXplRW5jb2RpbmcoZW5jb2RpbmcpO1xuICB2YXIgbmI7XG4gIHN3aXRjaCAodGhpcy5lbmNvZGluZykge1xuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgdGhpcy50ZXh0ID0gdXRmMTZUZXh0O1xuICAgICAgdGhpcy5lbmQgPSB1dGYxNkVuZDtcbiAgICAgIG5iID0gNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgdGhpcy5maWxsTGFzdCA9IHV0ZjhGaWxsTGFzdDtcbiAgICAgIG5iID0gNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICB0aGlzLnRleHQgPSBiYXNlNjRUZXh0O1xuICAgICAgdGhpcy5lbmQgPSBiYXNlNjRFbmQ7XG4gICAgICBuYiA9IDM7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhpcy53cml0ZSA9IHNpbXBsZVdyaXRlO1xuICAgICAgdGhpcy5lbmQgPSBzaW1wbGVFbmQ7XG4gICAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5sYXN0TmVlZCA9IDA7XG4gIHRoaXMubGFzdFRvdGFsID0gMDtcbiAgdGhpcy5sYXN0Q2hhciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuYik7XG59XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGJ1Zikge1xuICBpZiAoYnVmLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnO1xuICB2YXIgcjtcbiAgdmFyIGk7XG4gIGlmICh0aGlzLmxhc3ROZWVkKSB7XG4gICAgciA9IHRoaXMuZmlsbExhc3QoYnVmKTtcbiAgICBpZiAociA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7XG4gICAgaSA9IHRoaXMubGFzdE5lZWQ7XG4gICAgdGhpcy5sYXN0TmVlZCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgaSA9IDA7XG4gIH1cbiAgaWYgKGkgPCBidWYubGVuZ3RoKSByZXR1cm4gciA/IHIgKyB0aGlzLnRleHQoYnVmLCBpKSA6IHRoaXMudGV4dChidWYsIGkpO1xuICByZXR1cm4gciB8fCAnJztcbn07XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmVuZCA9IHV0ZjhFbmQ7XG5cbi8vIFJldHVybnMgb25seSBjb21wbGV0ZSBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyXG5TdHJpbmdEZWNvZGVyLnByb3RvdHlwZS50ZXh0ID0gdXRmOFRleHQ7XG5cbi8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgcGFydGlhbCBub24tVVRGLTggY2hhcmFjdGVyIHVzaW5nIGJ5dGVzIGZyb20gYSBCdWZmZXJcblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmZpbGxMYXN0ID0gZnVuY3Rpb24gKGJ1Zikge1xuICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7XG4gICAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCB0aGlzLmxhc3ROZWVkKTtcbiAgICByZXR1cm4gdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCAwLCB0aGlzLmxhc3RUb3RhbCk7XG4gIH1cbiAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCBidWYubGVuZ3RoKTtcbiAgdGhpcy5sYXN0TmVlZCAtPSBidWYubGVuZ3RoO1xufTtcblxuLy8gQ2hlY2tzIHRoZSB0eXBlIG9mIGEgVVRGLTggYnl0ZSwgd2hldGhlciBpdCdzIEFTQ0lJLCBhIGxlYWRpbmcgYnl0ZSwgb3IgYVxuLy8gY29udGludWF0aW9uIGJ5dGUuIElmIGFuIGludmFsaWQgYnl0ZSBpcyBkZXRlY3RlZCwgLTIgaXMgcmV0dXJuZWQuXG5mdW5jdGlvbiB1dGY4Q2hlY2tCeXRlKGJ5dGUpIHtcbiAgaWYgKGJ5dGUgPD0gMHg3RikgcmV0dXJuIDA7ZWxzZSBpZiAoYnl0ZSA+PiA1ID09PSAweDA2KSByZXR1cm4gMjtlbHNlIGlmIChieXRlID4+IDQgPT09IDB4MEUpIHJldHVybiAzO2Vsc2UgaWYgKGJ5dGUgPj4gMyA9PT0gMHgxRSkgcmV0dXJuIDQ7XG4gIHJldHVybiBieXRlID4+IDYgPT09IDB4MDIgPyAtMSA6IC0yO1xufVxuXG4vLyBDaGVja3MgYXQgbW9zdCAzIGJ5dGVzIGF0IHRoZSBlbmQgb2YgYSBCdWZmZXIgaW4gb3JkZXIgdG8gZGV0ZWN0IGFuXG4vLyBpbmNvbXBsZXRlIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyLiBUaGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzICgyLCAzLCBvciA0KVxuLy8gbmVlZGVkIHRvIGNvbXBsZXRlIHRoZSBVVEYtOCBjaGFyYWN0ZXIgKGlmIGFwcGxpY2FibGUpIGFyZSByZXR1cm5lZC5cbmZ1bmN0aW9uIHV0ZjhDaGVja0luY29tcGxldGUoc2VsZiwgYnVmLCBpKSB7XG4gIHZhciBqID0gYnVmLmxlbmd0aCAtIDE7XG4gIGlmIChqIDwgaSkgcmV0dXJuIDA7XG4gIHZhciBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAxO1xuICAgIHJldHVybiBuYjtcbiAgfVxuICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwO1xuICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAyO1xuICAgIHJldHVybiBuYjtcbiAgfVxuICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwO1xuICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSB7XG4gICAgICBpZiAobmIgPT09IDIpIG5iID0gMDtlbHNlIHNlbGYubGFzdE5lZWQgPSBuYiAtIDM7XG4gICAgfVxuICAgIHJldHVybiBuYjtcbiAgfVxuICByZXR1cm4gMDtcbn1cblxuLy8gVmFsaWRhdGVzIGFzIG1hbnkgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyIGFzXG4vLyBuZWVkZWQgb3IgYXJlIGF2YWlsYWJsZS4gSWYgd2Ugc2VlIGEgbm9uLWNvbnRpbnVhdGlvbiBieXRlIHdoZXJlIHdlIGV4cGVjdFxuLy8gb25lLCB3ZSBcInJlcGxhY2VcIiB0aGUgdmFsaWRhdGVkIGNvbnRpbnVhdGlvbiBieXRlcyB3ZSd2ZSBzZWVuIHNvIGZhciB3aXRoXG4vLyBhIHNpbmdsZSBVVEYtOCByZXBsYWNlbWVudCBjaGFyYWN0ZXIgKCdcXHVmZmZkJyksIHRvIG1hdGNoIHY4J3MgVVRGLTggZGVjb2Rpbmdcbi8vIGJlaGF2aW9yLiBUaGUgY29udGludWF0aW9uIGJ5dGUgY2hlY2sgaXMgaW5jbHVkZWQgdGhyZWUgdGltZXMgaW4gdGhlIGNhc2Vcbi8vIHdoZXJlIGFsbCBvZiB0aGUgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIGNoYXJhY3RlciBleGlzdCBpbiB0aGUgc2FtZSBidWZmZXIuXG4vLyBJdCBpcyBhbHNvIGRvbmUgdGhpcyB3YXkgYXMgYSBzbGlnaHQgcGVyZm9ybWFuY2UgaW5jcmVhc2UgaW5zdGVhZCBvZiB1c2luZyBhXG4vLyBsb29wLlxuZnVuY3Rpb24gdXRmOENoZWNrRXh0cmFCeXRlcyhzZWxmLCBidWYsIHApIHtcbiAgaWYgKChidWZbMF0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgIHNlbGYubGFzdE5lZWQgPSAwO1xuICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gIH1cbiAgaWYgKHNlbGYubGFzdE5lZWQgPiAxICYmIGJ1Zi5sZW5ndGggPiAxKSB7XG4gICAgaWYgKChidWZbMV0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgICAgc2VsZi5sYXN0TmVlZCA9IDE7XG4gICAgICByZXR1cm4gJ1xcdWZmZmQnO1xuICAgIH1cbiAgICBpZiAoc2VsZi5sYXN0TmVlZCA+IDIgJiYgYnVmLmxlbmd0aCA+IDIpIHtcbiAgICAgIGlmICgoYnVmWzJdICYgMHhDMCkgIT09IDB4ODApIHtcbiAgICAgICAgc2VsZi5sYXN0TmVlZCA9IDI7XG4gICAgICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIgdXNpbmcgYnl0ZXMgZnJvbSBhIEJ1ZmZlci5cbmZ1bmN0aW9uIHV0ZjhGaWxsTGFzdChidWYpIHtcbiAgdmFyIHAgPSB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQ7XG4gIHZhciByID0gdXRmOENoZWNrRXh0cmFCeXRlcyh0aGlzLCBidWYsIHApO1xuICBpZiAociAhPT0gdW5kZWZpbmVkKSByZXR1cm4gcjtcbiAgaWYgKHRoaXMubGFzdE5lZWQgPD0gYnVmLmxlbmd0aCkge1xuICAgIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHAsIDAsIHRoaXMubGFzdE5lZWQpO1xuICAgIHJldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKTtcbiAgfVxuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCBwLCAwLCBidWYubGVuZ3RoKTtcbiAgdGhpcy5sYXN0TmVlZCAtPSBidWYubGVuZ3RoO1xufVxuXG4vLyBSZXR1cm5zIGFsbCBjb21wbGV0ZSBVVEYtOCBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyLiBJZiB0aGUgQnVmZmVyIGVuZGVkIG9uIGFcbi8vIHBhcnRpYWwgY2hhcmFjdGVyLCB0aGUgY2hhcmFjdGVyJ3MgYnl0ZXMgYXJlIGJ1ZmZlcmVkIHVudGlsIHRoZSByZXF1aXJlZFxuLy8gbnVtYmVyIG9mIGJ5dGVzIGFyZSBhdmFpbGFibGUuXG5mdW5jdGlvbiB1dGY4VGV4dChidWYsIGkpIHtcbiAgdmFyIHRvdGFsID0gdXRmOENoZWNrSW5jb21wbGV0ZSh0aGlzLCBidWYsIGkpO1xuICBpZiAoIXRoaXMubGFzdE5lZWQpIHJldHVybiBidWYudG9TdHJpbmcoJ3V0ZjgnLCBpKTtcbiAgdGhpcy5sYXN0VG90YWwgPSB0b3RhbDtcbiAgdmFyIGVuZCA9IGJ1Zi5sZW5ndGggLSAodG90YWwgLSB0aGlzLmxhc3ROZWVkKTtcbiAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgMCwgZW5kKTtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmOCcsIGksIGVuZCk7XG59XG5cbi8vIEZvciBVVEYtOCwgYSByZXBsYWNlbWVudCBjaGFyYWN0ZXIgaXMgYWRkZWQgd2hlbiBlbmRpbmcgb24gYSBwYXJ0aWFsXG4vLyBjaGFyYWN0ZXIuXG5mdW5jdGlvbiB1dGY4RW5kKGJ1Zikge1xuICB2YXIgciA9IGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7XG4gIGlmICh0aGlzLmxhc3ROZWVkKSByZXR1cm4gciArICdcXHVmZmZkJztcbiAgcmV0dXJuIHI7XG59XG5cbi8vIFVURi0xNkxFIHR5cGljYWxseSBuZWVkcyB0d28gYnl0ZXMgcGVyIGNoYXJhY3RlciwgYnV0IGV2ZW4gaWYgd2UgaGF2ZSBhbiBldmVuXG4vLyBudW1iZXIgb2YgYnl0ZXMgYXZhaWxhYmxlLCB3ZSBuZWVkIHRvIGNoZWNrIGlmIHdlIGVuZCBvbiBhIGxlYWRpbmcvaGlnaFxuLy8gc3Vycm9nYXRlLiBJbiB0aGF0IGNhc2UsIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIG5leHQgdHdvIGJ5dGVzIGluIG9yZGVyIHRvXG4vLyBkZWNvZGUgdGhlIGxhc3QgY2hhcmFjdGVyIHByb3Blcmx5LlxuZnVuY3Rpb24gdXRmMTZUZXh0KGJ1ZiwgaSkge1xuICBpZiAoKGJ1Zi5sZW5ndGggLSBpKSAlIDIgPT09IDApIHtcbiAgICB2YXIgciA9IGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGkpO1xuICAgIGlmIChyKSB7XG4gICAgICB2YXIgYyA9IHIuY2hhckNvZGVBdChyLmxlbmd0aCAtIDEpO1xuICAgICAgaWYgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhEQkZGKSB7XG4gICAgICAgIHRoaXMubGFzdE5lZWQgPSAyO1xuICAgICAgICB0aGlzLmxhc3RUb3RhbCA9IDQ7XG4gICAgICAgIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDJdO1xuICAgICAgICB0aGlzLmxhc3RDaGFyWzFdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuIHIuc2xpY2UoMCwgLTEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuICB0aGlzLmxhc3ROZWVkID0gMTtcbiAgdGhpcy5sYXN0VG90YWwgPSAyO1xuICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGksIGJ1Zi5sZW5ndGggLSAxKTtcbn1cblxuLy8gRm9yIFVURi0xNkxFIHdlIGRvIG5vdCBleHBsaWNpdGx5IGFwcGVuZCBzcGVjaWFsIHJlcGxhY2VtZW50IGNoYXJhY3RlcnMgaWYgd2Vcbi8vIGVuZCBvbiBhIHBhcnRpYWwgY2hhcmFjdGVyLCB3ZSBzaW1wbHkgbGV0IHY4IGhhbmRsZSB0aGF0LlxuZnVuY3Rpb24gdXRmMTZFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHtcbiAgICB2YXIgZW5kID0gdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkO1xuICAgIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygndXRmMTZsZScsIDAsIGVuZCk7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRleHQoYnVmLCBpKSB7XG4gIHZhciBuID0gKGJ1Zi5sZW5ndGggLSBpKSAlIDM7XG4gIGlmIChuID09PSAwKSByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpKTtcbiAgdGhpcy5sYXN0TmVlZCA9IDMgLSBuO1xuICB0aGlzLmxhc3RUb3RhbCA9IDM7XG4gIGlmIChuID09PSAxKSB7XG4gICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMl07XG4gICAgdGhpcy5sYXN0Q2hhclsxXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygnYmFzZTY0JywgaSwgYnVmLmxlbmd0aCAtIG4pO1xufVxuXG5mdW5jdGlvbiBiYXNlNjRFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygnYmFzZTY0JywgMCwgMyAtIHRoaXMubGFzdE5lZWQpO1xuICByZXR1cm4gcjtcbn1cblxuLy8gUGFzcyBieXRlcyBvbiB0aHJvdWdoIGZvciBzaW5nbGUtYnl0ZSBlbmNvZGluZ3MgKGUuZy4gYXNjaWksIGxhdGluMSwgaGV4KVxuZnVuY3Rpb24gc2ltcGxlV3JpdGUoYnVmKSB7XG4gIHJldHVybiBidWYudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7XG59XG5cbmZ1bmN0aW9uIHNpbXBsZUVuZChidWYpIHtcbiAgcmV0dXJuIGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5cblJlYWRhYmxlLlJlYWRhYmxlU3RhdGUgPSBSZWFkYWJsZVN0YXRlO1xuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnO1xuaW1wb3J0IHtpbmhlcml0cywgZGVidWdsb2d9IGZyb20gJ3V0aWwnO1xuaW1wb3J0IEJ1ZmZlckxpc3QgZnJvbSAnLi9idWZmZXItbGlzdCc7XG5pbXBvcnQge1N0cmluZ0RlY29kZXJ9IGZyb20gJ3N0cmluZ19kZWNvZGVyJztcbmltcG9ydCB7RHVwbGV4fSBmcm9tICcuL2R1cGxleCc7XG5pbXBvcnQge25leHRUaWNrfSBmcm9tICdwcm9jZXNzJztcblxudmFyIGRlYnVnID0gZGVidWdsb2coJ3N0cmVhbScpO1xuaW5oZXJpdHMoUmVhZGFibGUsIEV2ZW50RW1pdHRlcik7XG5cbmZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4pIHtcbiAgLy8gU2FkbHkgdGhpcyBpcyBub3QgY2FjaGVhYmxlIGFzIHNvbWUgbGlicmFyaWVzIGJ1bmRsZSB0aGVpciBvd25cbiAgLy8gZXZlbnQgZW1pdHRlciBpbXBsZW1lbnRhdGlvbiB3aXRoIHRoZW0uXG4gIGlmICh0eXBlb2YgZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIoZXZlbnQsIGZuKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBUaGlzIGlzIGEgaGFjayB0byBtYWtlIHN1cmUgdGhhdCBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgYW55XG4gICAgLy8gdXNlcmxhbmQgb25lcy4gIE5FVkVSIERPIFRISVMuIFRoaXMgaXMgaGVyZSBvbmx5IGJlY2F1c2UgdGhpcyBjb2RlIG5lZWRzXG4gICAgLy8gdG8gY29udGludWUgdG8gd29yayB3aXRoIG9sZGVyIHZlcnNpb25zIG9mIE5vZGUuanMgdGhhdCBkbyBub3QgaW5jbHVkZVxuICAgIC8vIHRoZSBwcmVwZW5kTGlzdGVuZXIoKSBtZXRob2QuIFRoZSBnb2FsIGlzIHRvIGV2ZW50dWFsbHkgcmVtb3ZlIHRoaXMgaGFjay5cbiAgICBpZiAoIWVtaXR0ZXIuX2V2ZW50cyB8fCAhZW1pdHRlci5fZXZlbnRzW2V2ZW50XSlcbiAgICAgIGVtaXR0ZXIub24oZXZlbnQsIGZuKTtcbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVtaXR0ZXIuX2V2ZW50c1tldmVudF0pKVxuICAgICAgZW1pdHRlci5fZXZlbnRzW2V2ZW50XS51bnNoaWZ0KGZuKTtcbiAgICBlbHNlXG4gICAgICBlbWl0dGVyLl9ldmVudHNbZXZlbnRdID0gW2ZuLCBlbWl0dGVyLl9ldmVudHNbZXZlbnRdXTtcbiAgfVxufVxuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCAoZW1pdHRlciwgdHlwZSkge1xuICByZXR1cm4gZW1pdHRlci5saXN0ZW5lcnModHlwZSkubGVuZ3RoO1xufVxuZnVuY3Rpb24gUmVhZGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0pIHtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcuIFVzZWQgdG8gbWFrZSByZWFkKG4pIGlnbm9yZSBuIGFuZCB0b1xuICAvLyBtYWtlIGFsbCB0aGUgYnVmZmVyIG1lcmdpbmcgYW5kIGxlbmd0aCBjaGVja3MgZ28gYXdheVxuICB0aGlzLm9iamVjdE1vZGUgPSAhIW9wdGlvbnMub2JqZWN0TW9kZTtcblxuICBpZiAoc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZTtcblxuICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggaXQgc3RvcHMgY2FsbGluZyBfcmVhZCgpIHRvIGZpbGwgdGhlIGJ1ZmZlclxuICAvLyBOb3RlOiAwIGlzIGEgdmFsaWQgdmFsdWUsIG1lYW5zIFwiZG9uJ3QgY2FsbCBfcmVhZCBwcmVlbXB0aXZlbHkgZXZlclwiXG4gIHZhciBod20gPSBvcHRpb25zLmhpZ2hXYXRlck1hcms7XG4gIHZhciBkZWZhdWx0SHdtID0gdGhpcy5vYmplY3RNb2RlID8gMTYgOiAxNiAqIDEwMjQ7XG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IGh3bSB8fCBod20gPT09IDAgPyBod20gOiBkZWZhdWx0SHdtO1xuXG4gIC8vIGNhc3QgdG8gaW50cy5cbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gfiB+dGhpcy5oaWdoV2F0ZXJNYXJrO1xuXG4gIC8vIEEgbGlua2VkIGxpc3QgaXMgdXNlZCB0byBzdG9yZSBkYXRhIGNodW5rcyBpbnN0ZWFkIG9mIGFuIGFycmF5IGJlY2F1c2UgdGhlXG4gIC8vIGxpbmtlZCBsaXN0IGNhbiByZW1vdmUgZWxlbWVudHMgZnJvbSB0aGUgYmVnaW5uaW5nIGZhc3RlciB0aGFuXG4gIC8vIGFycmF5LnNoaWZ0KClcbiAgdGhpcy5idWZmZXIgPSBuZXcgQnVmZmVyTGlzdCgpO1xuICB0aGlzLmxlbmd0aCA9IDA7XG4gIHRoaXMucGlwZXMgPSBudWxsO1xuICB0aGlzLnBpcGVzQ291bnQgPSAwO1xuICB0aGlzLmZsb3dpbmcgPSBudWxsO1xuICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gIHRoaXMuZW5kRW1pdHRlZCA9IGZhbHNlO1xuICB0aGlzLnJlYWRpbmcgPSBmYWxzZTtcblxuICAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBvbndyaXRlIGNiIGlzIGNhbGxlZCBpbW1lZGlhdGVseSxcbiAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnlcbiAgLy8gYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3Qgd3JpdGUgY2FsbC5cbiAgdGhpcy5zeW5jID0gdHJ1ZTtcblxuICAvLyB3aGVuZXZlciB3ZSByZXR1cm4gbnVsbCwgdGhlbiB3ZSBzZXQgYSBmbGFnIHRvIHNheVxuICAvLyB0aGF0IHdlJ3JlIGF3YWl0aW5nIGEgJ3JlYWRhYmxlJyBldmVudCBlbWlzc2lvbi5cbiAgdGhpcy5uZWVkUmVhZGFibGUgPSBmYWxzZTtcbiAgdGhpcy5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTtcbiAgdGhpcy5yZWFkYWJsZUxpc3RlbmluZyA9IGZhbHNlO1xuICB0aGlzLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuXG4gIC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmdcbiAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLlxuICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guXG4gIHRoaXMuZGVmYXVsdEVuY29kaW5nID0gb3B0aW9ucy5kZWZhdWx0RW5jb2RpbmcgfHwgJ3V0ZjgnO1xuXG4gIC8vIHdoZW4gcGlwaW5nLCB3ZSBvbmx5IGNhcmUgYWJvdXQgJ3JlYWRhYmxlJyBldmVudHMgdGhhdCBoYXBwZW5cbiAgLy8gYWZ0ZXIgcmVhZCgpaW5nIGFsbCB0aGUgYnl0ZXMgYW5kIG5vdCBnZXR0aW5nIGFueSBwdXNoYmFjay5cbiAgdGhpcy5yYW5PdXQgPSBmYWxzZTtcblxuICAvLyB0aGUgbnVtYmVyIG9mIHdyaXRlcnMgdGhhdCBhcmUgYXdhaXRpbmcgYSBkcmFpbiBldmVudCBpbiAucGlwZSgpc1xuICB0aGlzLmF3YWl0RHJhaW4gPSAwO1xuXG4gIC8vIGlmIHRydWUsIGEgbWF5YmVSZWFkTW9yZSBoYXMgYmVlbiBzY2hlZHVsZWRcbiAgdGhpcy5yZWFkaW5nTW9yZSA9IGZhbHNlO1xuXG4gIHRoaXMuZGVjb2RlciA9IG51bGw7XG4gIHRoaXMuZW5jb2RpbmcgPSBudWxsO1xuICBpZiAob3B0aW9ucy5lbmNvZGluZykge1xuICAgIHRoaXMuZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKG9wdGlvbnMuZW5jb2RpbmcpO1xuICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBSZWFkYWJsZTtcbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZShvcHRpb25zKSB7XG5cbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlYWRhYmxlKSkgcmV0dXJuIG5ldyBSZWFkYWJsZShvcHRpb25zKTtcblxuICB0aGlzLl9yZWFkYWJsZVN0YXRlID0gbmV3IFJlYWRhYmxlU3RhdGUob3B0aW9ucywgdGhpcyk7XG5cbiAgLy8gbGVnYWN5XG4gIHRoaXMucmVhZGFibGUgPSB0cnVlO1xuXG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLnJlYWQgPT09ICdmdW5jdGlvbicpIHRoaXMuX3JlYWQgPSBvcHRpb25zLnJlYWQ7XG5cbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG59XG5cbi8vIE1hbnVhbGx5IHNob3ZlIHNvbWV0aGluZyBpbnRvIHRoZSByZWFkKCkgYnVmZmVyLlxuLy8gVGhpcyByZXR1cm5zIHRydWUgaWYgdGhlIGhpZ2hXYXRlck1hcmsgaGFzIG5vdCBiZWVuIGhpdCB5ZXQsXG4vLyBzaW1pbGFyIHRvIGhvdyBXcml0YWJsZS53cml0ZSgpIHJldHVybnMgdHJ1ZSBpZiB5b3Ugc2hvdWxkXG4vLyB3cml0ZSgpIHNvbWUgbW9yZS5cblJlYWRhYmxlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZykge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBlbmNvZGluZyB8fCBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7XG4gICAgaWYgKGVuY29kaW5nICE9PSBzdGF0ZS5lbmNvZGluZykge1xuICAgICAgY2h1bmsgPSBCdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpO1xuICAgICAgZW5jb2RpbmcgPSAnJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBmYWxzZSk7XG59O1xuXG4vLyBVbnNoaWZ0IHNob3VsZCAqYWx3YXlzKiBiZSBzb21ldGhpbmcgZGlyZWN0bHkgb3V0IG9mIHJlYWQoKVxuUmVhZGFibGUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgc3RhdGUsIGNodW5rLCAnJywgdHJ1ZSk7XG59O1xuXG5SZWFkYWJsZS5wcm90b3R5cGUuaXNQYXVzZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPT09IGZhbHNlO1xufTtcblxuZnVuY3Rpb24gcmVhZGFibGVBZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgZW5jb2RpbmcsIGFkZFRvRnJvbnQpIHtcbiAgdmFyIGVyID0gY2h1bmtJbnZhbGlkKHN0YXRlLCBjaHVuayk7XG4gIGlmIChlcikge1xuICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcbiAgfSBlbHNlIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpO1xuICB9IGVsc2UgaWYgKHN0YXRlLm9iamVjdE1vZGUgfHwgY2h1bmsgJiYgY2h1bmsubGVuZ3RoID4gMCkge1xuICAgIGlmIChzdGF0ZS5lbmRlZCAmJiAhYWRkVG9Gcm9udCkge1xuICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoJ3N0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GJyk7XG4gICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmVuZEVtaXR0ZWQgJiYgYWRkVG9Gcm9udCkge1xuICAgICAgdmFyIF9lID0gbmV3IEVycm9yKCdzdHJlYW0udW5zaGlmdCgpIGFmdGVyIGVuZCBldmVudCcpO1xuICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgX2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2tpcEFkZDtcbiAgICAgIGlmIChzdGF0ZS5kZWNvZGVyICYmICFhZGRUb0Zyb250ICYmICFlbmNvZGluZykge1xuICAgICAgICBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspO1xuICAgICAgICBza2lwQWRkID0gIXN0YXRlLm9iamVjdE1vZGUgJiYgY2h1bmsubGVuZ3RoID09PSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWFkZFRvRnJvbnQpIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcblxuICAgICAgLy8gRG9uJ3QgYWRkIHRvIHRoZSBidWZmZXIgaWYgd2UndmUgZGVjb2RlZCB0byBhbiBlbXB0eSBzdHJpbmcgY2h1bmsgYW5kXG4gICAgICAvLyB3ZSdyZSBub3QgaW4gb2JqZWN0IG1vZGVcbiAgICAgIGlmICghc2tpcEFkZCkge1xuICAgICAgICAvLyBpZiB3ZSB3YW50IHRoZSBkYXRhIG5vdywganVzdCBlbWl0IGl0LlxuICAgICAgICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgIXN0YXRlLnN5bmMpIHtcbiAgICAgICAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGNodW5rKTtcbiAgICAgICAgICBzdHJlYW0ucmVhZCgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB1cGRhdGUgdGhlIGJ1ZmZlciBpbmZvLlxuICAgICAgICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICAgICAgICBpZiAoYWRkVG9Gcm9udCkgc3RhdGUuYnVmZmVyLnVuc2hpZnQoY2h1bmspO2Vsc2Ugc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspO1xuXG4gICAgICAgICAgaWYgKHN0YXRlLm5lZWRSZWFkYWJsZSkgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIWFkZFRvRnJvbnQpIHtcbiAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gbmVlZE1vcmVEYXRhKHN0YXRlKTtcbn1cblxuLy8gaWYgaXQncyBwYXN0IHRoZSBoaWdoIHdhdGVyIG1hcmssIHdlIGNhbiBwdXNoIGluIHNvbWUgbW9yZS5cbi8vIEFsc28sIGlmIHdlIGhhdmUgbm8gZGF0YSB5ZXQsIHdlIGNhbiBzdGFuZCBzb21lXG4vLyBtb3JlIGJ5dGVzLiAgVGhpcyBpcyB0byB3b3JrIGFyb3VuZCBjYXNlcyB3aGVyZSBod209MCxcbi8vIHN1Y2ggYXMgdGhlIHJlcGwuICBBbHNvLCBpZiB0aGUgcHVzaCgpIHRyaWdnZXJlZCBhXG4vLyByZWFkYWJsZSBldmVudCwgYW5kIHRoZSB1c2VyIGNhbGxlZCByZWFkKGxhcmdlTnVtYmVyKSBzdWNoIHRoYXRcbi8vIG5lZWRSZWFkYWJsZSB3YXMgc2V0LCB0aGVuIHdlIG91Z2h0IHRvIHB1c2ggbW9yZSwgc28gdGhhdCBhbm90aGVyXG4vLyAncmVhZGFibGUnIGV2ZW50IHdpbGwgYmUgdHJpZ2dlcmVkLlxuZnVuY3Rpb24gbmVlZE1vcmVEYXRhKHN0YXRlKSB7XG4gIHJldHVybiAhc3RhdGUuZW5kZWQgJiYgKHN0YXRlLm5lZWRSZWFkYWJsZSB8fCBzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmxlbmd0aCA9PT0gMCk7XG59XG5cbi8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuUmVhZGFibGUucHJvdG90eXBlLnNldEVuY29kaW5nID0gZnVuY3Rpb24gKGVuYykge1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmMpO1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nID0gZW5jO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIERvbid0IHJhaXNlIHRoZSBod20gPiA4TUJcbnZhciBNQVhfSFdNID0gMHg4MDAwMDA7XG5mdW5jdGlvbiBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKSB7XG4gIGlmIChuID49IE1BWF9IV00pIHtcbiAgICBuID0gTUFYX0hXTTtcbiAgfSBlbHNlIHtcbiAgICAvLyBHZXQgdGhlIG5leHQgaGlnaGVzdCBwb3dlciBvZiAyIHRvIHByZXZlbnQgaW5jcmVhc2luZyBod20gZXhjZXNzaXZlbHkgaW5cbiAgICAvLyB0aW55IGFtb3VudHNcbiAgICBuLS07XG4gICAgbiB8PSBuID4+PiAxO1xuICAgIG4gfD0gbiA+Pj4gMjtcbiAgICBuIHw9IG4gPj4+IDQ7XG4gICAgbiB8PSBuID4+PiA4O1xuICAgIG4gfD0gbiA+Pj4gMTY7XG4gICAgbisrO1xuICB9XG4gIHJldHVybiBuO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIGJlIGlubGluYWJsZSwgc28gcGxlYXNlIHRha2UgY2FyZSB3aGVuIG1ha2luZ1xuLy8gY2hhbmdlcyB0byB0aGUgZnVuY3Rpb24gYm9keS5cbmZ1bmN0aW9uIGhvd011Y2hUb1JlYWQobiwgc3RhdGUpIHtcbiAgaWYgKG4gPD0gMCB8fCBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuZW5kZWQpIHJldHVybiAwO1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0dXJuIDE7XG4gIGlmIChuICE9PSBuKSB7XG4gICAgLy8gT25seSBmbG93IG9uZSBidWZmZXIgYXQgYSB0aW1lXG4gICAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgc3RhdGUubGVuZ3RoKSByZXR1cm4gc3RhdGUuYnVmZmVyLmhlYWQuZGF0YS5sZW5ndGg7ZWxzZSByZXR1cm4gc3RhdGUubGVuZ3RoO1xuICB9XG4gIC8vIElmIHdlJ3JlIGFza2luZyBmb3IgbW9yZSB0aGFuIHRoZSBjdXJyZW50IGh3bSwgdGhlbiByYWlzZSB0aGUgaHdtLlxuICBpZiAobiA+IHN0YXRlLmhpZ2hXYXRlck1hcmspIHN0YXRlLmhpZ2hXYXRlck1hcmsgPSBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKTtcbiAgaWYgKG4gPD0gc3RhdGUubGVuZ3RoKSByZXR1cm4gbjtcbiAgLy8gRG9uJ3QgaGF2ZSBlbm91Z2hcbiAgaWYgKCFzdGF0ZS5lbmRlZCkge1xuICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcmV0dXJuIHN0YXRlLmxlbmd0aDtcbn1cblxuLy8geW91IGNhbiBvdmVycmlkZSBlaXRoZXIgdGhpcyBtZXRob2QsIG9yIHRoZSBhc3luYyBfcmVhZChuKSBiZWxvdy5cblJlYWRhYmxlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgZGVidWcoJ3JlYWQnLCBuKTtcbiAgbiA9IHBhcnNlSW50KG4sIDEwKTtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIG5PcmlnID0gbjtcblxuICBpZiAobiAhPT0gMCkgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG5cbiAgLy8gaWYgd2UncmUgZG9pbmcgcmVhZCgwKSB0byB0cmlnZ2VyIGEgcmVhZGFibGUgZXZlbnQsIGJ1dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYSBidW5jaCBvZiBkYXRhIGluIHRoZSBidWZmZXIsIHRoZW4ganVzdCB0cmlnZ2VyXG4gIC8vIHRoZSAncmVhZGFibGUnIGV2ZW50IGFuZCBtb3ZlIG9uLlxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5uZWVkUmVhZGFibGUgJiYgKHN0YXRlLmxlbmd0aCA+PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmVuZGVkKSkge1xuICAgIGRlYnVnKCdyZWFkOiBlbWl0UmVhZGFibGUnLCBzdGF0ZS5sZW5ndGgsIHN0YXRlLmVuZGVkKTtcbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKSBlbmRSZWFkYWJsZSh0aGlzKTtlbHNlIGVtaXRSZWFkYWJsZSh0aGlzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIG4gPSBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKTtcblxuICAvLyBpZiB3ZSd2ZSBlbmRlZCwgYW5kIHdlJ3JlIG5vdyBjbGVhciwgdGhlbiBmaW5pc2ggaXQgdXAuXG4gIGlmIChuID09PSAwICYmIHN0YXRlLmVuZGVkKSB7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgZW5kUmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBBbGwgdGhlIGFjdHVhbCBjaHVuayBnZW5lcmF0aW9uIGxvZ2ljIG5lZWRzIHRvIGJlXG4gIC8vICpiZWxvdyogdGhlIGNhbGwgdG8gX3JlYWQuICBUaGUgcmVhc29uIGlzIHRoYXQgaW4gY2VydGFpblxuICAvLyBzeW50aGV0aWMgc3RyZWFtIGNhc2VzLCBzdWNoIGFzIHBhc3N0aHJvdWdoIHN0cmVhbXMsIF9yZWFkXG4gIC8vIG1heSBiZSBhIGNvbXBsZXRlbHkgc3luY2hyb25vdXMgb3BlcmF0aW9uIHdoaWNoIG1heSBjaGFuZ2VcbiAgLy8gdGhlIHN0YXRlIG9mIHRoZSByZWFkIGJ1ZmZlciwgcHJvdmlkaW5nIGVub3VnaCBkYXRhIHdoZW5cbiAgLy8gYmVmb3JlIHRoZXJlIHdhcyAqbm90KiBlbm91Z2guXG4gIC8vXG4gIC8vIFNvLCB0aGUgc3RlcHMgYXJlOlxuICAvLyAxLiBGaWd1cmUgb3V0IHdoYXQgdGhlIHN0YXRlIG9mIHRoaW5ncyB3aWxsIGJlIGFmdGVyIHdlIGRvXG4gIC8vIGEgcmVhZCBmcm9tIHRoZSBidWZmZXIuXG4gIC8vXG4gIC8vIDIuIElmIHRoYXQgcmVzdWx0aW5nIHN0YXRlIHdpbGwgdHJpZ2dlciBhIF9yZWFkLCB0aGVuIGNhbGwgX3JlYWQuXG4gIC8vIE5vdGUgdGhhdCB0aGlzIG1heSBiZSBhc3luY2hyb25vdXMsIG9yIHN5bmNocm9ub3VzLiAgWWVzLCBpdCBpc1xuICAvLyBkZWVwbHkgdWdseSB0byB3cml0ZSBBUElzIHRoaXMgd2F5LCBidXQgdGhhdCBzdGlsbCBkb2Vzbid0IG1lYW5cbiAgLy8gdGhhdCB0aGUgUmVhZGFibGUgY2xhc3Mgc2hvdWxkIGJlaGF2ZSBpbXByb3Blcmx5LCBhcyBzdHJlYW1zIGFyZVxuICAvLyBkZXNpZ25lZCB0byBiZSBzeW5jL2FzeW5jIGFnbm9zdGljLlxuICAvLyBUYWtlIG5vdGUgaWYgdGhlIF9yZWFkIGNhbGwgaXMgc3luYyBvciBhc3luYyAoaWUsIGlmIHRoZSByZWFkIGNhbGxcbiAgLy8gaGFzIHJldHVybmVkIHlldCksIHNvIHRoYXQgd2Uga25vdyB3aGV0aGVyIG9yIG5vdCBpdCdzIHNhZmUgdG8gZW1pdFxuICAvLyAncmVhZGFibGUnIGV0Yy5cbiAgLy9cbiAgLy8gMy4gQWN0dWFsbHkgcHVsbCB0aGUgcmVxdWVzdGVkIGNodW5rcyBvdXQgb2YgdGhlIGJ1ZmZlciBhbmQgcmV0dXJuLlxuXG4gIC8vIGlmIHdlIG5lZWQgYSByZWFkYWJsZSBldmVudCwgdGhlbiB3ZSBuZWVkIHRvIGRvIHNvbWUgcmVhZGluZy5cbiAgdmFyIGRvUmVhZCA9IHN0YXRlLm5lZWRSZWFkYWJsZTtcbiAgZGVidWcoJ25lZWQgcmVhZGFibGUnLCBkb1JlYWQpO1xuXG4gIC8vIGlmIHdlIGN1cnJlbnRseSBoYXZlIGxlc3MgdGhhbiB0aGUgaGlnaFdhdGVyTWFyaywgdGhlbiBhbHNvIHJlYWQgc29tZVxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwIHx8IHN0YXRlLmxlbmd0aCAtIG4gPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgZG9SZWFkID0gdHJ1ZTtcbiAgICBkZWJ1ZygnbGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmsnLCBkb1JlYWQpO1xuICB9XG5cbiAgLy8gaG93ZXZlciwgaWYgd2UndmUgZW5kZWQsIHRoZW4gdGhlcmUncyBubyBwb2ludCwgYW5kIGlmIHdlJ3JlIGFscmVhZHlcbiAgLy8gcmVhZGluZywgdGhlbiBpdCdzIHVubmVjZXNzYXJ5LlxuICBpZiAoc3RhdGUuZW5kZWQgfHwgc3RhdGUucmVhZGluZykge1xuICAgIGRvUmVhZCA9IGZhbHNlO1xuICAgIGRlYnVnKCdyZWFkaW5nIG9yIGVuZGVkJywgZG9SZWFkKTtcbiAgfSBlbHNlIGlmIChkb1JlYWQpIHtcbiAgICBkZWJ1ZygnZG8gcmVhZCcpO1xuICAgIHN0YXRlLnJlYWRpbmcgPSB0cnVlO1xuICAgIHN0YXRlLnN5bmMgPSB0cnVlO1xuICAgIC8vIGlmIHRoZSBsZW5ndGggaXMgY3VycmVudGx5IHplcm8sIHRoZW4gd2UgKm5lZWQqIGEgcmVhZGFibGUgZXZlbnQuXG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAvLyBjYWxsIGludGVybmFsIHJlYWQgbWV0aG9kXG4gICAgdGhpcy5fcmVhZChzdGF0ZS5oaWdoV2F0ZXJNYXJrKTtcbiAgICBzdGF0ZS5zeW5jID0gZmFsc2U7XG4gICAgLy8gSWYgX3JlYWQgcHVzaGVkIGRhdGEgc3luY2hyb25vdXNseSwgdGhlbiBgcmVhZGluZ2Agd2lsbCBiZSBmYWxzZSxcbiAgICAvLyBhbmQgd2UgbmVlZCB0byByZS1ldmFsdWF0ZSBob3cgbXVjaCBkYXRhIHdlIGNhbiByZXR1cm4gdG8gdGhlIHVzZXIuXG4gICAgaWYgKCFzdGF0ZS5yZWFkaW5nKSBuID0gaG93TXVjaFRvUmVhZChuT3JpZywgc3RhdGUpO1xuICB9XG5cbiAgdmFyIHJldDtcbiAgaWYgKG4gPiAwKSByZXQgPSBmcm9tTGlzdChuLCBzdGF0ZSk7ZWxzZSByZXQgPSBudWxsO1xuXG4gIGlmIChyZXQgPT09IG51bGwpIHtcbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgIG4gPSAwO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLmxlbmd0aCAtPSBuO1xuICB9XG5cbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIElmIHdlIGhhdmUgbm90aGluZyBpbiB0aGUgYnVmZmVyLCB0aGVuIHdlIHdhbnQgdG8ga25vd1xuICAgIC8vIGFzIHNvb24gYXMgd2UgKmRvKiBnZXQgc29tZXRoaW5nIGludG8gdGhlIGJ1ZmZlci5cbiAgICBpZiAoIXN0YXRlLmVuZGVkKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuXG4gICAgLy8gSWYgd2UgdHJpZWQgdG8gcmVhZCgpIHBhc3QgdGhlIEVPRiwgdGhlbiBlbWl0IGVuZCBvbiB0aGUgbmV4dCB0aWNrLlxuICAgIGlmIChuT3JpZyAhPT0gbiAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7XG4gIH1cblxuICBpZiAocmV0ICE9PSBudWxsKSB0aGlzLmVtaXQoJ2RhdGEnLCByZXQpO1xuXG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBjaHVua0ludmFsaWQoc3RhdGUsIGNodW5rKSB7XG4gIHZhciBlciA9IG51bGw7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGNodW5rKSAmJiB0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmIGNodW5rICE9PSBudWxsICYmIGNodW5rICE9PSB1bmRlZmluZWQgJiYgIXN0YXRlLm9iamVjdE1vZGUpIHtcbiAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmsnKTtcbiAgfVxuICByZXR1cm4gZXI7XG59XG5cbmZ1bmN0aW9uIG9uRW9mQ2h1bmsoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoc3RhdGUuZW5kZWQpIHJldHVybjtcbiAgaWYgKHN0YXRlLmRlY29kZXIpIHtcbiAgICB2YXIgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLmVuZCgpO1xuICAgIGlmIChjaHVuayAmJiBjaHVuay5sZW5ndGgpIHtcbiAgICAgIHN0YXRlLmJ1ZmZlci5wdXNoKGNodW5rKTtcbiAgICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICB9XG4gIH1cbiAgc3RhdGUuZW5kZWQgPSB0cnVlO1xuXG4gIC8vIGVtaXQgJ3JlYWRhYmxlJyBub3cgdG8gbWFrZSBzdXJlIGl0IGdldHMgcGlja2VkIHVwLlxuICBlbWl0UmVhZGFibGUoc3RyZWFtKTtcbn1cblxuLy8gRG9uJ3QgZW1pdCByZWFkYWJsZSByaWdodCBhd2F5IGluIHN5bmMgbW9kZSwgYmVjYXVzZSB0aGlzIGNhbiB0cmlnZ2VyXG4vLyBhbm90aGVyIHJlYWQoKSBjYWxsID0+IHN0YWNrIG92ZXJmbG93LiAgVGhpcyB3YXksIGl0IG1pZ2h0IHRyaWdnZXJcbi8vIGEgbmV4dFRpY2sgcmVjdXJzaW9uIHdhcm5pbmcsIGJ1dCB0aGF0J3Mgbm90IHNvIGJhZC5cbmZ1bmN0aW9uIGVtaXRSZWFkYWJsZShzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBzdGF0ZS5uZWVkUmVhZGFibGUgPSBmYWxzZTtcbiAgaWYgKCFzdGF0ZS5lbWl0dGVkUmVhZGFibGUpIHtcbiAgICBkZWJ1ZygnZW1pdFJlYWRhYmxlJywgc3RhdGUuZmxvd2luZyk7XG4gICAgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICBpZiAoc3RhdGUuc3luYykgbmV4dFRpY2soZW1pdFJlYWRhYmxlXywgc3RyZWFtKTtlbHNlIGVtaXRSZWFkYWJsZV8oc3RyZWFtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0UmVhZGFibGVfKHN0cmVhbSkge1xuICBkZWJ1ZygnZW1pdCByZWFkYWJsZScpO1xuICBzdHJlYW0uZW1pdCgncmVhZGFibGUnKTtcbiAgZmxvdyhzdHJlYW0pO1xufVxuXG4vLyBhdCB0aGlzIHBvaW50LCB0aGUgdXNlciBoYXMgcHJlc3VtYWJseSBzZWVuIHRoZSAncmVhZGFibGUnIGV2ZW50LFxuLy8gYW5kIGNhbGxlZCByZWFkKCkgdG8gY29uc3VtZSBzb21lIGRhdGEuICB0aGF0IG1heSBoYXZlIHRyaWdnZXJlZFxuLy8gaW4gdHVybiBhbm90aGVyIF9yZWFkKG4pIGNhbGwsIGluIHdoaWNoIGNhc2UgcmVhZGluZyA9IHRydWUgaWZcbi8vIGl0J3MgaW4gcHJvZ3Jlc3MuXG4vLyBIb3dldmVyLCBpZiB3ZSdyZSBub3QgZW5kZWQsIG9yIHJlYWRpbmcsIGFuZCB0aGUgbGVuZ3RoIDwgaHdtLFxuLy8gdGhlbiBnbyBhaGVhZCBhbmQgdHJ5IHRvIHJlYWQgc29tZSBtb3JlIHByZWVtcHRpdmVseS5cbmZ1bmN0aW9uIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnJlYWRpbmdNb3JlKSB7XG4gICAgc3RhdGUucmVhZGluZ01vcmUgPSB0cnVlO1xuICAgIG5leHRUaWNrKG1heWJlUmVhZE1vcmVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXliZVJlYWRNb3JlXyhzdHJlYW0sIHN0YXRlKSB7XG4gIHZhciBsZW4gPSBzdGF0ZS5sZW5ndGg7XG4gIHdoaWxlICghc3RhdGUucmVhZGluZyAmJiAhc3RhdGUuZmxvd2luZyAmJiAhc3RhdGUuZW5kZWQgJiYgc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykge1xuICAgIGRlYnVnKCdtYXliZVJlYWRNb3JlIHJlYWQgMCcpO1xuICAgIHN0cmVhbS5yZWFkKDApO1xuICAgIGlmIChsZW4gPT09IHN0YXRlLmxlbmd0aClcbiAgICAgIC8vIGRpZG4ndCBnZXQgYW55IGRhdGEsIHN0b3Agc3Bpbm5pbmcuXG4gICAgICBicmVhaztlbHNlIGxlbiA9IHN0YXRlLmxlbmd0aDtcbiAgfVxuICBzdGF0ZS5yZWFkaW5nTW9yZSA9IGZhbHNlO1xufVxuXG4vLyBhYnN0cmFjdCBtZXRob2QuICB0byBiZSBvdmVycmlkZGVuIGluIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuXG4vLyBjYWxsIGNiKGVyLCBkYXRhKSB3aGVyZSBkYXRhIGlzIDw9IG4gaW4gbGVuZ3RoLlxuLy8gZm9yIHZpcnR1YWwgKG5vbi1zdHJpbmcsIG5vbi1idWZmZXIpIHN0cmVhbXMsIFwibGVuZ3RoXCIgaXMgc29tZXdoYXRcbi8vIGFyYml0cmFyeSwgYW5kIHBlcmhhcHMgbm90IHZlcnkgbWVhbmluZ2Z1bC5cblJlYWRhYmxlLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpKTtcbn07XG5cblJlYWRhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKGRlc3QsIHBpcGVPcHRzKSB7XG4gIHZhciBzcmMgPSB0aGlzO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIHN3aXRjaCAoc3RhdGUucGlwZXNDb3VudCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHN0YXRlLnBpcGVzID0gZGVzdDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMTpcbiAgICAgIHN0YXRlLnBpcGVzID0gW3N0YXRlLnBpcGVzLCBkZXN0XTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBzdGF0ZS5waXBlcy5wdXNoKGRlc3QpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgc3RhdGUucGlwZXNDb3VudCArPSAxO1xuICBkZWJ1ZygncGlwZSBjb3VudD0lZCBvcHRzPSVqJywgc3RhdGUucGlwZXNDb3VudCwgcGlwZU9wdHMpO1xuXG4gIHZhciBkb0VuZCA9ICghcGlwZU9wdHMgfHwgcGlwZU9wdHMuZW5kICE9PSBmYWxzZSk7XG5cbiAgdmFyIGVuZEZuID0gZG9FbmQgPyBvbmVuZCA6IGNsZWFudXA7XG4gIGlmIChzdGF0ZS5lbmRFbWl0dGVkKSBuZXh0VGljayhlbmRGbik7ZWxzZSBzcmMub25jZSgnZW5kJywgZW5kRm4pO1xuXG4gIGRlc3Qub24oJ3VucGlwZScsIG9udW5waXBlKTtcbiAgZnVuY3Rpb24gb251bnBpcGUocmVhZGFibGUpIHtcbiAgICBkZWJ1Zygnb251bnBpcGUnKTtcbiAgICBpZiAocmVhZGFibGUgPT09IHNyYykge1xuICAgICAgY2xlYW51cCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uZW5kKCkge1xuICAgIGRlYnVnKCdvbmVuZCcpO1xuICAgIGRlc3QuZW5kKCk7XG4gIH1cblxuICAvLyB3aGVuIHRoZSBkZXN0IGRyYWlucywgaXQgcmVkdWNlcyB0aGUgYXdhaXREcmFpbiBjb3VudGVyXG4gIC8vIG9uIHRoZSBzb3VyY2UuICBUaGlzIHdvdWxkIGJlIG1vcmUgZWxlZ2FudCB3aXRoIGEgLm9uY2UoKVxuICAvLyBoYW5kbGVyIGluIGZsb3coKSwgYnV0IGFkZGluZyBhbmQgcmVtb3ZpbmcgcmVwZWF0ZWRseSBpc1xuICAvLyB0b28gc2xvdy5cbiAgdmFyIG9uZHJhaW4gPSBwaXBlT25EcmFpbihzcmMpO1xuICBkZXN0Lm9uKCdkcmFpbicsIG9uZHJhaW4pO1xuXG4gIHZhciBjbGVhbmVkVXAgPSBmYWxzZTtcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBkZWJ1ZygnY2xlYW51cCcpO1xuICAgIC8vIGNsZWFudXAgZXZlbnQgaGFuZGxlcnMgb25jZSB0aGUgcGlwZSBpcyBicm9rZW5cbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcigndW5waXBlJywgb251bnBpcGUpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZW5kJywgY2xlYW51cCk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTtcblxuICAgIGNsZWFuZWRVcCA9IHRydWU7XG5cbiAgICAvLyBpZiB0aGUgcmVhZGVyIGlzIHdhaXRpbmcgZm9yIGEgZHJhaW4gZXZlbnQgZnJvbSB0aGlzXG4gICAgLy8gc3BlY2lmaWMgd3JpdGVyLCB0aGVuIGl0IHdvdWxkIGNhdXNlIGl0IHRvIG5ldmVyIHN0YXJ0XG4gICAgLy8gZmxvd2luZyBhZ2Fpbi5cbiAgICAvLyBTbywgaWYgdGhpcyBpcyBhd2FpdGluZyBhIGRyYWluLCB0aGVuIHdlIGp1c3QgY2FsbCBpdCBub3cuXG4gICAgLy8gSWYgd2UgZG9uJ3Qga25vdywgdGhlbiBhc3N1bWUgdGhhdCB3ZSBhcmUgd2FpdGluZyBmb3Igb25lLlxuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluICYmICghZGVzdC5fd3JpdGFibGVTdGF0ZSB8fCBkZXN0Ll93cml0YWJsZVN0YXRlLm5lZWREcmFpbikpIG9uZHJhaW4oKTtcbiAgfVxuXG4gIC8vIElmIHRoZSB1c2VyIHB1c2hlcyBtb3JlIGRhdGEgd2hpbGUgd2UncmUgd3JpdGluZyB0byBkZXN0IHRoZW4gd2UnbGwgZW5kIHVwXG4gIC8vIGluIG9uZGF0YSBhZ2Fpbi4gSG93ZXZlciwgd2Ugb25seSB3YW50IHRvIGluY3JlYXNlIGF3YWl0RHJhaW4gb25jZSBiZWNhdXNlXG4gIC8vIGRlc3Qgd2lsbCBvbmx5IGVtaXQgb25lICdkcmFpbicgZXZlbnQgZm9yIHRoZSBtdWx0aXBsZSB3cml0ZXMuXG4gIC8vID0+IEludHJvZHVjZSBhIGd1YXJkIG9uIGluY3JlYXNpbmcgYXdhaXREcmFpbi5cbiAgdmFyIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTtcbiAgc3JjLm9uKCdkYXRhJywgb25kYXRhKTtcbiAgZnVuY3Rpb24gb25kYXRhKGNodW5rKSB7XG4gICAgZGVidWcoJ29uZGF0YScpO1xuICAgIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTtcbiAgICB2YXIgcmV0ID0gZGVzdC53cml0ZShjaHVuayk7XG4gICAgaWYgKGZhbHNlID09PSByZXQgJiYgIWluY3JlYXNlZEF3YWl0RHJhaW4pIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIHVucGlwZWQgZHVyaW5nIGBkZXN0LndyaXRlKClgLCBpdCBpcyBwb3NzaWJsZVxuICAgICAgLy8gdG8gZ2V0IHN0dWNrIGluIGEgcGVybWFuZW50bHkgcGF1c2VkIHN0YXRlIGlmIHRoYXQgd3JpdGVcbiAgICAgIC8vIGFsc28gcmV0dXJuZWQgZmFsc2UuXG4gICAgICAvLyA9PiBDaGVjayB3aGV0aGVyIGBkZXN0YCBpcyBzdGlsbCBhIHBpcGluZyBkZXN0aW5hdGlvbi5cbiAgICAgIGlmICgoc3RhdGUucGlwZXNDb3VudCA9PT0gMSAmJiBzdGF0ZS5waXBlcyA9PT0gZGVzdCB8fCBzdGF0ZS5waXBlc0NvdW50ID4gMSAmJiBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KSAhPT0gLTEpICYmICFjbGVhbmVkVXApIHtcbiAgICAgICAgZGVidWcoJ2ZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZScsIHNyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKTtcbiAgICAgICAgc3JjLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4rKztcbiAgICAgICAgaW5jcmVhc2VkQXdhaXREcmFpbiA9IHRydWU7XG4gICAgICB9XG4gICAgICBzcmMucGF1c2UoKTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgZGVzdCBoYXMgYW4gZXJyb3IsIHRoZW4gc3RvcCBwaXBpbmcgaW50byBpdC5cbiAgLy8gaG93ZXZlciwgZG9uJ3Qgc3VwcHJlc3MgdGhlIHRocm93aW5nIGJlaGF2aW9yIGZvciB0aGlzLlxuICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7XG4gICAgZGVidWcoJ29uZXJyb3InLCBlcik7XG4gICAgdW5waXBlKCk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBpZiAobGlzdGVuZXJDb3VudChkZXN0LCAnZXJyb3InKSA9PT0gMCkgZGVzdC5lbWl0KCdlcnJvcicsIGVyKTtcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgdXNlcmxhbmQgb25lcy5cbiAgcHJlcGVuZExpc3RlbmVyKGRlc3QsICdlcnJvcicsIG9uZXJyb3IpO1xuXG4gIC8vIEJvdGggY2xvc2UgYW5kIGZpbmlzaCBzaG91bGQgdHJpZ2dlciB1bnBpcGUsIGJ1dCBvbmx5IG9uY2UuXG4gIGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpO1xuICAgIHVucGlwZSgpO1xuICB9XG4gIGRlc3Qub25jZSgnY2xvc2UnLCBvbmNsb3NlKTtcbiAgZnVuY3Rpb24gb25maW5pc2goKSB7XG4gICAgZGVidWcoJ29uZmluaXNoJyk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcbiAgICB1bnBpcGUoKTtcbiAgfVxuICBkZXN0Lm9uY2UoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcblxuICBmdW5jdGlvbiB1bnBpcGUoKSB7XG4gICAgZGVidWcoJ3VucGlwZScpO1xuICAgIHNyYy51bnBpcGUoZGVzdCk7XG4gIH1cblxuICAvLyB0ZWxsIHRoZSBkZXN0IHRoYXQgaXQncyBiZWluZyBwaXBlZCB0b1xuICBkZXN0LmVtaXQoJ3BpcGUnLCBzcmMpO1xuXG4gIC8vIHN0YXJ0IHRoZSBmbG93IGlmIGl0IGhhc24ndCBiZWVuIHN0YXJ0ZWQgYWxyZWFkeS5cbiAgaWYgKCFzdGF0ZS5mbG93aW5nKSB7XG4gICAgZGVidWcoJ3BpcGUgcmVzdW1lJyk7XG4gICAgc3JjLnJlc3VtZSgpO1xuICB9XG5cbiAgcmV0dXJuIGRlc3Q7XG59O1xuXG5mdW5jdGlvbiBwaXBlT25EcmFpbihzcmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhdGUgPSBzcmMuX3JlYWRhYmxlU3RhdGU7XG4gICAgZGVidWcoJ3BpcGVPbkRyYWluJywgc3RhdGUuYXdhaXREcmFpbik7XG4gICAgaWYgKHN0YXRlLmF3YWl0RHJhaW4pIHN0YXRlLmF3YWl0RHJhaW4tLTtcbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiA9PT0gMCAmJiBzcmMubGlzdGVuZXJzKCdkYXRhJykubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcbiAgICAgIGZsb3coc3JjKTtcbiAgICB9XG4gIH07XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS51bnBpcGUgPSBmdW5jdGlvbiAoZGVzdCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIC8vIGlmIHdlJ3JlIG5vdCBwaXBpbmcgYW55d2hlcmUsIHRoZW4gZG8gbm90aGluZy5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDApIHJldHVybiB0aGlzO1xuXG4gIC8vIGp1c3Qgb25lIGRlc3RpbmF0aW9uLiAgbW9zdCBjb21tb24gY2FzZS5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHtcbiAgICAvLyBwYXNzZWQgaW4gb25lLCBidXQgaXQncyBub3QgdGhlIHJpZ2h0IG9uZS5cbiAgICBpZiAoZGVzdCAmJiBkZXN0ICE9PSBzdGF0ZS5waXBlcykgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAoIWRlc3QpIGRlc3QgPSBzdGF0ZS5waXBlcztcblxuICAgIC8vIGdvdCBhIG1hdGNoLlxuICAgIHN0YXRlLnBpcGVzID0gbnVsbDtcbiAgICBzdGF0ZS5waXBlc0NvdW50ID0gMDtcbiAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgaWYgKGRlc3QpIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBzbG93IGNhc2UuIG11bHRpcGxlIHBpcGUgZGVzdGluYXRpb25zLlxuXG4gIGlmICghZGVzdCkge1xuICAgIC8vIHJlbW92ZSBhbGwuXG4gICAgdmFyIGRlc3RzID0gc3RhdGUucGlwZXM7XG4gICAgdmFyIGxlbiA9IHN0YXRlLnBpcGVzQ291bnQ7XG4gICAgc3RhdGUucGlwZXMgPSBudWxsO1xuICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwO1xuICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsZW47IF9pKyspIHtcbiAgICAgIGRlc3RzW19pXS5lbWl0KCd1bnBpcGUnLCB0aGlzKTtcbiAgICB9cmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyB0cnkgdG8gZmluZCB0aGUgcmlnaHQgb25lLlxuICB2YXIgaSA9IGluZGV4T2Yoc3RhdGUucGlwZXMsIGRlc3QpO1xuICBpZiAoaSA9PT0gLTEpIHJldHVybiB0aGlzO1xuXG4gIHN0YXRlLnBpcGVzLnNwbGljZShpLCAxKTtcbiAgc3RhdGUucGlwZXNDb3VudCAtPSAxO1xuICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMSkgc3RhdGUucGlwZXMgPSBzdGF0ZS5waXBlc1swXTtcblxuICBkZXN0LmVtaXQoJ3VucGlwZScsIHRoaXMpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gc2V0IHVwIGRhdGEgZXZlbnRzIGlmIHRoZXkgYXJlIGFza2VkIGZvclxuLy8gRW5zdXJlIHJlYWRhYmxlIGxpc3RlbmVycyBldmVudHVhbGx5IGdldCBzb21ldGhpbmdcblJlYWRhYmxlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldiwgZm4pIHtcbiAgdmFyIHJlcyA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBldiwgZm4pO1xuXG4gIGlmIChldiA9PT0gJ2RhdGEnKSB7XG4gICAgLy8gU3RhcnQgZmxvd2luZyBvbiBuZXh0IHRpY2sgaWYgc3RyZWFtIGlzbid0IGV4cGxpY2l0bHkgcGF1c2VkXG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyAhPT0gZmFsc2UpIHRoaXMucmVzdW1lKCk7XG4gIH0gZWxzZSBpZiAoZXYgPT09ICdyZWFkYWJsZScpIHtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICAgIGlmICghc3RhdGUuZW5kRW1pdHRlZCAmJiAhc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcpIHtcbiAgICAgIHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nID0gc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICAgICAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgICAgIG5leHRUaWNrKG5SZWFkaW5nTmV4dFRpY2ssIHRoaXMpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5sZW5ndGgpIHtcbiAgICAgICAgZW1pdFJlYWRhYmxlKHRoaXMsIHN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufTtcblJlYWRhYmxlLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IFJlYWRhYmxlLnByb3RvdHlwZS5vbjtcblxuZnVuY3Rpb24gblJlYWRpbmdOZXh0VGljayhzZWxmKSB7XG4gIGRlYnVnKCdyZWFkYWJsZSBuZXh0dGljayByZWFkIDAnKTtcbiAgc2VsZi5yZWFkKDApO1xufVxuXG4vLyBwYXVzZSgpIGFuZCByZXN1bWUoKSBhcmUgcmVtbmFudHMgb2YgdGhlIGxlZ2FjeSByZWFkYWJsZSBzdHJlYW0gQVBJXG4vLyBJZiB0aGUgdXNlciB1c2VzIHRoZW0sIHRoZW4gc3dpdGNoIGludG8gb2xkIG1vZGUuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVzdW1lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICBpZiAoIXN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncmVzdW1lJyk7XG4gICAgc3RhdGUuZmxvd2luZyA9IHRydWU7XG4gICAgcmVzdW1lKHRoaXMsIHN0YXRlKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIHJlc3VtZShzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucmVzdW1lU2NoZWR1bGVkKSB7XG4gICAgc3RhdGUucmVzdW1lU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBuZXh0VGljayhyZXN1bWVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN1bWVfKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgZGVidWcoJ3Jlc3VtZSByZWFkIDAnKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgfVxuXG4gIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuICBzdGF0ZS5hd2FpdERyYWluID0gMDtcbiAgc3RyZWFtLmVtaXQoJ3Jlc3VtZScpO1xuICBmbG93KHN0cmVhbSk7XG4gIGlmIChzdGF0ZS5mbG93aW5nICYmICFzdGF0ZS5yZWFkaW5nKSBzdHJlYW0ucmVhZCgwKTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygnY2FsbCBwYXVzZSBmbG93aW5nPSVqJywgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKTtcbiAgaWYgKGZhbHNlICE9PSB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGF1c2UnKTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoJ3BhdXNlJyk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBmbG93KHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdmbG93Jywgc3RhdGUuZmxvd2luZyk7XG4gIHdoaWxlIChzdGF0ZS5mbG93aW5nICYmIHN0cmVhbS5yZWFkKCkgIT09IG51bGwpIHt9XG59XG5cbi8vIHdyYXAgYW4gb2xkLXN0eWxlIHN0cmVhbSBhcyB0aGUgYXN5bmMgZGF0YSBzb3VyY2UuXG4vLyBUaGlzIGlzICpub3QqIHBhcnQgb2YgdGhlIHJlYWRhYmxlIHN0cmVhbSBpbnRlcmZhY2UuXG4vLyBJdCBpcyBhbiB1Z2x5IHVuZm9ydHVuYXRlIG1lc3Mgb2YgaGlzdG9yeS5cblJlYWRhYmxlLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgcGF1c2VkID0gZmFsc2U7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzdHJlYW0ub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBlbmQnKTtcbiAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhc3RhdGUuZW5kZWQpIHtcbiAgICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7XG4gICAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSBzZWxmLnB1c2goY2h1bmspO1xuICAgIH1cblxuICAgIHNlbGYucHVzaChudWxsKTtcbiAgfSk7XG5cbiAgc3RyZWFtLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgZGF0YScpO1xuICAgIGlmIChzdGF0ZS5kZWNvZGVyKSBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspO1xuXG4gICAgLy8gZG9uJ3Qgc2tpcCBvdmVyIGZhbHN5IHZhbHVlcyBpbiBvYmplY3RNb2RlXG4gICAgaWYgKHN0YXRlLm9iamVjdE1vZGUgJiYgKGNodW5rID09PSBudWxsIHx8IGNodW5rID09PSB1bmRlZmluZWQpKSByZXR1cm47ZWxzZSBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgKCFjaHVuayB8fCAhY2h1bmsubGVuZ3RoKSkgcmV0dXJuO1xuXG4gICAgdmFyIHJldCA9IHNlbGYucHVzaChjaHVuayk7XG4gICAgaWYgKCFyZXQpIHtcbiAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgICBzdHJlYW0ucGF1c2UoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHByb3h5IGFsbCB0aGUgb3RoZXIgbWV0aG9kcy5cbiAgLy8gaW1wb3J0YW50IHdoZW4gd3JhcHBpbmcgZmlsdGVycyBhbmQgZHVwbGV4ZXMuXG4gIGZvciAodmFyIGkgaW4gc3RyZWFtKSB7XG4gICAgaWYgKHRoaXNbaV0gPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc3RyZWFtW2ldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW2ldID0gZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBzdHJlYW1bbWV0aG9kXS5hcHBseShzdHJlYW0sIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICB9KGkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHByb3h5IGNlcnRhaW4gaW1wb3J0YW50IGV2ZW50cy5cbiAgdmFyIGV2ZW50cyA9IFsnZXJyb3InLCAnY2xvc2UnLCAnZGVzdHJveScsICdwYXVzZScsICdyZXN1bWUnXTtcbiAgZm9yRWFjaChldmVudHMsIGZ1bmN0aW9uIChldikge1xuICAgIHN0cmVhbS5vbihldiwgc2VsZi5lbWl0LmJpbmQoc2VsZiwgZXYpKTtcbiAgfSk7XG5cbiAgLy8gd2hlbiB3ZSB0cnkgdG8gY29uc3VtZSBzb21lIG1vcmUgYnl0ZXMsIHNpbXBseSB1bnBhdXNlIHRoZVxuICAvLyB1bmRlcmx5aW5nIHN0cmVhbS5cbiAgc2VsZi5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgX3JlYWQnLCBuKTtcbiAgICBpZiAocGF1c2VkKSB7XG4gICAgICBwYXVzZWQgPSBmYWxzZTtcbiAgICAgIHN0cmVhbS5yZXN1bWUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHNlbGY7XG59O1xuXG4vLyBleHBvc2VkIGZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkuXG5SZWFkYWJsZS5fZnJvbUxpc3QgPSBmcm9tTGlzdDtcblxuLy8gUGx1Y2sgb2ZmIG4gYnl0ZXMgZnJvbSBhbiBhcnJheSBvZiBidWZmZXJzLlxuLy8gTGVuZ3RoIGlzIHRoZSBjb21iaW5lZCBsZW5ndGhzIG9mIGFsbCB0aGUgYnVmZmVycyBpbiB0aGUgbGlzdC5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gZnJvbUxpc3Qobiwgc3RhdGUpIHtcbiAgLy8gbm90aGluZyBidWZmZXJlZFxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICB2YXIgcmV0O1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0ID0gc3RhdGUuYnVmZmVyLnNoaWZ0KCk7ZWxzZSBpZiAoIW4gfHwgbiA+PSBzdGF0ZS5sZW5ndGgpIHtcbiAgICAvLyByZWFkIGl0IGFsbCwgdHJ1bmNhdGUgdGhlIGxpc3RcbiAgICBpZiAoc3RhdGUuZGVjb2RlcikgcmV0ID0gc3RhdGUuYnVmZmVyLmpvaW4oJycpO2Vsc2UgaWYgKHN0YXRlLmJ1ZmZlci5sZW5ndGggPT09IDEpIHJldCA9IHN0YXRlLmJ1ZmZlci5oZWFkLmRhdGE7ZWxzZSByZXQgPSBzdGF0ZS5idWZmZXIuY29uY2F0KHN0YXRlLmxlbmd0aCk7XG4gICAgc3RhdGUuYnVmZmVyLmNsZWFyKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcmVhZCBwYXJ0IG9mIGxpc3RcbiAgICByZXQgPSBmcm9tTGlzdFBhcnRpYWwobiwgc3RhdGUuYnVmZmVyLCBzdGF0ZS5kZWNvZGVyKTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbi8vIEV4dHJhY3RzIG9ubHkgZW5vdWdoIGJ1ZmZlcmVkIGRhdGEgdG8gc2F0aXNmeSB0aGUgYW1vdW50IHJlcXVlc3RlZC5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gZnJvbUxpc3RQYXJ0aWFsKG4sIGxpc3QsIGhhc1N0cmluZ3MpIHtcbiAgdmFyIHJldDtcbiAgaWYgKG4gPCBsaXN0LmhlYWQuZGF0YS5sZW5ndGgpIHtcbiAgICAvLyBzbGljZSBpcyB0aGUgc2FtZSBmb3IgYnVmZmVycyBhbmQgc3RyaW5nc1xuICAgIHJldCA9IGxpc3QuaGVhZC5kYXRhLnNsaWNlKDAsIG4pO1xuICAgIGxpc3QuaGVhZC5kYXRhID0gbGlzdC5oZWFkLmRhdGEuc2xpY2Uobik7XG4gIH0gZWxzZSBpZiAobiA9PT0gbGlzdC5oZWFkLmRhdGEubGVuZ3RoKSB7XG4gICAgLy8gZmlyc3QgY2h1bmsgaXMgYSBwZXJmZWN0IG1hdGNoXG4gICAgcmV0ID0gbGlzdC5zaGlmdCgpO1xuICB9IGVsc2Uge1xuICAgIC8vIHJlc3VsdCBzcGFucyBtb3JlIHRoYW4gb25lIGJ1ZmZlclxuICAgIHJldCA9IGhhc1N0cmluZ3MgPyBjb3B5RnJvbUJ1ZmZlclN0cmluZyhuLCBsaXN0KSA6IGNvcHlGcm9tQnVmZmVyKG4sIGxpc3QpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbi8vIENvcGllcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgY2hhcmFjdGVycyBmcm9tIHRoZSBsaXN0IG9mIGJ1ZmZlcmVkIGRhdGFcbi8vIGNodW5rcy5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gY29weUZyb21CdWZmZXJTdHJpbmcobiwgbGlzdCkge1xuICB2YXIgcCA9IGxpc3QuaGVhZDtcbiAgdmFyIGMgPSAxO1xuICB2YXIgcmV0ID0gcC5kYXRhO1xuICBuIC09IHJldC5sZW5ndGg7XG4gIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgdmFyIHN0ciA9IHAuZGF0YTtcbiAgICB2YXIgbmIgPSBuID4gc3RyLmxlbmd0aCA/IHN0ci5sZW5ndGggOiBuO1xuICAgIGlmIChuYiA9PT0gc3RyLmxlbmd0aCkgcmV0ICs9IHN0cjtlbHNlIHJldCArPSBzdHIuc2xpY2UoMCwgbik7XG4gICAgbiAtPSBuYjtcbiAgICBpZiAobiA9PT0gMCkge1xuICAgICAgaWYgKG5iID09PSBzdHIubGVuZ3RoKSB7XG4gICAgICAgICsrYztcbiAgICAgICAgaWYgKHAubmV4dCkgbGlzdC5oZWFkID0gcC5uZXh0O2Vsc2UgbGlzdC5oZWFkID0gbGlzdC50YWlsID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpc3QuaGVhZCA9IHA7XG4gICAgICAgIHAuZGF0YSA9IHN0ci5zbGljZShuYik7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgKytjO1xuICB9XG4gIGxpc3QubGVuZ3RoIC09IGM7XG4gIHJldHVybiByZXQ7XG59XG5cbi8vIENvcGllcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgYnl0ZXMgZnJvbSB0aGUgbGlzdCBvZiBidWZmZXJlZCBkYXRhIGNodW5rcy5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gY29weUZyb21CdWZmZXIobiwgbGlzdCkge1xuICB2YXIgcmV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG4pO1xuICB2YXIgcCA9IGxpc3QuaGVhZDtcbiAgdmFyIGMgPSAxO1xuICBwLmRhdGEuY29weShyZXQpO1xuICBuIC09IHAuZGF0YS5sZW5ndGg7XG4gIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgdmFyIGJ1ZiA9IHAuZGF0YTtcbiAgICB2YXIgbmIgPSBuID4gYnVmLmxlbmd0aCA/IGJ1Zi5sZW5ndGggOiBuO1xuICAgIGJ1Zi5jb3B5KHJldCwgcmV0Lmxlbmd0aCAtIG4sIDAsIG5iKTtcbiAgICBuIC09IG5iO1xuICAgIGlmIChuID09PSAwKSB7XG4gICAgICBpZiAobmIgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgKytjO1xuICAgICAgICBpZiAocC5uZXh0KSBsaXN0LmhlYWQgPSBwLm5leHQ7ZWxzZSBsaXN0LmhlYWQgPSBsaXN0LnRhaWwgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC5oZWFkID0gcDtcbiAgICAgICAgcC5kYXRhID0gYnVmLnNsaWNlKG5iKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICArK2M7XG4gIH1cbiAgbGlzdC5sZW5ndGggLT0gYztcbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZW5kUmVhZGFibGUoc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcblxuICAvLyBJZiB3ZSBnZXQgaGVyZSBiZWZvcmUgY29uc3VtaW5nIGFsbCB0aGUgYnl0ZXMsIHRoZW4gdGhhdCBpcyBhXG4gIC8vIGJ1ZyBpbiBub2RlLiAgU2hvdWxkIG5ldmVyIGhhcHBlbi5cbiAgaWYgKHN0YXRlLmxlbmd0aCA+IDApIHRocm93IG5ldyBFcnJvcignXCJlbmRSZWFkYWJsZSgpXCIgY2FsbGVkIG9uIG5vbi1lbXB0eSBzdHJlYW0nKTtcblxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQpIHtcbiAgICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gICAgbmV4dFRpY2soZW5kUmVhZGFibGVOVCwgc3RhdGUsIHN0cmVhbSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5kUmVhZGFibGVOVChzdGF0ZSwgc3RyZWFtKSB7XG4gIC8vIENoZWNrIHRoYXQgd2UgZGlkbid0IGdldCBvbmUgbGFzdCB1bnNoaWZ0LlxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgc3RhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgc3RhdGUuZW5kRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLnJlYWRhYmxlID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2VuZCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvckVhY2goeHMsIGYpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB4cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmKHhzW2ldLCBpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbmRleE9mKHhzLCB4KSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHhzW2ldID09PSB4KSByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59XG4iLCIvLyBBIGJpdCBzaW1wbGVyIHRoYW4gcmVhZGFibGUgc3RyZWFtcy5cbi8vIEltcGxlbWVudCBhbiBhc3luYyAuX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2IpLCBhbmQgaXQnbGwgaGFuZGxlIGFsbFxuLy8gdGhlIGRyYWluIGV2ZW50IGVtaXNzaW9uIGFuZCBidWZmZXJpbmcuXG5cblxuaW1wb3J0IHtpbmhlcml0cywgZGVwcmVjYXRlfSBmcm9tICd1dGlsJztcbmltcG9ydCB7QnVmZmVyfSBmcm9tICdidWZmZXInO1xuV3JpdGFibGUuV3JpdGFibGVTdGF0ZSA9IFdyaXRhYmxlU3RhdGU7XG5pbXBvcnQge0V2ZW50RW1pdHRlcn0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7RHVwbGV4fSBmcm9tICcuL2R1cGxleCc7XG5pbXBvcnQge25leHRUaWNrfSBmcm9tICdwcm9jZXNzJztcbmluaGVyaXRzKFdyaXRhYmxlLCBFdmVudEVtaXR0ZXIpO1xuXG5mdW5jdGlvbiBub3AoKSB7fVxuXG5mdW5jdGlvbiBXcml0ZVJlcShjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHRoaXMuY2h1bmsgPSBjaHVuaztcbiAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nO1xuICB0aGlzLmNhbGxiYWNrID0gY2I7XG4gIHRoaXMubmV4dCA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYnVmZmVyJywge1xuICAgIGdldDogZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEJ1ZmZlcigpO1xuICAgIH0sICdfd3JpdGFibGVTdGF0ZS5idWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIF93cml0YWJsZVN0YXRlLmdldEJ1ZmZlciAnICsgJ2luc3RlYWQuJylcbiAgfSk7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIC8vIG9iamVjdCBzdHJlYW0gZmxhZyB0byBpbmRpY2F0ZSB3aGV0aGVyIG9yIG5vdCB0aGlzIHN0cmVhbVxuICAvLyBjb250YWlucyBidWZmZXJzIG9yIG9iamVjdHMuXG4gIHRoaXMub2JqZWN0TW9kZSA9ICEhb3B0aW9ucy5vYmplY3RNb2RlO1xuXG4gIGlmIChzdHJlYW0gaW5zdGFuY2VvZiBEdXBsZXgpIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlO1xuXG4gIC8vIHRoZSBwb2ludCBhdCB3aGljaCB3cml0ZSgpIHN0YXJ0cyByZXR1cm5pbmcgZmFsc2VcbiAgLy8gTm90ZTogMCBpcyBhIHZhbGlkIHZhbHVlLCBtZWFucyB0aGF0IHdlIGFsd2F5cyByZXR1cm4gZmFsc2UgaWZcbiAgLy8gdGhlIGVudGlyZSBidWZmZXIgaXMgbm90IGZsdXNoZWQgaW1tZWRpYXRlbHkgb24gd3JpdGUoKVxuICB2YXIgaHdtID0gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrO1xuICB2YXIgZGVmYXVsdEh3bSA9IHRoaXMub2JqZWN0TW9kZSA/IDE2IDogMTYgKiAxMDI0O1xuICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBod20gfHwgaHdtID09PSAwID8gaHdtIDogZGVmYXVsdEh3bTtcblxuICAvLyBjYXN0IHRvIGludHMuXG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IH4gfnRoaXMuaGlnaFdhdGVyTWFyaztcblxuICB0aGlzLm5lZWREcmFpbiA9IGZhbHNlO1xuICAvLyBhdCB0aGUgc3RhcnQgb2YgY2FsbGluZyBlbmQoKVxuICB0aGlzLmVuZGluZyA9IGZhbHNlO1xuICAvLyB3aGVuIGVuZCgpIGhhcyBiZWVuIGNhbGxlZCwgYW5kIHJldHVybmVkXG4gIHRoaXMuZW5kZWQgPSBmYWxzZTtcbiAgLy8gd2hlbiAnZmluaXNoJyBpcyBlbWl0dGVkXG4gIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcblxuICAvLyBzaG91bGQgd2UgZGVjb2RlIHN0cmluZ3MgaW50byBidWZmZXJzIGJlZm9yZSBwYXNzaW5nIHRvIF93cml0ZT9cbiAgLy8gdGhpcyBpcyBoZXJlIHNvIHRoYXQgc29tZSBub2RlLWNvcmUgc3RyZWFtcyBjYW4gb3B0aW1pemUgc3RyaW5nXG4gIC8vIGhhbmRsaW5nIGF0IGEgbG93ZXIgbGV2ZWwuXG4gIHZhciBub0RlY29kZSA9IG9wdGlvbnMuZGVjb2RlU3RyaW5ncyA9PT0gZmFsc2U7XG4gIHRoaXMuZGVjb2RlU3RyaW5ncyA9ICFub0RlY29kZTtcblxuICAvLyBDcnlwdG8gaXMga2luZCBvZiBvbGQgYW5kIGNydXN0eS4gIEhpc3RvcmljYWxseSwgaXRzIGRlZmF1bHQgc3RyaW5nXG4gIC8vIGVuY29kaW5nIGlzICdiaW5hcnknIHNvIHdlIGhhdmUgdG8gbWFrZSB0aGlzIGNvbmZpZ3VyYWJsZS5cbiAgLy8gRXZlcnl0aGluZyBlbHNlIGluIHRoZSB1bml2ZXJzZSB1c2VzICd1dGY4JywgdGhvdWdoLlxuICB0aGlzLmRlZmF1bHRFbmNvZGluZyA9IG9wdGlvbnMuZGVmYXVsdEVuY29kaW5nIHx8ICd1dGY4JztcblxuICAvLyBub3QgYW4gYWN0dWFsIGJ1ZmZlciB3ZSBrZWVwIHRyYWNrIG9mLCBidXQgYSBtZWFzdXJlbWVudFxuICAvLyBvZiBob3cgbXVjaCB3ZSdyZSB3YWl0aW5nIHRvIGdldCBwdXNoZWQgdG8gc29tZSB1bmRlcmx5aW5nXG4gIC8vIHNvY2tldCBvciBmaWxlLlxuICB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgLy8gYSBmbGFnIHRvIHNlZSB3aGVuIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgYSB3cml0ZS5cbiAgdGhpcy53cml0aW5nID0gZmFsc2U7XG5cbiAgLy8gd2hlbiB0cnVlIGFsbCB3cml0ZXMgd2lsbCBiZSBidWZmZXJlZCB1bnRpbCAudW5jb3JrKCkgY2FsbFxuICB0aGlzLmNvcmtlZCA9IDA7XG5cbiAgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgb253cml0ZSBjYiBpcyBjYWxsZWQgaW1tZWRpYXRlbHksXG4gIC8vIG9yIG9uIGEgbGF0ZXIgdGljay4gIFdlIHNldCB0aGlzIHRvIHRydWUgYXQgZmlyc3QsIGJlY2F1c2UgYW55XG4gIC8vIGFjdGlvbnMgdGhhdCBzaG91bGRuJ3QgaGFwcGVuIHVudGlsIFwibGF0ZXJcIiBzaG91bGQgZ2VuZXJhbGx5IGFsc29cbiAgLy8gbm90IGhhcHBlbiBiZWZvcmUgdGhlIGZpcnN0IHdyaXRlIGNhbGwuXG4gIHRoaXMuc3luYyA9IHRydWU7XG5cbiAgLy8gYSBmbGFnIHRvIGtub3cgaWYgd2UncmUgcHJvY2Vzc2luZyBwcmV2aW91c2x5IGJ1ZmZlcmVkIGl0ZW1zLCB3aGljaFxuICAvLyBtYXkgY2FsbCB0aGUgX3dyaXRlKCkgY2FsbGJhY2sgaW4gdGhlIHNhbWUgdGljaywgc28gdGhhdCB3ZSBkb24ndFxuICAvLyBlbmQgdXAgaW4gYW4gb3ZlcmxhcHBlZCBvbndyaXRlIHNpdHVhdGlvbi5cbiAgdGhpcy5idWZmZXJQcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgLy8gdGhlIGNhbGxiYWNrIHRoYXQncyBwYXNzZWQgdG8gX3dyaXRlKGNodW5rLGNiKVxuICB0aGlzLm9ud3JpdGUgPSBmdW5jdGlvbiAoZXIpIHtcbiAgICBvbndyaXRlKHN0cmVhbSwgZXIpO1xuICB9O1xuXG4gIC8vIHRoZSBjYWxsYmFjayB0aGF0IHRoZSB1c2VyIHN1cHBsaWVzIHRvIHdyaXRlKGNodW5rLGVuY29kaW5nLGNiKVxuICB0aGlzLndyaXRlY2IgPSBudWxsO1xuXG4gIC8vIHRoZSBhbW91bnQgdGhhdCBpcyBiZWluZyB3cml0dGVuIHdoZW4gX3dyaXRlIGlzIGNhbGxlZC5cbiAgdGhpcy53cml0ZWxlbiA9IDA7XG5cbiAgdGhpcy5idWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuICB0aGlzLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuXG4gIC8vIG51bWJlciBvZiBwZW5kaW5nIHVzZXItc3VwcGxpZWQgd3JpdGUgY2FsbGJhY2tzXG4gIC8vIHRoaXMgbXVzdCBiZSAwIGJlZm9yZSAnZmluaXNoJyBjYW4gYmUgZW1pdHRlZFxuICB0aGlzLnBlbmRpbmdjYiA9IDA7XG5cbiAgLy8gZW1pdCBwcmVmaW5pc2ggaWYgdGhlIG9ubHkgdGhpbmcgd2UncmUgd2FpdGluZyBmb3IgaXMgX3dyaXRlIGNic1xuICAvLyBUaGlzIGlzIHJlbGV2YW50IGZvciBzeW5jaHJvbm91cyBUcmFuc2Zvcm0gc3RyZWFtc1xuICB0aGlzLnByZWZpbmlzaGVkID0gZmFsc2U7XG5cbiAgLy8gVHJ1ZSBpZiB0aGUgZXJyb3Igd2FzIGFscmVhZHkgZW1pdHRlZCBhbmQgc2hvdWxkIG5vdCBiZSB0aHJvd24gYWdhaW5cbiAgdGhpcy5lcnJvckVtaXR0ZWQgPSBmYWxzZTtcblxuICAvLyBjb3VudCBidWZmZXJlZCByZXF1ZXN0c1xuICB0aGlzLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDtcblxuICAvLyBhbGxvY2F0ZSB0aGUgZmlyc3QgQ29ya2VkUmVxdWVzdCwgdGhlcmUgaXMgYWx3YXlzXG4gIC8vIG9uZSBhbGxvY2F0ZWQgYW5kIGZyZWUgdG8gdXNlLCBhbmQgd2UgbWFpbnRhaW4gYXQgbW9zdCB0d29cbiAgdGhpcy5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdCh0aGlzKTtcbn1cblxuV3JpdGFibGVTdGF0ZS5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24gd3JpdGFibGVTdGF0ZUdldEJ1ZmZlcigpIHtcbiAgdmFyIGN1cnJlbnQgPSB0aGlzLmJ1ZmZlcmVkUmVxdWVzdDtcbiAgdmFyIG91dCA9IFtdO1xuICB3aGlsZSAoY3VycmVudCkge1xuICAgIG91dC5wdXNoKGN1cnJlbnQpO1xuICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFdyaXRhYmxlO1xuZXhwb3J0IGZ1bmN0aW9uIFdyaXRhYmxlKG9wdGlvbnMpIHtcblxuICAvLyBXcml0YWJsZSBjdG9yIGlzIGFwcGxpZWQgdG8gRHVwbGV4ZXMsIHRob3VnaCB0aGV5J3JlIG5vdFxuICAvLyBpbnN0YW5jZW9mIFdyaXRhYmxlLCB0aGV5J3JlIGluc3RhbmNlb2YgUmVhZGFibGUuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBXcml0YWJsZSkgJiYgISh0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSkgcmV0dXJuIG5ldyBXcml0YWJsZShvcHRpb25zKTtcblxuICB0aGlzLl93cml0YWJsZVN0YXRlID0gbmV3IFdyaXRhYmxlU3RhdGUob3B0aW9ucywgdGhpcyk7XG5cbiAgLy8gbGVnYWN5LlxuICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fd3JpdGUgPSBvcHRpb25zLndyaXRlO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLndyaXRldiA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fd3JpdGV2ID0gb3B0aW9ucy53cml0ZXY7XG4gIH1cblxuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcbn1cblxuLy8gT3RoZXJ3aXNlIHBlb3BsZSBjYW4gcGlwZSBXcml0YWJsZSBzdHJlYW1zLCB3aGljaCBpcyBqdXN0IHdyb25nLlxuV3JpdGFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ0Nhbm5vdCBwaXBlLCBub3QgcmVhZGFibGUnKSk7XG59O1xuXG5mdW5jdGlvbiB3cml0ZUFmdGVyRW5kKHN0cmVhbSwgY2IpIHtcbiAgdmFyIGVyID0gbmV3IEVycm9yKCd3cml0ZSBhZnRlciBlbmQnKTtcbiAgLy8gVE9ETzogZGVmZXIgZXJyb3IgZXZlbnRzIGNvbnNpc3RlbnRseSBldmVyeXdoZXJlLCBub3QganVzdCB0aGUgY2JcbiAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICBuZXh0VGljayhjYiwgZXIpO1xufVxuXG4vLyBJZiB3ZSBnZXQgc29tZXRoaW5nIHRoYXQgaXMgbm90IGEgYnVmZmVyLCBzdHJpbmcsIG51bGwsIG9yIHVuZGVmaW5lZCxcbi8vIGFuZCB3ZSdyZSBub3QgaW4gb2JqZWN0TW9kZSwgdGhlbiB0aGF0J3MgYW4gZXJyb3IuXG4vLyBPdGhlcndpc2Ugc3RyZWFtIGNodW5rcyBhcmUgYWxsIGNvbnNpZGVyZWQgdG8gYmUgb2YgbGVuZ3RoPTEsIGFuZCB0aGVcbi8vIHdhdGVybWFya3MgZGV0ZXJtaW5lIGhvdyBtYW55IG9iamVjdHMgdG8ga2VlcCBpbiB0aGUgYnVmZmVyLCByYXRoZXIgdGhhblxuLy8gaG93IG1hbnkgYnl0ZXMgb3IgY2hhcmFjdGVycy5cbmZ1bmN0aW9uIHZhbGlkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGNiKSB7XG4gIHZhciB2YWxpZCA9IHRydWU7XG4gIHZhciBlciA9IGZhbHNlO1xuICAvLyBBbHdheXMgdGhyb3cgZXJyb3IgaWYgYSBudWxsIGlzIHdyaXR0ZW5cbiAgLy8gaWYgd2UgYXJlIG5vdCBpbiBvYmplY3QgbW9kZSB0aGVuIHRocm93XG4gIC8vIGlmIGl0IGlzIG5vdCBhIGJ1ZmZlciwgc3RyaW5nLCBvciB1bmRlZmluZWQuXG4gIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgIGVyID0gbmV3IFR5cGVFcnJvcignTWF5IG5vdCB3cml0ZSBudWxsIHZhbHVlcyB0byBzdHJlYW0nKTtcbiAgfSBlbHNlIGlmICghQnVmZmVyLmlzQnVmZmVyKGNodW5rKSAmJiB0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmIGNodW5rICE9PSB1bmRlZmluZWQgJiYgIXN0YXRlLm9iamVjdE1vZGUpIHtcbiAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmsnKTtcbiAgfVxuICBpZiAoZXIpIHtcbiAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gICAgbmV4dFRpY2soY2IsIGVyKTtcbiAgICB2YWxpZCA9IGZhbHNlO1xuICB9XG4gIHJldHVybiB2YWxpZDtcbn1cblxuV3JpdGFibGUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcbiAgdmFyIHJldCA9IGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGVuY29kaW5nO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfVxuXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoY2h1bmspKSBlbmNvZGluZyA9ICdidWZmZXInO2Vsc2UgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7XG5cbiAgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykgY2IgPSBub3A7XG5cbiAgaWYgKHN0YXRlLmVuZGVkKSB3cml0ZUFmdGVyRW5kKHRoaXMsIGNiKTtlbHNlIGlmICh2YWxpZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgY2IpKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiKys7XG4gICAgcmV0ID0gd3JpdGVPckJ1ZmZlcih0aGlzLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufTtcblxuV3JpdGFibGUucHJvdG90eXBlLmNvcmsgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgc3RhdGUuY29ya2VkKys7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUudW5jb3JrID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuXG4gIGlmIChzdGF0ZS5jb3JrZWQpIHtcbiAgICBzdGF0ZS5jb3JrZWQtLTtcblxuICAgIGlmICghc3RhdGUud3JpdGluZyAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyAmJiBzdGF0ZS5idWZmZXJlZFJlcXVlc3QpIGNsZWFyQnVmZmVyKHRoaXMsIHN0YXRlKTtcbiAgfVxufTtcblxuV3JpdGFibGUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZyA9IGZ1bmN0aW9uIHNldERlZmF1bHRFbmNvZGluZyhlbmNvZGluZykge1xuICAvLyBub2RlOjpQYXJzZUVuY29kaW5nKCkgcmVxdWlyZXMgbG93ZXIgY2FzZS5cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycpIGVuY29kaW5nID0gZW5jb2RpbmcudG9Mb3dlckNhc2UoKTtcbiAgaWYgKCEoWydoZXgnLCAndXRmOCcsICd1dGYtOCcsICdhc2NpaScsICdiaW5hcnknLCAnYmFzZTY0JywgJ3VjczInLCAndWNzLTInLCAndXRmMTZsZScsICd1dGYtMTZsZScsICdyYXcnXS5pbmRleE9mKChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpKSA+IC0xKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKTtcbiAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZWZhdWx0RW5jb2RpbmcgPSBlbmNvZGluZztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKSB7XG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiBzdGF0ZS5kZWNvZGVTdHJpbmdzICE9PSBmYWxzZSAmJiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgY2h1bmsgPSBCdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpO1xuICB9XG4gIHJldHVybiBjaHVuaztcbn1cblxuLy8gaWYgd2UncmUgYWxyZWFkeSB3cml0aW5nIHNvbWV0aGluZywgdGhlbiBqdXN0IHB1dCB0aGlzXG4vLyBpbiB0aGUgcXVldWUsIGFuZCB3YWl0IG91ciB0dXJuLiAgT3RoZXJ3aXNlLCBjYWxsIF93cml0ZVxuLy8gSWYgd2UgcmV0dXJuIGZhbHNlLCB0aGVuIHdlIG5lZWQgYSBkcmFpbiBldmVudCwgc28gc2V0IHRoYXQgZmxhZy5cbmZ1bmN0aW9uIHdyaXRlT3JCdWZmZXIoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBjaHVuayA9IGRlY29kZUNodW5rKHN0YXRlLCBjaHVuaywgZW5jb2RpbmcpO1xuXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoY2h1bmspKSBlbmNvZGluZyA9ICdidWZmZXInO1xuICB2YXIgbGVuID0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG5cbiAgc3RhdGUubGVuZ3RoICs9IGxlbjtcblxuICB2YXIgcmV0ID0gc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgLy8gd2UgbXVzdCBlbnN1cmUgdGhhdCBwcmV2aW91cyBuZWVkRHJhaW4gd2lsbCBub3QgYmUgcmVzZXQgdG8gZmFsc2UuXG4gIGlmICghcmV0KSBzdGF0ZS5uZWVkRHJhaW4gPSB0cnVlO1xuXG4gIGlmIChzdGF0ZS53cml0aW5nIHx8IHN0YXRlLmNvcmtlZCkge1xuICAgIHZhciBsYXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbmV3IFdyaXRlUmVxKGNodW5rLCBlbmNvZGluZywgY2IpO1xuICAgIGlmIChsYXN0KSB7XG4gICAgICBsYXN0Lm5leHQgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH1cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCArPSAxO1xuICB9IGVsc2Uge1xuICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHdyaXRldiwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHN0YXRlLndyaXRlbGVuID0gbGVuO1xuICBzdGF0ZS53cml0ZWNiID0gY2I7XG4gIHN0YXRlLndyaXRpbmcgPSB0cnVlO1xuICBzdGF0ZS5zeW5jID0gdHJ1ZTtcbiAgaWYgKHdyaXRldikgc3RyZWFtLl93cml0ZXYoY2h1bmssIHN0YXRlLm9ud3JpdGUpO2Vsc2Ugc3RyZWFtLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIHN0YXRlLm9ud3JpdGUpO1xuICBzdGF0ZS5zeW5jID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpIHtcbiAgLS1zdGF0ZS5wZW5kaW5nY2I7XG4gIGlmIChzeW5jKSBuZXh0VGljayhjYiwgZXIpO2Vsc2UgY2IoZXIpO1xuXG4gIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSkge1xuICBzdGF0ZS53cml0aW5nID0gZmFsc2U7XG4gIHN0YXRlLndyaXRlY2IgPSBudWxsO1xuICBzdGF0ZS5sZW5ndGggLT0gc3RhdGUud3JpdGVsZW47XG4gIHN0YXRlLndyaXRlbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gb253cml0ZShzdHJlYW0sIGVyKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fd3JpdGFibGVTdGF0ZTtcbiAgdmFyIHN5bmMgPSBzdGF0ZS5zeW5jO1xuICB2YXIgY2IgPSBzdGF0ZS53cml0ZWNiO1xuXG4gIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSk7XG5cbiAgaWYgKGVyKSBvbndyaXRlRXJyb3Ioc3RyZWFtLCBzdGF0ZSwgc3luYywgZXIsIGNiKTtlbHNlIHtcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSByZWFkeSB0byBmaW5pc2gsIGJ1dCBkb24ndCBlbWl0IHlldFxuICAgIHZhciBmaW5pc2hlZCA9IG5lZWRGaW5pc2goc3RhdGUpO1xuXG4gICAgaWYgKCFmaW5pc2hlZCAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkge1xuICAgICAgY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKHN5bmMpIHtcbiAgICAgIC8qPHJlcGxhY2VtZW50PiovXG4gICAgICAgIG5leHRUaWNrKGFmdGVyV3JpdGUsIHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgICAvKjwvcmVwbGFjZW1lbnQ+Ki9cbiAgICB9IGVsc2Uge1xuICAgICAgICBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYWZ0ZXJXcml0ZShzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpIHtcbiAgaWYgKCFmaW5pc2hlZCkgb253cml0ZURyYWluKHN0cmVhbSwgc3RhdGUpO1xuICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgY2IoKTtcbiAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG59XG5cbi8vIE11c3QgZm9yY2UgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIG9uIG5leHRUaWNrLCBzbyB0aGF0IHdlIGRvbid0XG4vLyBlbWl0ICdkcmFpbicgYmVmb3JlIHRoZSB3cml0ZSgpIGNvbnN1bWVyIGdldHMgdGhlICdmYWxzZScgcmV0dXJuXG4vLyB2YWx1ZSwgYW5kIGhhcyBhIGNoYW5jZSB0byBhdHRhY2ggYSAnZHJhaW4nIGxpc3RlbmVyLlxuZnVuY3Rpb24gb253cml0ZURyYWluKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5uZWVkRHJhaW4pIHtcbiAgICBzdGF0ZS5uZWVkRHJhaW4gPSBmYWxzZTtcbiAgICBzdHJlYW0uZW1pdCgnZHJhaW4nKTtcbiAgfVxufVxuXG4vLyBpZiB0aGVyZSdzIHNvbWV0aGluZyBpbiB0aGUgYnVmZmVyIHdhaXRpbmcsIHRoZW4gcHJvY2VzcyBpdFxuZnVuY3Rpb24gY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSkge1xuICBzdGF0ZS5idWZmZXJQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgdmFyIGVudHJ5ID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0O1xuXG4gIGlmIChzdHJlYW0uX3dyaXRldiAmJiBlbnRyeSAmJiBlbnRyeS5uZXh0KSB7XG4gICAgLy8gRmFzdCBjYXNlLCB3cml0ZSBldmVyeXRoaW5nIHVzaW5nIF93cml0ZXYoKVxuICAgIHZhciBsID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQ7XG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheShsKTtcbiAgICB2YXIgaG9sZGVyID0gc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlO1xuICAgIGhvbGRlci5lbnRyeSA9IGVudHJ5O1xuXG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICB3aGlsZSAoZW50cnkpIHtcbiAgICAgIGJ1ZmZlcltjb3VudF0gPSBlbnRyeTtcbiAgICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgICAgIGNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCB0cnVlLCBzdGF0ZS5sZW5ndGgsIGJ1ZmZlciwgJycsIGhvbGRlci5maW5pc2gpO1xuXG4gICAgLy8gZG9Xcml0ZSBpcyBhbG1vc3QgYWx3YXlzIGFzeW5jLCBkZWZlciB0aGVzZSB0byBzYXZlIGEgYml0IG9mIHRpbWVcbiAgICAvLyBhcyB0aGUgaG90IHBhdGggZW5kcyB3aXRoIGRvV3JpdGVcbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgICBpZiAoaG9sZGVyLm5leHQpIHtcbiAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IGhvbGRlci5uZXh0O1xuICAgICAgaG9sZGVyLm5leHQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdChzdGF0ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFNsb3cgY2FzZSwgd3JpdGUgY2h1bmtzIG9uZS1ieS1vbmVcbiAgICB3aGlsZSAoZW50cnkpIHtcbiAgICAgIHZhciBjaHVuayA9IGVudHJ5LmNodW5rO1xuICAgICAgdmFyIGVuY29kaW5nID0gZW50cnkuZW5jb2Rpbmc7XG4gICAgICB2YXIgY2IgPSBlbnRyeS5jYWxsYmFjaztcbiAgICAgIHZhciBsZW4gPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcblxuICAgICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCBmYWxzZSwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKTtcbiAgICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgICAgIC8vIGlmIHdlIGRpZG4ndCBjYWxsIHRoZSBvbndyaXRlIGltbWVkaWF0ZWx5LCB0aGVuXG4gICAgICAvLyBpdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gd2FpdCB1bnRpbCBpdCBkb2VzLlxuICAgICAgLy8gYWxzbywgdGhhdCBtZWFucyB0aGF0IHRoZSBjaHVuayBhbmQgY2IgYXJlIGN1cnJlbnRseVxuICAgICAgLy8gYmVpbmcgcHJvY2Vzc2VkLCBzbyBtb3ZlIHRoZSBidWZmZXIgY291bnRlciBwYXN0IHRoZW0uXG4gICAgICBpZiAoc3RhdGUud3JpdGluZykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZW50cnkgPT09IG51bGwpIHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuICB9XG5cbiAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQgPSAwO1xuICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBlbnRyeTtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlO1xufVxuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKSk7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRldiA9IG51bGw7XG5cbldyaXRhYmxlLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuXG4gIGlmICh0eXBlb2YgY2h1bmsgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGNodW5rO1xuICAgIGNodW5rID0gbnVsbDtcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cblxuICBpZiAoY2h1bmsgIT09IG51bGwgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCkgdGhpcy53cml0ZShjaHVuaywgZW5jb2RpbmcpO1xuXG4gIC8vIC5lbmQoKSBmdWxseSB1bmNvcmtzXG4gIGlmIChzdGF0ZS5jb3JrZWQpIHtcbiAgICBzdGF0ZS5jb3JrZWQgPSAxO1xuICAgIHRoaXMudW5jb3JrKCk7XG4gIH1cblxuICAvLyBpZ25vcmUgdW5uZWNlc3NhcnkgZW5kKCkgY2FsbHMuXG4gIGlmICghc3RhdGUuZW5kaW5nICYmICFzdGF0ZS5maW5pc2hlZCkgZW5kV3JpdGFibGUodGhpcywgc3RhdGUsIGNiKTtcbn07XG5cbmZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmVuZGluZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID09PSBudWxsICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUud3JpdGluZztcbn1cblxuZnVuY3Rpb24gcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5wcmVmaW5pc2hlZCkge1xuICAgIHN0YXRlLnByZWZpbmlzaGVkID0gdHJ1ZTtcbiAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSkge1xuICB2YXIgbmVlZCA9IG5lZWRGaW5pc2goc3RhdGUpO1xuICBpZiAobmVlZCkge1xuICAgIGlmIChzdGF0ZS5wZW5kaW5nY2IgPT09IDApIHtcbiAgICAgIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKTtcbiAgICAgIHN0YXRlLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5lbWl0KCdmaW5pc2gnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmVlZDtcbn1cblxuZnVuY3Rpb24gZW5kV3JpdGFibGUoc3RyZWFtLCBzdGF0ZSwgY2IpIHtcbiAgc3RhdGUuZW5kaW5nID0gdHJ1ZTtcbiAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIGlmIChjYikge1xuICAgIGlmIChzdGF0ZS5maW5pc2hlZCkgbmV4dFRpY2soY2IpO2Vsc2Ugc3RyZWFtLm9uY2UoJ2ZpbmlzaCcsIGNiKTtcbiAgfVxuICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gIHN0cmVhbS53cml0YWJsZSA9IGZhbHNlO1xufVxuXG4vLyBJdCBzZWVtcyBhIGxpbmtlZCBsaXN0IGJ1dCBpdCBpcyBub3Rcbi8vIHRoZXJlIHdpbGwgYmUgb25seSAyIG9mIHRoZXNlIGZvciBlYWNoIHN0cmVhbVxuZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMubmV4dCA9IG51bGw7XG4gIHRoaXMuZW50cnkgPSBudWxsO1xuXG4gIHRoaXMuZmluaXNoID0gZnVuY3Rpb24gKGVycikge1xuICAgIHZhciBlbnRyeSA9IF90aGlzLmVudHJ5O1xuICAgIF90aGlzLmVudHJ5ID0gbnVsbDtcbiAgICB3aGlsZSAoZW50cnkpIHtcbiAgICAgIHZhciBjYiA9IGVudHJ5LmNhbGxiYWNrO1xuICAgICAgc3RhdGUucGVuZGluZ2NiLS07XG4gICAgICBjYihlcnIpO1xuICAgICAgZW50cnkgPSBlbnRyeS5uZXh0O1xuICAgIH1cbiAgICBpZiAoc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlKSB7XG4gICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUubmV4dCA9IF90aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBfdGhpcztcbiAgICB9XG4gIH07XG59XG4iLCJcbmltcG9ydCB7aW5oZXJpdHN9IGZyb20gJ3V0aWwnO1xuaW1wb3J0IHtuZXh0VGlja30gZnJvbSAncHJvY2Vzcyc7XG5pbXBvcnQge1JlYWRhYmxlfSBmcm9tICcuL3JlYWRhYmxlJztcbmltcG9ydCB7V3JpdGFibGV9IGZyb20gJy4vd3JpdGFibGUnO1xuXG5cbmluaGVyaXRzKER1cGxleCwgUmVhZGFibGUpO1xuXG52YXIga2V5cyA9IE9iamVjdC5rZXlzKFdyaXRhYmxlLnByb3RvdHlwZSk7XG5mb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgdmFyIG1ldGhvZCA9IGtleXNbdl07XG4gIGlmICghRHVwbGV4LnByb3RvdHlwZVttZXRob2RdKSBEdXBsZXgucHJvdG90eXBlW21ldGhvZF0gPSBXcml0YWJsZS5wcm90b3R5cGVbbWV0aG9kXTtcbn1cbmV4cG9ydCBkZWZhdWx0IER1cGxleDtcbmV4cG9ydCBmdW5jdGlvbiBEdXBsZXgob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSkgcmV0dXJuIG5ldyBEdXBsZXgob3B0aW9ucyk7XG5cbiAgUmVhZGFibGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgV3JpdGFibGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlYWRhYmxlID09PSBmYWxzZSkgdGhpcy5yZWFkYWJsZSA9IGZhbHNlO1xuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMud3JpdGFibGUgPT09IGZhbHNlKSB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG5cbiAgdGhpcy5hbGxvd0hhbGZPcGVuID0gdHJ1ZTtcbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5hbGxvd0hhbGZPcGVuID09PSBmYWxzZSkgdGhpcy5hbGxvd0hhbGZPcGVuID0gZmFsc2U7XG5cbiAgdGhpcy5vbmNlKCdlbmQnLCBvbmVuZCk7XG59XG5cbi8vIHRoZSBuby1oYWxmLW9wZW4gZW5mb3JjZXJcbmZ1bmN0aW9uIG9uZW5kKCkge1xuICAvLyBpZiB3ZSBhbGxvdyBoYWxmLW9wZW4gc3RhdGUsIG9yIGlmIHRoZSB3cml0YWJsZSBzaWRlIGVuZGVkLFxuICAvLyB0aGVuIHdlJ3JlIG9rLlxuICBpZiAodGhpcy5hbGxvd0hhbGZPcGVuIHx8IHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQpIHJldHVybjtcblxuICAvLyBubyBtb3JlIGRhdGEgY2FuIGJlIHdyaXR0ZW4uXG4gIC8vIEJ1dCBhbGxvdyBtb3JlIHdyaXRlcyB0byBoYXBwZW4gaW4gdGhpcyB0aWNrLlxuICBuZXh0VGljayhvbkVuZE5ULCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gb25FbmROVChzZWxmKSB7XG4gIHNlbGYuZW5kKCk7XG59XG4iLCIvLyBhIHRyYW5zZm9ybSBzdHJlYW0gaXMgYSByZWFkYWJsZS93cml0YWJsZSBzdHJlYW0gd2hlcmUgeW91IGRvXG4vLyBzb21ldGhpbmcgd2l0aCB0aGUgZGF0YS4gIFNvbWV0aW1lcyBpdCdzIGNhbGxlZCBhIFwiZmlsdGVyXCIsXG4vLyBidXQgdGhhdCdzIG5vdCBhIGdyZWF0IG5hbWUgZm9yIGl0LCBzaW5jZSB0aGF0IGltcGxpZXMgYSB0aGluZyB3aGVyZVxuLy8gc29tZSBiaXRzIHBhc3MgdGhyb3VnaCwgYW5kIG90aGVycyBhcmUgc2ltcGx5IGlnbm9yZWQuICAoVGhhdCB3b3VsZFxuLy8gYmUgYSB2YWxpZCBleGFtcGxlIG9mIGEgdHJhbnNmb3JtLCBvZiBjb3Vyc2UuKVxuLy9cbi8vIFdoaWxlIHRoZSBvdXRwdXQgaXMgY2F1c2FsbHkgcmVsYXRlZCB0byB0aGUgaW5wdXQsIGl0J3Mgbm90IGFcbi8vIG5lY2Vzc2FyaWx5IHN5bW1ldHJpYyBvciBzeW5jaHJvbm91cyB0cmFuc2Zvcm1hdGlvbi4gIEZvciBleGFtcGxlLFxuLy8gYSB6bGliIHN0cmVhbSBtaWdodCB0YWtlIG11bHRpcGxlIHBsYWluLXRleHQgd3JpdGVzKCksIGFuZCB0aGVuXG4vLyBlbWl0IGEgc2luZ2xlIGNvbXByZXNzZWQgY2h1bmsgc29tZSB0aW1lIGluIHRoZSBmdXR1cmUuXG4vL1xuLy8gSGVyZSdzIGhvdyB0aGlzIHdvcmtzOlxuLy9cbi8vIFRoZSBUcmFuc2Zvcm0gc3RyZWFtIGhhcyBhbGwgdGhlIGFzcGVjdHMgb2YgdGhlIHJlYWRhYmxlIGFuZCB3cml0YWJsZVxuLy8gc3RyZWFtIGNsYXNzZXMuICBXaGVuIHlvdSB3cml0ZShjaHVuayksIHRoYXQgY2FsbHMgX3dyaXRlKGNodW5rLGNiKVxuLy8gaW50ZXJuYWxseSwgYW5kIHJldHVybnMgZmFsc2UgaWYgdGhlcmUncyBhIGxvdCBvZiBwZW5kaW5nIHdyaXRlc1xuLy8gYnVmZmVyZWQgdXAuICBXaGVuIHlvdSBjYWxsIHJlYWQoKSwgdGhhdCBjYWxscyBfcmVhZChuKSB1bnRpbFxuLy8gdGhlcmUncyBlbm91Z2ggcGVuZGluZyByZWFkYWJsZSBkYXRhIGJ1ZmZlcmVkIHVwLlxuLy9cbi8vIEluIGEgdHJhbnNmb3JtIHN0cmVhbSwgdGhlIHdyaXR0ZW4gZGF0YSBpcyBwbGFjZWQgaW4gYSBidWZmZXIuICBXaGVuXG4vLyBfcmVhZChuKSBpcyBjYWxsZWQsIGl0IHRyYW5zZm9ybXMgdGhlIHF1ZXVlZCB1cCBkYXRhLCBjYWxsaW5nIHRoZVxuLy8gYnVmZmVyZWQgX3dyaXRlIGNiJ3MgYXMgaXQgY29uc3VtZXMgY2h1bmtzLiAgSWYgY29uc3VtaW5nIGEgc2luZ2xlXG4vLyB3cml0dGVuIGNodW5rIHdvdWxkIHJlc3VsdCBpbiBtdWx0aXBsZSBvdXRwdXQgY2h1bmtzLCB0aGVuIHRoZSBmaXJzdFxuLy8gb3V0cHV0dGVkIGJpdCBjYWxscyB0aGUgcmVhZGNiLCBhbmQgc3Vic2VxdWVudCBjaHVua3MganVzdCBnbyBpbnRvXG4vLyB0aGUgcmVhZCBidWZmZXIsIGFuZCB3aWxsIGNhdXNlIGl0IHRvIGVtaXQgJ3JlYWRhYmxlJyBpZiBuZWNlc3NhcnkuXG4vL1xuLy8gVGhpcyB3YXksIGJhY2stcHJlc3N1cmUgaXMgYWN0dWFsbHkgZGV0ZXJtaW5lZCBieSB0aGUgcmVhZGluZyBzaWRlLFxuLy8gc2luY2UgX3JlYWQgaGFzIHRvIGJlIGNhbGxlZCB0byBzdGFydCBwcm9jZXNzaW5nIGEgbmV3IGNodW5rLiAgSG93ZXZlcixcbi8vIGEgcGF0aG9sb2dpY2FsIGluZmxhdGUgdHlwZSBvZiB0cmFuc2Zvcm0gY2FuIGNhdXNlIGV4Y2Vzc2l2ZSBidWZmZXJpbmdcbi8vIGhlcmUuICBGb3IgZXhhbXBsZSwgaW1hZ2luZSBhIHN0cmVhbSB3aGVyZSBldmVyeSBieXRlIG9mIGlucHV0IGlzXG4vLyBpbnRlcnByZXRlZCBhcyBhbiBpbnRlZ2VyIGZyb20gMC0yNTUsIGFuZCB0aGVuIHJlc3VsdHMgaW4gdGhhdCBtYW55XG4vLyBieXRlcyBvZiBvdXRwdXQuICBXcml0aW5nIHRoZSA0IGJ5dGVzIHtmZixmZixmZixmZn0gd291bGQgcmVzdWx0IGluXG4vLyAxa2Igb2YgZGF0YSBiZWluZyBvdXRwdXQuICBJbiB0aGlzIGNhc2UsIHlvdSBjb3VsZCB3cml0ZSBhIHZlcnkgc21hbGxcbi8vIGFtb3VudCBvZiBpbnB1dCwgYW5kIGVuZCB1cCB3aXRoIGEgdmVyeSBsYXJnZSBhbW91bnQgb2Ygb3V0cHV0LiAgSW5cbi8vIHN1Y2ggYSBwYXRob2xvZ2ljYWwgaW5mbGF0aW5nIG1lY2hhbmlzbSwgdGhlcmUnZCBiZSBubyB3YXkgdG8gdGVsbFxuLy8gdGhlIHN5c3RlbSB0byBzdG9wIGRvaW5nIHRoZSB0cmFuc2Zvcm0uICBBIHNpbmdsZSA0TUIgd3JpdGUgY291bGRcbi8vIGNhdXNlIHRoZSBzeXN0ZW0gdG8gcnVuIG91dCBvZiBtZW1vcnkuXG4vL1xuLy8gSG93ZXZlciwgZXZlbiBpbiBzdWNoIGEgcGF0aG9sb2dpY2FsIGNhc2UsIG9ubHkgYSBzaW5nbGUgd3JpdHRlbiBjaHVua1xuLy8gd291bGQgYmUgY29uc3VtZWQsIGFuZCB0aGVuIHRoZSByZXN0IHdvdWxkIHdhaXQgKHVuLXRyYW5zZm9ybWVkKSB1bnRpbFxuLy8gdGhlIHJlc3VsdHMgb2YgdGhlIHByZXZpb3VzIHRyYW5zZm9ybWVkIGNodW5rIHdlcmUgY29uc3VtZWQuXG5cblxuaW1wb3J0IHtEdXBsZXh9IGZyb20gJy4vZHVwbGV4JztcblxuXG5pbXBvcnQge2luaGVyaXRzfSBmcm9tICd1dGlsJztcbmluaGVyaXRzKFRyYW5zZm9ybSwgRHVwbGV4KTtcblxuZnVuY3Rpb24gVHJhbnNmb3JtU3RhdGUoc3RyZWFtKSB7XG4gIHRoaXMuYWZ0ZXJUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoZXIsIGRhdGEpIHtcbiAgICByZXR1cm4gYWZ0ZXJUcmFuc2Zvcm0oc3RyZWFtLCBlciwgZGF0YSk7XG4gIH07XG5cbiAgdGhpcy5uZWVkVHJhbnNmb3JtID0gZmFsc2U7XG4gIHRoaXMudHJhbnNmb3JtaW5nID0gZmFsc2U7XG4gIHRoaXMud3JpdGVjYiA9IG51bGw7XG4gIHRoaXMud3JpdGVjaHVuayA9IG51bGw7XG4gIHRoaXMud3JpdGVlbmNvZGluZyA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGFmdGVyVHJhbnNmb3JtKHN0cmVhbSwgZXIsIGRhdGEpIHtcbiAgdmFyIHRzID0gc3RyZWFtLl90cmFuc2Zvcm1TdGF0ZTtcbiAgdHMudHJhbnNmb3JtaW5nID0gZmFsc2U7XG5cbiAgdmFyIGNiID0gdHMud3JpdGVjYjtcblxuICBpZiAoIWNiKSByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdubyB3cml0ZWNiIGluIFRyYW5zZm9ybSBjbGFzcycpKTtcblxuICB0cy53cml0ZWNodW5rID0gbnVsbDtcbiAgdHMud3JpdGVjYiA9IG51bGw7XG5cbiAgaWYgKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdW5kZWZpbmVkKSBzdHJlYW0ucHVzaChkYXRhKTtcblxuICBjYihlcik7XG5cbiAgdmFyIHJzID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBycy5yZWFkaW5nID0gZmFsc2U7XG4gIGlmIChycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykge1xuICAgIHN0cmVhbS5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgVHJhbnNmb3JtO1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zZm9ybShvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBUcmFuc2Zvcm0pKSByZXR1cm4gbmV3IFRyYW5zZm9ybShvcHRpb25zKTtcblxuICBEdXBsZXguY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICB0aGlzLl90cmFuc2Zvcm1TdGF0ZSA9IG5ldyBUcmFuc2Zvcm1TdGF0ZSh0aGlzKTtcblxuICAvLyB3aGVuIHRoZSB3cml0YWJsZSBzaWRlIGZpbmlzaGVzLCB0aGVuIGZsdXNoIG91dCBhbnl0aGluZyByZW1haW5pbmcuXG4gIHZhciBzdHJlYW0gPSB0aGlzO1xuXG4gIC8vIHN0YXJ0IG91dCBhc2tpbmcgZm9yIGEgcmVhZGFibGUgZXZlbnQgb25jZSBkYXRhIGlzIHRyYW5zZm9ybWVkLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG5cbiAgLy8gd2UgaGF2ZSBpbXBsZW1lbnRlZCB0aGUgX3JlYWQgbWV0aG9kLCBhbmQgZG9uZSB0aGUgb3RoZXIgdGhpbmdzXG4gIC8vIHRoYXQgUmVhZGFibGUgd2FudHMgYmVmb3JlIHRoZSBmaXJzdCBfcmVhZCBjYWxsLCBzbyB1bnNldCB0aGVcbiAgLy8gc3luYyBndWFyZCBmbGFnLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmMgPSBmYWxzZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbicpIHRoaXMuX3RyYW5zZm9ybSA9IG9wdGlvbnMudHJhbnNmb3JtO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZsdXNoID09PSAnZnVuY3Rpb24nKSB0aGlzLl9mbHVzaCA9IG9wdGlvbnMuZmx1c2g7XG4gIH1cblxuICB0aGlzLm9uY2UoJ3ByZWZpbmlzaCcsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuX2ZsdXNoID09PSAnZnVuY3Rpb24nKSB0aGlzLl9mbHVzaChmdW5jdGlvbiAoZXIpIHtcbiAgICAgIGRvbmUoc3RyZWFtLCBlcik7XG4gICAgfSk7ZWxzZSBkb25lKHN0cmVhbSk7XG4gIH0pO1xufVxuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nKSB7XG4gIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgcmV0dXJuIER1cGxleC5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsIGNodW5rLCBlbmNvZGluZyk7XG59O1xuXG4vLyBUaGlzIGlzIHRoZSBwYXJ0IHdoZXJlIHlvdSBkbyBzdHVmZiFcbi8vIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gaW4gaW1wbGVtZW50YXRpb24gY2xhc3Nlcy5cbi8vICdjaHVuaycgaXMgYW4gaW5wdXQgY2h1bmsuXG4vL1xuLy8gQ2FsbCBgcHVzaChuZXdDaHVuaylgIHRvIHBhc3MgYWxvbmcgdHJhbnNmb3JtZWQgb3V0cHV0XG4vLyB0byB0aGUgcmVhZGFibGUgc2lkZS4gIFlvdSBtYXkgY2FsbCAncHVzaCcgemVybyBvciBtb3JlIHRpbWVzLlxuLy9cbi8vIENhbGwgYGNiKGVycilgIHdoZW4geW91IGFyZSBkb25lIHdpdGggdGhpcyBjaHVuay4gIElmIHlvdSBwYXNzXG4vLyBhbiBlcnJvciwgdGhlbiB0aGF0J2xsIHB1dCB0aGUgaHVydCBvbiB0aGUgd2hvbGUgb3BlcmF0aW9uLiAgSWYgeW91XG4vLyBuZXZlciBjYWxsIGNiKCksIHRoZW4geW91J2xsIG5ldmVyIGdldCBhbm90aGVyIGNodW5rLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbn07XG5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHRzID0gdGhpcy5fdHJhbnNmb3JtU3RhdGU7XG4gIHRzLndyaXRlY2IgPSBjYjtcbiAgdHMud3JpdGVjaHVuayA9IGNodW5rO1xuICB0cy53cml0ZWVuY29kaW5nID0gZW5jb2Rpbmc7XG4gIGlmICghdHMudHJhbnNmb3JtaW5nKSB7XG4gICAgdmFyIHJzID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgICBpZiAodHMubmVlZFRyYW5zZm9ybSB8fCBycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykgdGhpcy5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufTtcblxuLy8gRG9lc24ndCBtYXR0ZXIgd2hhdCB0aGUgYXJncyBhcmUgaGVyZS5cbi8vIF90cmFuc2Zvcm0gZG9lcyBhbGwgdGhlIHdvcmsuXG4vLyBUaGF0IHdlIGdvdCBoZXJlIG1lYW5zIHRoYXQgdGhlIHJlYWRhYmxlIHNpZGUgd2FudHMgbW9yZSBkYXRhLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuXG4gIGlmICh0cy53cml0ZWNodW5rICE9PSBudWxsICYmIHRzLndyaXRlY2IgJiYgIXRzLnRyYW5zZm9ybWluZykge1xuICAgIHRzLnRyYW5zZm9ybWluZyA9IHRydWU7XG4gICAgdGhpcy5fdHJhbnNmb3JtKHRzLndyaXRlY2h1bmssIHRzLndyaXRlZW5jb2RpbmcsIHRzLmFmdGVyVHJhbnNmb3JtKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBtYXJrIHRoYXQgd2UgbmVlZCBhIHRyYW5zZm9ybSwgc28gdGhhdCBhbnkgZGF0YSB0aGF0IGNvbWVzIGluXG4gICAgLy8gd2lsbCBnZXQgcHJvY2Vzc2VkLCBub3cgdGhhdCB3ZSd2ZSBhc2tlZCBmb3IgaXQuXG4gICAgdHMubmVlZFRyYW5zZm9ybSA9IHRydWU7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGRvbmUoc3RyZWFtLCBlcikge1xuICBpZiAoZXIpIHJldHVybiBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG5cbiAgLy8gaWYgdGhlcmUncyBub3RoaW5nIGluIHRoZSB3cml0ZSBidWZmZXIsIHRoZW4gdGhhdCBtZWFuc1xuICAvLyB0aGF0IG5vdGhpbmcgbW9yZSB3aWxsIGV2ZXIgYmUgcHJvdmlkZWRcbiAgdmFyIHdzID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuICB2YXIgdHMgPSBzdHJlYW0uX3RyYW5zZm9ybVN0YXRlO1xuXG4gIGlmICh3cy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHdzLmxlbmd0aCAhPSAwJyk7XG5cbiAgaWYgKHRzLnRyYW5zZm9ybWluZykgdGhyb3cgbmV3IEVycm9yKCdDYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gc3RpbGwgdHJhbnNmb3JtaW5nJyk7XG5cbiAgcmV0dXJuIHN0cmVhbS5wdXNoKG51bGwpO1xufVxuIiwiXG5pbXBvcnQge1RyYW5zZm9ybX0gZnJvbSAnLi90cmFuc2Zvcm0nO1xuXG5pbXBvcnQge2luaGVyaXRzfSBmcm9tICd1dGlsJztcbmluaGVyaXRzKFBhc3NUaHJvdWdoLCBUcmFuc2Zvcm0pO1xuZXhwb3J0IGRlZmF1bHQgUGFzc1Rocm91Z2g7XG5leHBvcnQgZnVuY3Rpb24gUGFzc1Rocm91Z2gob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUGFzc1Rocm91Z2gpKSByZXR1cm4gbmV3IFBhc3NUaHJvdWdoKG9wdGlvbnMpO1xuXG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xufVxuXG5QYXNzVGhyb3VnaC5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGNiKG51bGwsIGNodW5rKTtcbn07XG4iLCJpbXBvcnQgRUUgZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7aW5oZXJpdHN9IGZyb20gJ3V0aWwnO1xuXG5pbXBvcnQge0R1cGxleH0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vZHVwbGV4LmpzJztcbmltcG9ydCB7UmVhZGFibGV9IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL3JlYWRhYmxlLmpzJztcbmltcG9ydCB7V3JpdGFibGV9IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL3dyaXRhYmxlLmpzJztcbmltcG9ydCB7VHJhbnNmb3JtfSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbS90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHtQYXNzVGhyb3VnaH0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vcGFzc3Rocm91Z2guanMnO1xuaW5oZXJpdHMoU3RyZWFtLCBFRSk7XG5TdHJlYW0uUmVhZGFibGUgPSBSZWFkYWJsZTtcblN0cmVhbS5Xcml0YWJsZSA9IFdyaXRhYmxlO1xuU3RyZWFtLkR1cGxleCA9IER1cGxleDtcblN0cmVhbS5UcmFuc2Zvcm0gPSBUcmFuc2Zvcm07XG5TdHJlYW0uUGFzc1Rocm91Z2ggPSBQYXNzVGhyb3VnaDtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC40LnhcblN0cmVhbS5TdHJlYW0gPSBTdHJlYW07XG5cbmV4cG9ydCBkZWZhdWx0IFN0cmVhbTtcbmV4cG9ydCB7UmVhZGFibGUsV3JpdGFibGUsRHVwbGV4LFRyYW5zZm9ybSxQYXNzVGhyb3VnaCxTdHJlYW19XG5cbi8vIG9sZC1zdHlsZSBzdHJlYW1zLiAgTm90ZSB0aGF0IHRoZSBwaXBlIG1ldGhvZCAodGhlIG9ubHkgcmVsZXZhbnRcbi8vIHBhcnQgb2YgdGhpcyBjbGFzcykgaXMgb3ZlcnJpZGRlbiBpbiB0aGUgUmVhZGFibGUgY2xhc3MuXG5cbmZ1bmN0aW9uIFN0cmVhbSgpIHtcbiAgRUUuY2FsbCh0aGlzKTtcbn1cblxuU3RyZWFtLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24oZGVzdCwgb3B0aW9ucykge1xuICB2YXIgc291cmNlID0gdGhpcztcblxuICBmdW5jdGlvbiBvbmRhdGEoY2h1bmspIHtcbiAgICBpZiAoZGVzdC53cml0YWJsZSkge1xuICAgICAgaWYgKGZhbHNlID09PSBkZXN0LndyaXRlKGNodW5rKSAmJiBzb3VyY2UucGF1c2UpIHtcbiAgICAgICAgc291cmNlLnBhdXNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc291cmNlLm9uKCdkYXRhJywgb25kYXRhKTtcblxuICBmdW5jdGlvbiBvbmRyYWluKCkge1xuICAgIGlmIChzb3VyY2UucmVhZGFibGUgJiYgc291cmNlLnJlc3VtZSkge1xuICAgICAgc291cmNlLnJlc3VtZSgpO1xuICAgIH1cbiAgfVxuXG4gIGRlc3Qub24oJ2RyYWluJywgb25kcmFpbik7XG5cbiAgLy8gSWYgdGhlICdlbmQnIG9wdGlvbiBpcyBub3Qgc3VwcGxpZWQsIGRlc3QuZW5kKCkgd2lsbCBiZSBjYWxsZWQgd2hlblxuICAvLyBzb3VyY2UgZ2V0cyB0aGUgJ2VuZCcgb3IgJ2Nsb3NlJyBldmVudHMuICBPbmx5IGRlc3QuZW5kKCkgb25jZS5cbiAgaWYgKCFkZXN0Ll9pc1N0ZGlvICYmICghb3B0aW9ucyB8fCBvcHRpb25zLmVuZCAhPT0gZmFsc2UpKSB7XG4gICAgc291cmNlLm9uKCdlbmQnLCBvbmVuZCk7XG4gICAgc291cmNlLm9uKCdjbG9zZScsIG9uY2xvc2UpO1xuICB9XG5cbiAgdmFyIGRpZE9uRW5kID0gZmFsc2U7XG4gIGZ1bmN0aW9uIG9uZW5kKCkge1xuICAgIGlmIChkaWRPbkVuZCkgcmV0dXJuO1xuICAgIGRpZE9uRW5kID0gdHJ1ZTtcblxuICAgIGRlc3QuZW5kKCk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgaWYgKGRpZE9uRW5kKSByZXR1cm47XG4gICAgZGlkT25FbmQgPSB0cnVlO1xuXG4gICAgaWYgKHR5cGVvZiBkZXN0LmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIGRlc3QuZGVzdHJveSgpO1xuICB9XG5cbiAgLy8gZG9uJ3QgbGVhdmUgZGFuZ2xpbmcgcGlwZXMgd2hlbiB0aGVyZSBhcmUgZXJyb3JzLlxuICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7XG4gICAgY2xlYW51cCgpO1xuICAgIGlmIChFRS5saXN0ZW5lckNvdW50KHRoaXMsICdlcnJvcicpID09PSAwKSB7XG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkIHN0cmVhbSBlcnJvciBpbiBwaXBlLlxuICAgIH1cbiAgfVxuXG4gIHNvdXJjZS5vbignZXJyb3InLCBvbmVycm9yKTtcbiAgZGVzdC5vbignZXJyb3InLCBvbmVycm9yKTtcblxuICAvLyByZW1vdmUgYWxsIHRoZSBldmVudCBsaXN0ZW5lcnMgdGhhdCB3ZXJlIGFkZGVkLlxuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZGF0YScsIG9uZGF0YSk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZHJhaW4nLCBvbmRyYWluKTtcblxuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpO1xuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcblxuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuXG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBjbGVhbnVwKTtcbiAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xlYW51cCk7XG5cbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIGNsZWFudXApO1xuICB9XG5cbiAgc291cmNlLm9uKCdlbmQnLCBjbGVhbnVwKTtcbiAgc291cmNlLm9uKCdjbG9zZScsIGNsZWFudXApO1xuXG4gIGRlc3Qub24oJ2Nsb3NlJywgY2xlYW51cCk7XG5cbiAgZGVzdC5lbWl0KCdwaXBlJywgc291cmNlKTtcblxuICAvLyBBbGxvdyBmb3IgdW5peC1saWtlIHVzYWdlOiBBLnBpcGUoQikucGlwZShDKVxuICByZXR1cm4gZGVzdDtcbn07XG4iLCJpbXBvcnQge292ZXJyaWRlTWltZVR5cGV9IGZyb20gJy4vY2FwYWJpbGl0eSc7XG5pbXBvcnQge2luaGVyaXRzfSBmcm9tICd1dGlsJztcbmltcG9ydCB7UmVhZGFibGV9IGZyb20gJ3N0cmVhbSc7XG5cbnZhciByU3RhdGVzID0ge1xuICBVTlNFTlQ6IDAsXG4gIE9QRU5FRDogMSxcbiAgSEVBREVSU19SRUNFSVZFRDogMixcbiAgTE9BRElORzogMyxcbiAgRE9ORTogNFxufVxuZXhwb3J0IHtcbiAgclN0YXRlcyBhcyByZWFkeVN0YXRlc1xufTtcbmV4cG9ydCBmdW5jdGlvbiBJbmNvbWluZ01lc3NhZ2UoeGhyLCByZXNwb25zZSwgbW9kZSkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgUmVhZGFibGUuY2FsbChzZWxmKVxuXG4gIHNlbGYuX21vZGUgPSBtb2RlXG4gIHNlbGYuaGVhZGVycyA9IHt9XG4gIHNlbGYucmF3SGVhZGVycyA9IFtdXG4gIHNlbGYudHJhaWxlcnMgPSB7fVxuICBzZWxmLnJhd1RyYWlsZXJzID0gW11cblxuICAvLyBGYWtlIHRoZSAnY2xvc2UnIGV2ZW50LCBidXQgb25seSBvbmNlICdlbmQnIGZpcmVzXG4gIHNlbGYub24oJ2VuZCcsIGZ1bmN0aW9uKCkge1xuICAgIC8vIFRoZSBuZXh0VGljayBpcyBuZWNlc3NhcnkgdG8gcHJldmVudCB0aGUgJ3JlcXVlc3QnIG1vZHVsZSBmcm9tIGNhdXNpbmcgYW4gaW5maW5pdGUgbG9vcFxuICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmVtaXQoJ2Nsb3NlJylcbiAgICB9KVxuICB9KVxuICB2YXIgcmVhZDtcbiAgaWYgKG1vZGUgPT09ICdmZXRjaCcpIHtcbiAgICBzZWxmLl9mZXRjaFJlc3BvbnNlID0gcmVzcG9uc2VcblxuICAgIHNlbGYudXJsID0gcmVzcG9uc2UudXJsXG4gICAgc2VsZi5zdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzXG4gICAgc2VsZi5zdGF0dXNNZXNzYWdlID0gcmVzcG9uc2Uuc3RhdHVzVGV4dFxuICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdGlibGUgdmVyc2lvbiBvZiBmb3IgKDxpdGVtPiBvZiA8aXRlcmFibGU+KTpcbiAgICAgIC8vIGZvciAodmFyIDxpdGVtPixfaSxfaXQgPSA8aXRlcmFibGU+W1N5bWJvbC5pdGVyYXRvcl0oKTsgPGl0ZW0+ID0gKF9pID0gX2l0Lm5leHQoKSkudmFsdWUsIV9pLmRvbmU7KVxuICAgIGZvciAodmFyIGhlYWRlciwgX2ksIF9pdCA9IHJlc3BvbnNlLmhlYWRlcnNbU3ltYm9sLml0ZXJhdG9yXSgpOyBoZWFkZXIgPSAoX2kgPSBfaXQubmV4dCgpKS52YWx1ZSwgIV9pLmRvbmU7KSB7XG4gICAgICBzZWxmLmhlYWRlcnNbaGVhZGVyWzBdLnRvTG93ZXJDYXNlKCldID0gaGVhZGVyWzFdXG4gICAgICBzZWxmLnJhd0hlYWRlcnMucHVzaChoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICB9XG5cbiAgICAvLyBUT0RPOiB0aGlzIGRvZXNuJ3QgcmVzcGVjdCBiYWNrcHJlc3N1cmUuIE9uY2UgV3JpdGFibGVTdHJlYW0gaXMgYXZhaWxhYmxlLCB0aGlzIGNhbiBiZSBmaXhlZFxuICAgIHZhciByZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpXG5cbiAgICByZWFkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmVhZGVyLnJlYWQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICBpZiAoc2VsZi5fZGVzdHJveWVkKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICBzZWxmLnB1c2gobnVsbClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBzZWxmLnB1c2gobmV3IEJ1ZmZlcihyZXN1bHQudmFsdWUpKVxuICAgICAgICByZWFkKClcbiAgICAgIH0pXG4gICAgfVxuICAgIHJlYWQoKVxuXG4gIH0gZWxzZSB7XG4gICAgc2VsZi5feGhyID0geGhyXG4gICAgc2VsZi5fcG9zID0gMFxuXG4gICAgc2VsZi51cmwgPSB4aHIucmVzcG9uc2VVUkxcbiAgICBzZWxmLnN0YXR1c0NvZGUgPSB4aHIuc3RhdHVzXG4gICAgc2VsZi5zdGF0dXNNZXNzYWdlID0geGhyLnN0YXR1c1RleHRcbiAgICB2YXIgaGVhZGVycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5zcGxpdCgvXFxyP1xcbi8pXG4gICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgdmFyIG1hdGNoZXMgPSBoZWFkZXIubWF0Y2goL14oW146XSspOlxccyooLiopLylcbiAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIHZhciBrZXkgPSBtYXRjaGVzWzFdLnRvTG93ZXJDYXNlKClcbiAgICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgICAgaWYgKHNlbGYuaGVhZGVyc1trZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNlbGYuaGVhZGVyc1trZXldID0gW11cbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5oZWFkZXJzW2tleV0ucHVzaChtYXRjaGVzWzJdKVxuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuaGVhZGVyc1trZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzZWxmLmhlYWRlcnNba2V5XSArPSAnLCAnICsgbWF0Y2hlc1syXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuaGVhZGVyc1trZXldID0gbWF0Y2hlc1syXVxuICAgICAgICB9XG4gICAgICAgIHNlbGYucmF3SGVhZGVycy5wdXNoKG1hdGNoZXNbMV0sIG1hdGNoZXNbMl0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIHNlbGYuX2NoYXJzZXQgPSAneC11c2VyLWRlZmluZWQnXG4gICAgaWYgKCFvdmVycmlkZU1pbWVUeXBlKSB7XG4gICAgICB2YXIgbWltZVR5cGUgPSBzZWxmLnJhd0hlYWRlcnNbJ21pbWUtdHlwZSddXG4gICAgICBpZiAobWltZVR5cGUpIHtcbiAgICAgICAgdmFyIGNoYXJzZXRNYXRjaCA9IG1pbWVUeXBlLm1hdGNoKC87XFxzKmNoYXJzZXQ9KFteO10pKDt8JCkvKVxuICAgICAgICBpZiAoY2hhcnNldE1hdGNoKSB7XG4gICAgICAgICAgc2VsZi5fY2hhcnNldCA9IGNoYXJzZXRNYXRjaFsxXS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc2VsZi5fY2hhcnNldClcbiAgICAgICAgc2VsZi5fY2hhcnNldCA9ICd1dGYtOCcgLy8gYmVzdCBndWVzc1xuICAgIH1cbiAgfVxufVxuXG5pbmhlcml0cyhJbmNvbWluZ01lc3NhZ2UsIFJlYWRhYmxlKVxuXG5JbmNvbWluZ01lc3NhZ2UucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24oKSB7fVxuXG5JbmNvbWluZ01lc3NhZ2UucHJvdG90eXBlLl9vblhIUlByb2dyZXNzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuXG4gIHZhciB4aHIgPSBzZWxmLl94aHJcblxuICB2YXIgcmVzcG9uc2UgPSBudWxsXG4gIHN3aXRjaCAoc2VsZi5fbW9kZSkge1xuICBjYXNlICd0ZXh0OnZiYXJyYXknOiAvLyBGb3IgSUU5XG4gICAgaWYgKHhoci5yZWFkeVN0YXRlICE9PSByU3RhdGVzLkRPTkUpXG4gICAgICBicmVha1xuICAgIHRyeSB7XG4gICAgICAvLyBUaGlzIGZhaWxzIGluIElFOFxuICAgICAgcmVzcG9uc2UgPSBuZXcgZ2xvYmFsLlZCQXJyYXkoeGhyLnJlc3BvbnNlQm9keSkudG9BcnJheSgpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gcGFzc1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2UgIT09IG51bGwpIHtcbiAgICAgIHNlbGYucHVzaChuZXcgQnVmZmVyKHJlc3BvbnNlKSlcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIC8vIEZhbGxzIHRocm91Z2ggaW4gSUU4XG4gIGNhc2UgJ3RleHQnOlxuICAgIHRyeSB7IC8vIFRoaXMgd2lsbCBmYWlsIHdoZW4gcmVhZHlTdGF0ZSA9IDMgaW4gSUU5LiBTd2l0Y2ggbW9kZSBhbmQgd2FpdCBmb3IgcmVhZHlTdGF0ZSA9IDRcbiAgICAgIHJlc3BvbnNlID0geGhyLnJlc3BvbnNlVGV4dFxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNlbGYuX21vZGUgPSAndGV4dDp2YmFycmF5J1xuICAgICAgYnJlYWtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLmxlbmd0aCA+IHNlbGYuX3Bvcykge1xuICAgICAgdmFyIG5ld0RhdGEgPSByZXNwb25zZS5zdWJzdHIoc2VsZi5fcG9zKVxuICAgICAgaWYgKHNlbGYuX2NoYXJzZXQgPT09ICd4LXVzZXItZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBCdWZmZXIobmV3RGF0YS5sZW5ndGgpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3RGF0YS5sZW5ndGg7IGkrKylcbiAgICAgICAgICBidWZmZXJbaV0gPSBuZXdEYXRhLmNoYXJDb2RlQXQoaSkgJiAweGZmXG5cbiAgICAgICAgc2VsZi5wdXNoKGJ1ZmZlcilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYucHVzaChuZXdEYXRhLCBzZWxmLl9jaGFyc2V0KVxuICAgICAgfVxuICAgICAgc2VsZi5fcG9zID0gcmVzcG9uc2UubGVuZ3RoXG4gICAgfVxuICAgIGJyZWFrXG4gIGNhc2UgJ2FycmF5YnVmZmVyJzpcbiAgICBpZiAoeGhyLnJlYWR5U3RhdGUgIT09IHJTdGF0ZXMuRE9ORSB8fCAheGhyLnJlc3BvbnNlKVxuICAgICAgYnJlYWtcbiAgICByZXNwb25zZSA9IHhoci5yZXNwb25zZVxuICAgIHNlbGYucHVzaChuZXcgQnVmZmVyKG5ldyBVaW50OEFycmF5KHJlc3BvbnNlKSkpXG4gICAgYnJlYWtcbiAgY2FzZSAnbW96LWNodW5rZWQtYXJyYXlidWZmZXInOiAvLyB0YWtlIHdob2xlXG4gICAgcmVzcG9uc2UgPSB4aHIucmVzcG9uc2VcbiAgICBpZiAoeGhyLnJlYWR5U3RhdGUgIT09IHJTdGF0ZXMuTE9BRElORyB8fCAhcmVzcG9uc2UpXG4gICAgICBicmVha1xuICAgIHNlbGYucHVzaChuZXcgQnVmZmVyKG5ldyBVaW50OEFycmF5KHJlc3BvbnNlKSkpXG4gICAgYnJlYWtcbiAgY2FzZSAnbXMtc3RyZWFtJzpcbiAgICByZXNwb25zZSA9IHhoci5yZXNwb25zZVxuICAgIGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gclN0YXRlcy5MT0FESU5HKVxuICAgICAgYnJlYWtcbiAgICB2YXIgcmVhZGVyID0gbmV3IGdsb2JhbC5NU1N0cmVhbVJlYWRlcigpXG4gICAgcmVhZGVyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChyZWFkZXIucmVzdWx0LmJ5dGVMZW5ndGggPiBzZWxmLl9wb3MpIHtcbiAgICAgICAgc2VsZi5wdXNoKG5ldyBCdWZmZXIobmV3IFVpbnQ4QXJyYXkocmVhZGVyLnJlc3VsdC5zbGljZShzZWxmLl9wb3MpKSkpXG4gICAgICAgIHNlbGYuX3BvcyA9IHJlYWRlci5yZXN1bHQuYnl0ZUxlbmd0aFxuICAgICAgfVxuICAgIH1cbiAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnB1c2gobnVsbClcbiAgICB9XG4gICAgICAvLyByZWFkZXIub25lcnJvciA9ID8/PyAvLyBUT0RPOiB0aGlzXG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKHJlc3BvbnNlKVxuICAgIGJyZWFrXG4gIH1cblxuICAvLyBUaGUgbXMtc3RyZWFtIGNhc2UgaGFuZGxlcyBlbmQgc2VwYXJhdGVseSBpbiByZWFkZXIub25sb2FkKClcbiAgaWYgKHNlbGYuX3hoci5yZWFkeVN0YXRlID09PSByU3RhdGVzLkRPTkUgJiYgc2VsZi5fbW9kZSAhPT0gJ21zLXN0cmVhbScpIHtcbiAgICBzZWxmLnB1c2gobnVsbClcbiAgfVxufVxuIiwiLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vamhpZXNleS90by1hcnJheWJ1ZmZlci9ibG9iLzY1MDJkOTg1MGU3MGJhNzkzNWE3ZGY0YWQ4NmIzNThmYzIxNmY5ZjAvaW5kZXguanNcblxuLy8gTUlUIExpY2Vuc2Vcbi8vIENvcHlyaWdodCAoYykgMjAxNiBKb2huIEhpZXNleVxuaW1wb3J0IHtpc0J1ZmZlcn0gZnJvbSAnYnVmZmVyJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChidWYpIHtcbiAgLy8gSWYgdGhlIGJ1ZmZlciBpcyBiYWNrZWQgYnkgYSBVaW50OEFycmF5LCBhIGZhc3RlciB2ZXJzaW9uIHdpbGwgd29ya1xuICBpZiAoYnVmIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgIC8vIElmIHRoZSBidWZmZXIgaXNuJ3QgYSBzdWJhcnJheSwgcmV0dXJuIHRoZSB1bmRlcmx5aW5nIEFycmF5QnVmZmVyXG4gICAgaWYgKGJ1Zi5ieXRlT2Zmc2V0ID09PSAwICYmIGJ1Zi5ieXRlTGVuZ3RoID09PSBidWYuYnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICAgIHJldHVybiBidWYuYnVmZmVyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYnVmLmJ1ZmZlci5zbGljZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gT3RoZXJ3aXNlIHdlIG5lZWQgdG8gZ2V0IGEgcHJvcGVyIGNvcHlcbiAgICAgIHJldHVybiBidWYuYnVmZmVyLnNsaWNlKGJ1Zi5ieXRlT2Zmc2V0LCBidWYuYnl0ZU9mZnNldCArIGJ1Zi5ieXRlTGVuZ3RoKVxuICAgIH1cbiAgfVxuXG4gIGlmIChpc0J1ZmZlcihidWYpKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgc2xvdyB2ZXJzaW9uIHRoYXQgd2lsbCB3b3JrIHdpdGggYW55IEJ1ZmZlclxuICAgIC8vIGltcGxlbWVudGF0aW9uIChldmVuIGluIG9sZCBicm93c2VycylcbiAgICB2YXIgYXJyYXlDb3B5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmxlbmd0aClcbiAgICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFycmF5Q29weVtpXSA9IGJ1ZltpXVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlDb3B5LmJ1ZmZlclxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIGNhcGFiaWxpdHkgZnJvbSAnLi9jYXBhYmlsaXR5JztcbmltcG9ydCB7aW5oZXJpdHN9IGZyb20gJ3V0aWwnO1xuaW1wb3J0IHtJbmNvbWluZ01lc3NhZ2UsIHJlYWR5U3RhdGVzIGFzIHJTdGF0ZXN9IGZyb20gJy4vcmVzcG9uc2UnO1xuaW1wb3J0IHtXcml0YWJsZX0gZnJvbSAnc3RyZWFtJztcbmltcG9ydCB0b0FycmF5QnVmZmVyIGZyb20gJy4vdG8tYXJyYXlidWZmZXInO1xuXG5mdW5jdGlvbiBkZWNpZGVNb2RlKHByZWZlckJpbmFyeSwgdXNlRmV0Y2gpIHtcbiAgaWYgKGNhcGFiaWxpdHkuaGFzRmV0Y2ggJiYgdXNlRmV0Y2gpIHtcbiAgICByZXR1cm4gJ2ZldGNoJ1xuICB9IGVsc2UgaWYgKGNhcGFiaWxpdHkubW96Y2h1bmtlZGFycmF5YnVmZmVyKSB7XG4gICAgcmV0dXJuICdtb3otY2h1bmtlZC1hcnJheWJ1ZmZlcidcbiAgfSBlbHNlIGlmIChjYXBhYmlsaXR5Lm1zc3RyZWFtKSB7XG4gICAgcmV0dXJuICdtcy1zdHJlYW0nXG4gIH0gZWxzZSBpZiAoY2FwYWJpbGl0eS5hcnJheWJ1ZmZlciAmJiBwcmVmZXJCaW5hcnkpIHtcbiAgICByZXR1cm4gJ2FycmF5YnVmZmVyJ1xuICB9IGVsc2UgaWYgKGNhcGFiaWxpdHkudmJBcnJheSAmJiBwcmVmZXJCaW5hcnkpIHtcbiAgICByZXR1cm4gJ3RleHQ6dmJhcnJheSdcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJ3RleHQnXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IENsaWVudFJlcXVlc3Q7XG5cbmZ1bmN0aW9uIENsaWVudFJlcXVlc3Qob3B0cykge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgV3JpdGFibGUuY2FsbChzZWxmKVxuXG4gIHNlbGYuX29wdHMgPSBvcHRzXG4gIHNlbGYuX2JvZHkgPSBbXVxuICBzZWxmLl9oZWFkZXJzID0ge31cbiAgaWYgKG9wdHMuYXV0aClcbiAgICBzZWxmLnNldEhlYWRlcignQXV0aG9yaXphdGlvbicsICdCYXNpYyAnICsgbmV3IEJ1ZmZlcihvcHRzLmF1dGgpLnRvU3RyaW5nKCdiYXNlNjQnKSlcbiAgT2JqZWN0LmtleXMob3B0cy5oZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBzZWxmLnNldEhlYWRlcihuYW1lLCBvcHRzLmhlYWRlcnNbbmFtZV0pXG4gIH0pXG5cbiAgdmFyIHByZWZlckJpbmFyeVxuICB2YXIgdXNlRmV0Y2ggPSB0cnVlXG4gIGlmIChvcHRzLm1vZGUgPT09ICdkaXNhYmxlLWZldGNoJykge1xuICAgIC8vIElmIHRoZSB1c2Ugb2YgWEhSIHNob3VsZCBiZSBwcmVmZXJyZWQgYW5kIGluY2x1ZGVzIHByZXNlcnZpbmcgdGhlICdjb250ZW50LXR5cGUnIGhlYWRlclxuICAgIHVzZUZldGNoID0gZmFsc2VcbiAgICBwcmVmZXJCaW5hcnkgPSB0cnVlXG4gIH0gZWxzZSBpZiAob3B0cy5tb2RlID09PSAncHJlZmVyLXN0cmVhbWluZycpIHtcbiAgICAvLyBJZiBzdHJlYW1pbmcgaXMgYSBoaWdoIHByaW9yaXR5IGJ1dCBiaW5hcnkgY29tcGF0aWJpbGl0eSBhbmRcbiAgICAvLyB0aGUgYWNjdXJhY3kgb2YgdGhlICdjb250ZW50LXR5cGUnIGhlYWRlciBhcmVuJ3RcbiAgICBwcmVmZXJCaW5hcnkgPSBmYWxzZVxuICB9IGVsc2UgaWYgKG9wdHMubW9kZSA9PT0gJ2FsbG93LXdyb25nLWNvbnRlbnQtdHlwZScpIHtcbiAgICAvLyBJZiBzdHJlYW1pbmcgaXMgbW9yZSBpbXBvcnRhbnQgdGhhbiBwcmVzZXJ2aW5nIHRoZSAnY29udGVudC10eXBlJyBoZWFkZXJcbiAgICBwcmVmZXJCaW5hcnkgPSAhY2FwYWJpbGl0eS5vdmVycmlkZU1pbWVUeXBlXG4gIH0gZWxzZSBpZiAoIW9wdHMubW9kZSB8fCBvcHRzLm1vZGUgPT09ICdkZWZhdWx0JyB8fCBvcHRzLm1vZGUgPT09ICdwcmVmZXItZmFzdCcpIHtcbiAgICAvLyBVc2UgYmluYXJ5IGlmIHRleHQgc3RyZWFtaW5nIG1heSBjb3JydXB0IGRhdGEgb3IgdGhlIGNvbnRlbnQtdHlwZSBoZWFkZXIsIG9yIGZvciBzcGVlZFxuICAgIHByZWZlckJpbmFyeSA9IHRydWVcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgZm9yIG9wdHMubW9kZScpXG4gIH1cbiAgc2VsZi5fbW9kZSA9IGRlY2lkZU1vZGUocHJlZmVyQmluYXJ5LCB1c2VGZXRjaClcblxuICBzZWxmLm9uKCdmaW5pc2gnLCBmdW5jdGlvbigpIHtcbiAgICBzZWxmLl9vbkZpbmlzaCgpXG4gIH0pXG59XG5cbmluaGVyaXRzKENsaWVudFJlcXVlc3QsIFdyaXRhYmxlKVxuLy8gVGFrZW4gZnJvbSBodHRwOi8vd3d3LnczLm9yZy9UUi9YTUxIdHRwUmVxdWVzdC8jdGhlLXNldHJlcXVlc3RoZWFkZXIlMjglMjktbWV0aG9kXG52YXIgdW5zYWZlSGVhZGVycyA9IFtcbiAgJ2FjY2VwdC1jaGFyc2V0JyxcbiAgJ2FjY2VwdC1lbmNvZGluZycsXG4gICdhY2Nlc3MtY29udHJvbC1yZXF1ZXN0LWhlYWRlcnMnLFxuICAnYWNjZXNzLWNvbnRyb2wtcmVxdWVzdC1tZXRob2QnLFxuICAnY29ubmVjdGlvbicsXG4gICdjb250ZW50LWxlbmd0aCcsXG4gICdjb29raWUnLFxuICAnY29va2llMicsXG4gICdkYXRlJyxcbiAgJ2RudCcsXG4gICdleHBlY3QnLFxuICAnaG9zdCcsXG4gICdrZWVwLWFsaXZlJyxcbiAgJ29yaWdpbicsXG4gICdyZWZlcmVyJyxcbiAgJ3RlJyxcbiAgJ3RyYWlsZXInLFxuICAndHJhbnNmZXItZW5jb2RpbmcnLFxuICAndXBncmFkZScsXG4gICd1c2VyLWFnZW50JyxcbiAgJ3ZpYSdcbl1cbkNsaWVudFJlcXVlc3QucHJvdG90eXBlLnNldEhlYWRlciA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICB2YXIgbG93ZXJOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgLy8gVGhpcyBjaGVjayBpcyBub3QgbmVjZXNzYXJ5LCBidXQgaXQgcHJldmVudHMgd2FybmluZ3MgZnJvbSBicm93c2VycyBhYm91dCBzZXR0aW5nIHVuc2FmZVxuICAgIC8vIGhlYWRlcnMuIFRvIGJlIGhvbmVzdCBJJ20gbm90IGVudGlyZWx5IHN1cmUgaGlkaW5nIHRoZXNlIHdhcm5pbmdzIGlzIGEgZ29vZCB0aGluZywgYnV0XG4gICAgLy8gaHR0cC1icm93c2VyaWZ5IGRpZCBpdCwgc28gSSB3aWxsIHRvby5cbiAgaWYgKHVuc2FmZUhlYWRlcnMuaW5kZXhPZihsb3dlck5hbWUpICE9PSAtMSlcbiAgICByZXR1cm5cblxuICBzZWxmLl9oZWFkZXJzW2xvd2VyTmFtZV0gPSB7XG4gICAgbmFtZTogbmFtZSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfVxufVxuXG5DbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5nZXRIZWFkZXIgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICByZXR1cm4gc2VsZi5faGVhZGVyc1tuYW1lLnRvTG93ZXJDYXNlKCldLnZhbHVlXG59XG5cbkNsaWVudFJlcXVlc3QucHJvdG90eXBlLnJlbW92ZUhlYWRlciA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGRlbGV0ZSBzZWxmLl9oZWFkZXJzW25hbWUudG9Mb3dlckNhc2UoKV1cbn1cblxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuX29uRmluaXNoID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuXG4gIGlmIChzZWxmLl9kZXN0cm95ZWQpXG4gICAgcmV0dXJuXG4gIHZhciBvcHRzID0gc2VsZi5fb3B0c1xuXG4gIHZhciBoZWFkZXJzT2JqID0gc2VsZi5faGVhZGVyc1xuICB2YXIgYm9keVxuICBpZiAob3B0cy5tZXRob2QgPT09ICdQT1NUJyB8fCBvcHRzLm1ldGhvZCA9PT0gJ1BVVCcgfHwgb3B0cy5tZXRob2QgPT09ICdQQVRDSCcpIHtcbiAgICBpZiAoY2FwYWJpbGl0eS5ibG9iQ29uc3RydWN0b3IoKSkge1xuICAgICAgYm9keSA9IG5ldyBnbG9iYWwuQmxvYihzZWxmLl9ib2R5Lm1hcChmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIHRvQXJyYXlCdWZmZXIoYnVmZmVyKVxuICAgICAgfSksIHtcbiAgICAgICAgdHlwZTogKGhlYWRlcnNPYmpbJ2NvbnRlbnQtdHlwZSddIHx8IHt9KS52YWx1ZSB8fCAnJ1xuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZ2V0IHV0Zjggc3RyaW5nXG4gICAgICBib2R5ID0gQnVmZmVyLmNvbmNhdChzZWxmLl9ib2R5KS50b1N0cmluZygpXG4gICAgfVxuICB9XG5cbiAgaWYgKHNlbGYuX21vZGUgPT09ICdmZXRjaCcpIHtcbiAgICB2YXIgaGVhZGVycyA9IE9iamVjdC5rZXlzKGhlYWRlcnNPYmopLm1hcChmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gW2hlYWRlcnNPYmpbbmFtZV0ubmFtZSwgaGVhZGVyc09ialtuYW1lXS52YWx1ZV1cbiAgICB9KVxuXG4gICAgZ2xvYmFsLmZldGNoKHNlbGYuX29wdHMudXJsLCB7XG4gICAgICBtZXRob2Q6IHNlbGYuX29wdHMubWV0aG9kLFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIGJvZHk6IGJvZHksXG4gICAgICBtb2RlOiAnY29ycycsXG4gICAgICBjcmVkZW50aWFsczogb3B0cy53aXRoQ3JlZGVudGlhbHMgPyAnaW5jbHVkZScgOiAnc2FtZS1vcmlnaW4nXG4gICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgc2VsZi5fZmV0Y2hSZXNwb25zZSA9IHJlc3BvbnNlXG4gICAgICBzZWxmLl9jb25uZWN0KClcbiAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCByZWFzb24pXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICB2YXIgeGhyID0gc2VsZi5feGhyID0gbmV3IGdsb2JhbC5YTUxIdHRwUmVxdWVzdCgpXG4gICAgdHJ5IHtcbiAgICAgIHhoci5vcGVuKHNlbGYuX29wdHMubWV0aG9kLCBzZWxmLl9vcHRzLnVybCwgdHJ1ZSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gQ2FuJ3Qgc2V0IHJlc3BvbnNlVHlwZSBvbiByZWFsbHkgb2xkIGJyb3dzZXJzXG4gICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhocilcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBzZWxmLl9tb2RlLnNwbGl0KCc6JylbMF1cblxuICAgIGlmICgnd2l0aENyZWRlbnRpYWxzJyBpbiB4aHIpXG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gISFvcHRzLndpdGhDcmVkZW50aWFsc1xuXG4gICAgaWYgKHNlbGYuX21vZGUgPT09ICd0ZXh0JyAmJiAnb3ZlcnJpZGVNaW1lVHlwZScgaW4geGhyKVxuICAgICAgeGhyLm92ZXJyaWRlTWltZVR5cGUoJ3RleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWQnKVxuXG4gICAgT2JqZWN0LmtleXMoaGVhZGVyc09iaikuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXJzT2JqW25hbWVdLm5hbWUsIGhlYWRlcnNPYmpbbmFtZV0udmFsdWUpXG4gICAgfSlcblxuICAgIHNlbGYuX3Jlc3BvbnNlID0gbnVsbFxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIHN3aXRjaCAoeGhyLnJlYWR5U3RhdGUpIHtcbiAgICAgIGNhc2UgclN0YXRlcy5MT0FESU5HOlxuICAgICAgY2FzZSByU3RhdGVzLkRPTkU6XG4gICAgICAgIHNlbGYuX29uWEhSUHJvZ3Jlc3MoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICAgIC8vIE5lY2Vzc2FyeSBmb3Igc3RyZWFtaW5nIGluIEZpcmVmb3gsIHNpbmNlIHhoci5yZXNwb25zZSBpcyBPTkxZIGRlZmluZWRcbiAgICAgIC8vIGluIG9ucHJvZ3Jlc3MsIG5vdCBpbiBvbnJlYWR5c3RhdGVjaGFuZ2Ugd2l0aCB4aHIucmVhZHlTdGF0ZSA9IDNcbiAgICBpZiAoc2VsZi5fbW9kZSA9PT0gJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJykge1xuICAgICAgeGhyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5fb25YSFJQcm9ncmVzcygpXG4gICAgICB9XG4gICAgfVxuXG4gICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChzZWxmLl9kZXN0cm95ZWQpXG4gICAgICAgIHJldHVyblxuICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignWEhSIGVycm9yJykpXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHhoci5zZW5kKGJvZHkpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgfSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENoZWNrcyBpZiB4aHIuc3RhdHVzIGlzIHJlYWRhYmxlIGFuZCBub24temVybywgaW5kaWNhdGluZyBubyBlcnJvci5cbiAqIEV2ZW4gdGhvdWdoIHRoZSBzcGVjIHNheXMgaXQgc2hvdWxkIGJlIGF2YWlsYWJsZSBpbiByZWFkeVN0YXRlIDMsXG4gKiBhY2Nlc3NpbmcgaXQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpbiBJRThcbiAqL1xuZnVuY3Rpb24gc3RhdHVzVmFsaWQoeGhyKSB7XG4gIHRyeSB7XG4gICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXNcbiAgICByZXR1cm4gKHN0YXR1cyAhPT0gbnVsbCAmJiBzdGF0dXMgIT09IDApXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5DbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5fb25YSFJQcm9ncmVzcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBpZiAoIXN0YXR1c1ZhbGlkKHNlbGYuX3hocikgfHwgc2VsZi5fZGVzdHJveWVkKVxuICAgIHJldHVyblxuXG4gIGlmICghc2VsZi5fcmVzcG9uc2UpXG4gICAgc2VsZi5fY29ubmVjdCgpXG5cbiAgc2VsZi5fcmVzcG9uc2UuX29uWEhSUHJvZ3Jlc3MoKVxufVxuXG5DbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5fY29ubmVjdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBpZiAoc2VsZi5fZGVzdHJveWVkKVxuICAgIHJldHVyblxuXG4gIHNlbGYuX3Jlc3BvbnNlID0gbmV3IEluY29taW5nTWVzc2FnZShzZWxmLl94aHIsIHNlbGYuX2ZldGNoUmVzcG9uc2UsIHNlbGYuX21vZGUpXG4gIHNlbGYuZW1pdCgncmVzcG9uc2UnLCBzZWxmLl9yZXNwb25zZSlcbn1cblxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24oY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBzZWxmLl9ib2R5LnB1c2goY2h1bmspXG4gIGNiKClcbn1cblxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuYWJvcnQgPSBDbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBzZWxmLl9kZXN0cm95ZWQgPSB0cnVlXG4gIGlmIChzZWxmLl9yZXNwb25zZSlcbiAgICBzZWxmLl9yZXNwb25zZS5fZGVzdHJveWVkID0gdHJ1ZVxuICBpZiAoc2VsZi5feGhyKVxuICAgIHNlbGYuX3hoci5hYm9ydCgpXG4gICAgLy8gQ3VycmVudGx5LCB0aGVyZSBpc24ndCBhIHdheSB0byB0cnVseSBhYm9ydCBhIGZldGNoLlxuICAgIC8vIElmIHlvdSBsaWtlIGJpa2VzaGVkZGluZywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93aGF0d2cvZmV0Y2gvaXNzdWVzLzI3XG59XG5cbkNsaWVudFJlcXVlc3QucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKGRhdGEsIGVuY29kaW5nLCBjYikge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBkYXRhXG4gICAgZGF0YSA9IHVuZGVmaW5lZFxuICB9XG5cbiAgV3JpdGFibGUucHJvdG90eXBlLmVuZC5jYWxsKHNlbGYsIGRhdGEsIGVuY29kaW5nLCBjYilcbn1cblxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuZmx1c2hIZWFkZXJzID0gZnVuY3Rpb24oKSB7fVxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge31cbkNsaWVudFJlcXVlc3QucHJvdG90eXBlLnNldE5vRGVsYXkgPSBmdW5jdGlvbigpIHt9XG5DbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5zZXRTb2NrZXRLZWVwQWxpdmUgPSBmdW5jdGlvbigpIHt9XG4iLCIvKlxudGhpcyBhbmQgaHR0cC1saWIgZm9sZGVyXG5cblRoZSBNSVQgTGljZW5zZVxuXG5Db3B5cmlnaHQgKGMpIDIwMTUgSm9obiBIaWVzZXlcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsXG50byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmRcbmFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvXG5kZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbndpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LFxubWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbVxudGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbnN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZVxuc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG5FWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVNcbk9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC5cbklOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1JcbkFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULFxuVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEVcblNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4qL1xuaW1wb3J0IENsaWVudFJlcXVlc3QgZnJvbSAnLi9odHRwLWxpYi9yZXF1ZXN0JztcbmltcG9ydCB7cGFyc2V9IGZyb20gJ3VybCc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0KG9wdHMsIGNiKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3N0cmluZycpXG4gICAgb3B0cyA9IHBhcnNlKG9wdHMpXG5cblxuICAvLyBOb3JtYWxseSwgdGhlIHBhZ2UgaXMgbG9hZGVkIGZyb20gaHR0cCBvciBodHRwcywgc28gbm90IHNwZWNpZnlpbmcgYSBwcm90b2NvbFxuICAvLyB3aWxsIHJlc3VsdCBpbiBhICh2YWxpZCkgcHJvdG9jb2wtcmVsYXRpdmUgdXJsLiBIb3dldmVyLCB0aGlzIHdvbid0IHdvcmsgaWZcbiAgLy8gdGhlIHByb3RvY29sIGlzIHNvbWV0aGluZyBlbHNlLCBsaWtlICdmaWxlOidcbiAgdmFyIGRlZmF1bHRQcm90b2NvbCA9IGdsb2JhbC5sb2NhdGlvbi5wcm90b2NvbC5zZWFyY2goL15odHRwcz86JC8pID09PSAtMSA/ICdodHRwOicgOiAnJ1xuXG4gIHZhciBwcm90b2NvbCA9IG9wdHMucHJvdG9jb2wgfHwgZGVmYXVsdFByb3RvY29sXG4gIHZhciBob3N0ID0gb3B0cy5ob3N0bmFtZSB8fCBvcHRzLmhvc3RcbiAgdmFyIHBvcnQgPSBvcHRzLnBvcnRcbiAgdmFyIHBhdGggPSBvcHRzLnBhdGggfHwgJy8nXG5cbiAgLy8gTmVjZXNzYXJ5IGZvciBJUHY2IGFkZHJlc3Nlc1xuICBpZiAoaG9zdCAmJiBob3N0LmluZGV4T2YoJzonKSAhPT0gLTEpXG4gICAgaG9zdCA9ICdbJyArIGhvc3QgKyAnXSdcblxuICAvLyBUaGlzIG1heSBiZSBhIHJlbGF0aXZlIHVybC4gVGhlIGJyb3dzZXIgc2hvdWxkIGFsd2F5cyBiZSBhYmxlIHRvIGludGVycHJldCBpdCBjb3JyZWN0bHkuXG4gIG9wdHMudXJsID0gKGhvc3QgPyAocHJvdG9jb2wgKyAnLy8nICsgaG9zdCkgOiAnJykgKyAocG9ydCA/ICc6JyArIHBvcnQgOiAnJykgKyBwYXRoXG4gIG9wdHMubWV0aG9kID0gKG9wdHMubWV0aG9kIHx8ICdHRVQnKS50b1VwcGVyQ2FzZSgpXG4gIG9wdHMuaGVhZGVycyA9IG9wdHMuaGVhZGVycyB8fCB7fVxuXG4gIC8vIEFsc28gdmFsaWQgb3B0cy5hdXRoLCBvcHRzLm1vZGVcblxuICB2YXIgcmVxID0gbmV3IENsaWVudFJlcXVlc3Qob3B0cylcbiAgaWYgKGNiKVxuICAgIHJlcS5vbigncmVzcG9uc2UnLCBjYilcbiAgcmV0dXJuIHJlcVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KG9wdHMsIGNiKSB7XG4gIHZhciByZXEgPSByZXF1ZXN0KG9wdHMsIGNiKVxuICByZXEuZW5kKClcbiAgcmV0dXJuIHJlcVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQWdlbnQoKSB7fVxuQWdlbnQuZGVmYXVsdE1heFNvY2tldHMgPSA0XG5cbmV4cG9ydCB2YXIgTUVUSE9EUyA9IFtcbiAgJ0NIRUNLT1VUJyxcbiAgJ0NPTk5FQ1QnLFxuICAnQ09QWScsXG4gICdERUxFVEUnLFxuICAnR0VUJyxcbiAgJ0hFQUQnLFxuICAnTE9DSycsXG4gICdNLVNFQVJDSCcsXG4gICdNRVJHRScsXG4gICdNS0FDVElWSVRZJyxcbiAgJ01LQ09MJyxcbiAgJ01PVkUnLFxuICAnTk9USUZZJyxcbiAgJ09QVElPTlMnLFxuICAnUEFUQ0gnLFxuICAnUE9TVCcsXG4gICdQUk9QRklORCcsXG4gICdQUk9QUEFUQ0gnLFxuICAnUFVSR0UnLFxuICAnUFVUJyxcbiAgJ1JFUE9SVCcsXG4gICdTRUFSQ0gnLFxuICAnU1VCU0NSSUJFJyxcbiAgJ1RSQUNFJyxcbiAgJ1VOTE9DSycsXG4gICdVTlNVQlNDUklCRSdcbl1cbmV4cG9ydCB2YXIgU1RBVFVTX0NPREVTID0ge1xuICAxMDA6ICdDb250aW51ZScsXG4gIDEwMTogJ1N3aXRjaGluZyBQcm90b2NvbHMnLFxuICAxMDI6ICdQcm9jZXNzaW5nJywgLy8gUkZDIDI1MTgsIG9ic29sZXRlZCBieSBSRkMgNDkxOFxuICAyMDA6ICdPSycsXG4gIDIwMTogJ0NyZWF0ZWQnLFxuICAyMDI6ICdBY2NlcHRlZCcsXG4gIDIwMzogJ05vbi1BdXRob3JpdGF0aXZlIEluZm9ybWF0aW9uJyxcbiAgMjA0OiAnTm8gQ29udGVudCcsXG4gIDIwNTogJ1Jlc2V0IENvbnRlbnQnLFxuICAyMDY6ICdQYXJ0aWFsIENvbnRlbnQnLFxuICAyMDc6ICdNdWx0aS1TdGF0dXMnLCAvLyBSRkMgNDkxOFxuICAzMDA6ICdNdWx0aXBsZSBDaG9pY2VzJyxcbiAgMzAxOiAnTW92ZWQgUGVybWFuZW50bHknLFxuICAzMDI6ICdNb3ZlZCBUZW1wb3JhcmlseScsXG4gIDMwMzogJ1NlZSBPdGhlcicsXG4gIDMwNDogJ05vdCBNb2RpZmllZCcsXG4gIDMwNTogJ1VzZSBQcm94eScsXG4gIDMwNzogJ1RlbXBvcmFyeSBSZWRpcmVjdCcsXG4gIDQwMDogJ0JhZCBSZXF1ZXN0JyxcbiAgNDAxOiAnVW5hdXRob3JpemVkJyxcbiAgNDAyOiAnUGF5bWVudCBSZXF1aXJlZCcsXG4gIDQwMzogJ0ZvcmJpZGRlbicsXG4gIDQwNDogJ05vdCBGb3VuZCcsXG4gIDQwNTogJ01ldGhvZCBOb3QgQWxsb3dlZCcsXG4gIDQwNjogJ05vdCBBY2NlcHRhYmxlJyxcbiAgNDA3OiAnUHJveHkgQXV0aGVudGljYXRpb24gUmVxdWlyZWQnLFxuICA0MDg6ICdSZXF1ZXN0IFRpbWUtb3V0JyxcbiAgNDA5OiAnQ29uZmxpY3QnLFxuICA0MTA6ICdHb25lJyxcbiAgNDExOiAnTGVuZ3RoIFJlcXVpcmVkJyxcbiAgNDEyOiAnUHJlY29uZGl0aW9uIEZhaWxlZCcsXG4gIDQxMzogJ1JlcXVlc3QgRW50aXR5IFRvbyBMYXJnZScsXG4gIDQxNDogJ1JlcXVlc3QtVVJJIFRvbyBMYXJnZScsXG4gIDQxNTogJ1Vuc3VwcG9ydGVkIE1lZGlhIFR5cGUnLFxuICA0MTY6ICdSZXF1ZXN0ZWQgUmFuZ2UgTm90IFNhdGlzZmlhYmxlJyxcbiAgNDE3OiAnRXhwZWN0YXRpb24gRmFpbGVkJyxcbiAgNDE4OiAnSVxcJ20gYSB0ZWFwb3QnLCAvLyBSRkMgMjMyNFxuICA0MjI6ICdVbnByb2Nlc3NhYmxlIEVudGl0eScsIC8vIFJGQyA0OTE4XG4gIDQyMzogJ0xvY2tlZCcsIC8vIFJGQyA0OTE4XG4gIDQyNDogJ0ZhaWxlZCBEZXBlbmRlbmN5JywgLy8gUkZDIDQ5MThcbiAgNDI1OiAnVW5vcmRlcmVkIENvbGxlY3Rpb24nLCAvLyBSRkMgNDkxOFxuICA0MjY6ICdVcGdyYWRlIFJlcXVpcmVkJywgLy8gUkZDIDI4MTdcbiAgNDI4OiAnUHJlY29uZGl0aW9uIFJlcXVpcmVkJywgLy8gUkZDIDY1ODVcbiAgNDI5OiAnVG9vIE1hbnkgUmVxdWVzdHMnLCAvLyBSRkMgNjU4NVxuICA0MzE6ICdSZXF1ZXN0IEhlYWRlciBGaWVsZHMgVG9vIExhcmdlJywgLy8gUkZDIDY1ODVcbiAgNTAwOiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyxcbiAgNTAxOiAnTm90IEltcGxlbWVudGVkJyxcbiAgNTAyOiAnQmFkIEdhdGV3YXknLFxuICA1MDM6ICdTZXJ2aWNlIFVuYXZhaWxhYmxlJyxcbiAgNTA0OiAnR2F0ZXdheSBUaW1lLW91dCcsXG4gIDUwNTogJ0hUVFAgVmVyc2lvbiBOb3QgU3VwcG9ydGVkJyxcbiAgNTA2OiAnVmFyaWFudCBBbHNvIE5lZ290aWF0ZXMnLCAvLyBSRkMgMjI5NVxuICA1MDc6ICdJbnN1ZmZpY2llbnQgU3RvcmFnZScsIC8vIFJGQyA0OTE4XG4gIDUwOTogJ0JhbmR3aWR0aCBMaW1pdCBFeGNlZWRlZCcsXG4gIDUxMDogJ05vdCBFeHRlbmRlZCcsIC8vIFJGQyAyNzc0XG4gIDUxMTogJ05ldHdvcmsgQXV0aGVudGljYXRpb24gUmVxdWlyZWQnIC8vIFJGQyA2NTg1XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJlcXVlc3QsXG4gIGdldCxcbiAgQWdlbnQsXG4gIE1FVEhPRFMsXG4gIFNUQVRVU19DT0RFU1xufVxuIiwidmFyIGRlYnVnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCFkZWJ1Zykge1xuICAgIHRyeSB7XG4gICAgICAvKiBlc2xpbnQgZ2xvYmFsLXJlcXVpcmU6IG9mZiAqL1xuICAgICAgZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIikoXCJmb2xsb3ctcmVkaXJlY3RzXCIpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgLyogKi8gfVxuICAgIGlmICh0eXBlb2YgZGVidWcgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZGVidWcgPSBmdW5jdGlvbiAoKSB7IC8qICovIH07XG4gICAgfVxuICB9XG4gIGRlYnVnLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuIiwidmFyIHVybCA9IHJlcXVpcmUoXCJ1cmxcIik7XG52YXIgVVJMID0gdXJsLlVSTDtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgaHR0cHMgPSByZXF1aXJlKFwiaHR0cHNcIik7XG52YXIgV3JpdGFibGUgPSByZXF1aXJlKFwic3RyZWFtXCIpLldyaXRhYmxlO1xudmFyIGFzc2VydCA9IHJlcXVpcmUoXCJhc3NlcnRcIik7XG52YXIgZGVidWcgPSByZXF1aXJlKFwiLi9kZWJ1Z1wiKTtcblxuLy8gQ3JlYXRlIGhhbmRsZXJzIHRoYXQgcGFzcyBldmVudHMgZnJvbSBuYXRpdmUgcmVxdWVzdHNcbnZhciBldmVudHMgPSBbXCJhYm9ydFwiLCBcImFib3J0ZWRcIiwgXCJjb25uZWN0XCIsIFwiZXJyb3JcIiwgXCJzb2NrZXRcIiwgXCJ0aW1lb3V0XCJdO1xudmFyIGV2ZW50SGFuZGxlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGV2ZW50SGFuZGxlcnNbZXZlbnRdID0gZnVuY3Rpb24gKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICB0aGlzLl9yZWRpcmVjdGFibGUuZW1pdChldmVudCwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gIH07XG59KTtcblxuLy8gRXJyb3IgdHlwZXMgd2l0aCBjb2Rlc1xudmFyIFJlZGlyZWN0aW9uRXJyb3IgPSBjcmVhdGVFcnJvclR5cGUoXG4gIFwiRVJSX0ZSX1JFRElSRUNUSU9OX0ZBSUxVUkVcIixcbiAgXCJSZWRpcmVjdGVkIHJlcXVlc3QgZmFpbGVkXCJcbik7XG52YXIgVG9vTWFueVJlZGlyZWN0c0Vycm9yID0gY3JlYXRlRXJyb3JUeXBlKFxuICBcIkVSUl9GUl9UT09fTUFOWV9SRURJUkVDVFNcIixcbiAgXCJNYXhpbXVtIG51bWJlciBvZiByZWRpcmVjdHMgZXhjZWVkZWRcIlxuKTtcbnZhciBNYXhCb2R5TGVuZ3RoRXhjZWVkZWRFcnJvciA9IGNyZWF0ZUVycm9yVHlwZShcbiAgXCJFUlJfRlJfTUFYX0JPRFlfTEVOR1RIX0VYQ0VFREVEXCIsXG4gIFwiUmVxdWVzdCBib2R5IGxhcmdlciB0aGFuIG1heEJvZHlMZW5ndGggbGltaXRcIlxuKTtcbnZhciBXcml0ZUFmdGVyRW5kRXJyb3IgPSBjcmVhdGVFcnJvclR5cGUoXG4gIFwiRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkRcIixcbiAgXCJ3cml0ZSBhZnRlciBlbmRcIlxuKTtcblxuLy8gQW4gSFRUUChTKSByZXF1ZXN0IHRoYXQgY2FuIGJlIHJlZGlyZWN0ZWRcbmZ1bmN0aW9uIFJlZGlyZWN0YWJsZVJlcXVlc3Qob3B0aW9ucywgcmVzcG9uc2VDYWxsYmFjaykge1xuICAvLyBJbml0aWFsaXplIHRoZSByZXF1ZXN0XG4gIFdyaXRhYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuX3Nhbml0aXplT3B0aW9ucyhvcHRpb25zKTtcbiAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gIHRoaXMuX2VuZGVkID0gZmFsc2U7XG4gIHRoaXMuX2VuZGluZyA9IGZhbHNlO1xuICB0aGlzLl9yZWRpcmVjdENvdW50ID0gMDtcbiAgdGhpcy5fcmVkaXJlY3RzID0gW107XG4gIHRoaXMuX3JlcXVlc3RCb2R5TGVuZ3RoID0gMDtcbiAgdGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzID0gW107XG5cbiAgLy8gQXR0YWNoIGEgY2FsbGJhY2sgaWYgcGFzc2VkXG4gIGlmIChyZXNwb25zZUNhbGxiYWNrKSB7XG4gICAgdGhpcy5vbihcInJlc3BvbnNlXCIsIHJlc3BvbnNlQ2FsbGJhY2spO1xuICB9XG5cbiAgLy8gUmVhY3QgdG8gcmVzcG9uc2VzIG9mIG5hdGl2ZSByZXF1ZXN0c1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX29uTmF0aXZlUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBzZWxmLl9wcm9jZXNzUmVzcG9uc2UocmVzcG9uc2UpO1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gdGhlIGZpcnN0IHJlcXVlc3RcbiAgdGhpcy5fcGVyZm9ybVJlcXVlc3QoKTtcbn1cblJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShXcml0YWJsZS5wcm90b3R5cGUpO1xuXG5SZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgYWJvcnRSZXF1ZXN0KHRoaXMuX2N1cnJlbnRSZXF1ZXN0KTtcbiAgdGhpcy5lbWl0KFwiYWJvcnRcIik7XG59O1xuXG4vLyBXcml0ZXMgYnVmZmVyZWQgZGF0YSB0byB0aGUgY3VycmVudCBuYXRpdmUgcmVxdWVzdFxuUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoZGF0YSwgZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gIC8vIFdyaXRpbmcgaXMgbm90IGFsbG93ZWQgaWYgZW5kIGhhcyBiZWVuIGNhbGxlZFxuICBpZiAodGhpcy5fZW5kaW5nKSB7XG4gICAgdGhyb3cgbmV3IFdyaXRlQWZ0ZXJFbmRFcnJvcigpO1xuICB9XG5cbiAgLy8gVmFsaWRhdGUgaW5wdXQgYW5kIHNoaWZ0IHBhcmFtZXRlcnMgaWYgbmVjZXNzYXJ5XG4gIGlmICghKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmIChcImxlbmd0aFwiIGluIGRhdGEpKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJkYXRhIHNob3VsZCBiZSBhIHN0cmluZywgQnVmZmVyIG9yIFVpbnQ4QXJyYXlcIik7XG4gIH1cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgY2FsbGJhY2sgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cblxuICAvLyBJZ25vcmUgZW1wdHkgYnVmZmVycywgc2luY2Ugd3JpdGluZyB0aGVtIGRvZXNuJ3QgaW52b2tlIHRoZSBjYWxsYmFja1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzIyMDY2XG4gIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIE9ubHkgd3JpdGUgd2hlbiB3ZSBkb24ndCBleGNlZWQgdGhlIG1heGltdW0gYm9keSBsZW5ndGhcbiAgaWYgKHRoaXMuX3JlcXVlc3RCb2R5TGVuZ3RoICsgZGF0YS5sZW5ndGggPD0gdGhpcy5fb3B0aW9ucy5tYXhCb2R5TGVuZ3RoKSB7XG4gICAgdGhpcy5fcmVxdWVzdEJvZHlMZW5ndGggKz0gZGF0YS5sZW5ndGg7XG4gICAgdGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzLnB1c2goeyBkYXRhOiBkYXRhLCBlbmNvZGluZzogZW5jb2RpbmcgfSk7XG4gICAgdGhpcy5fY3VycmVudFJlcXVlc3Qud3JpdGUoZGF0YSwgZW5jb2RpbmcsIGNhbGxiYWNrKTtcbiAgfVxuICAvLyBFcnJvciB3aGVuIHdlIGV4Y2VlZCB0aGUgbWF4aW11bSBib2R5IGxlbmd0aFxuICBlbHNlIHtcbiAgICB0aGlzLmVtaXQoXCJlcnJvclwiLCBuZXcgTWF4Qm9keUxlbmd0aEV4Y2VlZGVkRXJyb3IoKSk7XG4gICAgdGhpcy5hYm9ydCgpO1xuICB9XG59O1xuXG4vLyBFbmRzIHRoZSBjdXJyZW50IG5hdGl2ZSByZXF1ZXN0XG5SZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoZGF0YSwgZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gIC8vIFNoaWZ0IHBhcmFtZXRlcnMgaWYgbmVjZXNzYXJ5XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgY2FsbGJhY2sgPSBkYXRhO1xuICAgIGRhdGEgPSBlbmNvZGluZyA9IG51bGw7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIGVuY29kaW5nID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjYWxsYmFjayA9IGVuY29kaW5nO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfVxuXG4gIC8vIFdyaXRlIGRhdGEgaWYgbmVlZGVkIGFuZCBlbmRcbiAgaWYgKCFkYXRhKSB7XG4gICAgdGhpcy5fZW5kZWQgPSB0aGlzLl9lbmRpbmcgPSB0cnVlO1xuICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0LmVuZChudWxsLCBudWxsLCBjYWxsYmFjayk7XG4gIH1cbiAgZWxzZSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBjdXJyZW50UmVxdWVzdCA9IHRoaXMuX2N1cnJlbnRSZXF1ZXN0O1xuICAgIHRoaXMud3JpdGUoZGF0YSwgZW5jb2RpbmcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcbiAgICAgIGN1cnJlbnRSZXF1ZXN0LmVuZChudWxsLCBudWxsLCBjYWxsYmFjayk7XG4gICAgfSk7XG4gICAgdGhpcy5fZW5kaW5nID0gdHJ1ZTtcbiAgfVxufTtcblxuLy8gU2V0cyBhIGhlYWRlciB2YWx1ZSBvbiB0aGUgY3VycmVudCBuYXRpdmUgcmVxdWVzdFxuUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUuc2V0SGVhZGVyID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMuX29wdGlvbnMuaGVhZGVyc1tuYW1lXSA9IHZhbHVlO1xuICB0aGlzLl9jdXJyZW50UmVxdWVzdC5zZXRIZWFkZXIobmFtZSwgdmFsdWUpO1xufTtcblxuLy8gQ2xlYXJzIGEgaGVhZGVyIHZhbHVlIG9uIHRoZSBjdXJyZW50IG5hdGl2ZSByZXF1ZXN0XG5SZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5yZW1vdmVIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSkge1xuICBkZWxldGUgdGhpcy5fb3B0aW9ucy5oZWFkZXJzW25hbWVdO1xuICB0aGlzLl9jdXJyZW50UmVxdWVzdC5yZW1vdmVIZWFkZXIobmFtZSk7XG59O1xuXG4vLyBHbG9iYWwgdGltZW91dCBmb3IgYWxsIHVuZGVybHlpbmcgcmVxdWVzdHNcblJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLnNldFRpbWVvdXQgPSBmdW5jdGlvbiAobXNlY3MsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvLyBEZXN0cm95cyB0aGUgc29ja2V0IG9uIHRpbWVvdXRcbiAgZnVuY3Rpb24gZGVzdHJveU9uVGltZW91dChzb2NrZXQpIHtcbiAgICBzb2NrZXQuc2V0VGltZW91dChtc2Vjcyk7XG4gICAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKFwidGltZW91dFwiLCBzb2NrZXQuZGVzdHJveSk7XG4gICAgc29ja2V0LmFkZExpc3RlbmVyKFwidGltZW91dFwiLCBzb2NrZXQuZGVzdHJveSk7XG4gIH1cblxuICAvLyBTZXRzIHVwIGEgdGltZXIgdG8gdHJpZ2dlciBhIHRpbWVvdXQgZXZlbnRcbiAgZnVuY3Rpb24gc3RhcnRUaW1lcihzb2NrZXQpIHtcbiAgICBpZiAoc2VsZi5fdGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3RpbWVvdXQpO1xuICAgIH1cbiAgICBzZWxmLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLmVtaXQoXCJ0aW1lb3V0XCIpO1xuICAgICAgY2xlYXJUaW1lcigpO1xuICAgIH0sIG1zZWNzKTtcbiAgICBkZXN0cm95T25UaW1lb3V0KHNvY2tldCk7XG4gIH1cblxuICAvLyBTdG9wcyBhIHRpbWVvdXQgZnJvbSB0cmlnZ2VyaW5nXG4gIGZ1bmN0aW9uIGNsZWFyVGltZXIoKSB7XG4gICAgLy8gQ2xlYXIgdGhlIHRpbWVvdXRcbiAgICBpZiAoc2VsZi5fdGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3RpbWVvdXQpO1xuICAgICAgc2VsZi5fdGltZW91dCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQ2xlYW4gdXAgYWxsIGF0dGFjaGVkIGxpc3RlbmVyc1xuICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoXCJhYm9ydFwiLCBjbGVhclRpbWVyKTtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgY2xlYXJUaW1lcik7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcihcInJlc3BvbnNlXCIsIGNsZWFyVGltZXIpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgc2VsZi5yZW1vdmVMaXN0ZW5lcihcInRpbWVvdXRcIiwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBpZiAoIXNlbGYuc29ja2V0KSB7XG4gICAgICBzZWxmLl9jdXJyZW50UmVxdWVzdC5yZW1vdmVMaXN0ZW5lcihcInNvY2tldFwiLCBzdGFydFRpbWVyKTtcbiAgICB9XG4gIH1cblxuICAvLyBBdHRhY2ggY2FsbGJhY2sgaWYgcGFzc2VkXG4gIGlmIChjYWxsYmFjaykge1xuICAgIHRoaXMub24oXCJ0aW1lb3V0XCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8vIFN0YXJ0IHRoZSB0aW1lciBpZiBvciB3aGVuIHRoZSBzb2NrZXQgaXMgb3BlbmVkXG4gIGlmICh0aGlzLnNvY2tldCkge1xuICAgIHN0YXJ0VGltZXIodGhpcy5zb2NrZXQpO1xuICB9XG4gIGVsc2Uge1xuICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0Lm9uY2UoXCJzb2NrZXRcIiwgc3RhcnRUaW1lcik7XG4gIH1cblxuICAvLyBDbGVhbiB1cCBvbiBldmVudHNcbiAgdGhpcy5vbihcInNvY2tldFwiLCBkZXN0cm95T25UaW1lb3V0KTtcbiAgdGhpcy5vbihcImFib3J0XCIsIGNsZWFyVGltZXIpO1xuICB0aGlzLm9uKFwiZXJyb3JcIiwgY2xlYXJUaW1lcik7XG4gIHRoaXMub24oXCJyZXNwb25zZVwiLCBjbGVhclRpbWVyKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIFByb3h5IGFsbCBvdGhlciBwdWJsaWMgQ2xpZW50UmVxdWVzdCBtZXRob2RzXG5bXG4gIFwiZmx1c2hIZWFkZXJzXCIsIFwiZ2V0SGVhZGVyXCIsXG4gIFwic2V0Tm9EZWxheVwiLCBcInNldFNvY2tldEtlZXBBbGl2ZVwiLFxuXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRSZXF1ZXN0W21ldGhvZF0oYSwgYik7XG4gIH07XG59KTtcblxuLy8gUHJveHkgYWxsIHB1YmxpYyBDbGllbnRSZXF1ZXN0IHByb3BlcnRpZXNcbltcImFib3J0ZWRcIiwgXCJjb25uZWN0aW9uXCIsIFwic29ja2V0XCJdLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZSwgcHJvcGVydHksIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2N1cnJlbnRSZXF1ZXN0W3Byb3BlcnR5XTsgfSxcbiAgfSk7XG59KTtcblxuUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUuX3Nhbml0aXplT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIC8vIEVuc3VyZSBoZWFkZXJzIGFyZSBhbHdheXMgcHJlc2VudFxuICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgIG9wdGlvbnMuaGVhZGVycyA9IHt9O1xuICB9XG5cbiAgLy8gU2luY2UgaHR0cC5yZXF1ZXN0IHRyZWF0cyBob3N0IGFzIGFuIGFsaWFzIG9mIGhvc3RuYW1lLFxuICAvLyBidXQgdGhlIHVybCBtb2R1bGUgaW50ZXJwcmV0cyBob3N0IGFzIGhvc3RuYW1lIHBsdXMgcG9ydCxcbiAgLy8gZWxpbWluYXRlIHRoZSBob3N0IHByb3BlcnR5IHRvIGF2b2lkIGNvbmZ1c2lvbi5cbiAgaWYgKG9wdGlvbnMuaG9zdCkge1xuICAgIC8vIFVzZSBob3N0bmFtZSBpZiBzZXQsIGJlY2F1c2UgaXQgaGFzIHByZWNlZGVuY2VcbiAgICBpZiAoIW9wdGlvbnMuaG9zdG5hbWUpIHtcbiAgICAgIG9wdGlvbnMuaG9zdG5hbWUgPSBvcHRpb25zLmhvc3Q7XG4gICAgfVxuICAgIGRlbGV0ZSBvcHRpb25zLmhvc3Q7XG4gIH1cblxuICAvLyBDb21wbGV0ZSB0aGUgVVJMIG9iamVjdCB3aGVuIG5lY2Vzc2FyeVxuICBpZiAoIW9wdGlvbnMucGF0aG5hbWUgJiYgb3B0aW9ucy5wYXRoKSB7XG4gICAgdmFyIHNlYXJjaFBvcyA9IG9wdGlvbnMucGF0aC5pbmRleE9mKFwiP1wiKTtcbiAgICBpZiAoc2VhcmNoUG9zIDwgMCkge1xuICAgICAgb3B0aW9ucy5wYXRobmFtZSA9IG9wdGlvbnMucGF0aDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBvcHRpb25zLnBhdGhuYW1lID0gb3B0aW9ucy5wYXRoLnN1YnN0cmluZygwLCBzZWFyY2hQb3MpO1xuICAgICAgb3B0aW9ucy5zZWFyY2ggPSBvcHRpb25zLnBhdGguc3Vic3RyaW5nKHNlYXJjaFBvcyk7XG4gICAgfVxuICB9XG59O1xuXG5cbi8vIEV4ZWN1dGVzIHRoZSBuZXh0IG5hdGl2ZSByZXF1ZXN0IChpbml0aWFsIG9yIHJlZGlyZWN0KVxuUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUuX3BlcmZvcm1SZXF1ZXN0ID0gZnVuY3Rpb24gKCkge1xuICAvLyBMb2FkIHRoZSBuYXRpdmUgcHJvdG9jb2xcbiAgdmFyIHByb3RvY29sID0gdGhpcy5fb3B0aW9ucy5wcm90b2NvbDtcbiAgdmFyIG5hdGl2ZVByb3RvY29sID0gdGhpcy5fb3B0aW9ucy5uYXRpdmVQcm90b2NvbHNbcHJvdG9jb2xdO1xuICBpZiAoIW5hdGl2ZVByb3RvY29sKSB7XG4gICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgbmV3IFR5cGVFcnJvcihcIlVuc3VwcG9ydGVkIHByb3RvY29sIFwiICsgcHJvdG9jb2wpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiBzcGVjaWZpZWQsIHVzZSB0aGUgYWdlbnQgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvdG9jb2xcbiAgLy8gKEhUVFAgYW5kIEhUVFBTIHVzZSBkaWZmZXJlbnQgdHlwZXMgb2YgYWdlbnRzKVxuICBpZiAodGhpcy5fb3B0aW9ucy5hZ2VudHMpIHtcbiAgICB2YXIgc2NoZW1lID0gcHJvdG9jb2wuc3Vic3RyKDAsIHByb3RvY29sLmxlbmd0aCAtIDEpO1xuICAgIHRoaXMuX29wdGlvbnMuYWdlbnQgPSB0aGlzLl9vcHRpb25zLmFnZW50c1tzY2hlbWVdO1xuICB9XG5cbiAgLy8gQ3JlYXRlIHRoZSBuYXRpdmUgcmVxdWVzdFxuICB2YXIgcmVxdWVzdCA9IHRoaXMuX2N1cnJlbnRSZXF1ZXN0ID1cbiAgICAgICAgbmF0aXZlUHJvdG9jb2wucmVxdWVzdCh0aGlzLl9vcHRpb25zLCB0aGlzLl9vbk5hdGl2ZVJlc3BvbnNlKTtcbiAgdGhpcy5fY3VycmVudFVybCA9IHVybC5mb3JtYXQodGhpcy5fb3B0aW9ucyk7XG5cbiAgLy8gU2V0IHVwIGV2ZW50IGhhbmRsZXJzXG4gIHJlcXVlc3QuX3JlZGlyZWN0YWJsZSA9IHRoaXM7XG4gIGZvciAodmFyIGUgPSAwOyBlIDwgZXZlbnRzLmxlbmd0aDsgZSsrKSB7XG4gICAgcmVxdWVzdC5vbihldmVudHNbZV0sIGV2ZW50SGFuZGxlcnNbZXZlbnRzW2VdXSk7XG4gIH1cblxuICAvLyBFbmQgYSByZWRpcmVjdGVkIHJlcXVlc3RcbiAgLy8gKFRoZSBmaXJzdCByZXF1ZXN0IG11c3QgYmUgZW5kZWQgZXhwbGljaXRseSB3aXRoIFJlZGlyZWN0YWJsZVJlcXVlc3QjZW5kKVxuICBpZiAodGhpcy5faXNSZWRpcmVjdCkge1xuICAgIC8vIFdyaXRlIHRoZSByZXF1ZXN0IGVudGl0eSBhbmQgZW5kLlxuICAgIHZhciBpID0gMDtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGJ1ZmZlcnMgPSB0aGlzLl9yZXF1ZXN0Qm9keUJ1ZmZlcnM7XG4gICAgKGZ1bmN0aW9uIHdyaXRlTmV4dChlcnJvcikge1xuICAgICAgLy8gT25seSB3cml0ZSBpZiB0aGlzIHJlcXVlc3QgaGFzIG5vdCBiZWVuIHJlZGlyZWN0ZWQgeWV0XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKHJlcXVlc3QgPT09IHNlbGYuX2N1cnJlbnRSZXF1ZXN0KSB7XG4gICAgICAgIC8vIFJlcG9ydCBhbnkgd3JpdGUgZXJyb3JzXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV3JpdGUgdGhlIG5leHQgYnVmZmVyIGlmIHRoZXJlIGFyZSBzdGlsbCBsZWZ0XG4gICAgICAgIGVsc2UgaWYgKGkgPCBidWZmZXJzLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2krK107XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAoIXJlcXVlc3QuZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHJlcXVlc3Qud3JpdGUoYnVmZmVyLmRhdGEsIGJ1ZmZlci5lbmNvZGluZywgd3JpdGVOZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5kIHRoZSByZXF1ZXN0IGlmIGBlbmRgIGhhcyBiZWVuIGNhbGxlZCBvbiB1c1xuICAgICAgICBlbHNlIGlmIChzZWxmLl9lbmRlZCkge1xuICAgICAgICAgIHJlcXVlc3QuZW5kKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KCkpO1xuICB9XG59O1xuXG4vLyBQcm9jZXNzZXMgYSByZXNwb25zZSBmcm9tIHRoZSBjdXJyZW50IG5hdGl2ZSByZXF1ZXN0XG5SZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5fcHJvY2Vzc1Jlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gIC8vIFN0b3JlIHRoZSByZWRpcmVjdGVkIHJlc3BvbnNlXG4gIHZhciBzdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzQ29kZTtcbiAgaWYgKHRoaXMuX29wdGlvbnMudHJhY2tSZWRpcmVjdHMpIHtcbiAgICB0aGlzLl9yZWRpcmVjdHMucHVzaCh7XG4gICAgICB1cmw6IHRoaXMuX2N1cnJlbnRVcmwsXG4gICAgICBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgc3RhdHVzQ29kZTogc3RhdHVzQ29kZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFJGQzcyMzHCpzYuNDogVGhlIDN4eCAoUmVkaXJlY3Rpb24pIGNsYXNzIG9mIHN0YXR1cyBjb2RlIGluZGljYXRlc1xuICAvLyB0aGF0IGZ1cnRoZXIgYWN0aW9uIG5lZWRzIHRvIGJlIHRha2VuIGJ5IHRoZSB1c2VyIGFnZW50IGluIG9yZGVyIHRvXG4gIC8vIGZ1bGZpbGwgdGhlIHJlcXVlc3QuIElmIGEgTG9jYXRpb24gaGVhZGVyIGZpZWxkIGlzIHByb3ZpZGVkLFxuICAvLyB0aGUgdXNlciBhZ2VudCBNQVkgYXV0b21hdGljYWxseSByZWRpcmVjdCBpdHMgcmVxdWVzdCB0byB0aGUgVVJJXG4gIC8vIHJlZmVyZW5jZWQgYnkgdGhlIExvY2F0aW9uIGZpZWxkIHZhbHVlLFxuICAvLyBldmVuIGlmIHRoZSBzcGVjaWZpYyBzdGF0dXMgY29kZSBpcyBub3QgdW5kZXJzdG9vZC5cblxuICAvLyBJZiB0aGUgcmVzcG9uc2UgaXMgbm90IGEgcmVkaXJlY3Q7IHJldHVybiBpdCBhcy1pc1xuICB2YXIgbG9jYXRpb24gPSByZXNwb25zZS5oZWFkZXJzLmxvY2F0aW9uO1xuICBpZiAoIWxvY2F0aW9uIHx8IHRoaXMuX29wdGlvbnMuZm9sbG93UmVkaXJlY3RzID09PSBmYWxzZSB8fFxuICAgICAgc3RhdHVzQ29kZSA8IDMwMCB8fCBzdGF0dXNDb2RlID49IDQwMCkge1xuICAgIHJlc3BvbnNlLnJlc3BvbnNlVXJsID0gdGhpcy5fY3VycmVudFVybDtcbiAgICByZXNwb25zZS5yZWRpcmVjdHMgPSB0aGlzLl9yZWRpcmVjdHM7XG4gICAgdGhpcy5lbWl0KFwicmVzcG9uc2VcIiwgcmVzcG9uc2UpO1xuXG4gICAgLy8gQ2xlYW4gdXBcbiAgICB0aGlzLl9yZXF1ZXN0Qm9keUJ1ZmZlcnMgPSBbXTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBUaGUgcmVzcG9uc2UgaXMgYSByZWRpcmVjdCwgc28gYWJvcnQgdGhlIGN1cnJlbnQgcmVxdWVzdFxuICBhYm9ydFJlcXVlc3QodGhpcy5fY3VycmVudFJlcXVlc3QpO1xuICAvLyBEaXNjYXJkIHRoZSByZW1haW5kZXIgb2YgdGhlIHJlc3BvbnNlIHRvIGF2b2lkIHdhaXRpbmcgZm9yIGRhdGFcbiAgcmVzcG9uc2UuZGVzdHJveSgpO1xuXG4gIC8vIFJGQzcyMzHCpzYuNDogQSBjbGllbnQgU0hPVUxEIGRldGVjdCBhbmQgaW50ZXJ2ZW5lXG4gIC8vIGluIGN5Y2xpY2FsIHJlZGlyZWN0aW9ucyAoaS5lLiwgXCJpbmZpbml0ZVwiIHJlZGlyZWN0aW9uIGxvb3BzKS5cbiAgaWYgKCsrdGhpcy5fcmVkaXJlY3RDb3VudCA+IHRoaXMuX29wdGlvbnMubWF4UmVkaXJlY3RzKSB7XG4gICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgbmV3IFRvb01hbnlSZWRpcmVjdHNFcnJvcigpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBSRkM3MjMxwqc2LjQ6IEF1dG9tYXRpYyByZWRpcmVjdGlvbiBuZWVkcyB0byBkb25lIHdpdGhcbiAgLy8gY2FyZSBmb3IgbWV0aG9kcyBub3Qga25vd24gdG8gYmUgc2FmZSwgW+KApl1cbiAgLy8gUkZDNzIzMcKnNi40LjLigJMzOiBGb3IgaGlzdG9yaWNhbCByZWFzb25zLCBhIHVzZXIgYWdlbnQgTUFZIGNoYW5nZVxuICAvLyB0aGUgcmVxdWVzdCBtZXRob2QgZnJvbSBQT1NUIHRvIEdFVCBmb3IgdGhlIHN1YnNlcXVlbnQgcmVxdWVzdC5cbiAgaWYgKChzdGF0dXNDb2RlID09PSAzMDEgfHwgc3RhdHVzQ29kZSA9PT0gMzAyKSAmJiB0aGlzLl9vcHRpb25zLm1ldGhvZCA9PT0gXCJQT1NUXCIgfHxcbiAgICAgIC8vIFJGQzcyMzHCpzYuNC40OiBUaGUgMzAzIChTZWUgT3RoZXIpIHN0YXR1cyBjb2RlIGluZGljYXRlcyB0aGF0XG4gICAgICAvLyB0aGUgc2VydmVyIGlzIHJlZGlyZWN0aW5nIHRoZSB1c2VyIGFnZW50IHRvIGEgZGlmZmVyZW50IHJlc291cmNlIFvigKZdXG4gICAgICAvLyBBIHVzZXIgYWdlbnQgY2FuIHBlcmZvcm0gYSByZXRyaWV2YWwgcmVxdWVzdCB0YXJnZXRpbmcgdGhhdCBVUklcbiAgICAgIC8vIChhIEdFVCBvciBIRUFEIHJlcXVlc3QgaWYgdXNpbmcgSFRUUCkgW+KApl1cbiAgICAgIChzdGF0dXNDb2RlID09PSAzMDMpICYmICEvXig/OkdFVHxIRUFEKSQvLnRlc3QodGhpcy5fb3B0aW9ucy5tZXRob2QpKSB7XG4gICAgdGhpcy5fb3B0aW9ucy5tZXRob2QgPSBcIkdFVFwiO1xuICAgIC8vIERyb3AgYSBwb3NzaWJsZSBlbnRpdHkgYW5kIGhlYWRlcnMgcmVsYXRlZCB0byBpdFxuICAgIHRoaXMuX3JlcXVlc3RCb2R5QnVmZmVycyA9IFtdO1xuICAgIHJlbW92ZU1hdGNoaW5nSGVhZGVycygvXmNvbnRlbnQtL2ksIHRoaXMuX29wdGlvbnMuaGVhZGVycyk7XG4gIH1cblxuICAvLyBEcm9wIHRoZSBIb3N0IGhlYWRlciwgYXMgdGhlIHJlZGlyZWN0IG1pZ2h0IGxlYWQgdG8gYSBkaWZmZXJlbnQgaG9zdFxuICB2YXIgY3VycmVudEhvc3RIZWFkZXIgPSByZW1vdmVNYXRjaGluZ0hlYWRlcnMoL15ob3N0JC9pLCB0aGlzLl9vcHRpb25zLmhlYWRlcnMpO1xuXG4gIC8vIElmIHRoZSByZWRpcmVjdCBpcyByZWxhdGl2ZSwgY2Fycnkgb3ZlciB0aGUgaG9zdCBvZiB0aGUgbGFzdCByZXF1ZXN0XG4gIHZhciBjdXJyZW50VXJsUGFydHMgPSB1cmwucGFyc2UodGhpcy5fY3VycmVudFVybCk7XG4gIHZhciBjdXJyZW50SG9zdCA9IGN1cnJlbnRIb3N0SGVhZGVyIHx8IGN1cnJlbnRVcmxQYXJ0cy5ob3N0O1xuICB2YXIgY3VycmVudFVybCA9IC9eXFx3KzovLnRlc3QobG9jYXRpb24pID8gdGhpcy5fY3VycmVudFVybCA6XG4gICAgdXJsLmZvcm1hdChPYmplY3QuYXNzaWduKGN1cnJlbnRVcmxQYXJ0cywgeyBob3N0OiBjdXJyZW50SG9zdCB9KSk7XG5cbiAgLy8gRGV0ZXJtaW5lIHRoZSBVUkwgb2YgdGhlIHJlZGlyZWN0aW9uXG4gIHZhciByZWRpcmVjdFVybDtcbiAgdHJ5IHtcbiAgICByZWRpcmVjdFVybCA9IHVybC5yZXNvbHZlKGN1cnJlbnRVcmwsIGxvY2F0aW9uKTtcbiAgfVxuICBjYXRjaCAoY2F1c2UpIHtcbiAgICB0aGlzLmVtaXQoXCJlcnJvclwiLCBuZXcgUmVkaXJlY3Rpb25FcnJvcihjYXVzZSkpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENyZWF0ZSB0aGUgcmVkaXJlY3RlZCByZXF1ZXN0XG4gIGRlYnVnKFwicmVkaXJlY3RpbmcgdG9cIiwgcmVkaXJlY3RVcmwpO1xuICB0aGlzLl9pc1JlZGlyZWN0ID0gdHJ1ZTtcbiAgdmFyIHJlZGlyZWN0VXJsUGFydHMgPSB1cmwucGFyc2UocmVkaXJlY3RVcmwpO1xuICBPYmplY3QuYXNzaWduKHRoaXMuX29wdGlvbnMsIHJlZGlyZWN0VXJsUGFydHMpO1xuXG4gIC8vIERyb3AgY29uZmlkZW50aWFsIGhlYWRlcnMgd2hlbiByZWRpcmVjdGluZyB0byBhIGxlc3Mgc2VjdXJlIHByb3RvY29sXG4gIC8vIG9yIHRvIGEgZGlmZmVyZW50IGRvbWFpbiB0aGF0IGlzIG5vdCBhIHN1cGVyZG9tYWluXG4gIGlmIChyZWRpcmVjdFVybFBhcnRzLnByb3RvY29sICE9PSBjdXJyZW50VXJsUGFydHMucHJvdG9jb2wgJiZcbiAgICAgcmVkaXJlY3RVcmxQYXJ0cy5wcm90b2NvbCAhPT0gXCJodHRwczpcIiB8fFxuICAgICByZWRpcmVjdFVybFBhcnRzLmhvc3QgIT09IGN1cnJlbnRIb3N0ICYmXG4gICAgICFpc1N1YmRvbWFpbihyZWRpcmVjdFVybFBhcnRzLmhvc3QsIGN1cnJlbnRIb3N0KSkge1xuICAgIHJlbW92ZU1hdGNoaW5nSGVhZGVycygvXig/OmF1dGhvcml6YXRpb258Y29va2llKSQvaSwgdGhpcy5fb3B0aW9ucy5oZWFkZXJzKTtcbiAgfVxuXG4gIC8vIEV2YWx1YXRlIHRoZSBiZWZvcmVSZWRpcmVjdCBjYWxsYmFja1xuICBpZiAodHlwZW9mIHRoaXMuX29wdGlvbnMuYmVmb3JlUmVkaXJlY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciByZXNwb25zZURldGFpbHMgPSB7IGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnMgfTtcbiAgICB0cnkge1xuICAgICAgdGhpcy5fb3B0aW9ucy5iZWZvcmVSZWRpcmVjdC5jYWxsKG51bGwsIHRoaXMuX29wdGlvbnMsIHJlc3BvbnNlRGV0YWlscyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuZW1pdChcImVycm9yXCIsIGVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3Nhbml0aXplT3B0aW9ucyh0aGlzLl9vcHRpb25zKTtcbiAgfVxuXG4gIC8vIFBlcmZvcm0gdGhlIHJlZGlyZWN0ZWQgcmVxdWVzdFxuICB0cnkge1xuICAgIHRoaXMuX3BlcmZvcm1SZXF1ZXN0KCk7XG4gIH1cbiAgY2F0Y2ggKGNhdXNlKSB7XG4gICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgbmV3IFJlZGlyZWN0aW9uRXJyb3IoY2F1c2UpKTtcbiAgfVxufTtcblxuLy8gV3JhcHMgdGhlIGtleS92YWx1ZSBvYmplY3Qgb2YgcHJvdG9jb2xzIHdpdGggcmVkaXJlY3QgZnVuY3Rpb25hbGl0eVxuZnVuY3Rpb24gd3JhcChwcm90b2NvbHMpIHtcbiAgLy8gRGVmYXVsdCBzZXR0aW5nc1xuICB2YXIgZXhwb3J0cyA9IHtcbiAgICBtYXhSZWRpcmVjdHM6IDIxLFxuICAgIG1heEJvZHlMZW5ndGg6IDEwICogMTAyNCAqIDEwMjQsXG4gIH07XG5cbiAgLy8gV3JhcCBlYWNoIHByb3RvY29sXG4gIHZhciBuYXRpdmVQcm90b2NvbHMgPSB7fTtcbiAgT2JqZWN0LmtleXMocHJvdG9jb2xzKS5mb3JFYWNoKGZ1bmN0aW9uIChzY2hlbWUpIHtcbiAgICB2YXIgcHJvdG9jb2wgPSBzY2hlbWUgKyBcIjpcIjtcbiAgICB2YXIgbmF0aXZlUHJvdG9jb2wgPSBuYXRpdmVQcm90b2NvbHNbcHJvdG9jb2xdID0gcHJvdG9jb2xzW3NjaGVtZV07XG4gICAgdmFyIHdyYXBwZWRQcm90b2NvbCA9IGV4cG9ydHNbc2NoZW1lXSA9IE9iamVjdC5jcmVhdGUobmF0aXZlUHJvdG9jb2wpO1xuXG4gICAgLy8gRXhlY3V0ZXMgYSByZXF1ZXN0LCBmb2xsb3dpbmcgcmVkaXJlY3RzXG4gICAgZnVuY3Rpb24gcmVxdWVzdChpbnB1dCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgIC8vIFBhcnNlIHBhcmFtZXRlcnNcbiAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdmFyIHVybFN0ciA9IGlucHV0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlucHV0ID0gdXJsVG9PcHRpb25zKG5ldyBVUkwodXJsU3RyKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgaW5wdXQgPSB1cmwucGFyc2UodXJsU3RyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoVVJMICYmIChpbnB1dCBpbnN0YW5jZW9mIFVSTCkpIHtcbiAgICAgICAgaW5wdXQgPSB1cmxUb09wdGlvbnMoaW5wdXQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IGlucHV0O1xuICAgICAgICBpbnB1dCA9IHsgcHJvdG9jb2w6IHByb3RvY29sIH07XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgbWF4UmVkaXJlY3RzOiBleHBvcnRzLm1heFJlZGlyZWN0cyxcbiAgICAgICAgbWF4Qm9keUxlbmd0aDogZXhwb3J0cy5tYXhCb2R5TGVuZ3RoLFxuICAgICAgfSwgaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5uYXRpdmVQcm90b2NvbHMgPSBuYXRpdmVQcm90b2NvbHM7XG5cbiAgICAgIGFzc2VydC5lcXVhbChvcHRpb25zLnByb3RvY29sLCBwcm90b2NvbCwgXCJwcm90b2NvbCBtaXNtYXRjaFwiKTtcbiAgICAgIGRlYnVnKFwib3B0aW9uc1wiLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiBuZXcgUmVkaXJlY3RhYmxlUmVxdWVzdChvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLy8gRXhlY3V0ZXMgYSBHRVQgcmVxdWVzdCwgZm9sbG93aW5nIHJlZGlyZWN0c1xuICAgIGZ1bmN0aW9uIGdldChpbnB1dCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgIHZhciB3cmFwcGVkUmVxdWVzdCA9IHdyYXBwZWRQcm90b2NvbC5yZXF1ZXN0KGlucHV0LCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICB3cmFwcGVkUmVxdWVzdC5lbmQoKTtcbiAgICAgIHJldHVybiB3cmFwcGVkUmVxdWVzdDtcbiAgICB9XG5cbiAgICAvLyBFeHBvc2UgdGhlIHByb3BlcnRpZXMgb24gdGhlIHdyYXBwZWQgcHJvdG9jb2xcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3cmFwcGVkUHJvdG9jb2wsIHtcbiAgICAgIHJlcXVlc3Q6IHsgdmFsdWU6IHJlcXVlc3QsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgIGdldDogeyB2YWx1ZTogZ2V0LCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gZXhwb3J0cztcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIG5vb3AoKSB7IC8qIGVtcHR5ICovIH1cblxuLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvYmxvYi9tYXN0ZXIvbGliL2ludGVybmFsL3VybC5qc1xuZnVuY3Rpb24gdXJsVG9PcHRpb25zKHVybE9iamVjdCkge1xuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBwcm90b2NvbDogdXJsT2JqZWN0LnByb3RvY29sLFxuICAgIGhvc3RuYW1lOiB1cmxPYmplY3QuaG9zdG5hbWUuc3RhcnRzV2l0aChcIltcIikgP1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHVybE9iamVjdC5ob3N0bmFtZS5zbGljZSgxLCAtMSkgOlxuICAgICAgdXJsT2JqZWN0Lmhvc3RuYW1lLFxuICAgIGhhc2g6IHVybE9iamVjdC5oYXNoLFxuICAgIHNlYXJjaDogdXJsT2JqZWN0LnNlYXJjaCxcbiAgICBwYXRobmFtZTogdXJsT2JqZWN0LnBhdGhuYW1lLFxuICAgIHBhdGg6IHVybE9iamVjdC5wYXRobmFtZSArIHVybE9iamVjdC5zZWFyY2gsXG4gICAgaHJlZjogdXJsT2JqZWN0LmhyZWYsXG4gIH07XG4gIGlmICh1cmxPYmplY3QucG9ydCAhPT0gXCJcIikge1xuICAgIG9wdGlvbnMucG9ydCA9IE51bWJlcih1cmxPYmplY3QucG9ydCk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU1hdGNoaW5nSGVhZGVycyhyZWdleCwgaGVhZGVycykge1xuICB2YXIgbGFzdFZhbHVlO1xuICBmb3IgKHZhciBoZWFkZXIgaW4gaGVhZGVycykge1xuICAgIGlmIChyZWdleC50ZXN0KGhlYWRlcikpIHtcbiAgICAgIGxhc3RWYWx1ZSA9IGhlYWRlcnNbaGVhZGVyXTtcbiAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07XG4gICAgfVxuICB9XG4gIHJldHVybiAobGFzdFZhbHVlID09PSBudWxsIHx8IHR5cGVvZiBsYXN0VmFsdWUgPT09IFwidW5kZWZpbmVkXCIpID9cbiAgICB1bmRlZmluZWQgOiBTdHJpbmcobGFzdFZhbHVlKS50cmltKCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yVHlwZShjb2RlLCBkZWZhdWx0TWVzc2FnZSkge1xuICBmdW5jdGlvbiBDdXN0b21FcnJvcihjYXVzZSkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgIGlmICghY2F1c2UpIHtcbiAgICAgIHRoaXMubWVzc2FnZSA9IGRlZmF1bHRNZXNzYWdlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMubWVzc2FnZSA9IGRlZmF1bHRNZXNzYWdlICsgXCI6IFwiICsgY2F1c2UubWVzc2FnZTtcbiAgICAgIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgICB9XG4gIH1cbiAgQ3VzdG9tRXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG4gIEN1c3RvbUVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEN1c3RvbUVycm9yO1xuICBDdXN0b21FcnJvci5wcm90b3R5cGUubmFtZSA9IFwiRXJyb3IgW1wiICsgY29kZSArIFwiXVwiO1xuICBDdXN0b21FcnJvci5wcm90b3R5cGUuY29kZSA9IGNvZGU7XG4gIHJldHVybiBDdXN0b21FcnJvcjtcbn1cblxuZnVuY3Rpb24gYWJvcnRSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgZm9yICh2YXIgZSA9IDA7IGUgPCBldmVudHMubGVuZ3RoOyBlKyspIHtcbiAgICByZXF1ZXN0LnJlbW92ZUxpc3RlbmVyKGV2ZW50c1tlXSwgZXZlbnRIYW5kbGVyc1tldmVudHNbZV1dKTtcbiAgfVxuICByZXF1ZXN0Lm9uKFwiZXJyb3JcIiwgbm9vcCk7XG4gIHJlcXVlc3QuYWJvcnQoKTtcbn1cblxuZnVuY3Rpb24gaXNTdWJkb21haW4oc3ViZG9tYWluLCBkb21haW4pIHtcbiAgY29uc3QgZG90ID0gc3ViZG9tYWluLmxlbmd0aCAtIGRvbWFpbi5sZW5ndGggLSAxO1xuICByZXR1cm4gZG90ID4gMCAmJiBzdWJkb21haW5bZG90XSA9PT0gXCIuXCIgJiYgc3ViZG9tYWluLmVuZHNXaXRoKGRvbWFpbik7XG59XG5cbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gd3JhcCh7IGh0dHA6IGh0dHAsIGh0dHBzOiBodHRwcyB9KTtcbm1vZHVsZS5leHBvcnRzLndyYXAgPSB3cmFwO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgU1RSRUFNID0gcmVxdWlyZSgnc3RyZWFtJyksXG4gICAgVVRJTCA9IHJlcXVpcmUoJ3V0aWwnKSxcbiAgICBTdHJpbmdEZWNvZGVyID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXInKS5TdHJpbmdEZWNvZGVyO1xuXG5mdW5jdGlvbiBNZW1vcnlSZWFkYWJsZVN0cmVhbShkYXRhLCBvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1lbW9yeVJlYWRhYmxlU3RyZWFtKSlcbiAgICAgICAgcmV0dXJuIG5ldyBNZW1vcnlSZWFkYWJsZVN0cmVhbShkYXRhLCBvcHRpb25zKTtcbiAgICBNZW1vcnlSZWFkYWJsZVN0cmVhbS5zdXBlcl8uY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB0aGlzLmluaXQoZGF0YSwgb3B0aW9ucyk7XG59XG5VVElMLmluaGVyaXRzKE1lbW9yeVJlYWRhYmxlU3RyZWFtLCBTVFJFQU0uUmVhZGFibGUpO1xuXG5cbmZ1bmN0aW9uIE1lbW9yeVdyaXRhYmxlU3RyZWFtKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTWVtb3J5V3JpdGFibGVTdHJlYW0pKVxuICAgICAgICByZXR1cm4gbmV3IE1lbW9yeVdyaXRhYmxlU3RyZWFtKGRhdGEsIG9wdGlvbnMpO1xuICAgIE1lbW9yeVdyaXRhYmxlU3RyZWFtLnN1cGVyXy5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMuaW5pdChkYXRhLCBvcHRpb25zKTtcbn1cblVUSUwuaW5oZXJpdHMoTWVtb3J5V3JpdGFibGVTdHJlYW0sIFNUUkVBTS5Xcml0YWJsZSk7XG5cblxuZnVuY3Rpb24gTWVtb3J5RHVwbGV4U3RyZWFtKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTWVtb3J5RHVwbGV4U3RyZWFtKSlcbiAgICAgICAgcmV0dXJuIG5ldyBNZW1vcnlEdXBsZXhTdHJlYW0oZGF0YSwgb3B0aW9ucyk7XG4gICAgTWVtb3J5RHVwbGV4U3RyZWFtLnN1cGVyXy5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMuaW5pdChkYXRhLCBvcHRpb25zKTtcbn1cblVUSUwuaW5oZXJpdHMoTWVtb3J5RHVwbGV4U3RyZWFtLCBTVFJFQU0uRHVwbGV4KTtcblxuXG5NZW1vcnlSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUuaW5pdCA9XG5NZW1vcnlXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUuaW5pdCA9XG5NZW1vcnlEdXBsZXhTdHJlYW0ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiBpbml0IChkYXRhLCBvcHRpb25zKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMucXVldWUgPSBbXTtcblxuICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgZGF0YSA9IFsgZGF0YSBdO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgICAgICAgaWYgKCEoY2h1bmsgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgICAgICAgICAgICAgY2h1bmsgPSBuZXcgQnVmZmVyKGNodW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYucXVldWUucHVzaChjaHVuayk7XG4gICAgICAgIH0pO1xuXG4gICAgfVxuICAgIFxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIFxuICAgIHRoaXMubWF4YnVmc2l6ZSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ21heGJ1ZnNpemUnKSA/IG9wdGlvbnMubWF4YnVmc2l6ZVxuICAgICAgICAgICAgOiBudWxsO1xuICAgIHRoaXMuYnVmb3ZlcmZsb3cgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCdidWZvdmVyZmxvdycpID8gb3B0aW9ucy5idWZvdmVyZmxvd1xuICAgICAgICAgICAgOiBudWxsO1xuICAgIHRoaXMuZnJlcXVlbmNlID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZnJlcXVlbmNlJykgPyBvcHRpb25zLmZyZXF1ZW5jZVxuICAgICAgICAgICAgOiBudWxsO1xufTtcblxuZnVuY3Rpb24gTWVtb3J5U3RyZWFtIChkYXRhLCBvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1lbW9yeVN0cmVhbSkpXG4gICAgICAgIHJldHVybiBuZXcgTWVtb3J5U3RyZWFtKGRhdGEsIG9wdGlvbnMpO1xuICAgIFxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIFxuICAgIHZhciByZWFkYWJsZSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3JlYWRhYmxlJykgPyBvcHRpb25zLnJlYWRhYmxlIDogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGUgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCd3cml0YWJsZScpID8gb3B0aW9ucy53cml0YWJsZSA6IHRydWU7XG4gICAgXG4gICAgaWYgKHJlYWRhYmxlICYmIHdyaXRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWVtb3J5RHVwbGV4U3RyZWFtKGRhdGEsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAocmVhZGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNZW1vcnlSZWFkYWJsZVN0cmVhbShkYXRhLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKHdyaXRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWVtb3J5V3JpdGFibGVTdHJlYW0oZGF0YSwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBzdHJlYW0gdHlwZSAgUmVhZGFibGUsIFdyaXRhYmxlIG9yIER1cGxleCBcIik7XG4gICAgfVxufVxuXG5cbk1lbW9yeVN0cmVhbS5jcmVhdGVSZWFkU3RyZWFtID0gZnVuY3Rpb24gKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnJlYWRhYmxlID0gdHJ1ZTtcbiAgICBvcHRpb25zLndyaXRhYmxlID0gZmFsc2U7XG5cbiAgICByZXR1cm4gbmV3IE1lbW9yeVN0cmVhbShkYXRhLCBvcHRpb25zKTtcbn07XG5cblxuTWVtb3J5U3RyZWFtLmNyZWF0ZVdyaXRlU3RyZWFtID0gZnVuY3Rpb24gKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnJlYWRhYmxlID0gZmFsc2U7XG4gICAgb3B0aW9ucy53cml0YWJsZSA9IHRydWU7XG5cbiAgICByZXR1cm4gbmV3IE1lbW9yeVN0cmVhbShkYXRhLCBvcHRpb25zKTtcbn07XG5cblxuTWVtb3J5UmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLl9yZWFkID1cbk1lbW9yeUR1cGxleFN0cmVhbS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiBfcmVhZCAobikge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgZnJlcXVlbmNlID0gc2VsZi5mcmVxdWVuY2UgfHwgMCxcbiAgICAgICAgd2FpdF9kYXRhID0gdGhpcyBpbnN0YW5jZW9mIFNUUkVBTS5EdXBsZXggJiYgISB0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkID8gdHJ1ZSA6IGZhbHNlO1xuICAgIGlmICggISB0aGlzLnF1ZXVlLmxlbmd0aCAmJiAhIHdhaXRfZGF0YSkge1xuICAgICAgICB0aGlzLnB1c2gobnVsbCk7Ly8gZmluaXNoIHN0cmVhbVxuICAgIH0gZWxzZSBpZiAodGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2h1bmsgPSBzZWxmLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGNodW5rICYmICEgc2VsZi5fcmVhZGFibGVTdGF0ZS5lbmRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoICEgc2VsZi5wdXNoKGNodW5rKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucXVldWUudW5zaGlmdChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyZXF1ZW5jZSk7XG4gICAgfVxufTtcblxuXG5NZW1vcnlXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUuX3dyaXRlID1cbk1lbW9yeUR1cGxleFN0cmVhbS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gX3dyaXRlIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gICAgdmFyIGRlY29kZXIgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICAgIGRlY29kZXIgPSB0aGlzLmRlY29kZVN0cmluZ3MgJiYgZW5jb2RpbmcgPyBuZXcgU3RyaW5nRGVjb2RlcihlbmNvZGluZykgOiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycil7XG4gICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgIH1cbiAgICBcbiAgICB2YXIgZGVjb2RlZF9jaHVuayA9IGRlY29kZXIgPyBkZWNvZGVyLndyaXRlKGNodW5rKSA6IGNodW5rLFxuICAgICAgICBxdWV1ZV9zaXplID0gdGhpcy5fZ2V0UXVldWVTaXplKCksXG4gICAgICAgIGNodW5rX3NpemUgPSBkZWNvZGVkX2NodW5rLmxlbmd0aDtcbiAgICBcbiAgICBpZiAodGhpcy5tYXhidWZzaXplICYmIChxdWV1ZV9zaXplICsgY2h1bmtfc2l6ZSkgPiB0aGlzLm1heGJ1ZnNpemUgKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1Zm92ZXJmbG93KSB7XG4gICAgICAgICAgICByZXR1cm4gY2IoXCJCdWZmZXIgb3ZlcmZsb3dlZCAoXCIgKyB0aGlzLmJ1Zm92ZXJmbG93ICsgXCIvXCIgKyBxdWV1ZV9zaXplICsgXCIpXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNiKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBTVFJFQU0uRHVwbGV4KSB7XG4gICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wdXNoKHRoaXMucXVldWUuc2hpZnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wdXNoKGRlY29kZWRfY2h1bmspO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucXVldWUucHVzaChkZWNvZGVkX2NodW5rKTtcbiAgICB9XG4gICAgY2IoKTtcbn07XG5cblxuTWVtb3J5RHVwbGV4U3RyZWFtLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gTWVtb3J5RHVwbGV4U3RyZWFtLnN1cGVyXy5wcm90b3R5cGUuZW5kLmNhbGwodGhpcywgY2h1bmssIGVuY29kaW5nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYucHVzaChudWxsKTsvL2ZpbmlzaCByZWFkYmxlIHN0cmVhbSB0b29cbiAgICAgICAgaWYgKGNiKSBjYigpO1xuICAgIH0pO1xufTtcblxuXG5NZW1vcnlSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUuX2dldFF1ZXVlU2l6ZSA9ICBcbk1lbW9yeVdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZS5fZ2V0UXVldWVTaXplID0gXG5NZW1vcnlEdXBsZXhTdHJlYW0ucHJvdG90eXBlLl9nZXRRdWV1ZVNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHF1ZXVlc2l6ZSA9IDAsIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMucXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcXVldWVzaXplICs9IEFycmF5LmlzQXJyYXkodGhpcy5xdWV1ZVtpXSkgPyB0aGlzLnF1ZXVlW2ldWzBdLmxlbmd0aFxuICAgICAgICAgICAgICAgIDogdGhpcy5xdWV1ZVtpXS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBxdWV1ZXNpemU7XG59O1xuXG5cbk1lbW9yeVdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZS50b1N0cmluZyA9IFxuTWVtb3J5RHVwbGV4U3RyZWFtLnByb3RvdHlwZS50b1N0cmluZyA9IFxuTWVtb3J5UmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLnRvU3RyaW5nID0gXG5NZW1vcnlXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUuZ2V0QWxsID0gXG5NZW1vcnlEdXBsZXhTdHJlYW0ucHJvdG90eXBlLmdldEFsbCA9IFxuTWVtb3J5UmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHJldCA9ICcnO1xuICAgIHRoaXMucXVldWUuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXQgKz0gZGF0YTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuXG5NZW1vcnlXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUudG9CdWZmZXIgPSBcbk1lbW9yeUR1cGxleFN0cmVhbS5wcm90b3R5cGUudG9CdWZmZXIgPSBcbk1lbW9yeVJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS50b0J1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLl9nZXRRdWV1ZVNpemUoKSksXG4gICAgICAgIGN1cnJlbnRPZmZzZXQgPSAwO1xuXG4gICAgdGhpcy5xdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBkYXRhX2J1ZmZlciA9IGRhdGEgaW5zdGFuY2VvZiBCdWZmZXIgPyBkYXRhIDogbmV3IEJ1ZmZlcihkYXRhKTtcbiAgICAgICAgZGF0YV9idWZmZXIuY29weShidWZmZXIsIGN1cnJlbnRPZmZzZXQpO1xuICAgICAgICBjdXJyZW50T2Zmc2V0ICs9IGRhdGEubGVuZ3RoO1xuICAgIH0pO1xuICAgIHJldHVybiBidWZmZXI7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gTWVtb3J5U3RyZWFtO1xuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gU2VtVmVyXG5cbnZhciBkZWJ1Z1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiZcbiAgICBwcm9jZXNzLmVudiAmJlxuICAgIHByb2Nlc3MuZW52Lk5PREVfREVCVUcgJiZcbiAgICAvXFxic2VtdmVyXFxiL2kudGVzdChwcm9jZXNzLmVudi5OT0RFX0RFQlVHKSkge1xuICBkZWJ1ZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMClcbiAgICBhcmdzLnVuc2hpZnQoJ1NFTVZFUicpXG4gICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJncylcbiAgfVxufSBlbHNlIHtcbiAgZGVidWcgPSBmdW5jdGlvbiAoKSB7fVxufVxuXG4vLyBOb3RlOiB0aGlzIGlzIHRoZSBzZW12ZXIub3JnIHZlcnNpb24gb2YgdGhlIHNwZWMgdGhhdCBpdCBpbXBsZW1lbnRzXG4vLyBOb3QgbmVjZXNzYXJpbHkgdGhlIHBhY2thZ2UgdmVyc2lvbiBvZiB0aGlzIGNvZGUuXG5leHBvcnRzLlNFTVZFUl9TUEVDX1ZFUlNJT04gPSAnMi4wLjAnXG5cbnZhciBNQVhfTEVOR1RIID0gMjU2XG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIDkwMDcxOTkyNTQ3NDA5OTFcblxuLy8gTWF4IHNhZmUgc2VnbWVudCBsZW5ndGggZm9yIGNvZXJjaW9uLlxudmFyIE1BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEggPSAxNlxuXG4vLyBUaGUgYWN0dWFsIHJlZ2V4cHMgZ28gb24gZXhwb3J0cy5yZVxudmFyIHJlID0gZXhwb3J0cy5yZSA9IFtdXG52YXIgc3JjID0gZXhwb3J0cy5zcmMgPSBbXVxudmFyIFIgPSAwXG5cbi8vIFRoZSBmb2xsb3dpbmcgUmVndWxhciBFeHByZXNzaW9ucyBjYW4gYmUgdXNlZCBmb3IgdG9rZW5pemluZyxcbi8vIHZhbGlkYXRpbmcsIGFuZCBwYXJzaW5nIFNlbVZlciB2ZXJzaW9uIHN0cmluZ3MuXG5cbi8vICMjIE51bWVyaWMgSWRlbnRpZmllclxuLy8gQSBzaW5nbGUgYDBgLCBvciBhIG5vbi16ZXJvIGRpZ2l0IGZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBkaWdpdHMuXG5cbnZhciBOVU1FUklDSURFTlRJRklFUiA9IFIrK1xuc3JjW05VTUVSSUNJREVOVElGSUVSXSA9ICcwfFsxLTldXFxcXGQqJ1xudmFyIE5VTUVSSUNJREVOVElGSUVSTE9PU0UgPSBSKytcbnNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSA9ICdbMC05XSsnXG5cbi8vICMjIE5vbi1udW1lcmljIElkZW50aWZpZXJcbi8vIFplcm8gb3IgbW9yZSBkaWdpdHMsIGZvbGxvd2VkIGJ5IGEgbGV0dGVyIG9yIGh5cGhlbiwgYW5kIHRoZW4gemVybyBvclxuLy8gbW9yZSBsZXR0ZXJzLCBkaWdpdHMsIG9yIGh5cGhlbnMuXG5cbnZhciBOT05OVU1FUklDSURFTlRJRklFUiA9IFIrK1xuc3JjW05PTk5VTUVSSUNJREVOVElGSUVSXSA9ICdcXFxcZCpbYS16QS1aLV1bYS16QS1aMC05LV0qJ1xuXG4vLyAjIyBNYWluIFZlcnNpb25cbi8vIFRocmVlIGRvdC1zZXBhcmF0ZWQgbnVtZXJpYyBpZGVudGlmaWVycy5cblxudmFyIE1BSU5WRVJTSU9OID0gUisrXG5zcmNbTUFJTlZFUlNJT05dID0gJygnICsgc3JjW05VTUVSSUNJREVOVElGSUVSXSArICcpXFxcXC4nICtcbiAgICAgICAgICAgICAgICAgICAnKCcgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJdICsgJylcXFxcLicgK1xuICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUl0gKyAnKSdcblxudmFyIE1BSU5WRVJTSU9OTE9PU0UgPSBSKytcbnNyY1tNQUlOVkVSU0lPTkxPT1NFXSA9ICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArICcpXFxcXC4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArICcpXFxcXC4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArICcpJ1xuXG4vLyAjIyBQcmUtcmVsZWFzZSBWZXJzaW9uIElkZW50aWZpZXJcbi8vIEEgbnVtZXJpYyBpZGVudGlmaWVyLCBvciBhIG5vbi1udW1lcmljIGlkZW50aWZpZXIuXG5cbnZhciBQUkVSRUxFQVNFSURFTlRJRklFUiA9IFIrK1xuc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSXSA9ICcoPzonICsgc3JjW05VTUVSSUNJREVOVElGSUVSXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3wnICsgc3JjW05PTk5VTUVSSUNJREVOVElGSUVSXSArICcpJ1xuXG52YXIgUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRSA9IFIrK1xuc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSTE9PU0VdID0gJyg/OicgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJMT09TRV0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3wnICsgc3JjW05PTk5VTUVSSUNJREVOVElGSUVSXSArICcpJ1xuXG4vLyAjIyBQcmUtcmVsZWFzZSBWZXJzaW9uXG4vLyBIeXBoZW4sIGZvbGxvd2VkIGJ5IG9uZSBvciBtb3JlIGRvdC1zZXBhcmF0ZWQgcHJlLXJlbGVhc2UgdmVyc2lvblxuLy8gaWRlbnRpZmllcnMuXG5cbnZhciBQUkVSRUxFQVNFID0gUisrXG5zcmNbUFJFUkVMRUFTRV0gPSAnKD86LSgnICsgc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSXSArXG4gICAgICAgICAgICAgICAgICAnKD86XFxcXC4nICsgc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSXSArICcpKikpJ1xuXG52YXIgUFJFUkVMRUFTRUxPT1NFID0gUisrXG5zcmNbUFJFUkVMRUFTRUxPT1NFXSA9ICcoPzotPygnICsgc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSTE9PU0VdICtcbiAgICAgICAgICAgICAgICAgICAgICAgJyg/OlxcXFwuJyArIHNyY1tQUkVSRUxFQVNFSURFTlRJRklFUkxPT1NFXSArICcpKikpJ1xuXG4vLyAjIyBCdWlsZCBNZXRhZGF0YSBJZGVudGlmaWVyXG4vLyBBbnkgY29tYmluYXRpb24gb2YgZGlnaXRzLCBsZXR0ZXJzLCBvciBoeXBoZW5zLlxuXG52YXIgQlVJTERJREVOVElGSUVSID0gUisrXG5zcmNbQlVJTERJREVOVElGSUVSXSA9ICdbMC05QS1aYS16LV0rJ1xuXG4vLyAjIyBCdWlsZCBNZXRhZGF0YVxuLy8gUGx1cyBzaWduLCBmb2xsb3dlZCBieSBvbmUgb3IgbW9yZSBwZXJpb2Qtc2VwYXJhdGVkIGJ1aWxkIG1ldGFkYXRhXG4vLyBpZGVudGlmaWVycy5cblxudmFyIEJVSUxEID0gUisrXG5zcmNbQlVJTERdID0gJyg/OlxcXFwrKCcgKyBzcmNbQlVJTERJREVOVElGSUVSXSArXG4gICAgICAgICAgICAgJyg/OlxcXFwuJyArIHNyY1tCVUlMRElERU5USUZJRVJdICsgJykqKSknXG5cbi8vICMjIEZ1bGwgVmVyc2lvbiBTdHJpbmdcbi8vIEEgbWFpbiB2ZXJzaW9uLCBmb2xsb3dlZCBvcHRpb25hbGx5IGJ5IGEgcHJlLXJlbGVhc2UgdmVyc2lvbiBhbmRcbi8vIGJ1aWxkIG1ldGFkYXRhLlxuXG4vLyBOb3RlIHRoYXQgdGhlIG9ubHkgbWFqb3IsIG1pbm9yLCBwYXRjaCwgYW5kIHByZS1yZWxlYXNlIHNlY3Rpb25zIG9mXG4vLyB0aGUgdmVyc2lvbiBzdHJpbmcgYXJlIGNhcHR1cmluZyBncm91cHMuICBUaGUgYnVpbGQgbWV0YWRhdGEgaXMgbm90IGFcbi8vIGNhcHR1cmluZyBncm91cCwgYmVjYXVzZSBpdCBzaG91bGQgbm90IGV2ZXIgYmUgdXNlZCBpbiB2ZXJzaW9uXG4vLyBjb21wYXJpc29uLlxuXG52YXIgRlVMTCA9IFIrK1xudmFyIEZVTExQTEFJTiA9ICd2PycgKyBzcmNbTUFJTlZFUlNJT05dICtcbiAgICAgICAgICAgICAgICBzcmNbUFJFUkVMRUFTRV0gKyAnPycgK1xuICAgICAgICAgICAgICAgIHNyY1tCVUlMRF0gKyAnPydcblxuc3JjW0ZVTExdID0gJ14nICsgRlVMTFBMQUlOICsgJyQnXG5cbi8vIGxpa2UgZnVsbCwgYnV0IGFsbG93cyB2MS4yLjMgYW5kID0xLjIuMywgd2hpY2ggcGVvcGxlIGRvIHNvbWV0aW1lcy5cbi8vIGFsc28sIDEuMC4wYWxwaGExIChwcmVyZWxlYXNlIHdpdGhvdXQgdGhlIGh5cGhlbikgd2hpY2ggaXMgcHJldHR5XG4vLyBjb21tb24gaW4gdGhlIG5wbSByZWdpc3RyeS5cbnZhciBMT09TRVBMQUlOID0gJ1t2PVxcXFxzXSonICsgc3JjW01BSU5WRVJTSU9OTE9PU0VdICtcbiAgICAgICAgICAgICAgICAgc3JjW1BSRVJFTEVBU0VMT09TRV0gKyAnPycgK1xuICAgICAgICAgICAgICAgICBzcmNbQlVJTERdICsgJz8nXG5cbnZhciBMT09TRSA9IFIrK1xuc3JjW0xPT1NFXSA9ICdeJyArIExPT1NFUExBSU4gKyAnJCdcblxudmFyIEdUTFQgPSBSKytcbnNyY1tHVExUXSA9ICcoKD86PHw+KT89PyknXG5cbi8vIFNvbWV0aGluZyBsaWtlIFwiMi4qXCIgb3IgXCIxLjIueFwiLlxuLy8gTm90ZSB0aGF0IFwieC54XCIgaXMgYSB2YWxpZCB4UmFuZ2UgaWRlbnRpZmVyLCBtZWFuaW5nIFwiYW55IHZlcnNpb25cIlxuLy8gT25seSB0aGUgZmlyc3QgaXRlbSBpcyBzdHJpY3RseSByZXF1aXJlZC5cbnZhciBYUkFOR0VJREVOVElGSUVSTE9PU0UgPSBSKytcbnNyY1tYUkFOR0VJREVOVElGSUVSTE9PU0VdID0gc3JjW05VTUVSSUNJREVOVElGSUVSTE9PU0VdICsgJ3x4fFh8XFxcXConXG52YXIgWFJBTkdFSURFTlRJRklFUiA9IFIrK1xuc3JjW1hSQU5HRUlERU5USUZJRVJdID0gc3JjW05VTUVSSUNJREVOVElGSUVSXSArICd8eHxYfFxcXFwqJ1xuXG52YXIgWFJBTkdFUExBSU4gPSBSKytcbnNyY1tYUkFOR0VQTEFJTl0gPSAnW3Y9XFxcXHNdKignICsgc3JjW1hSQU5HRUlERU5USUZJRVJdICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAnKD86XFxcXC4oJyArIHNyY1tYUkFOR0VJREVOVElGSUVSXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgJyg/OlxcXFwuKCcgKyBzcmNbWFJBTkdFSURFTlRJRklFUl0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICcoPzonICsgc3JjW1BSRVJFTEVBU0VdICsgJyk/JyArXG4gICAgICAgICAgICAgICAgICAgc3JjW0JVSUxEXSArICc/JyArXG4gICAgICAgICAgICAgICAgICAgJyk/KT8nXG5cbnZhciBYUkFOR0VQTEFJTkxPT1NFID0gUisrXG5zcmNbWFJBTkdFUExBSU5MT09TRV0gPSAnW3Y9XFxcXHNdKignICsgc3JjW1hSQU5HRUlERU5USUZJRVJMT09TRV0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyg/OlxcXFwuKCcgKyBzcmNbWFJBTkdFSURFTlRJRklFUkxPT1NFXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnKD86XFxcXC4oJyArIHNyY1tYUkFOR0VJREVOVElGSUVSTE9PU0VdICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoPzonICsgc3JjW1BSRVJFTEVBU0VMT09TRV0gKyAnKT8nICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyY1tCVUlMRF0gKyAnPycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyk/KT8nXG5cbnZhciBYUkFOR0UgPSBSKytcbnNyY1tYUkFOR0VdID0gJ14nICsgc3JjW0dUTFRdICsgJ1xcXFxzKicgKyBzcmNbWFJBTkdFUExBSU5dICsgJyQnXG52YXIgWFJBTkdFTE9PU0UgPSBSKytcbnNyY1tYUkFOR0VMT09TRV0gPSAnXicgKyBzcmNbR1RMVF0gKyAnXFxcXHMqJyArIHNyY1tYUkFOR0VQTEFJTkxPT1NFXSArICckJ1xuXG4vLyBDb2VyY2lvbi5cbi8vIEV4dHJhY3QgYW55dGhpbmcgdGhhdCBjb3VsZCBjb25jZWl2YWJseSBiZSBhIHBhcnQgb2YgYSB2YWxpZCBzZW12ZXJcbnZhciBDT0VSQ0UgPSBSKytcbnNyY1tDT0VSQ0VdID0gJyg/Ol58W15cXFxcZF0pJyArXG4gICAgICAgICAgICAgICcoXFxcXGR7MSwnICsgTUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSCArICd9KScgK1xuICAgICAgICAgICAgICAnKD86XFxcXC4oXFxcXGR7MSwnICsgTUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSCArICd9KSk/JyArXG4gICAgICAgICAgICAgICcoPzpcXFxcLihcXFxcZHsxLCcgKyBNQVhfU0FGRV9DT01QT05FTlRfTEVOR1RIICsgJ30pKT8nICtcbiAgICAgICAgICAgICAgJyg/OiR8W15cXFxcZF0pJ1xuXG4vLyBUaWxkZSByYW5nZXMuXG4vLyBNZWFuaW5nIGlzIFwicmVhc29uYWJseSBhdCBvciBncmVhdGVyIHRoYW5cIlxudmFyIExPTkVUSUxERSA9IFIrK1xuc3JjW0xPTkVUSUxERV0gPSAnKD86fj4/KSdcblxudmFyIFRJTERFVFJJTSA9IFIrK1xuc3JjW1RJTERFVFJJTV0gPSAnKFxcXFxzKiknICsgc3JjW0xPTkVUSUxERV0gKyAnXFxcXHMrJ1xucmVbVElMREVUUklNXSA9IG5ldyBSZWdFeHAoc3JjW1RJTERFVFJJTV0sICdnJylcbnZhciB0aWxkZVRyaW1SZXBsYWNlID0gJyQxfidcblxudmFyIFRJTERFID0gUisrXG5zcmNbVElMREVdID0gJ14nICsgc3JjW0xPTkVUSUxERV0gKyBzcmNbWFJBTkdFUExBSU5dICsgJyQnXG52YXIgVElMREVMT09TRSA9IFIrK1xuc3JjW1RJTERFTE9PU0VdID0gJ14nICsgc3JjW0xPTkVUSUxERV0gKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnJCdcblxuLy8gQ2FyZXQgcmFuZ2VzLlxuLy8gTWVhbmluZyBpcyBcImF0IGxlYXN0IGFuZCBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoXCJcbnZhciBMT05FQ0FSRVQgPSBSKytcbnNyY1tMT05FQ0FSRVRdID0gJyg/OlxcXFxeKSdcblxudmFyIENBUkVUVFJJTSA9IFIrK1xuc3JjW0NBUkVUVFJJTV0gPSAnKFxcXFxzKiknICsgc3JjW0xPTkVDQVJFVF0gKyAnXFxcXHMrJ1xucmVbQ0FSRVRUUklNXSA9IG5ldyBSZWdFeHAoc3JjW0NBUkVUVFJJTV0sICdnJylcbnZhciBjYXJldFRyaW1SZXBsYWNlID0gJyQxXidcblxudmFyIENBUkVUID0gUisrXG5zcmNbQ0FSRVRdID0gJ14nICsgc3JjW0xPTkVDQVJFVF0gKyBzcmNbWFJBTkdFUExBSU5dICsgJyQnXG52YXIgQ0FSRVRMT09TRSA9IFIrK1xuc3JjW0NBUkVUTE9PU0VdID0gJ14nICsgc3JjW0xPTkVDQVJFVF0gKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnJCdcblxuLy8gQSBzaW1wbGUgZ3QvbHQvZXEgdGhpbmcsIG9yIGp1c3QgXCJcIiB0byBpbmRpY2F0ZSBcImFueSB2ZXJzaW9uXCJcbnZhciBDT01QQVJBVE9STE9PU0UgPSBSKytcbnNyY1tDT01QQVJBVE9STE9PU0VdID0gJ14nICsgc3JjW0dUTFRdICsgJ1xcXFxzKignICsgTE9PU0VQTEFJTiArICcpJHxeJCdcbnZhciBDT01QQVJBVE9SID0gUisrXG5zcmNbQ09NUEFSQVRPUl0gPSAnXicgKyBzcmNbR1RMVF0gKyAnXFxcXHMqKCcgKyBGVUxMUExBSU4gKyAnKSR8XiQnXG5cbi8vIEFuIGV4cHJlc3Npb24gdG8gc3RyaXAgYW55IHdoaXRlc3BhY2UgYmV0d2VlbiB0aGUgZ3RsdCBhbmQgdGhlIHRoaW5nXG4vLyBpdCBtb2RpZmllcywgc28gdGhhdCBgPiAxLjIuM2AgPT0+IGA+MS4yLjNgXG52YXIgQ09NUEFSQVRPUlRSSU0gPSBSKytcbnNyY1tDT01QQVJBVE9SVFJJTV0gPSAnKFxcXFxzKiknICsgc3JjW0dUTFRdICtcbiAgICAgICAgICAgICAgICAgICAgICAnXFxcXHMqKCcgKyBMT09TRVBMQUlOICsgJ3wnICsgc3JjW1hSQU5HRVBMQUlOXSArICcpJ1xuXG4vLyB0aGlzIG9uZSBoYXMgdG8gdXNlIHRoZSAvZyBmbGFnXG5yZVtDT01QQVJBVE9SVFJJTV0gPSBuZXcgUmVnRXhwKHNyY1tDT01QQVJBVE9SVFJJTV0sICdnJylcbnZhciBjb21wYXJhdG9yVHJpbVJlcGxhY2UgPSAnJDEkMiQzJ1xuXG4vLyBTb21ldGhpbmcgbGlrZSBgMS4yLjMgLSAxLjIuNGBcbi8vIE5vdGUgdGhhdCB0aGVzZSBhbGwgdXNlIHRoZSBsb29zZSBmb3JtLCBiZWNhdXNlIHRoZXknbGwgYmVcbi8vIGNoZWNrZWQgYWdhaW5zdCBlaXRoZXIgdGhlIHN0cmljdCBvciBsb29zZSBjb21wYXJhdG9yIGZvcm1cbi8vIGxhdGVyLlxudmFyIEhZUEhFTlJBTkdFID0gUisrXG5zcmNbSFlQSEVOUkFOR0VdID0gJ15cXFxccyooJyArIHNyY1tYUkFOR0VQTEFJTl0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICdcXFxccystXFxcXHMrJyArXG4gICAgICAgICAgICAgICAgICAgJygnICsgc3JjW1hSQU5HRVBMQUlOXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgJ1xcXFxzKiQnXG5cbnZhciBIWVBIRU5SQU5HRUxPT1NFID0gUisrXG5zcmNbSFlQSEVOUkFOR0VMT09TRV0gPSAnXlxcXFxzKignICsgc3JjW1hSQU5HRVBMQUlOTE9PU0VdICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXFxccystXFxcXHMrJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnKCcgKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcXFxzKiQnXG5cbi8vIFN0YXIgcmFuZ2VzIGJhc2ljYWxseSBqdXN0IGFsbG93IGFueXRoaW5nIGF0IGFsbC5cbnZhciBTVEFSID0gUisrXG5zcmNbU1RBUl0gPSAnKDx8Pik/PT9cXFxccypcXFxcKidcblxuLy8gQ29tcGlsZSB0byBhY3R1YWwgcmVnZXhwIG9iamVjdHMuXG4vLyBBbGwgYXJlIGZsYWctZnJlZSwgdW5sZXNzIHRoZXkgd2VyZSBjcmVhdGVkIGFib3ZlIHdpdGggYSBmbGFnLlxuZm9yICh2YXIgaSA9IDA7IGkgPCBSOyBpKyspIHtcbiAgZGVidWcoaSwgc3JjW2ldKVxuICBpZiAoIXJlW2ldKSB7XG4gICAgcmVbaV0gPSBuZXcgUmVnRXhwKHNyY1tpXSlcbiAgfVxufVxuXG5leHBvcnRzLnBhcnNlID0gcGFyc2VcbmZ1bmN0aW9uIHBhcnNlICh2ZXJzaW9uLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgbG9vc2U6ICEhb3B0aW9ucyxcbiAgICAgIGluY2x1ZGVQcmVyZWxlYXNlOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7XG4gICAgcmV0dXJuIHZlcnNpb25cbiAgfVxuXG4gIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgaWYgKHZlcnNpb24ubGVuZ3RoID4gTUFYX0xFTkdUSCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICB2YXIgciA9IG9wdGlvbnMubG9vc2UgPyByZVtMT09TRV0gOiByZVtGVUxMXVxuICBpZiAoIXIudGVzdCh2ZXJzaW9uKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBuZXcgU2VtVmVyKHZlcnNpb24sIG9wdGlvbnMpXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnRzLnZhbGlkID0gdmFsaWRcbmZ1bmN0aW9uIHZhbGlkICh2ZXJzaW9uLCBvcHRpb25zKSB7XG4gIHZhciB2ID0gcGFyc2UodmVyc2lvbiwgb3B0aW9ucylcbiAgcmV0dXJuIHYgPyB2LnZlcnNpb24gOiBudWxsXG59XG5cbmV4cG9ydHMuY2xlYW4gPSBjbGVhblxuZnVuY3Rpb24gY2xlYW4gKHZlcnNpb24sIG9wdGlvbnMpIHtcbiAgdmFyIHMgPSBwYXJzZSh2ZXJzaW9uLnRyaW0oKS5yZXBsYWNlKC9eWz12XSsvLCAnJyksIG9wdGlvbnMpXG4gIHJldHVybiBzID8gcy52ZXJzaW9uIDogbnVsbFxufVxuXG5leHBvcnRzLlNlbVZlciA9IFNlbVZlclxuXG5mdW5jdGlvbiBTZW1WZXIgKHZlcnNpb24sIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBsb29zZTogISFvcHRpb25zLFxuICAgICAgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlXG4gICAgfVxuICB9XG4gIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7XG4gICAgaWYgKHZlcnNpb24ubG9vc2UgPT09IG9wdGlvbnMubG9vc2UpIHtcbiAgICAgIHJldHVybiB2ZXJzaW9uXG4gICAgfSBlbHNlIHtcbiAgICAgIHZlcnNpb24gPSB2ZXJzaW9uLnZlcnNpb25cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZlcnNpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBWZXJzaW9uOiAnICsgdmVyc2lvbilcbiAgfVxuXG4gIGlmICh2ZXJzaW9uLmxlbmd0aCA+IE1BWF9MRU5HVEgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2ZXJzaW9uIGlzIGxvbmdlciB0aGFuICcgKyBNQVhfTEVOR1RIICsgJyBjaGFyYWN0ZXJzJylcbiAgfVxuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTZW1WZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBTZW1WZXIodmVyc2lvbiwgb3B0aW9ucylcbiAgfVxuXG4gIGRlYnVnKCdTZW1WZXInLCB2ZXJzaW9uLCBvcHRpb25zKVxuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gIHRoaXMubG9vc2UgPSAhIW9wdGlvbnMubG9vc2VcblxuICB2YXIgbSA9IHZlcnNpb24udHJpbSgpLm1hdGNoKG9wdGlvbnMubG9vc2UgPyByZVtMT09TRV0gOiByZVtGVUxMXSlcblxuICBpZiAoIW0pIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIFZlcnNpb246ICcgKyB2ZXJzaW9uKVxuICB9XG5cbiAgdGhpcy5yYXcgPSB2ZXJzaW9uXG5cbiAgLy8gdGhlc2UgYXJlIGFjdHVhbGx5IG51bWJlcnNcbiAgdGhpcy5tYWpvciA9ICttWzFdXG4gIHRoaXMubWlub3IgPSArbVsyXVxuICB0aGlzLnBhdGNoID0gK21bM11cblxuICBpZiAodGhpcy5tYWpvciA+IE1BWF9TQUZFX0lOVEVHRVIgfHwgdGhpcy5tYWpvciA8IDApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG1ham9yIHZlcnNpb24nKVxuICB9XG5cbiAgaWYgKHRoaXMubWlub3IgPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHRoaXMubWlub3IgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBtaW5vciB2ZXJzaW9uJylcbiAgfVxuXG4gIGlmICh0aGlzLnBhdGNoID4gTUFYX1NBRkVfSU5URUdFUiB8fCB0aGlzLnBhdGNoIDwgMCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgcGF0Y2ggdmVyc2lvbicpXG4gIH1cblxuICAvLyBudW1iZXJpZnkgYW55IHByZXJlbGVhc2UgbnVtZXJpYyBpZHNcbiAgaWYgKCFtWzRdKSB7XG4gICAgdGhpcy5wcmVyZWxlYXNlID0gW11cbiAgfSBlbHNlIHtcbiAgICB0aGlzLnByZXJlbGVhc2UgPSBtWzRdLnNwbGl0KCcuJykubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgICAgaWYgKC9eWzAtOV0rJC8udGVzdChpZCkpIHtcbiAgICAgICAgdmFyIG51bSA9ICtpZFxuICAgICAgICBpZiAobnVtID49IDAgJiYgbnVtIDwgTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICAgIHJldHVybiBudW1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlkXG4gICAgfSlcbiAgfVxuXG4gIHRoaXMuYnVpbGQgPSBtWzVdID8gbVs1XS5zcGxpdCgnLicpIDogW11cbiAgdGhpcy5mb3JtYXQoKVxufVxuXG5TZW1WZXIucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy52ZXJzaW9uID0gdGhpcy5tYWpvciArICcuJyArIHRoaXMubWlub3IgKyAnLicgKyB0aGlzLnBhdGNoXG4gIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoKSB7XG4gICAgdGhpcy52ZXJzaW9uICs9ICctJyArIHRoaXMucHJlcmVsZWFzZS5qb2luKCcuJylcbiAgfVxuICByZXR1cm4gdGhpcy52ZXJzaW9uXG59XG5cblNlbVZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnZlcnNpb25cbn1cblxuU2VtVmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gIGRlYnVnKCdTZW1WZXIuY29tcGFyZScsIHRoaXMudmVyc2lvbiwgdGhpcy5vcHRpb25zLCBvdGhlcilcbiAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBTZW1WZXIpKSB7XG4gICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLm9wdGlvbnMpXG4gIH1cblxuICByZXR1cm4gdGhpcy5jb21wYXJlTWFpbihvdGhlcikgfHwgdGhpcy5jb21wYXJlUHJlKG90aGVyKVxufVxuXG5TZW1WZXIucHJvdG90eXBlLmNvbXBhcmVNYWluID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gIGlmICghKG90aGVyIGluc3RhbmNlb2YgU2VtVmVyKSkge1xuICAgIG90aGVyID0gbmV3IFNlbVZlcihvdGhlciwgdGhpcy5vcHRpb25zKVxuICB9XG5cbiAgcmV0dXJuIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1ham9yLCBvdGhlci5tYWpvcikgfHxcbiAgICAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1pbm9yLCBvdGhlci5taW5vcikgfHxcbiAgICAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLnBhdGNoLCBvdGhlci5wYXRjaClcbn1cblxuU2VtVmVyLnByb3RvdHlwZS5jb21wYXJlUHJlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gIGlmICghKG90aGVyIGluc3RhbmNlb2YgU2VtVmVyKSkge1xuICAgIG90aGVyID0gbmV3IFNlbVZlcihvdGhlciwgdGhpcy5vcHRpb25zKVxuICB9XG5cbiAgLy8gTk9UIGhhdmluZyBhIHByZXJlbGVhc2UgaXMgPiBoYXZpbmcgb25lXG4gIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoICYmICFvdGhlci5wcmVyZWxlYXNlLmxlbmd0aCkge1xuICAgIHJldHVybiAtMVxuICB9IGVsc2UgaWYgKCF0aGlzLnByZXJlbGVhc2UubGVuZ3RoICYmIG90aGVyLnByZXJlbGVhc2UubGVuZ3RoKSB7XG4gICAgcmV0dXJuIDFcbiAgfSBlbHNlIGlmICghdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCAmJiAhb3RoZXIucHJlcmVsZWFzZS5sZW5ndGgpIHtcbiAgICByZXR1cm4gMFxuICB9XG5cbiAgdmFyIGkgPSAwXG4gIGRvIHtcbiAgICB2YXIgYSA9IHRoaXMucHJlcmVsZWFzZVtpXVxuICAgIHZhciBiID0gb3RoZXIucHJlcmVsZWFzZVtpXVxuICAgIGRlYnVnKCdwcmVyZWxlYXNlIGNvbXBhcmUnLCBpLCBhLCBiKVxuICAgIGlmIChhID09PSB1bmRlZmluZWQgJiYgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gMFxuICAgIH0gZWxzZSBpZiAoYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gMVxuICAgIH0gZWxzZSBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9IGVsc2UgaWYgKGEgPT09IGIpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb21wYXJlSWRlbnRpZmllcnMoYSwgYilcbiAgICB9XG4gIH0gd2hpbGUgKCsraSlcbn1cblxuLy8gcHJlbWlub3Igd2lsbCBidW1wIHRoZSB2ZXJzaW9uIHVwIHRvIHRoZSBuZXh0IG1pbm9yIHJlbGVhc2UsIGFuZCBpbW1lZGlhdGVseVxuLy8gZG93biB0byBwcmUtcmVsZWFzZS4gcHJlbWFqb3IgYW5kIHByZXBhdGNoIHdvcmsgdGhlIHNhbWUgd2F5LlxuU2VtVmVyLnByb3RvdHlwZS5pbmMgPSBmdW5jdGlvbiAocmVsZWFzZSwgaWRlbnRpZmllcikge1xuICBzd2l0Y2ggKHJlbGVhc2UpIHtcbiAgICBjYXNlICdwcmVtYWpvcic6XG4gICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID0gMFxuICAgICAgdGhpcy5wYXRjaCA9IDBcbiAgICAgIHRoaXMubWlub3IgPSAwXG4gICAgICB0aGlzLm1ham9yKytcbiAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdwcmVtaW5vcic6XG4gICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID0gMFxuICAgICAgdGhpcy5wYXRjaCA9IDBcbiAgICAgIHRoaXMubWlub3IrK1xuICAgICAgdGhpcy5pbmMoJ3ByZScsIGlkZW50aWZpZXIpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3ByZXBhdGNoJzpcbiAgICAgIC8vIElmIHRoaXMgaXMgYWxyZWFkeSBhIHByZXJlbGVhc2UsIGl0IHdpbGwgYnVtcCB0byB0aGUgbmV4dCB2ZXJzaW9uXG4gICAgICAvLyBkcm9wIGFueSBwcmVyZWxlYXNlcyB0aGF0IG1pZ2h0IGFscmVhZHkgZXhpc3QsIHNpbmNlIHRoZXkgYXJlIG5vdFxuICAgICAgLy8gcmVsZXZhbnQgYXQgdGhpcyBwb2ludC5cbiAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPSAwXG4gICAgICB0aGlzLmluYygncGF0Y2gnLCBpZGVudGlmaWVyKVxuICAgICAgdGhpcy5pbmMoJ3ByZScsIGlkZW50aWZpZXIpXG4gICAgICBicmVha1xuICAgIC8vIElmIHRoZSBpbnB1dCBpcyBhIG5vbi1wcmVyZWxlYXNlIHZlcnNpb24sIHRoaXMgYWN0cyB0aGUgc2FtZSBhc1xuICAgIC8vIHByZXBhdGNoLlxuICAgIGNhc2UgJ3ByZXJlbGVhc2UnOlxuICAgICAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5pbmMoJ3BhdGNoJywgaWRlbnRpZmllcilcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgJ21ham9yJzpcbiAgICAgIC8vIElmIHRoaXMgaXMgYSBwcmUtbWFqb3IgdmVyc2lvbiwgYnVtcCB1cCB0byB0aGUgc2FtZSBtYWpvciB2ZXJzaW9uLlxuICAgICAgLy8gT3RoZXJ3aXNlIGluY3JlbWVudCBtYWpvci5cbiAgICAgIC8vIDEuMC4wLTUgYnVtcHMgdG8gMS4wLjBcbiAgICAgIC8vIDEuMS4wIGJ1bXBzIHRvIDIuMC4wXG4gICAgICBpZiAodGhpcy5taW5vciAhPT0gMCB8fFxuICAgICAgICAgIHRoaXMucGF0Y2ggIT09IDAgfHxcbiAgICAgICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMubWFqb3IrK1xuICAgICAgfVxuICAgICAgdGhpcy5taW5vciA9IDBcbiAgICAgIHRoaXMucGF0Y2ggPSAwXG4gICAgICB0aGlzLnByZXJlbGVhc2UgPSBbXVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdtaW5vcic6XG4gICAgICAvLyBJZiB0aGlzIGlzIGEgcHJlLW1pbm9yIHZlcnNpb24sIGJ1bXAgdXAgdG8gdGhlIHNhbWUgbWlub3IgdmVyc2lvbi5cbiAgICAgIC8vIE90aGVyd2lzZSBpbmNyZW1lbnQgbWlub3IuXG4gICAgICAvLyAxLjIuMC01IGJ1bXBzIHRvIDEuMi4wXG4gICAgICAvLyAxLjIuMSBidW1wcyB0byAxLjMuMFxuICAgICAgaWYgKHRoaXMucGF0Y2ggIT09IDAgfHwgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLm1pbm9yKytcbiAgICAgIH1cbiAgICAgIHRoaXMucGF0Y2ggPSAwXG4gICAgICB0aGlzLnByZXJlbGVhc2UgPSBbXVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdwYXRjaCc6XG4gICAgICAvLyBJZiB0aGlzIGlzIG5vdCBhIHByZS1yZWxlYXNlIHZlcnNpb24sIGl0IHdpbGwgaW5jcmVtZW50IHRoZSBwYXRjaC5cbiAgICAgIC8vIElmIGl0IGlzIGEgcHJlLXJlbGVhc2UgaXQgd2lsbCBidW1wIHVwIHRvIHRoZSBzYW1lIHBhdGNoIHZlcnNpb24uXG4gICAgICAvLyAxLjIuMC01IHBhdGNoZXMgdG8gMS4yLjBcbiAgICAgIC8vIDEuMi4wIHBhdGNoZXMgdG8gMS4yLjFcbiAgICAgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMucGF0Y2grK1xuICAgICAgfVxuICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW11cbiAgICAgIGJyZWFrXG4gICAgLy8gVGhpcyBwcm9iYWJseSBzaG91bGRuJ3QgYmUgdXNlZCBwdWJsaWNseS5cbiAgICAvLyAxLjAuMCBcInByZVwiIHdvdWxkIGJlY29tZSAxLjAuMC0wIHdoaWNoIGlzIHRoZSB3cm9uZyBkaXJlY3Rpb24uXG4gICAgY2FzZSAncHJlJzpcbiAgICAgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFswXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLnByZXJlbGVhc2UubGVuZ3RoXG4gICAgICAgIHdoaWxlICgtLWkgPj0gMCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcmVyZWxlYXNlW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlW2ldKytcbiAgICAgICAgICAgIGkgPSAtMlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgICAgICAvLyBkaWRuJ3QgaW5jcmVtZW50IGFueXRoaW5nXG4gICAgICAgICAgdGhpcy5wcmVyZWxlYXNlLnB1c2goMClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlkZW50aWZpZXIpIHtcbiAgICAgICAgLy8gMS4yLjAtYmV0YS4xIGJ1bXBzIHRvIDEuMi4wLWJldGEuMixcbiAgICAgICAgLy8gMS4yLjAtYmV0YS5mb29ibHogb3IgMS4yLjAtYmV0YSBidW1wcyB0byAxLjIuMC1iZXRhLjBcbiAgICAgICAgaWYgKHRoaXMucHJlcmVsZWFzZVswXSA9PT0gaWRlbnRpZmllcikge1xuICAgICAgICAgIGlmIChpc05hTih0aGlzLnByZXJlbGVhc2VbMV0pKSB7XG4gICAgICAgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbaWRlbnRpZmllciwgMF1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW2lkZW50aWZpZXIsIDBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrXG5cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGluY3JlbWVudCBhcmd1bWVudDogJyArIHJlbGVhc2UpXG4gIH1cbiAgdGhpcy5mb3JtYXQoKVxuICB0aGlzLnJhdyA9IHRoaXMudmVyc2lvblxuICByZXR1cm4gdGhpc1xufVxuXG5leHBvcnRzLmluYyA9IGluY1xuZnVuY3Rpb24gaW5jICh2ZXJzaW9uLCByZWxlYXNlLCBsb29zZSwgaWRlbnRpZmllcikge1xuICBpZiAodHlwZW9mIChsb29zZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgaWRlbnRpZmllciA9IGxvb3NlXG4gICAgbG9vc2UgPSB1bmRlZmluZWRcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBTZW1WZXIodmVyc2lvbiwgbG9vc2UpLmluYyhyZWxlYXNlLCBpZGVudGlmaWVyKS52ZXJzaW9uXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnRzLmRpZmYgPSBkaWZmXG5mdW5jdGlvbiBkaWZmICh2ZXJzaW9uMSwgdmVyc2lvbjIpIHtcbiAgaWYgKGVxKHZlcnNpb24xLCB2ZXJzaW9uMikpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9IGVsc2Uge1xuICAgIHZhciB2MSA9IHBhcnNlKHZlcnNpb24xKVxuICAgIHZhciB2MiA9IHBhcnNlKHZlcnNpb24yKVxuICAgIHZhciBwcmVmaXggPSAnJ1xuICAgIGlmICh2MS5wcmVyZWxlYXNlLmxlbmd0aCB8fCB2Mi5wcmVyZWxlYXNlLmxlbmd0aCkge1xuICAgICAgcHJlZml4ID0gJ3ByZSdcbiAgICAgIHZhciBkZWZhdWx0UmVzdWx0ID0gJ3ByZXJlbGVhc2UnXG4gICAgfVxuICAgIGZvciAodmFyIGtleSBpbiB2MSkge1xuICAgICAgaWYgKGtleSA9PT0gJ21ham9yJyB8fCBrZXkgPT09ICdtaW5vcicgfHwga2V5ID09PSAncGF0Y2gnKSB7XG4gICAgICAgIGlmICh2MVtrZXldICE9PSB2MltrZXldKSB7XG4gICAgICAgICAgcmV0dXJuIHByZWZpeCArIGtleVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0UmVzdWx0IC8vIG1heSBiZSB1bmRlZmluZWRcbiAgfVxufVxuXG5leHBvcnRzLmNvbXBhcmVJZGVudGlmaWVycyA9IGNvbXBhcmVJZGVudGlmaWVyc1xuXG52YXIgbnVtZXJpYyA9IC9eWzAtOV0rJC9cbmZ1bmN0aW9uIGNvbXBhcmVJZGVudGlmaWVycyAoYSwgYikge1xuICB2YXIgYW51bSA9IG51bWVyaWMudGVzdChhKVxuICB2YXIgYm51bSA9IG51bWVyaWMudGVzdChiKVxuXG4gIGlmIChhbnVtICYmIGJudW0pIHtcbiAgICBhID0gK2FcbiAgICBiID0gK2JcbiAgfVxuXG4gIHJldHVybiBhID09PSBiID8gMFxuICAgIDogKGFudW0gJiYgIWJudW0pID8gLTFcbiAgICA6IChibnVtICYmICFhbnVtKSA/IDFcbiAgICA6IGEgPCBiID8gLTFcbiAgICA6IDFcbn1cblxuZXhwb3J0cy5yY29tcGFyZUlkZW50aWZpZXJzID0gcmNvbXBhcmVJZGVudGlmaWVyc1xuZnVuY3Rpb24gcmNvbXBhcmVJZGVudGlmaWVycyAoYSwgYikge1xuICByZXR1cm4gY29tcGFyZUlkZW50aWZpZXJzKGIsIGEpXG59XG5cbmV4cG9ydHMubWFqb3IgPSBtYWpvclxuZnVuY3Rpb24gbWFqb3IgKGEsIGxvb3NlKSB7XG4gIHJldHVybiBuZXcgU2VtVmVyKGEsIGxvb3NlKS5tYWpvclxufVxuXG5leHBvcnRzLm1pbm9yID0gbWlub3JcbmZ1bmN0aW9uIG1pbm9yIChhLCBsb29zZSkge1xuICByZXR1cm4gbmV3IFNlbVZlcihhLCBsb29zZSkubWlub3Jcbn1cblxuZXhwb3J0cy5wYXRjaCA9IHBhdGNoXG5mdW5jdGlvbiBwYXRjaCAoYSwgbG9vc2UpIHtcbiAgcmV0dXJuIG5ldyBTZW1WZXIoYSwgbG9vc2UpLnBhdGNoXG59XG5cbmV4cG9ydHMuY29tcGFyZSA9IGNvbXBhcmVcbmZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBuZXcgU2VtVmVyKGEsIGxvb3NlKS5jb21wYXJlKG5ldyBTZW1WZXIoYiwgbG9vc2UpKVxufVxuXG5leHBvcnRzLmNvbXBhcmVMb29zZSA9IGNvbXBhcmVMb29zZVxuZnVuY3Rpb24gY29tcGFyZUxvb3NlIChhLCBiKSB7XG4gIHJldHVybiBjb21wYXJlKGEsIGIsIHRydWUpXG59XG5cbmV4cG9ydHMucmNvbXBhcmUgPSByY29tcGFyZVxuZnVuY3Rpb24gcmNvbXBhcmUgKGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBjb21wYXJlKGIsIGEsIGxvb3NlKVxufVxuXG5leHBvcnRzLnNvcnQgPSBzb3J0XG5mdW5jdGlvbiBzb3J0IChsaXN0LCBsb29zZSkge1xuICByZXR1cm4gbGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuY29tcGFyZShhLCBiLCBsb29zZSlcbiAgfSlcbn1cblxuZXhwb3J0cy5yc29ydCA9IHJzb3J0XG5mdW5jdGlvbiByc29ydCAobGlzdCwgbG9vc2UpIHtcbiAgcmV0dXJuIGxpc3Quc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBleHBvcnRzLnJjb21wYXJlKGEsIGIsIGxvb3NlKVxuICB9KVxufVxuXG5leHBvcnRzLmd0ID0gZ3RcbmZ1bmN0aW9uIGd0IChhLCBiLCBsb29zZSkge1xuICByZXR1cm4gY29tcGFyZShhLCBiLCBsb29zZSkgPiAwXG59XG5cbmV4cG9ydHMubHQgPSBsdFxuZnVuY3Rpb24gbHQgKGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSA8IDBcbn1cblxuZXhwb3J0cy5lcSA9IGVxXG5mdW5jdGlvbiBlcSAoYSwgYiwgbG9vc2UpIHtcbiAgcmV0dXJuIGNvbXBhcmUoYSwgYiwgbG9vc2UpID09PSAwXG59XG5cbmV4cG9ydHMubmVxID0gbmVxXG5mdW5jdGlvbiBuZXEgKGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSAhPT0gMFxufVxuXG5leHBvcnRzLmd0ZSA9IGd0ZVxuZnVuY3Rpb24gZ3RlIChhLCBiLCBsb29zZSkge1xuICByZXR1cm4gY29tcGFyZShhLCBiLCBsb29zZSkgPj0gMFxufVxuXG5leHBvcnRzLmx0ZSA9IGx0ZVxuZnVuY3Rpb24gbHRlIChhLCBiLCBsb29zZSkge1xuICByZXR1cm4gY29tcGFyZShhLCBiLCBsb29zZSkgPD0gMFxufVxuXG5leHBvcnRzLmNtcCA9IGNtcFxuZnVuY3Rpb24gY21wIChhLCBvcCwgYiwgbG9vc2UpIHtcbiAgc3dpdGNoIChvcCkge1xuICAgIGNhc2UgJz09PSc6XG4gICAgICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKVxuICAgICAgICBhID0gYS52ZXJzaW9uXG4gICAgICBpZiAodHlwZW9mIGIgPT09ICdvYmplY3QnKVxuICAgICAgICBiID0gYi52ZXJzaW9uXG4gICAgICByZXR1cm4gYSA9PT0gYlxuXG4gICAgY2FzZSAnIT09JzpcbiAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpXG4gICAgICAgIGEgPSBhLnZlcnNpb25cbiAgICAgIGlmICh0eXBlb2YgYiA9PT0gJ29iamVjdCcpXG4gICAgICAgIGIgPSBiLnZlcnNpb25cbiAgICAgIHJldHVybiBhICE9PSBiXG5cbiAgICBjYXNlICcnOlxuICAgIGNhc2UgJz0nOlxuICAgIGNhc2UgJz09JzpcbiAgICAgIHJldHVybiBlcShhLCBiLCBsb29zZSlcblxuICAgIGNhc2UgJyE9JzpcbiAgICAgIHJldHVybiBuZXEoYSwgYiwgbG9vc2UpXG5cbiAgICBjYXNlICc+JzpcbiAgICAgIHJldHVybiBndChhLCBiLCBsb29zZSlcblxuICAgIGNhc2UgJz49JzpcbiAgICAgIHJldHVybiBndGUoYSwgYiwgbG9vc2UpXG5cbiAgICBjYXNlICc8JzpcbiAgICAgIHJldHVybiBsdChhLCBiLCBsb29zZSlcblxuICAgIGNhc2UgJzw9JzpcbiAgICAgIHJldHVybiBsdGUoYSwgYiwgbG9vc2UpXG5cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBvcGVyYXRvcjogJyArIG9wKVxuICB9XG59XG5cbmV4cG9ydHMuQ29tcGFyYXRvciA9IENvbXBhcmF0b3JcbmZ1bmN0aW9uIENvbXBhcmF0b3IgKGNvbXAsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBsb29zZTogISFvcHRpb25zLFxuICAgICAgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgaWYgKGNvbXAgaW5zdGFuY2VvZiBDb21wYXJhdG9yKSB7XG4gICAgaWYgKGNvbXAubG9vc2UgPT09ICEhb3B0aW9ucy5sb29zZSkge1xuICAgICAgcmV0dXJuIGNvbXBcbiAgICB9IGVsc2Uge1xuICAgICAgY29tcCA9IGNvbXAudmFsdWVcbiAgICB9XG4gIH1cblxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ29tcGFyYXRvcikpIHtcbiAgICByZXR1cm4gbmV3IENvbXBhcmF0b3IoY29tcCwgb3B0aW9ucylcbiAgfVxuXG4gIGRlYnVnKCdjb21wYXJhdG9yJywgY29tcCwgb3B0aW9ucylcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICB0aGlzLmxvb3NlID0gISFvcHRpb25zLmxvb3NlXG4gIHRoaXMucGFyc2UoY29tcClcblxuICBpZiAodGhpcy5zZW12ZXIgPT09IEFOWSkge1xuICAgIHRoaXMudmFsdWUgPSAnJ1xuICB9IGVsc2Uge1xuICAgIHRoaXMudmFsdWUgPSB0aGlzLm9wZXJhdG9yICsgdGhpcy5zZW12ZXIudmVyc2lvblxuICB9XG5cbiAgZGVidWcoJ2NvbXAnLCB0aGlzKVxufVxuXG52YXIgQU5ZID0ge31cbkNvbXBhcmF0b3IucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGNvbXApIHtcbiAgdmFyIHIgPSB0aGlzLm9wdGlvbnMubG9vc2UgPyByZVtDT01QQVJBVE9STE9PU0VdIDogcmVbQ09NUEFSQVRPUl1cbiAgdmFyIG0gPSBjb21wLm1hdGNoKHIpXG5cbiAgaWYgKCFtKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjb21wYXJhdG9yOiAnICsgY29tcClcbiAgfVxuXG4gIHRoaXMub3BlcmF0b3IgPSBtWzFdXG4gIGlmICh0aGlzLm9wZXJhdG9yID09PSAnPScpIHtcbiAgICB0aGlzLm9wZXJhdG9yID0gJydcbiAgfVxuXG4gIC8vIGlmIGl0IGxpdGVyYWxseSBpcyBqdXN0ICc+JyBvciAnJyB0aGVuIGFsbG93IGFueXRoaW5nLlxuICBpZiAoIW1bMl0pIHtcbiAgICB0aGlzLnNlbXZlciA9IEFOWVxuICB9IGVsc2Uge1xuICAgIHRoaXMuc2VtdmVyID0gbmV3IFNlbVZlcihtWzJdLCB0aGlzLm9wdGlvbnMubG9vc2UpXG4gIH1cbn1cblxuQ29tcGFyYXRvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnZhbHVlXG59XG5cbkNvbXBhcmF0b3IucHJvdG90eXBlLnRlc3QgPSBmdW5jdGlvbiAodmVyc2lvbikge1xuICBkZWJ1ZygnQ29tcGFyYXRvci50ZXN0JywgdmVyc2lvbiwgdGhpcy5vcHRpb25zLmxvb3NlKVxuXG4gIGlmICh0aGlzLnNlbXZlciA9PT0gQU5ZKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmVyc2lvbiA9PT0gJ3N0cmluZycpIHtcbiAgICB2ZXJzaW9uID0gbmV3IFNlbVZlcih2ZXJzaW9uLCB0aGlzLm9wdGlvbnMpXG4gIH1cblxuICByZXR1cm4gY21wKHZlcnNpb24sIHRoaXMub3BlcmF0b3IsIHRoaXMuc2VtdmVyLCB0aGlzLm9wdGlvbnMpXG59XG5cbkNvbXBhcmF0b3IucHJvdG90eXBlLmludGVyc2VjdHMgPSBmdW5jdGlvbiAoY29tcCwgb3B0aW9ucykge1xuICBpZiAoIShjb21wIGluc3RhbmNlb2YgQ29tcGFyYXRvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhIENvbXBhcmF0b3IgaXMgcmVxdWlyZWQnKVxuICB9XG5cbiAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBsb29zZTogISFvcHRpb25zLFxuICAgICAgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgdmFyIHJhbmdlVG1wXG5cbiAgaWYgKHRoaXMub3BlcmF0b3IgPT09ICcnKSB7XG4gICAgcmFuZ2VUbXAgPSBuZXcgUmFuZ2UoY29tcC52YWx1ZSwgb3B0aW9ucylcbiAgICByZXR1cm4gc2F0aXNmaWVzKHRoaXMudmFsdWUsIHJhbmdlVG1wLCBvcHRpb25zKVxuICB9IGVsc2UgaWYgKGNvbXAub3BlcmF0b3IgPT09ICcnKSB7XG4gICAgcmFuZ2VUbXAgPSBuZXcgUmFuZ2UodGhpcy52YWx1ZSwgb3B0aW9ucylcbiAgICByZXR1cm4gc2F0aXNmaWVzKGNvbXAuc2VtdmVyLCByYW5nZVRtcCwgb3B0aW9ucylcbiAgfVxuXG4gIHZhciBzYW1lRGlyZWN0aW9uSW5jcmVhc2luZyA9XG4gICAgKHRoaXMub3BlcmF0b3IgPT09ICc+PScgfHwgdGhpcy5vcGVyYXRvciA9PT0gJz4nKSAmJlxuICAgIChjb21wLm9wZXJhdG9yID09PSAnPj0nIHx8IGNvbXAub3BlcmF0b3IgPT09ICc+JylcbiAgdmFyIHNhbWVEaXJlY3Rpb25EZWNyZWFzaW5nID1cbiAgICAodGhpcy5vcGVyYXRvciA9PT0gJzw9JyB8fCB0aGlzLm9wZXJhdG9yID09PSAnPCcpICYmXG4gICAgKGNvbXAub3BlcmF0b3IgPT09ICc8PScgfHwgY29tcC5vcGVyYXRvciA9PT0gJzwnKVxuICB2YXIgc2FtZVNlbVZlciA9IHRoaXMuc2VtdmVyLnZlcnNpb24gPT09IGNvbXAuc2VtdmVyLnZlcnNpb25cbiAgdmFyIGRpZmZlcmVudERpcmVjdGlvbnNJbmNsdXNpdmUgPVxuICAgICh0aGlzLm9wZXJhdG9yID09PSAnPj0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc8PScpICYmXG4gICAgKGNvbXAub3BlcmF0b3IgPT09ICc+PScgfHwgY29tcC5vcGVyYXRvciA9PT0gJzw9JylcbiAgdmFyIG9wcG9zaXRlRGlyZWN0aW9uc0xlc3NUaGFuID1cbiAgICBjbXAodGhpcy5zZW12ZXIsICc8JywgY29tcC5zZW12ZXIsIG9wdGlvbnMpICYmXG4gICAgKCh0aGlzLm9wZXJhdG9yID09PSAnPj0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc+JykgJiZcbiAgICAoY29tcC5vcGVyYXRvciA9PT0gJzw9JyB8fCBjb21wLm9wZXJhdG9yID09PSAnPCcpKVxuICB2YXIgb3Bwb3NpdGVEaXJlY3Rpb25zR3JlYXRlclRoYW4gPVxuICAgIGNtcCh0aGlzLnNlbXZlciwgJz4nLCBjb21wLnNlbXZlciwgb3B0aW9ucykgJiZcbiAgICAoKHRoaXMub3BlcmF0b3IgPT09ICc8PScgfHwgdGhpcy5vcGVyYXRvciA9PT0gJzwnKSAmJlxuICAgIChjb21wLm9wZXJhdG9yID09PSAnPj0nIHx8IGNvbXAub3BlcmF0b3IgPT09ICc+JykpXG5cbiAgcmV0dXJuIHNhbWVEaXJlY3Rpb25JbmNyZWFzaW5nIHx8IHNhbWVEaXJlY3Rpb25EZWNyZWFzaW5nIHx8XG4gICAgKHNhbWVTZW1WZXIgJiYgZGlmZmVyZW50RGlyZWN0aW9uc0luY2x1c2l2ZSkgfHxcbiAgICBvcHBvc2l0ZURpcmVjdGlvbnNMZXNzVGhhbiB8fCBvcHBvc2l0ZURpcmVjdGlvbnNHcmVhdGVyVGhhblxufVxuXG5leHBvcnRzLlJhbmdlID0gUmFuZ2VcbmZ1bmN0aW9uIFJhbmdlIChyYW5nZSwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIGxvb3NlOiAhIW9wdGlvbnMsXG4gICAgICBpbmNsdWRlUHJlcmVsZWFzZTogZmFsc2VcbiAgICB9XG4gIH1cblxuICBpZiAocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkge1xuICAgIGlmIChyYW5nZS5sb29zZSA9PT0gISFvcHRpb25zLmxvb3NlICYmXG4gICAgICAgIHJhbmdlLmluY2x1ZGVQcmVyZWxlYXNlID09PSAhIW9wdGlvbnMuaW5jbHVkZVByZXJlbGVhc2UpIHtcbiAgICAgIHJldHVybiByYW5nZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLnJhdywgb3B0aW9ucylcbiAgICB9XG4gIH1cblxuICBpZiAocmFuZ2UgaW5zdGFuY2VvZiBDb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZS52YWx1ZSwgb3B0aW9ucylcbiAgfVxuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSYW5nZSkpIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKVxuICB9XG5cbiAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICB0aGlzLmxvb3NlID0gISFvcHRpb25zLmxvb3NlXG4gIHRoaXMuaW5jbHVkZVByZXJlbGVhc2UgPSAhIW9wdGlvbnMuaW5jbHVkZVByZXJlbGVhc2VcblxuICAvLyBGaXJzdCwgc3BsaXQgYmFzZWQgb24gYm9vbGVhbiBvciB8fFxuICB0aGlzLnJhdyA9IHJhbmdlXG4gIHRoaXMuc2V0ID0gcmFuZ2Uuc3BsaXQoL1xccypcXHxcXHxcXHMqLykubWFwKGZ1bmN0aW9uIChyYW5nZSkge1xuICAgIHJldHVybiB0aGlzLnBhcnNlUmFuZ2UocmFuZ2UudHJpbSgpKVxuICB9LCB0aGlzKS5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICAvLyB0aHJvdyBvdXQgYW55IHRoYXQgYXJlIG5vdCByZWxldmFudCBmb3Igd2hhdGV2ZXIgcmVhc29uXG4gICAgcmV0dXJuIGMubGVuZ3RoXG4gIH0pXG5cbiAgaWYgKCF0aGlzLnNldC5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIFNlbVZlciBSYW5nZTogJyArIHJhbmdlKVxuICB9XG5cbiAgdGhpcy5mb3JtYXQoKVxufVxuXG5SYW5nZS5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnJhbmdlID0gdGhpcy5zZXQubWFwKGZ1bmN0aW9uIChjb21wcykge1xuICAgIHJldHVybiBjb21wcy5qb2luKCcgJykudHJpbSgpXG4gIH0pLmpvaW4oJ3x8JykudHJpbSgpXG4gIHJldHVybiB0aGlzLnJhbmdlXG59XG5cblJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucmFuZ2Vcbn1cblxuUmFuZ2UucHJvdG90eXBlLnBhcnNlUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgdmFyIGxvb3NlID0gdGhpcy5vcHRpb25zLmxvb3NlXG4gIHJhbmdlID0gcmFuZ2UudHJpbSgpXG4gIC8vIGAxLjIuMyAtIDEuMi40YCA9PiBgPj0xLjIuMyA8PTEuMi40YFxuICB2YXIgaHIgPSBsb29zZSA/IHJlW0hZUEhFTlJBTkdFTE9PU0VdIDogcmVbSFlQSEVOUkFOR0VdXG4gIHJhbmdlID0gcmFuZ2UucmVwbGFjZShociwgaHlwaGVuUmVwbGFjZSlcbiAgZGVidWcoJ2h5cGhlbiByZXBsYWNlJywgcmFuZ2UpXG4gIC8vIGA+IDEuMi4zIDwgMS4yLjVgID0+IGA+MS4yLjMgPDEuMi41YFxuICByYW5nZSA9IHJhbmdlLnJlcGxhY2UocmVbQ09NUEFSQVRPUlRSSU1dLCBjb21wYXJhdG9yVHJpbVJlcGxhY2UpXG4gIGRlYnVnKCdjb21wYXJhdG9yIHRyaW0nLCByYW5nZSwgcmVbQ09NUEFSQVRPUlRSSU1dKVxuXG4gIC8vIGB+IDEuMi4zYCA9PiBgfjEuMi4zYFxuICByYW5nZSA9IHJhbmdlLnJlcGxhY2UocmVbVElMREVUUklNXSwgdGlsZGVUcmltUmVwbGFjZSlcblxuICAvLyBgXiAxLjIuM2AgPT4gYF4xLjIuM2BcbiAgcmFuZ2UgPSByYW5nZS5yZXBsYWNlKHJlW0NBUkVUVFJJTV0sIGNhcmV0VHJpbVJlcGxhY2UpXG5cbiAgLy8gbm9ybWFsaXplIHNwYWNlc1xuICByYW5nZSA9IHJhbmdlLnNwbGl0KC9cXHMrLykuam9pbignICcpXG5cbiAgLy8gQXQgdGhpcyBwb2ludCwgdGhlIHJhbmdlIGlzIGNvbXBsZXRlbHkgdHJpbW1lZCBhbmRcbiAgLy8gcmVhZHkgdG8gYmUgc3BsaXQgaW50byBjb21wYXJhdG9ycy5cblxuICB2YXIgY29tcFJlID0gbG9vc2UgPyByZVtDT01QQVJBVE9STE9PU0VdIDogcmVbQ09NUEFSQVRPUl1cbiAgdmFyIHNldCA9IHJhbmdlLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uIChjb21wKSB7XG4gICAgcmV0dXJuIHBhcnNlQ29tcGFyYXRvcihjb21wLCB0aGlzLm9wdGlvbnMpXG4gIH0sIHRoaXMpLmpvaW4oJyAnKS5zcGxpdCgvXFxzKy8pXG4gIGlmICh0aGlzLm9wdGlvbnMubG9vc2UpIHtcbiAgICAvLyBpbiBsb29zZSBtb2RlLCB0aHJvdyBvdXQgYW55IHRoYXQgYXJlIG5vdCB2YWxpZCBjb21wYXJhdG9yc1xuICAgIHNldCA9IHNldC5maWx0ZXIoZnVuY3Rpb24gKGNvbXApIHtcbiAgICAgIHJldHVybiAhIWNvbXAubWF0Y2goY29tcFJlKVxuICAgIH0pXG4gIH1cbiAgc2V0ID0gc2V0Lm1hcChmdW5jdGlvbiAoY29tcCkge1xuICAgIHJldHVybiBuZXcgQ29tcGFyYXRvcihjb21wLCB0aGlzLm9wdGlvbnMpXG4gIH0sIHRoaXMpXG5cbiAgcmV0dXJuIHNldFxufVxuXG5SYW5nZS5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSwgb3B0aW9ucykge1xuICBpZiAoIShyYW5nZSBpbnN0YW5jZW9mIFJhbmdlKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2EgUmFuZ2UgaXMgcmVxdWlyZWQnKVxuICB9XG5cbiAgcmV0dXJuIHRoaXMuc2V0LnNvbWUoZnVuY3Rpb24gKHRoaXNDb21wYXJhdG9ycykge1xuICAgIHJldHVybiB0aGlzQ29tcGFyYXRvcnMuZXZlcnkoZnVuY3Rpb24gKHRoaXNDb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gcmFuZ2Uuc2V0LnNvbWUoZnVuY3Rpb24gKHJhbmdlQ29tcGFyYXRvcnMpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlQ29tcGFyYXRvcnMuZXZlcnkoZnVuY3Rpb24gKHJhbmdlQ29tcGFyYXRvcikge1xuICAgICAgICAgIHJldHVybiB0aGlzQ29tcGFyYXRvci5pbnRlcnNlY3RzKHJhbmdlQ29tcGFyYXRvciwgb3B0aW9ucylcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcbn1cblxuLy8gTW9zdGx5IGp1c3QgZm9yIHRlc3RpbmcgYW5kIGxlZ2FjeSBBUEkgcmVhc29uc1xuZXhwb3J0cy50b0NvbXBhcmF0b3JzID0gdG9Db21wYXJhdG9yc1xuZnVuY3Rpb24gdG9Db21wYXJhdG9ycyAocmFuZ2UsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucykuc2V0Lm1hcChmdW5jdGlvbiAoY29tcCkge1xuICAgIHJldHVybiBjb21wLm1hcChmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIGMudmFsdWVcbiAgICB9KS5qb2luKCcgJykudHJpbSgpLnNwbGl0KCcgJylcbiAgfSlcbn1cblxuLy8gY29tcHJpc2VkIG9mIHhyYW5nZXMsIHRpbGRlcywgc3RhcnMsIGFuZCBndGx0J3MgYXQgdGhpcyBwb2ludC5cbi8vIGFscmVhZHkgcmVwbGFjZWQgdGhlIGh5cGhlbiByYW5nZXNcbi8vIHR1cm4gaW50byBhIHNldCBvZiBKVVNUIGNvbXBhcmF0b3JzLlxuZnVuY3Rpb24gcGFyc2VDb21wYXJhdG9yIChjb21wLCBvcHRpb25zKSB7XG4gIGRlYnVnKCdjb21wJywgY29tcCwgb3B0aW9ucylcbiAgY29tcCA9IHJlcGxhY2VDYXJldHMoY29tcCwgb3B0aW9ucylcbiAgZGVidWcoJ2NhcmV0JywgY29tcClcbiAgY29tcCA9IHJlcGxhY2VUaWxkZXMoY29tcCwgb3B0aW9ucylcbiAgZGVidWcoJ3RpbGRlcycsIGNvbXApXG4gIGNvbXAgPSByZXBsYWNlWFJhbmdlcyhjb21wLCBvcHRpb25zKVxuICBkZWJ1ZygneHJhbmdlJywgY29tcClcbiAgY29tcCA9IHJlcGxhY2VTdGFycyhjb21wLCBvcHRpb25zKVxuICBkZWJ1Zygnc3RhcnMnLCBjb21wKVxuICByZXR1cm4gY29tcFxufVxuXG5mdW5jdGlvbiBpc1ggKGlkKSB7XG4gIHJldHVybiAhaWQgfHwgaWQudG9Mb3dlckNhc2UoKSA9PT0gJ3gnIHx8IGlkID09PSAnKidcbn1cblxuLy8gfiwgfj4gLS0+ICogKGFueSwga2luZGEgc2lsbHkpXG4vLyB+MiwgfjIueCwgfjIueC54LCB+PjIsIH4+Mi54IH4+Mi54LnggLS0+ID49Mi4wLjAgPDMuMC4wXG4vLyB+Mi4wLCB+Mi4wLngsIH4+Mi4wLCB+PjIuMC54IC0tPiA+PTIuMC4wIDwyLjEuMFxuLy8gfjEuMiwgfjEuMi54LCB+PjEuMiwgfj4xLjIueCAtLT4gPj0xLjIuMCA8MS4zLjBcbi8vIH4xLjIuMywgfj4xLjIuMyAtLT4gPj0xLjIuMyA8MS4zLjBcbi8vIH4xLjIuMCwgfj4xLjIuMCAtLT4gPj0xLjIuMCA8MS4zLjBcbmZ1bmN0aW9uIHJlcGxhY2VUaWxkZXMgKGNvbXAsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGNvbXAudHJpbSgpLnNwbGl0KC9cXHMrLykubWFwKGZ1bmN0aW9uIChjb21wKSB7XG4gICAgcmV0dXJuIHJlcGxhY2VUaWxkZShjb21wLCBvcHRpb25zKVxuICB9KS5qb2luKCcgJylcbn1cblxuZnVuY3Rpb24gcmVwbGFjZVRpbGRlIChjb21wLCBvcHRpb25zKSB7XG4gIHZhciByID0gb3B0aW9ucy5sb29zZSA/IHJlW1RJTERFTE9PU0VdIDogcmVbVElMREVdXG4gIHJldHVybiBjb21wLnJlcGxhY2UociwgZnVuY3Rpb24gKF8sIE0sIG0sIHAsIHByKSB7XG4gICAgZGVidWcoJ3RpbGRlJywgY29tcCwgXywgTSwgbSwgcCwgcHIpXG4gICAgdmFyIHJldFxuXG4gICAgaWYgKGlzWChNKSkge1xuICAgICAgcmV0ID0gJydcbiAgICB9IGVsc2UgaWYgKGlzWChtKSkge1xuICAgICAgcmV0ID0gJz49JyArIE0gKyAnLjAuMCA8JyArICgrTSArIDEpICsgJy4wLjAnXG4gICAgfSBlbHNlIGlmIChpc1gocCkpIHtcbiAgICAgIC8vIH4xLjIgPT0gPj0xLjIuMCA8MS4zLjBcbiAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuMCA8JyArIE0gKyAnLicgKyAoK20gKyAxKSArICcuMCdcbiAgICB9IGVsc2UgaWYgKHByKSB7XG4gICAgICBkZWJ1ZygncmVwbGFjZVRpbGRlIHByJywgcHIpXG4gICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICsgJy0nICsgcHIgK1xuICAgICAgICAgICAgJyA8JyArIE0gKyAnLicgKyAoK20gKyAxKSArICcuMCdcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gfjEuMi4zID09ID49MS4yLjMgPDEuMy4wXG4gICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICtcbiAgICAgICAgICAgICcgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnXG4gICAgfVxuXG4gICAgZGVidWcoJ3RpbGRlIHJldHVybicsIHJldClcbiAgICByZXR1cm4gcmV0XG4gIH0pXG59XG5cbi8vIF4gLS0+ICogKGFueSwga2luZGEgc2lsbHkpXG4vLyBeMiwgXjIueCwgXjIueC54IC0tPiA+PTIuMC4wIDwzLjAuMFxuLy8gXjIuMCwgXjIuMC54IC0tPiA+PTIuMC4wIDwzLjAuMFxuLy8gXjEuMiwgXjEuMi54IC0tPiA+PTEuMi4wIDwyLjAuMFxuLy8gXjEuMi4zIC0tPiA+PTEuMi4zIDwyLjAuMFxuLy8gXjEuMi4wIC0tPiA+PTEuMi4wIDwyLjAuMFxuZnVuY3Rpb24gcmVwbGFjZUNhcmV0cyAoY29tcCwgb3B0aW9ucykge1xuICByZXR1cm4gY29tcC50cmltKCkuc3BsaXQoL1xccysvKS5tYXAoZnVuY3Rpb24gKGNvbXApIHtcbiAgICByZXR1cm4gcmVwbGFjZUNhcmV0KGNvbXAsIG9wdGlvbnMpXG4gIH0pLmpvaW4oJyAnKVxufVxuXG5mdW5jdGlvbiByZXBsYWNlQ2FyZXQgKGNvbXAsIG9wdGlvbnMpIHtcbiAgZGVidWcoJ2NhcmV0JywgY29tcCwgb3B0aW9ucylcbiAgdmFyIHIgPSBvcHRpb25zLmxvb3NlID8gcmVbQ0FSRVRMT09TRV0gOiByZVtDQVJFVF1cbiAgcmV0dXJuIGNvbXAucmVwbGFjZShyLCBmdW5jdGlvbiAoXywgTSwgbSwgcCwgcHIpIHtcbiAgICBkZWJ1ZygnY2FyZXQnLCBjb21wLCBfLCBNLCBtLCBwLCBwcilcbiAgICB2YXIgcmV0XG5cbiAgICBpZiAoaXNYKE0pKSB7XG4gICAgICByZXQgPSAnJ1xuICAgIH0gZWxzZSBpZiAoaXNYKG0pKSB7XG4gICAgICByZXQgPSAnPj0nICsgTSArICcuMC4wIDwnICsgKCtNICsgMSkgKyAnLjAuMCdcbiAgICB9IGVsc2UgaWYgKGlzWChwKSkge1xuICAgICAgaWYgKE0gPT09ICcwJykge1xuICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLjAgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLjAgPCcgKyAoK00gKyAxKSArICcuMC4wJ1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHIpIHtcbiAgICAgIGRlYnVnKCdyZXBsYWNlQ2FyZXQgcHInLCBwcilcbiAgICAgIGlmIChNID09PSAnMCcpIHtcbiAgICAgICAgaWYgKG0gPT09ICcwJykge1xuICAgICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKyAnLScgKyBwciArXG4gICAgICAgICAgICAgICAgJyA8JyArIE0gKyAnLicgKyBtICsgJy4nICsgKCtwICsgMSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICsgJy0nICsgcHIgK1xuICAgICAgICAgICAgICAgICcgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKyAnLScgKyBwciArXG4gICAgICAgICAgICAgICcgPCcgKyAoK00gKyAxKSArICcuMC4wJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Zygnbm8gcHInKVxuICAgICAgaWYgKE0gPT09ICcwJykge1xuICAgICAgICBpZiAobSA9PT0gJzAnKSB7XG4gICAgICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4nICsgcCArXG4gICAgICAgICAgICAgICAgJyA8JyArIE0gKyAnLicgKyBtICsgJy4nICsgKCtwICsgMSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICtcbiAgICAgICAgICAgICAgICAnIDwnICsgTSArICcuJyArICgrbSArIDEpICsgJy4wJ1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICtcbiAgICAgICAgICAgICAgJyA8JyArICgrTSArIDEpICsgJy4wLjAnXG4gICAgICB9XG4gICAgfVxuXG4gICAgZGVidWcoJ2NhcmV0IHJldHVybicsIHJldClcbiAgICByZXR1cm4gcmV0XG4gIH0pXG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VYUmFuZ2VzIChjb21wLCBvcHRpb25zKSB7XG4gIGRlYnVnKCdyZXBsYWNlWFJhbmdlcycsIGNvbXAsIG9wdGlvbnMpXG4gIHJldHVybiBjb21wLnNwbGl0KC9cXHMrLykubWFwKGZ1bmN0aW9uIChjb21wKSB7XG4gICAgcmV0dXJuIHJlcGxhY2VYUmFuZ2UoY29tcCwgb3B0aW9ucylcbiAgfSkuam9pbignICcpXG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VYUmFuZ2UgKGNvbXAsIG9wdGlvbnMpIHtcbiAgY29tcCA9IGNvbXAudHJpbSgpXG4gIHZhciByID0gb3B0aW9ucy5sb29zZSA/IHJlW1hSQU5HRUxPT1NFXSA6IHJlW1hSQU5HRV1cbiAgcmV0dXJuIGNvbXAucmVwbGFjZShyLCBmdW5jdGlvbiAocmV0LCBndGx0LCBNLCBtLCBwLCBwcikge1xuICAgIGRlYnVnKCd4UmFuZ2UnLCBjb21wLCByZXQsIGd0bHQsIE0sIG0sIHAsIHByKVxuICAgIHZhciB4TSA9IGlzWChNKVxuICAgIHZhciB4bSA9IHhNIHx8IGlzWChtKVxuICAgIHZhciB4cCA9IHhtIHx8IGlzWChwKVxuICAgIHZhciBhbnlYID0geHBcblxuICAgIGlmIChndGx0ID09PSAnPScgJiYgYW55WCkge1xuICAgICAgZ3RsdCA9ICcnXG4gICAgfVxuXG4gICAgaWYgKHhNKSB7XG4gICAgICBpZiAoZ3RsdCA9PT0gJz4nIHx8IGd0bHQgPT09ICc8Jykge1xuICAgICAgICAvLyBub3RoaW5nIGlzIGFsbG93ZWRcbiAgICAgICAgcmV0ID0gJzwwLjAuMCdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5vdGhpbmcgaXMgZm9yYmlkZGVuXG4gICAgICAgIHJldCA9ICcqJ1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZ3RsdCAmJiBhbnlYKSB7XG4gICAgICAvLyB3ZSBrbm93IHBhdGNoIGlzIGFuIHgsIGJlY2F1c2Ugd2UgaGF2ZSBhbnkgeCBhdCBhbGwuXG4gICAgICAvLyByZXBsYWNlIFggd2l0aCAwXG4gICAgICBpZiAoeG0pIHtcbiAgICAgICAgbSA9IDBcbiAgICAgIH1cbiAgICAgIHAgPSAwXG5cbiAgICAgIGlmIChndGx0ID09PSAnPicpIHtcbiAgICAgICAgLy8gPjEgPT4gPj0yLjAuMFxuICAgICAgICAvLyA+MS4yID0+ID49MS4zLjBcbiAgICAgICAgLy8gPjEuMi4zID0+ID49IDEuMi40XG4gICAgICAgIGd0bHQgPSAnPj0nXG4gICAgICAgIGlmICh4bSkge1xuICAgICAgICAgIE0gPSArTSArIDFcbiAgICAgICAgICBtID0gMFxuICAgICAgICAgIHAgPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbSA9ICttICsgMVxuICAgICAgICAgIHAgPSAwXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZ3RsdCA9PT0gJzw9Jykge1xuICAgICAgICAvLyA8PTAuNy54IGlzIGFjdHVhbGx5IDwwLjguMCwgc2luY2UgYW55IDAuNy54IHNob3VsZFxuICAgICAgICAvLyBwYXNzLiAgU2ltaWxhcmx5LCA8PTcueCBpcyBhY3R1YWxseSA8OC4wLjAsIGV0Yy5cbiAgICAgICAgZ3RsdCA9ICc8J1xuICAgICAgICBpZiAoeG0pIHtcbiAgICAgICAgICBNID0gK00gKyAxXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbSA9ICttICsgMVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldCA9IGd0bHQgKyBNICsgJy4nICsgbSArICcuJyArIHBcbiAgICB9IGVsc2UgaWYgKHhtKSB7XG4gICAgICByZXQgPSAnPj0nICsgTSArICcuMC4wIDwnICsgKCtNICsgMSkgKyAnLjAuMCdcbiAgICB9IGVsc2UgaWYgKHhwKSB7XG4gICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLjAgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnXG4gICAgfVxuXG4gICAgZGVidWcoJ3hSYW5nZSByZXR1cm4nLCByZXQpXG5cbiAgICByZXR1cm4gcmV0XG4gIH0pXG59XG5cbi8vIEJlY2F1c2UgKiBpcyBBTkQtZWQgd2l0aCBldmVyeXRoaW5nIGVsc2UgaW4gdGhlIGNvbXBhcmF0b3IsXG4vLyBhbmQgJycgbWVhbnMgXCJhbnkgdmVyc2lvblwiLCBqdXN0IHJlbW92ZSB0aGUgKnMgZW50aXJlbHkuXG5mdW5jdGlvbiByZXBsYWNlU3RhcnMgKGNvbXAsIG9wdGlvbnMpIHtcbiAgZGVidWcoJ3JlcGxhY2VTdGFycycsIGNvbXAsIG9wdGlvbnMpXG4gIC8vIExvb3NlbmVzcyBpcyBpZ25vcmVkIGhlcmUuICBzdGFyIGlzIGFsd2F5cyBhcyBsb29zZSBhcyBpdCBnZXRzIVxuICByZXR1cm4gY29tcC50cmltKCkucmVwbGFjZShyZVtTVEFSXSwgJycpXG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgcGFzc2VkIHRvIHN0cmluZy5yZXBsYWNlKHJlW0hZUEhFTlJBTkdFXSlcbi8vIE0sIG0sIHBhdGNoLCBwcmVyZWxlYXNlLCBidWlsZFxuLy8gMS4yIC0gMy40LjUgPT4gPj0xLjIuMCA8PTMuNC41XG4vLyAxLjIuMyAtIDMuNCA9PiA+PTEuMi4wIDwzLjUuMCBBbnkgMy40Lnggd2lsbCBkb1xuLy8gMS4yIC0gMy40ID0+ID49MS4yLjAgPDMuNS4wXG5mdW5jdGlvbiBoeXBoZW5SZXBsYWNlICgkMCxcbiAgZnJvbSwgZk0sIGZtLCBmcCwgZnByLCBmYixcbiAgdG8sIHRNLCB0bSwgdHAsIHRwciwgdGIpIHtcbiAgaWYgKGlzWChmTSkpIHtcbiAgICBmcm9tID0gJydcbiAgfSBlbHNlIGlmIChpc1goZm0pKSB7XG4gICAgZnJvbSA9ICc+PScgKyBmTSArICcuMC4wJ1xuICB9IGVsc2UgaWYgKGlzWChmcCkpIHtcbiAgICBmcm9tID0gJz49JyArIGZNICsgJy4nICsgZm0gKyAnLjAnXG4gIH0gZWxzZSB7XG4gICAgZnJvbSA9ICc+PScgKyBmcm9tXG4gIH1cblxuICBpZiAoaXNYKHRNKSkge1xuICAgIHRvID0gJydcbiAgfSBlbHNlIGlmIChpc1godG0pKSB7XG4gICAgdG8gPSAnPCcgKyAoK3RNICsgMSkgKyAnLjAuMCdcbiAgfSBlbHNlIGlmIChpc1godHApKSB7XG4gICAgdG8gPSAnPCcgKyB0TSArICcuJyArICgrdG0gKyAxKSArICcuMCdcbiAgfSBlbHNlIGlmICh0cHIpIHtcbiAgICB0byA9ICc8PScgKyB0TSArICcuJyArIHRtICsgJy4nICsgdHAgKyAnLScgKyB0cHJcbiAgfSBlbHNlIHtcbiAgICB0byA9ICc8PScgKyB0b1xuICB9XG5cbiAgcmV0dXJuIChmcm9tICsgJyAnICsgdG8pLnRyaW0oKVxufVxuXG4vLyBpZiBBTlkgb2YgdGhlIHNldHMgbWF0Y2ggQUxMIG9mIGl0cyBjb21wYXJhdG9ycywgdGhlbiBwYXNzXG5SYW5nZS5wcm90b3R5cGUudGVzdCA9IGZ1bmN0aW9uICh2ZXJzaW9uKSB7XG4gIGlmICghdmVyc2lvbikge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2ZXJzaW9uID09PSAnc3RyaW5nJykge1xuICAgIHZlcnNpb24gPSBuZXcgU2VtVmVyKHZlcnNpb24sIHRoaXMub3B0aW9ucylcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZXQubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGVzdFNldCh0aGlzLnNldFtpXSwgdmVyc2lvbiwgdGhpcy5vcHRpb25zKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHRlc3RTZXQgKHNldCwgdmVyc2lvbiwgb3B0aW9ucykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKykge1xuICAgIGlmICghc2V0W2ldLnRlc3QodmVyc2lvbikpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGlmICh2ZXJzaW9uLnByZXJlbGVhc2UubGVuZ3RoICYmICFvcHRpb25zLmluY2x1ZGVQcmVyZWxlYXNlKSB7XG4gICAgLy8gRmluZCB0aGUgc2V0IG9mIHZlcnNpb25zIHRoYXQgYXJlIGFsbG93ZWQgdG8gaGF2ZSBwcmVyZWxlYXNlc1xuICAgIC8vIEZvciBleGFtcGxlLCBeMS4yLjMtcHIuMSBkZXN1Z2FycyB0byA+PTEuMi4zLXByLjEgPDIuMC4wXG4gICAgLy8gVGhhdCBzaG91bGQgYWxsb3cgYDEuMi4zLXByLjJgIHRvIHBhc3MuXG4gICAgLy8gSG93ZXZlciwgYDEuMi40LWFscGhhLm5vdHJlYWR5YCBzaG91bGQgTk9UIGJlIGFsbG93ZWQsXG4gICAgLy8gZXZlbiB0aG91Z2ggaXQncyB3aXRoaW4gdGhlIHJhbmdlIHNldCBieSB0aGUgY29tcGFyYXRvcnMuXG4gICAgZm9yIChpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKykge1xuICAgICAgZGVidWcoc2V0W2ldLnNlbXZlcilcbiAgICAgIGlmIChzZXRbaV0uc2VtdmVyID09PSBBTlkpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgaWYgKHNldFtpXS5zZW12ZXIucHJlcmVsZWFzZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBhbGxvd2VkID0gc2V0W2ldLnNlbXZlclxuICAgICAgICBpZiAoYWxsb3dlZC5tYWpvciA9PT0gdmVyc2lvbi5tYWpvciAmJlxuICAgICAgICAgICAgYWxsb3dlZC5taW5vciA9PT0gdmVyc2lvbi5taW5vciAmJlxuICAgICAgICAgICAgYWxsb3dlZC5wYXRjaCA9PT0gdmVyc2lvbi5wYXRjaCkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBWZXJzaW9uIGhhcyBhIC1wcmUsIGJ1dCBpdCdzIG5vdCBvbmUgb2YgdGhlIG9uZXMgd2UgbGlrZS5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydHMuc2F0aXNmaWVzID0gc2F0aXNmaWVzXG5mdW5jdGlvbiBzYXRpc2ZpZXMgKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSB7XG4gIHRyeSB7XG4gICAgcmFuZ2UgPSBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgcmV0dXJuIHJhbmdlLnRlc3QodmVyc2lvbilcbn1cblxuZXhwb3J0cy5tYXhTYXRpc2Z5aW5nID0gbWF4U2F0aXNmeWluZ1xuZnVuY3Rpb24gbWF4U2F0aXNmeWluZyAodmVyc2lvbnMsIHJhbmdlLCBvcHRpb25zKSB7XG4gIHZhciBtYXggPSBudWxsXG4gIHZhciBtYXhTViA9IG51bGxcbiAgdHJ5IHtcbiAgICB2YXIgcmFuZ2VPYmogPSBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICB2ZXJzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgaWYgKHJhbmdlT2JqLnRlc3QodikpIHtcbiAgICAgIC8vIHNhdGlzZmllcyh2LCByYW5nZSwgb3B0aW9ucylcbiAgICAgIGlmICghbWF4IHx8IG1heFNWLmNvbXBhcmUodikgPT09IC0xKSB7XG4gICAgICAgIC8vIGNvbXBhcmUobWF4LCB2LCB0cnVlKVxuICAgICAgICBtYXggPSB2XG4gICAgICAgIG1heFNWID0gbmV3IFNlbVZlcihtYXgsIG9wdGlvbnMpXG4gICAgICB9XG4gICAgfVxuICB9KVxuICByZXR1cm4gbWF4XG59XG5cbmV4cG9ydHMubWluU2F0aXNmeWluZyA9IG1pblNhdGlzZnlpbmdcbmZ1bmN0aW9uIG1pblNhdGlzZnlpbmcgKHZlcnNpb25zLCByYW5nZSwgb3B0aW9ucykge1xuICB2YXIgbWluID0gbnVsbFxuICB2YXIgbWluU1YgPSBudWxsXG4gIHRyeSB7XG4gICAgdmFyIHJhbmdlT2JqID0gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKVxuICB9IGNhdGNoIChlcikge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgdmVyc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgIGlmIChyYW5nZU9iai50ZXN0KHYpKSB7XG4gICAgICAvLyBzYXRpc2ZpZXModiwgcmFuZ2UsIG9wdGlvbnMpXG4gICAgICBpZiAoIW1pbiB8fCBtaW5TVi5jb21wYXJlKHYpID09PSAxKSB7XG4gICAgICAgIC8vIGNvbXBhcmUobWluLCB2LCB0cnVlKVxuICAgICAgICBtaW4gPSB2XG4gICAgICAgIG1pblNWID0gbmV3IFNlbVZlcihtaW4sIG9wdGlvbnMpXG4gICAgICB9XG4gICAgfVxuICB9KVxuICByZXR1cm4gbWluXG59XG5cbmV4cG9ydHMubWluVmVyc2lvbiA9IG1pblZlcnNpb25cbmZ1bmN0aW9uIG1pblZlcnNpb24gKHJhbmdlLCBsb29zZSkge1xuICByYW5nZSA9IG5ldyBSYW5nZShyYW5nZSwgbG9vc2UpXG5cbiAgdmFyIG1pbnZlciA9IG5ldyBTZW1WZXIoJzAuMC4wJylcbiAgaWYgKHJhbmdlLnRlc3QobWludmVyKSkge1xuICAgIHJldHVybiBtaW52ZXJcbiAgfVxuXG4gIG1pbnZlciA9IG5ldyBTZW1WZXIoJzAuMC4wLTAnKVxuICBpZiAocmFuZ2UudGVzdChtaW52ZXIpKSB7XG4gICAgcmV0dXJuIG1pbnZlclxuICB9XG5cbiAgbWludmVyID0gbnVsbFxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlLnNldC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBjb21wYXJhdG9ycyA9IHJhbmdlLnNldFtpXVxuXG4gICAgY29tcGFyYXRvcnMuZm9yRWFjaChmdW5jdGlvbiAoY29tcGFyYXRvcikge1xuICAgICAgLy8gQ2xvbmUgdG8gYXZvaWQgbWFuaXB1bGF0aW5nIHRoZSBjb21wYXJhdG9yJ3Mgc2VtdmVyIG9iamVjdC5cbiAgICAgIHZhciBjb21wdmVyID0gbmV3IFNlbVZlcihjb21wYXJhdG9yLnNlbXZlci52ZXJzaW9uKVxuICAgICAgc3dpdGNoIChjb21wYXJhdG9yLm9wZXJhdG9yKSB7XG4gICAgICAgIGNhc2UgJz4nOlxuICAgICAgICAgIGlmIChjb21wdmVyLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb21wdmVyLnBhdGNoKytcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcHZlci5wcmVyZWxlYXNlLnB1c2goMClcbiAgICAgICAgICB9XG4gICAgICAgICAgY29tcHZlci5yYXcgPSBjb21wdmVyLmZvcm1hdCgpXG4gICAgICAgICAgLyogZmFsbHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnJzpcbiAgICAgICAgY2FzZSAnPj0nOlxuICAgICAgICAgIGlmICghbWludmVyIHx8IGd0KG1pbnZlciwgY29tcHZlcikpIHtcbiAgICAgICAgICAgIG1pbnZlciA9IGNvbXB2ZXJcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnPCc6XG4gICAgICAgIGNhc2UgJzw9JzpcbiAgICAgICAgICAvKiBJZ25vcmUgbWF4aW11bSB2ZXJzaW9ucyAqL1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIG9wZXJhdGlvbjogJyArIGNvbXBhcmF0b3Iub3BlcmF0b3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGlmIChtaW52ZXIgJiYgcmFuZ2UudGVzdChtaW52ZXIpKSB7XG4gICAgcmV0dXJuIG1pbnZlclxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0cy52YWxpZFJhbmdlID0gdmFsaWRSYW5nZVxuZnVuY3Rpb24gdmFsaWRSYW5nZSAocmFuZ2UsIG9wdGlvbnMpIHtcbiAgdHJ5IHtcbiAgICAvLyBSZXR1cm4gJyonIGluc3RlYWQgb2YgJycgc28gdGhhdCB0cnV0aGluZXNzIHdvcmtzLlxuICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBpZiBpdCdzIGludmFsaWQgYW55d2F5XG4gICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucykucmFuZ2UgfHwgJyonXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG4vLyBEZXRlcm1pbmUgaWYgdmVyc2lvbiBpcyBsZXNzIHRoYW4gYWxsIHRoZSB2ZXJzaW9ucyBwb3NzaWJsZSBpbiB0aGUgcmFuZ2VcbmV4cG9ydHMubHRyID0gbHRyXG5mdW5jdGlvbiBsdHIgKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSB7XG4gIHJldHVybiBvdXRzaWRlKHZlcnNpb24sIHJhbmdlLCAnPCcsIG9wdGlvbnMpXG59XG5cbi8vIERldGVybWluZSBpZiB2ZXJzaW9uIGlzIGdyZWF0ZXIgdGhhbiBhbGwgdGhlIHZlcnNpb25zIHBvc3NpYmxlIGluIHRoZSByYW5nZS5cbmV4cG9ydHMuZ3RyID0gZ3RyXG5mdW5jdGlvbiBndHIgKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSB7XG4gIHJldHVybiBvdXRzaWRlKHZlcnNpb24sIHJhbmdlLCAnPicsIG9wdGlvbnMpXG59XG5cbmV4cG9ydHMub3V0c2lkZSA9IG91dHNpZGVcbmZ1bmN0aW9uIG91dHNpZGUgKHZlcnNpb24sIHJhbmdlLCBoaWxvLCBvcHRpb25zKSB7XG4gIHZlcnNpb24gPSBuZXcgU2VtVmVyKHZlcnNpb24sIG9wdGlvbnMpXG4gIHJhbmdlID0gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKVxuXG4gIHZhciBndGZuLCBsdGVmbiwgbHRmbiwgY29tcCwgZWNvbXBcbiAgc3dpdGNoIChoaWxvKSB7XG4gICAgY2FzZSAnPic6XG4gICAgICBndGZuID0gZ3RcbiAgICAgIGx0ZWZuID0gbHRlXG4gICAgICBsdGZuID0gbHRcbiAgICAgIGNvbXAgPSAnPidcbiAgICAgIGVjb21wID0gJz49J1xuICAgICAgYnJlYWtcbiAgICBjYXNlICc8JzpcbiAgICAgIGd0Zm4gPSBsdFxuICAgICAgbHRlZm4gPSBndGVcbiAgICAgIGx0Zm4gPSBndFxuICAgICAgY29tcCA9ICc8J1xuICAgICAgZWNvbXAgPSAnPD0nXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNdXN0IHByb3ZpZGUgYSBoaWxvIHZhbCBvZiBcIjxcIiBvciBcIj5cIicpXG4gIH1cblxuICAvLyBJZiBpdCBzYXRpc2lmZXMgdGhlIHJhbmdlIGl0IGlzIG5vdCBvdXRzaWRlXG4gIGlmIChzYXRpc2ZpZXModmVyc2lvbiwgcmFuZ2UsIG9wdGlvbnMpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyBGcm9tIG5vdyBvbiwgdmFyaWFibGUgdGVybXMgYXJlIGFzIGlmIHdlJ3JlIGluIFwiZ3RyXCIgbW9kZS5cbiAgLy8gYnV0IG5vdGUgdGhhdCBldmVyeXRoaW5nIGlzIGZsaXBwZWQgZm9yIHRoZSBcImx0clwiIGZ1bmN0aW9uLlxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2Uuc2V0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGNvbXBhcmF0b3JzID0gcmFuZ2Uuc2V0W2ldXG5cbiAgICB2YXIgaGlnaCA9IG51bGxcbiAgICB2YXIgbG93ID0gbnVsbFxuXG4gICAgY29tcGFyYXRvcnMuZm9yRWFjaChmdW5jdGlvbiAoY29tcGFyYXRvcikge1xuICAgICAgaWYgKGNvbXBhcmF0b3Iuc2VtdmVyID09PSBBTlkpIHtcbiAgICAgICAgY29tcGFyYXRvciA9IG5ldyBDb21wYXJhdG9yKCc+PTAuMC4wJylcbiAgICAgIH1cbiAgICAgIGhpZ2ggPSBoaWdoIHx8IGNvbXBhcmF0b3JcbiAgICAgIGxvdyA9IGxvdyB8fCBjb21wYXJhdG9yXG4gICAgICBpZiAoZ3Rmbihjb21wYXJhdG9yLnNlbXZlciwgaGlnaC5zZW12ZXIsIG9wdGlvbnMpKSB7XG4gICAgICAgIGhpZ2ggPSBjb21wYXJhdG9yXG4gICAgICB9IGVsc2UgaWYgKGx0Zm4oY29tcGFyYXRvci5zZW12ZXIsIGxvdy5zZW12ZXIsIG9wdGlvbnMpKSB7XG4gICAgICAgIGxvdyA9IGNvbXBhcmF0b3JcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gSWYgdGhlIGVkZ2UgdmVyc2lvbiBjb21wYXJhdG9yIGhhcyBhIG9wZXJhdG9yIHRoZW4gb3VyIHZlcnNpb25cbiAgICAvLyBpc24ndCBvdXRzaWRlIGl0XG4gICAgaWYgKGhpZ2gub3BlcmF0b3IgPT09IGNvbXAgfHwgaGlnaC5vcGVyYXRvciA9PT0gZWNvbXApIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBsb3dlc3QgdmVyc2lvbiBjb21wYXJhdG9yIGhhcyBhbiBvcGVyYXRvciBhbmQgb3VyIHZlcnNpb25cbiAgICAvLyBpcyBsZXNzIHRoYW4gaXQgdGhlbiBpdCBpc24ndCBoaWdoZXIgdGhhbiB0aGUgcmFuZ2VcbiAgICBpZiAoKCFsb3cub3BlcmF0b3IgfHwgbG93Lm9wZXJhdG9yID09PSBjb21wKSAmJlxuICAgICAgICBsdGVmbih2ZXJzaW9uLCBsb3cuc2VtdmVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIGlmIChsb3cub3BlcmF0b3IgPT09IGVjb21wICYmIGx0Zm4odmVyc2lvbiwgbG93LnNlbXZlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG5leHBvcnRzLnByZXJlbGVhc2UgPSBwcmVyZWxlYXNlXG5mdW5jdGlvbiBwcmVyZWxlYXNlICh2ZXJzaW9uLCBvcHRpb25zKSB7XG4gIHZhciBwYXJzZWQgPSBwYXJzZSh2ZXJzaW9uLCBvcHRpb25zKVxuICByZXR1cm4gKHBhcnNlZCAmJiBwYXJzZWQucHJlcmVsZWFzZS5sZW5ndGgpID8gcGFyc2VkLnByZXJlbGVhc2UgOiBudWxsXG59XG5cbmV4cG9ydHMuaW50ZXJzZWN0cyA9IGludGVyc2VjdHNcbmZ1bmN0aW9uIGludGVyc2VjdHMgKHIxLCByMiwgb3B0aW9ucykge1xuICByMSA9IG5ldyBSYW5nZShyMSwgb3B0aW9ucylcbiAgcjIgPSBuZXcgUmFuZ2UocjIsIG9wdGlvbnMpXG4gIHJldHVybiByMS5pbnRlcnNlY3RzKHIyKVxufVxuXG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZVxuZnVuY3Rpb24gY29lcmNlICh2ZXJzaW9uKSB7XG4gIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7XG4gICAgcmV0dXJuIHZlcnNpb25cbiAgfVxuXG4gIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgdmFyIG1hdGNoID0gdmVyc2lvbi5tYXRjaChyZVtDT0VSQ0VdKVxuXG4gIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiBwYXJzZShtYXRjaFsxXSArXG4gICAgJy4nICsgKG1hdGNoWzJdIHx8ICcwJykgK1xuICAgICcuJyArIChtYXRjaFszXSB8fCAnMCcpKVxufVxuIiwidmFyIGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xudmFyIHRyYW5zbGF0ZSA9IHJlcXVpcmUoJy4vdHJhbnNsYXRlLmpzJyk7XG52YXIgcmVxdWlyZUZyb21TdHJpbmcgPSByZXF1aXJlKCdyZXF1aXJlLWZyb20tc3RyaW5nJyk7XG52YXIgaHR0cHMgPSByZXF1aXJlKCdmb2xsb3ctcmVkaXJlY3RzJykuaHR0cHM7XG52YXIgTWVtb3J5U3RyZWFtID0gcmVxdWlyZSgnbWVtb3J5c3RyZWFtJyk7XG52YXIgc2VtdmVyID0gcmVxdWlyZSgnc2VtdmVyJyk7XG5cbmZ1bmN0aW9uIHNldHVwTWV0aG9kcyAoc29sanNvbikge1xuICB2YXIgdmVyc2lvbjtcbiAgaWYgKCdfc29saWRpdHlfdmVyc2lvbicgaW4gc29sanNvbikge1xuICAgIHZlcnNpb24gPSBzb2xqc29uLmN3cmFwKCdzb2xpZGl0eV92ZXJzaW9uJywgJ3N0cmluZycsIFtdKTtcbiAgfSBlbHNlIHtcbiAgICB2ZXJzaW9uID0gc29sanNvbi5jd3JhcCgndmVyc2lvbicsICdzdHJpbmcnLCBbXSk7XG4gIH1cblxuICB2YXIgdmVyc2lvblRvU2VtdmVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0cmFuc2xhdGUudmVyc2lvblRvU2VtdmVyKHZlcnNpb24oKSk7XG4gIH07XG5cbiAgdmFyIGlzVmVyc2lvbjYgPSBzZW12ZXIuZ3QodmVyc2lvblRvU2VtdmVyKCksICcwLjUuOTknKTtcblxuICB2YXIgbGljZW5zZTtcbiAgaWYgKCdfc29saWRpdHlfbGljZW5zZScgaW4gc29sanNvbikge1xuICAgIGxpY2Vuc2UgPSBzb2xqc29uLmN3cmFwKCdzb2xpZGl0eV9saWNlbnNlJywgJ3N0cmluZycsIFtdKTtcbiAgfSBlbHNlIGlmICgnX2xpY2Vuc2UnIGluIHNvbGpzb24pIHtcbiAgICBsaWNlbnNlID0gc29sanNvbi5jd3JhcCgnbGljZW5zZScsICdzdHJpbmcnLCBbXSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcHJlIDAuNC4xNFxuICAgIGxpY2Vuc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcbiAgfVxuXG4gIHZhciBhbGxvYztcbiAgaWYgKCdfc29saWRpdHlfYWxsb2MnIGluIHNvbGpzb24pIHtcbiAgICBhbGxvYyA9IHNvbGpzb24uY3dyYXAoJ3NvbGlkaXR5X2FsbG9jJywgJ251bWJlcicsIFsgJ251bWJlcicgXSk7XG4gIH0gZWxzZSB7XG4gICAgYWxsb2MgPSBzb2xqc29uLl9tYWxsb2M7XG4gICAgYXNzZXJ0KGFsbG9jLCAnRXhwZWN0ZWQgbWFsbG9jIHRvIGJlIHByZXNlbnQuJyk7XG4gIH1cblxuICB2YXIgcmVzZXQ7XG4gIGlmICgnX3NvbGlkaXR5X3Jlc2V0JyBpbiBzb2xqc29uKSB7XG4gICAgcmVzZXQgPSBzb2xqc29uLmN3cmFwKCdzb2xpZGl0eV9yZXNldCcsIG51bGwsIFtdKTtcbiAgfVxuXG4gIHZhciBjb3B5VG9DU3RyaW5nID0gZnVuY3Rpb24gKHN0ciwgcHRyKSB7XG4gICAgdmFyIGxlbmd0aCA9IHNvbGpzb24ubGVuZ3RoQnl0ZXNVVEY4KHN0cik7XG4gICAgLy8gVGhpcyBpcyBhbGxvY2F0aW5nIG1lbW9yeSB1c2luZyBzb2xjJ3MgYWxsb2NhdG9yLlxuICAgIC8vXG4gICAgLy8gQmVmb3JlIDAuNi4wOlxuICAgIC8vICAgQXNzdW1pbmcgY29weVRvQ1N0cmluZyBpcyBvbmx5IHVzZWQgaW4gdGhlIGNvbnRleHQgb2Ygd3JhcENhbGxiYWNrLCBzb2xjIHdpbGwgZnJlZSB0aGVzZSBwb2ludGVycy5cbiAgICAvLyAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vc29saWRpdHkvYmxvYi92MC41LjEzL2xpYnNvbGMvbGlic29sYy5oI0wzNy1MNDBcbiAgICAvL1xuICAgIC8vIEFmdGVyIDAuNi4wOlxuICAgIC8vICAgVGhlIGR1dHkgaXMgb24gc29sYy1qcyB0byBmcmVlIHRoZXNlIHBvaW50ZXJzLiBXZSBhY2NvbXBsaXNoIHRoYXQgYnkgY2FsbGluZyBgcmVzZXRgIGF0IHRoZSBlbmQuXG4gICAgdmFyIGJ1ZmZlciA9IGFsbG9jKGxlbmd0aCArIDEpO1xuICAgIHNvbGpzb24uc3RyaW5nVG9VVEY4KHN0ciwgYnVmZmVyLCBsZW5ndGggKyAxKTtcbiAgICBzb2xqc29uLnNldFZhbHVlKHB0ciwgYnVmZmVyLCAnKicpO1xuICB9O1xuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBFbXNjcmlwdGVuLlxuICAvLyBUYWtlIGEgc2luZ2xlIGBwdHJgIGFuZCByZXR1cm5zIGEgYHN0cmAuXG4gIHZhciBjb3B5RnJvbUNTdHJpbmcgPSBzb2xqc29uLlVURjhUb1N0cmluZyB8fCBzb2xqc29uLlBvaW50ZXJfc3RyaW5naWZ5O1xuXG4gIHZhciB3cmFwQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBhc3NlcnQodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nLCAnSW52YWxpZCBjYWxsYmFjayBzcGVjaWZpZWQuJyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkYXRhLCBjb250ZW50cywgZXJyb3IpIHtcbiAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhjb3B5RnJvbUNTdHJpbmcoZGF0YSkpO1xuICAgICAgaWYgKHR5cGVvZiByZXN1bHQuY29udGVudHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvcHlUb0NTdHJpbmcocmVzdWx0LmNvbnRlbnRzLCBjb250ZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJlc3VsdC5lcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29weVRvQ1N0cmluZyhyZXN1bHQuZXJyb3IsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIHZhciB3cmFwQ2FsbGJhY2tXaXRoS2luZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGFzc2VydCh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicsICdJbnZhbGlkIGNhbGxiYWNrIHNwZWNpZmllZC4nKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnRleHQsIGtpbmQsIGRhdGEsIGNvbnRlbnRzLCBlcnJvcikge1xuICAgICAgLy8gTXVzdCBiZSBhIG51bGwgcG9pbnRlci5cbiAgICAgIGFzc2VydChjb250ZXh0ID09PSAwLCAnQ2FsbGJhY2sgY29udGV4dCBtdXN0IGJlIG51bGwuJyk7XG4gICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soY29weUZyb21DU3RyaW5nKGtpbmQpLCBjb3B5RnJvbUNTdHJpbmcoZGF0YSkpO1xuICAgICAgaWYgKHR5cGVvZiByZXN1bHQuY29udGVudHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvcHlUb0NTdHJpbmcocmVzdWx0LmNvbnRlbnRzLCBjb250ZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJlc3VsdC5lcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29weVRvQ1N0cmluZyhyZXN1bHQuZXJyb3IsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIFRoaXMgY2FsbHMgY29tcGlsZSgpIHdpdGggYXJncyB8fCBjYlxuICB2YXIgcnVuV2l0aENhbGxiYWNrcyA9IGZ1bmN0aW9uIChjYWxsYmFja3MsIGNvbXBpbGUsIGFyZ3MpIHtcbiAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICBhc3NlcnQodHlwZW9mIGNhbGxiYWNrcyA9PT0gJ29iamVjdCcsICdJbnZhbGlkIGNhbGxiYWNrIG9iamVjdCBzcGVjaWZpZWQuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrcyA9IHt9O1xuICAgIH1cblxuICAgIHZhciByZWFkQ2FsbGJhY2sgPSBjYWxsYmFja3MuaW1wb3J0O1xuICAgIGlmIChyZWFkQ2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVhZENhbGxiYWNrID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlcnJvcjogJ0ZpbGUgaW1wb3J0IGNhbGxiYWNrIG5vdCBzdXBwb3J0ZWQnXG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBzaW5nbGVDYWxsYmFjaztcbiAgICBpZiAoaXNWZXJzaW9uNikge1xuICAgICAgLy8gQWZ0ZXIgMC42LnggbXVsdGlwbGUga2luZCBvZiBjYWxsYmFja3MgYXJlIHN1cHBvcnRlZC5cbiAgICAgIHZhciBzbXRTb2x2ZXJDYWxsYmFjayA9IGNhbGxiYWNrcy5zbXRTb2x2ZXI7XG4gICAgICBpZiAoc210U29sdmVyQ2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzbXRTb2x2ZXJDYWxsYmFjayA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVycm9yOiAnU01UIHNvbHZlciBjYWxsYmFjayBub3Qgc3VwcG9ydGVkJ1xuICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHNpbmdsZUNhbGxiYWNrID0gZnVuY3Rpb24gKGtpbmQsIGRhdGEpIHtcbiAgICAgICAgaWYgKGtpbmQgPT09ICdzb3VyY2UnKSB7XG4gICAgICAgICAgcmV0dXJuIHJlYWRDYWxsYmFjayhkYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChraW5kID09PSAnc210LXF1ZXJ5Jykge1xuICAgICAgICAgIHJldHVybiBzbXRTb2x2ZXJDYWxsYmFjayhkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NlcnQoZmFsc2UsICdJbnZhbGlkIGNhbGxiYWNrIGtpbmQgc3BlY2lmaWVkLicpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzaW5nbGVDYWxsYmFjayA9IHdyYXBDYWxsYmFja1dpdGhLaW5kKHNpbmdsZUNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT2xkIFNvbGlkaXR5IHZlcnNpb24gb25seSBzdXBwb3J0ZWQgaW1wb3J0cy5cbiAgICAgIHNpbmdsZUNhbGxiYWNrID0gd3JhcENhbGxiYWNrKHJlYWRDYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IG11bHRpcGxlIHZlcnNpb25zIG9mIEVtc2NyaXB0ZW4uXG4gICAgdmFyIGFkZEZ1bmN0aW9uID0gc29sanNvbi5hZGRGdW5jdGlvbiB8fCBzb2xqc29uLlJ1bnRpbWUuYWRkRnVuY3Rpb247XG4gICAgdmFyIHJlbW92ZUZ1bmN0aW9uID0gc29sanNvbi5yZW1vdmVGdW5jdGlvbiB8fCBzb2xqc29uLlJ1bnRpbWUucmVtb3ZlRnVuY3Rpb247XG5cbiAgICB2YXIgY2IgPSBhZGRGdW5jdGlvbihzaW5nbGVDYWxsYmFjaywgJ3ZpaWlpaScpO1xuICAgIHZhciBvdXRwdXQ7XG4gICAgdHJ5IHtcbiAgICAgIGFyZ3MucHVzaChjYik7XG4gICAgICBpZiAoaXNWZXJzaW9uNikge1xuICAgICAgICAvLyBDYWxsYmFjayBjb250ZXh0LlxuICAgICAgICBhcmdzLnB1c2gobnVsbCk7XG4gICAgICB9XG4gICAgICBvdXRwdXQgPSBjb21waWxlLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVtb3ZlRnVuY3Rpb24oY2IpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmVtb3ZlRnVuY3Rpb24oY2IpO1xuICAgIGlmIChyZXNldCkge1xuICAgICAgLy8gRXhwbGljaXRseSBmcmVlIG1lbW9yeS5cbiAgICAgIC8vXG4gICAgICAvLyBOT1RFOiBjd3JhcCgpIG9mIFwiY29tcGlsZVwiIHdpbGwgY29weSB0aGUgcmV0dXJuZWQgcG9pbnRlciBpbnRvIGFcbiAgICAgIC8vICAgICAgIEphdmFzY3JpcHQgc3RyaW5nIGFuZCBpdCBpcyBub3QgcG9zc2libGUgdG8gY2FsbCBmcmVlKCkgb24gaXQuXG4gICAgICAvLyAgICAgICByZXNldCgpIGhvd2V2ZXIgd2lsbCBjbGVhciB1cCBhbGwgYWxsb2NhdGlvbnMuXG4gICAgICByZXNldCgpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIHZhciBjb21waWxlSlNPTiA9IG51bGw7XG4gIGlmICgnX2NvbXBpbGVKU09OJyBpbiBzb2xqc29uKSB7XG4gICAgLy8gaW5wdXQgKHRleHQpLCBvcHRpbWl6ZSAoYm9vbCkgLT4gb3V0cHV0IChqc29udGV4dClcbiAgICBjb21waWxlSlNPTiA9IHNvbGpzb24uY3dyYXAoJ2NvbXBpbGVKU09OJywgJ3N0cmluZycsIFsnc3RyaW5nJywgJ251bWJlciddKTtcbiAgfVxuXG4gIHZhciBjb21waWxlSlNPTk11bHRpID0gbnVsbDtcbiAgaWYgKCdfY29tcGlsZUpTT05NdWx0aScgaW4gc29sanNvbikge1xuICAgIC8vIGlucHV0IChqc29udGV4dCksIG9wdGltaXplIChib29sKSAtPiBvdXRwdXQgKGpzb250ZXh0KVxuICAgIGNvbXBpbGVKU09OTXVsdGkgPSBzb2xqc29uLmN3cmFwKCdjb21waWxlSlNPTk11bHRpJywgJ3N0cmluZycsIFsnc3RyaW5nJywgJ251bWJlciddKTtcbiAgfVxuXG4gIHZhciBjb21waWxlSlNPTkNhbGxiYWNrID0gbnVsbDtcbiAgaWYgKCdfY29tcGlsZUpTT05DYWxsYmFjaycgaW4gc29sanNvbikge1xuICAgIC8vIGlucHV0IChqc29udGV4dCksIG9wdGltaXplIChib29sKSwgY2FsbGJhY2sgKHB0cikgLT4gb3V0cHV0IChqc29udGV4dClcbiAgICB2YXIgY29tcGlsZUludGVybmFsID0gc29sanNvbi5jd3JhcCgnY29tcGlsZUpTT05DYWxsYmFjaycsICdzdHJpbmcnLCBbJ3N0cmluZycsICdudW1iZXInLCAnbnVtYmVyJ10pO1xuICAgIGNvbXBpbGVKU09OQ2FsbGJhY2sgPSBmdW5jdGlvbiAoaW5wdXQsIG9wdGltaXplLCByZWFkQ2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBydW5XaXRoQ2FsbGJhY2tzKHJlYWRDYWxsYmFjaywgY29tcGlsZUludGVybmFsLCBbIGlucHV0LCBvcHRpbWl6ZSBdKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGNvbXBpbGVTdGFuZGFyZCA9IG51bGw7XG4gIGlmICgnX2NvbXBpbGVTdGFuZGFyZCcgaW4gc29sanNvbikge1xuICAgIC8vIGlucHV0IChqc29udGV4dCksIGNhbGxiYWNrIChwdHIpIC0+IG91dHB1dCAoanNvbnRleHQpXG4gICAgdmFyIGNvbXBpbGVTdGFuZGFyZEludGVybmFsID0gc29sanNvbi5jd3JhcCgnY29tcGlsZVN0YW5kYXJkJywgJ3N0cmluZycsIFsnc3RyaW5nJywgJ251bWJlciddKTtcbiAgICBjb21waWxlU3RhbmRhcmQgPSBmdW5jdGlvbiAoaW5wdXQsIHJlYWRDYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHJ1bldpdGhDYWxsYmFja3MocmVhZENhbGxiYWNrLCBjb21waWxlU3RhbmRhcmRJbnRlcm5hbCwgWyBpbnB1dCBdKTtcbiAgICB9O1xuICB9XG4gIGlmICgnX3NvbGlkaXR5X2NvbXBpbGUnIGluIHNvbGpzb24pIHtcbiAgICB2YXIgc29saWRpdHlDb21waWxlO1xuICAgIGlmIChpc1ZlcnNpb242KSB7XG4gICAgICAvLyBpbnB1dCAoanNvbnRleHQpLCBjYWxsYmFjayAocHRyKSwgY2FsbGJhY2tfY29udGV4dCAocHRyKSAtPiBvdXRwdXQgKGpzb250ZXh0KVxuICAgICAgc29saWRpdHlDb21waWxlID0gc29sanNvbi5jd3JhcCgnc29saWRpdHlfY29tcGlsZScsICdzdHJpbmcnLCBbJ3N0cmluZycsICdudW1iZXInLCAnbnVtYmVyJ10pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbnB1dCAoanNvbnRleHQpLCBjYWxsYmFjayAocHRyKSAtPiBvdXRwdXQgKGpzb250ZXh0KVxuICAgICAgc29saWRpdHlDb21waWxlID0gc29sanNvbi5jd3JhcCgnc29saWRpdHlfY29tcGlsZScsICdzdHJpbmcnLCBbJ3N0cmluZycsICdudW1iZXInXSk7XG4gICAgfVxuICAgIGNvbXBpbGVTdGFuZGFyZCA9IGZ1bmN0aW9uIChpbnB1dCwgY2FsbGJhY2tzKSB7XG4gICAgICByZXR1cm4gcnVuV2l0aENhbGxiYWNrcyhjYWxsYmFja3MsIHNvbGlkaXR5Q29tcGlsZSwgWyBpbnB1dCBdKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gRXhwZWN0cyBhIFN0YW5kYXJkIEpTT04gSS9PIGJ1dCBzdXBwb3J0cyBvbGQgY29tcGlsZXJzXG4gIHZhciBjb21waWxlU3RhbmRhcmRXcmFwcGVyID0gZnVuY3Rpb24gKGlucHV0LCByZWFkQ2FsbGJhY2spIHtcbiAgICBpZiAoY29tcGlsZVN0YW5kYXJkICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY29tcGlsZVN0YW5kYXJkKGlucHV0LCByZWFkQ2FsbGJhY2spO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcm1hdEZhdGFsRXJyb3IgKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgICd0eXBlJzogJ0pTT05FcnJvcicsXG4gICAgICAgICAgICAnY29tcG9uZW50JzogJ3NvbGNqcycsXG4gICAgICAgICAgICAnc2V2ZXJpdHknOiAnZXJyb3InLFxuICAgICAgICAgICAgJ21lc3NhZ2UnOiBtZXNzYWdlLFxuICAgICAgICAgICAgJ2Zvcm1hdHRlZE1lc3NhZ2UnOiAnRXJyb3I6ICcgKyBtZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaW5wdXQgPSBKU09OLnBhcnNlKGlucHV0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RmF0YWxFcnJvcignSW52YWxpZCBKU09OIHN1cHBsaWVkOiAnICsgZS5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICBpZiAoaW5wdXRbJ2xhbmd1YWdlJ10gIT09ICdTb2xpZGl0eScpIHtcbiAgICAgIHJldHVybiBmb3JtYXRGYXRhbEVycm9yKCdPbmx5IFwiU29saWRpdHlcIiBpcyBzdXBwb3J0ZWQgYXMgYSBsYW5ndWFnZS4nKTtcbiAgICB9XG5cbiAgICAvLyBOT1RFOiB0aGlzIGlzIGRlbGliZXJhdGVseSBgPT0gbnVsbGBcbiAgICBpZiAoaW5wdXRbJ3NvdXJjZXMnXSA9PSBudWxsIHx8IGlucHV0Wydzb3VyY2VzJ10ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RmF0YWxFcnJvcignTm8gaW5wdXQgc291cmNlcyBzcGVjaWZpZWQuJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNPcHRpbWl6ZXJFbmFibGVkIChpbnB1dCkge1xuICAgICAgcmV0dXJuIGlucHV0WydzZXR0aW5ncyddICYmIGlucHV0WydzZXR0aW5ncyddWydvcHRpbWl6ZXInXSAmJiBpbnB1dFsnc2V0dGluZ3MnXVsnb3B0aW1pemVyJ11bJ2VuYWJsZWQnXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFuc2xhdGVTb3VyY2VzIChpbnB1dCkge1xuICAgICAgdmFyIHNvdXJjZXMgPSB7fTtcbiAgICAgIGZvciAodmFyIHNvdXJjZSBpbiBpbnB1dFsnc291cmNlcyddKSB7XG4gICAgICAgIGlmIChpbnB1dFsnc291cmNlcyddW3NvdXJjZV1bJ2NvbnRlbnQnXSAhPT0gbnVsbCkge1xuICAgICAgICAgIHNvdXJjZXNbc291cmNlXSA9IGlucHV0Wydzb3VyY2VzJ11bc291cmNlXVsnY29udGVudCddO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGZvcmNlIGZhaWx1cmVcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNvdXJjZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlicmFyaWVzU3VwcGxpZWQgKGlucHV0KSB7XG4gICAgICBpZiAoaW5wdXRbJ3NldHRpbmdzJ10pIHtcbiAgICAgICAgcmV0dXJuIGlucHV0WydzZXR0aW5ncyddWydsaWJyYXJpZXMnXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFuc2xhdGVPdXRwdXQgKG91dHB1dCwgbGlicmFyaWVzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBvdXRwdXQgPSBKU09OLnBhcnNlKG91dHB1dCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRGYXRhbEVycm9yKCdDb21waWxlciByZXR1cm5lZCBpbnZhbGlkIEpTT046ICcgKyBlLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgb3V0cHV0ID0gdHJhbnNsYXRlLnRyYW5zbGF0ZUpzb25Db21waWxlck91dHB1dChvdXRwdXQsIGxpYnJhcmllcyk7XG4gICAgICBpZiAob3V0cHV0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdEZhdGFsRXJyb3IoJ0ZhaWxlZCB0byBwcm9jZXNzIG91dHB1dC4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvdXRwdXQpO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2VzID0gdHJhbnNsYXRlU291cmNlcyhpbnB1dCk7XG4gICAgaWYgKHNvdXJjZXMgPT09IG51bGwgfHwgT2JqZWN0LmtleXMoc291cmNlcykubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RmF0YWxFcnJvcignRmFpbGVkIHRvIHByb2Nlc3Mgc291cmNlcy4nKTtcbiAgICB9XG5cbiAgICAvLyBUcnkgbGlua2luZyBpZiBsaWJyYXJpZXMgd2VyZSBzdXBwbGllZFxuICAgIHZhciBsaWJyYXJpZXMgPSBsaWJyYXJpZXNTdXBwbGllZChpbnB1dCk7XG5cbiAgICAvLyBUcnkgdG8gd3JhcCBhcm91bmQgb2xkIHZlcnNpb25zXG4gICAgaWYgKGNvbXBpbGVKU09OQ2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0cmFuc2xhdGVPdXRwdXQoY29tcGlsZUpTT05DYWxsYmFjayhKU09OLnN0cmluZ2lmeSh7ICdzb3VyY2VzJzogc291cmNlcyB9KSwgaXNPcHRpbWl6ZXJFbmFibGVkKGlucHV0KSwgcmVhZENhbGxiYWNrKSwgbGlicmFyaWVzKTtcbiAgICB9XG5cbiAgICBpZiAoY29tcGlsZUpTT05NdWx0aSAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRyYW5zbGF0ZU91dHB1dChjb21waWxlSlNPTk11bHRpKEpTT04uc3RyaW5naWZ5KHsgJ3NvdXJjZXMnOiBzb3VyY2VzIH0pLCBpc09wdGltaXplckVuYWJsZWQoaW5wdXQpKSwgbGlicmFyaWVzKTtcbiAgICB9XG5cbiAgICAvLyBUcnkgb3VyIGx1Y2sgd2l0aCBhbiBhbmNpZW50IGNvbXBpbGVyXG4gICAgaWYgKGNvbXBpbGVKU09OICE9PSBudWxsKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXMoc291cmNlcykubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRGYXRhbEVycm9yKCdNdWx0aXBsZSBzb3VyY2VzIHByb3ZpZGVkLCBidXQgY29tcGlsZXIgb25seSBzdXBwb3J0cyBzaW5nbGUgaW5wdXQuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhbnNsYXRlT3V0cHV0KGNvbXBpbGVKU09OKHNvdXJjZXNbT2JqZWN0LmtleXMoc291cmNlcylbMF1dLCBpc09wdGltaXplckVuYWJsZWQoaW5wdXQpKSwgbGlicmFyaWVzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm9ybWF0RmF0YWxFcnJvcignQ29tcGlsZXIgZG9lcyBub3Qgc3VwcG9ydCBhbnkga25vd24gaW50ZXJmYWNlLicpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICBzZW12ZXI6IHZlcnNpb25Ub1NlbXZlcixcbiAgICBsaWNlbnNlOiBsaWNlbnNlLFxuICAgIGxvd2xldmVsOiB7XG4gICAgICBjb21waWxlU2luZ2xlOiBjb21waWxlSlNPTixcbiAgICAgIGNvbXBpbGVNdWx0aTogY29tcGlsZUpTT05NdWx0aSxcbiAgICAgIGNvbXBpbGVDYWxsYmFjazogY29tcGlsZUpTT05DYWxsYmFjayxcbiAgICAgIGNvbXBpbGVTdGFuZGFyZDogY29tcGlsZVN0YW5kYXJkXG4gICAgfSxcbiAgICBmZWF0dXJlczoge1xuICAgICAgbGVnYWN5U2luZ2xlSW5wdXQ6IGNvbXBpbGVKU09OICE9PSBudWxsLFxuICAgICAgbXVsdGlwbGVJbnB1dHM6IGNvbXBpbGVKU09OTXVsdGkgIT09IG51bGwgfHwgY29tcGlsZVN0YW5kYXJkICE9PSBudWxsLFxuICAgICAgaW1wb3J0Q2FsbGJhY2s6IGNvbXBpbGVKU09OQ2FsbGJhY2sgIT09IG51bGwgfHwgY29tcGlsZVN0YW5kYXJkICE9PSBudWxsLFxuICAgICAgbmF0aXZlU3RhbmRhcmRKU09OOiBjb21waWxlU3RhbmRhcmQgIT09IG51bGxcbiAgICB9LFxuICAgIGNvbXBpbGU6IGNvbXBpbGVTdGFuZGFyZFdyYXBwZXIsXG4gICAgLy8gTG9hZHMgdGhlIGNvbXBpbGVyIG9mIHRoZSBnaXZlbiB2ZXJzaW9uIGZyb20gdGhlIGdpdGh1YiByZXBvc2l0b3J5XG4gICAgLy8gaW5zdGVhZCBvZiBmcm9tIHRoZSBsb2NhbCBmaWxlc3lzdGVtLlxuICAgIGxvYWRSZW1vdGVWZXJzaW9uOiBmdW5jdGlvbiAodmVyc2lvblN0cmluZywgY2IpIHtcbiAgICAgIHZhciBtZW0gPSBuZXcgTWVtb3J5U3RyZWFtKG51bGwsIHtyZWFkYWJsZTogZmFsc2V9KTtcbiAgICAgIHZhciB1cmwgPSAnaHR0cHM6Ly9iaW5hcmllcy5zb2xpZGl0eWxhbmcub3JnL2Jpbi9zb2xqc29uLScgKyB2ZXJzaW9uU3RyaW5nICsgJy5qcyc7XG4gICAgICBodHRwcy5nZXQodXJsLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgIT09IDIwMCkge1xuICAgICAgICAgIGNiKG5ldyBFcnJvcignRXJyb3IgcmV0cmlldmluZyBiaW5hcnk6ICcgKyByZXNwb25zZS5zdGF0dXNNZXNzYWdlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzcG9uc2UucGlwZShtZW0pO1xuICAgICAgICAgIHJlc3BvbnNlLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYihudWxsLCBzZXR1cE1ldGhvZHMocmVxdWlyZUZyb21TdHJpbmcobWVtLnRvU3RyaW5nKCksICdzb2xqc29uLScgKyB2ZXJzaW9uU3RyaW5nICsgJy5qcycpKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBjYihlcnJvcik7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIC8vIFVzZSB0aGlzIGlmIHlvdSB3YW50IHRvIGFkZCB3cmFwcGVyIGZ1bmN0aW9ucyBhcm91bmQgdGhlIHB1cmUgbW9kdWxlLlxuICAgIHNldHVwTWV0aG9kczogc2V0dXBNZXRob2RzXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0dXBNZXRob2RzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX3dyYXBwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJzb2xjL3dyYXBwZXJcIikpO1xuXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLyogZ2xvYmFscyBpbXBvcnRTY3JpcHRzICovXG5pbXBvcnRTY3JpcHRzKFwiaHR0cHM6Ly9iaW5hcmllcy5zb2xpZGl0eWxhbmcub3JnL2Jpbi9zb2xqc29uLXYwLjguOStjb21taXQuZTVlZWQ2M2EuanNcIik7XG52YXIgY29tcGlsZXIgPSAoMCwgX3dyYXBwZXJbXCJkZWZhdWx0XCJdKShzZWxmLk1vZHVsZSk7XG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZGF0YSA9IF9yZWYuZGF0YTtcblxuICBpZiAoJ2NvbXBpbGUnID09PSBkYXRhLnR5cGUpIHtcbiAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgIHBheWxvYWQ6IGNvbXBpbGVyLmNvbXBpbGUoZGF0YS5wYXlsb2FkKSxcbiAgICAgIHR5cGU6ICdjb21waWxlX3Jlc3VsdCdcbiAgICB9KTtcbiAgfVxufSk7XG5zZWxmLnBvc3RNZXNzYWdlKHtcbiAgdHlwZTogJ2xvYWRlZCdcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U29saWRpdHlDb21waWxlci53b3JrZXIuanMubWFwIl0sIm5hbWVzIjpbInJlcXVpcmUkJDAiLCJpZWVlNzU0IiwicmVxdWlyZSQkMSIsImdsb2JhbCIsIm5vb3AiLCJvbmNlIiwiZm9ybWF0IiwiaW5zcGVjdCIsImlzRnVuY3Rpb24iLCJpc0FycmF5IiwiaGFzT3duUHJvcGVydHkiLCJCdWZmZXIiLCJpbmhlcml0cyIsIm9iamVjdEtleXMiLCJpc0J1ZmZlciIsImFzc2VydCIsInV0aWxJbnNwZWN0IiwibGlua2VyIiwidHJhbnNsYXRlIiwidGhpcyIsInBhcnNlIiwicXNQYXJzZSIsInRvQVNDSUkiLCJxc1N0cmluZ2lmeSIsImV2ZW50c01vZHVsZSIsImV2ZW50cyIsImxpc3RlbmVyQ291bnQiLCJidWZmZXIiLCJTdHJpbmdEZWNvZGVyIiwiZGVidWciLCJFdmVudEVtaXR0ZXIiLCJXcml0YWJsZSIsImNhcGFiaWxpdHkuaGFzRmV0Y2giLCJjYXBhYmlsaXR5Lm1vemNodW5rZWRhcnJheWJ1ZmZlciIsImNhcGFiaWxpdHkubXNzdHJlYW0iLCJjYXBhYmlsaXR5LmFycmF5YnVmZmVyIiwiY2FwYWJpbGl0eS52YkFycmF5IiwiY2FwYWJpbGl0eS5vdmVycmlkZU1pbWVUeXBlIiwiY2FwYWJpbGl0eS5ibG9iQ29uc3RydWN0b3IiLCJodHRwcyIsInJlcXVpcmUkJDMiLCJyZXF1aXJlJCQ0IiwicmVxdWlyZSQkNSIsImZvbGxvd1JlZGlyZWN0c01vZHVsZSIsImZvbGxvd1JlZGlyZWN0cyIsInJlcXVpcmUkJDIiLCJNZW1vcnlTdHJlYW0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Q0FBQSxTQUFTLHNCQUFzQixDQUFDLEdBQUcsRUFB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QUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFDO0NBQ2IsRUFBRSxJQUFJLElBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxHQUFHLEVBQUM7Q0FDcEMsRUFBRSxJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLElBQUksRUFBQztDQUM1QixFQUFFLElBQUksS0FBSyxHQUFHLElBQUksSUFBSSxFQUFDO0NBQ3ZCLEVBQUUsSUFBSSxFQUFFLElBQUksSUFBSSxLQUFLLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFDO0NBQ2xFLEVBQUUsSUFBSSxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsSUFBSSxNQUFNLEdBQUcsQ0FBQyxFQUFDO0NBQ2pDLEVBQUUsSUFBSSxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUM7Q0FDdkIsRUFBRSxJQUFJLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxLQUFLLEtBQUssS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBQztBQUM3RDtDQUNBLEVBQUUsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFDO0FBQ3pCO0NBQ0EsRUFBRSxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEtBQUssUUFBUSxFQUFFO0NBQzFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBQztDQUM1QixJQUFJLENBQUMsR0FBRyxLQUFJO0NBQ1osR0FBRyxNQUFNO0NBQ1QsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLEVB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QUUsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDO0NBQzlCLENBQUM7QUFDRDtDQUNBLE1BQU0sQ0FBQyxRQUFRLEdBQUcsU0FBUyxRQUFRLEVBQUUsQ0FBQyxFQUFFO0NBQ3hDLEVBQUUsT0FBTyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsQ0FBQyxTQUFTLEtBQUssSUFBSTtDQUMxQyxJQUFJLENBQUMsS0FBSyxNQUFNLENBQUMsU0FBUztDQUMxQixFQUFDO0FBQ0Q7Q0FDQSxNQUFNLENBQUMsT0FBTyxHQUFHLFNBQVMsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7Q0FDekMsRUFBRSxJQUFJLFVBQVUsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLFVBQVUsRUFBQztDQUMzRSxFQUFFLElBQUksVUFBVSxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsVUFBVSxFQUFDO0NBQzNFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFO0NBQ2xELElBQUksTUFBTSxJQUFJLFNBQVM7Q0FDdkIsTUFBTSx1RUFBdUU7Q0FDN0UsS0FBSztDQUNMLEdBQUc7QUFDSDtDQUNBLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLE9BQU8sQ0FBQztBQUN2QjtDQUNBLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU07Q0FDbEIsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTTtBQUNsQjtDQUNBLEVBQUUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUU7Q0FDdEQsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7Q0FDdkIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBQztDQUNkLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUM7Q0FDZCxNQUFNLEtBQUs7Q0FDWCxLQUFLO0NBQ0wsR0FBRztBQUNIO0NBQ0EsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Q0FDdEIsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsT0FBTyxDQUFDO0NBQ3JCLEVBQUUsT0FBTyxDQUFDO0NBQ1YsRUFBQztBQUNEO0NBQ0EsTUFBTSxDQUFDLFVBQVUsR0FBRyxTQUFTLFVBQVUsRUFBRSxRQUFRLEVBQUU7Q0FDbkQsRUFBRSxRQUFRLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLEVBQUU7Q0FDeEMsSUFBSSxLQUFLLEtBQUssQ0FBQztDQUNmLElBQUksS0FBSyxNQUFNLENBQUM7Q0FDaEIsSUFBSSxLQUFLLE9BQU8sQ0FBQztDQUNqQixJQUFJLEtBQUssT0FBTyxDQUFDO0NBQ2pCLElBQUksS0FBSyxRQUFRLENBQUM7Q0FDbEIsSUFBSSxLQUFLLFFBQVEsQ0FBQztDQUNsQixJQUFJLEtBQUssUUFBUSxDQUFDO0NBQ2xCLElBQUksS0FBSyxNQUFNLENBQUM7Q0FDaEIsSUFBSSxLQUFLLE9BQU8sQ0FBQztDQUNqQixJQUFJLEtBQUssU0FBUyxDQUFDO0NBQ25CLElBQUksS0FBSyxVQUFVO0NBQ25CLE1BQU0sT0FBTyxJQUFJO0NBQ2pCLElBQUk7Q0FDSixNQUFNLE9BQU8sS0FBSztDQUNsQixHQUFHO0NBQ0gsRUFBQztBQUNEO0NBQ0EsTUFBTSxDQUFDLE1BQU0sR0FBRyxTQUFTLE1BQU0sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFO0NBQy9DLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7Q0FDNUIsSUFBSSxNQUFNLElBQUksU0FBUyxDQUFDLDZDQUE2QyxDQUFDO0NBQ3RFLEdBQUc7QUFDSDtDQUNBLEVBQUUsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtDQUN6QixJQUFJLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDMUIsR0FBRztBQUNIO0NBQ0EsRUFBRSxJQUFJLEVBQUM7Q0FDUCxFQUFFLElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRTtDQUM1QixJQUFJLE1BQU0sR0FBRyxFQUFDO0NBQ2QsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7Q0FDdEMsTUFBTSxNQUFNLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU07Q0FDOUIsS0FBSztDQUNMLEdBQUc7QUFDSDtDQUNBLEVBQUUsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUM7Q0FDM0MsRUFBRSxJQUFJLEdBQUcsR0FBRyxFQUFDO0NBQ2IsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7Q0FDcEMsSUFBSSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFDO0NBQ3JCLElBQUksSUFBSSxVQUFVLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxFQUFFO0NBQ3JDLE1BQU0sSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxFQUFFO0NBQzVDLFFBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFD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QUFDSDtDQUNBLEVBQUUsSUFBSSxFQUFDO0NBQ1AsRUFBRSxJQUFJLEdBQUcsRUFBRTtDQUNYLElBQUksSUFBSSxVQUFVLEdBQUcsQ0FBQyxFQUFDO0NBQ3ZCLElBQUksS0FBSyxDQUFDLEdBQUcsVUFBVSxFQUFFLENBQUMsR0FBRyxTQUFTLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Q0FDN0MsTUFBTSxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLEdBQUcsRUFBRSxVQUFVLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxVQUFVLENBQUMsRUFBRTtDQUM5RSxRQUFRLElBQUksVUFBVSxLQUFLLENBQUMsQ0FBQyxFQUFFLFVBQVUsR0FBRyxFQUFDO0NBQzdDLFFBQVEsSUFBSSxDQUFDLEdBQUcsVUFBVSxHQUFHLENBQUMsS0FBSyxTQUFTLEVBQUUsT0FBTyxVQUFVLEdBQUcsU0FBUztDQUMzRSxPQUFPLE1BQU07Q0FDYixRQUFRLElBQUksVUFBVSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsV0FBVTtDQUNsRCxRQUFRLFVBQVUsR0FBRyxDQUFDLEVBQUM7Q0FDdkIsT0FBTztDQUNQLEtBQUs7Q0FDTCxHQUFHLE1BQU07Q0FDVCxJQUFJLElBQUksVUFBVSxHQUFHLFNBQVMsR0FBRyxTQUFTLEVBQUUsVUFBVSxHQUFHLFNBQVMsR0FBRyxVQUFTO0NBQzlFLElBQUksS0FBSyxDQUFDLEdBQUcsVUFBVSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Q0FDdEMsTUFBTSxJQUFJLEtBQUssR0FBRyxLQUFJO0NBQ3RCLE1BQU0sS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsRUFBRSxDQUFDLEVBQUUsRUFBRTtDQUMxQyxRQUFRLElBQUksSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFD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LEVBQUUsT0FBTyxDQUFDLEdBQUcsR0FBRyxNQUFNLElBQUksR0FBRyxHQUFHLFVBQVUsR0FBRyxHQUFHO0NBQ2hELEVBQUM7QUFDRDtDQUNBLE1BQU0sQ0FBQyxTQUFTLENBQUMsV0FBVyxHQUFHLFNBQVMsV0FBVyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUU7Q0FDdkUsRUFBRSxNQUFNLEdBQUcsTUFBTSxLQUFLLEVBQUM7Q0FDdkIsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUM7Q0FDcEQsRUFBRSxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUM7Q0FDcEQsRUFBRSxPQUFPLENBQUMsR0FBRyxHQUFHLE1BQU0sSUFBSSxHQUFHLEdBQUcsVUFBVSxHQUFHLEdBQUc7Q0FDaEQsRUFBQztBQUNEO0NBQ0EsTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsU0FBUyxXQUFXLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRTtDQUN2RSxFQUFFLE1BQU0sR0FBRyxNQUFNLEtBQUssRUFBQztDQUN2QixFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBQztBQUNwRDtDQUNBLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7Q0FDdEIsS0FBSyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUMzQixLQUFLLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0NBQzVCLEtBQUssSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7Q0FDNUIsRUFBQztBQUNEO0NBQ0EsTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsU0FBUyxX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TUFBTSxFQUFFLENBQUMsR0FBRyxHQUFFO0NBQ3BCLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFDLEtBQUssSUFBSSxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFDO0NBQzNELEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRTtDQUNwQixFQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBQztDQUNkLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRTtDQUNwQixFQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBQztDQUNkLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRTtDQUNwQixFQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBQztDQUNkLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRTtDQUNwQixFQUFFLE9BQU8sTUFBTTtDQUNmLENBQUM7QUFDRDtDQUNBLFNBQVMsY0FBYyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7Q0FDdkQsRUFBRSxVQUFVLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUM7QUFDN0M7Q0FDQSxFQUFFLElBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFDO0NBQzdDLEVBQUUsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFFO0NBQ3RCLEVBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFDO0NBQ2QsRUFBRSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUU7Q0FDdEIsRUFBRSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUM7Q0FDZCxFQUFFLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRTtDQUN0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LEtBQUssSUFBSSxTQUFRO0NBQzNCLEVBQUUsSUFBSSxVQUFTO0NBQ2YsRUFBRSxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTTtDQUM5QixFQUFFLElBQUksYUFBYSxHQUFHLEtBQUk7Q0FDMUIsRUFBRSxNQUFNLEtBQUssR0FBRyxHQUFFO0FBQ2xCO0NBQ0EsRUFBRSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFO0NBQ25DLElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFDO0FBQ3BDO0NBQ0E7Q0FDQSxJQUFJLElBQUksU0FBUyxHQUFHLE1BQU0sSUFBSSxTQUFTLEdBQUcsTUFBTSxFQUFFO0NBQ2xEO0NBQ0EsTUFBTSxJQUFJLENBQUMsYUFBYSxFQUFFO0NBQzFCO0NBQ0EsUUFBUSxJQUFJLFNBQVMsR0FBRyxNQUFNLEVBQUU7Q0FDaEM7Q0FDQSxVQUFVLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUM7Q0FDN0QsVUFBVSxRQUFRO0NBQ2xCLFNBQVMsTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssTUFBTSxFQUFFO0NBQ3JDO0NBQ0EsVUFBVSxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDO0NBQzdELFVBQVUsUUFBUTtDQUNsQixTQUFTO0FBQ1Q7Q0FDQTtDQUNBLFFBQVEsYUFBYSxHQUFHLFVBQVM7QUFDakM7Q0FDQSxRQUFRLFFBQVE7Q0FDaEIsT0FBTztBQUNQO0NBQ0E7Q0FDQSxNQUFNLElBQUksU0FBUyxHQUFHLE1BQU0sRUFBRTtDQUM5QixRQUFRLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEtB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LE1BQU0sSUFBSSxDQUFDLEdBQUcsU0FBUyxFQUFFLEVBQUUsS0FBSyxFQUFFO0NBQ3ZFLFVBQVUsSUFBSSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7Q0FDM0MsVUFBVSxJQUFJLElBQUksR0FBRyxJQUFJLEVBQUU7Q0FDM0IsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDckQsV0FBVyxNQUFNLElBQUksSUFBSSxHQUFHLEtBQUssRUFBRTtDQUNuQyxZQUFZLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztDQUNyRSxZQUFZLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztDQUN2RSxXQUFXLE1BQU0sSUFBSSxJQUFJLEdBQUcsTUFBTSxJQUFJLElBQUksSUFBSSxNQUFNLEVBQUU7Q0FDdEQsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDdEUsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDOUUsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDdkUsV0FBVyxNQUFNO0NBQ2pCLFlBQVksSUFBSSxHQUFHLE9BQU8sSUFBSSxDQUFDLENBQUMsSUFBSSxHQUFHLEtBQUssS0FBSyxFQUFFLEtBQUssT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDOUYsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDdEUsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDL0UsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDOUUsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDdkUsV0FBVztDQUNYLFNBQVM7Q0FDVCxPQUFPO0NBQ1AsTUFBTSxJQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQztDQUM3QixNQUFNLElBQUksQ0FBQyxJQUFJLFNBQVMsRUFBRTtDQUMxQixRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcs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RTtDQUN2RCxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztDQUNwRixNQUFNLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7Q0FDcEYsTUFBTSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Q0FDckYsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO0NBQ2hDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7Q0FDaEQsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztDQUNoRCxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0NBQ2hELE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7Q0FDaEQsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztDQUNoRCxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0NBQ2hELE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7Q0FDaEQsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztDQUNoRCxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0NBQ2hELE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDaEQ7Q0FDQSxNQUFNLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0NBQ3pDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDekMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2hCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNoQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDekMsTUFBTSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztDQUN6QyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDaEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2hCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztDQUN6QyxNQUFNLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0NBQ3pDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNoQixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDaEIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0NBQ3pDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDekMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2hCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNoQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDekMsTUFBTSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztDQUN6QyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDaEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2hCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakI7Q0FDQSxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDaEIsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ2hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDMUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDMUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDM0MsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMzQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQ3hDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDeEMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDM0MsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMzQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzNDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDM0MsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDeEMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztDQUN4QyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDMUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDM0MsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMzQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDMUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztDQUN4QyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0NBQ3hDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDMUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztDQUMxQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDMUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDMUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztDQUMxQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0NBQ3hDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDeEMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMzQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzNDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDMUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDMUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0FBQzFDO0NBQ0EsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0NBQzdCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztDQUM3QixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztDQUM3QixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7Q0FDN0IsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7Q0FDN0IsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0NBQzdCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0NBQzdCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztDQUM3QixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztDQUM3QixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7Q0FDN0IsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcs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QUFNLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztDQUN6QixFQUFFLElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDaEMsRUFBRSxLQUFLLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRTtDQUM1QyxJQUFJLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztDQUN6QixJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDOUIsR0FBRztBQUNIO0NBQ0E7Q0FDQTtDQUNBLEVBQUUsTUFBTSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO0FBQzlCO0NBQ0E7Q0FDQSxFQUFFLElBQUksUUFBUSxDQUFDLElBQUksS0FBSyxFQUFFLEVBQUU7Q0FDNUIsSUFBSSxNQUFNLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztDQUNsQyxJQUFJLE9BQU8sTUFBTSxDQUFDO0NBQ2xCLEdBQUc7QUFDSDtDQUNBO0NBQ0EsRUFBRSxJQUFJLFFBQVEsQ0FBQyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFO0NBQzlDO0NBQ0EsSUFBSSxJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0NBQ3RDLElBQUksS0FBSyxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUU7Q0FDOUMsTUFBTSxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7Q0FDM0IsTUFBTSxJQUFJLElBQUksS0FBSyxVQUFVO0NBQzdCLFFBQVEsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUN0QyxLQUFLO0FBQ0w7Q0FDQTtD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QztDQUNsRCxLQUFLO0FBQ0w7Q0FDQSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDcEIsR0FBRyxDQUFDLENBQUM7QUFDTDtDQUNBLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsVUFBVSxLQUFLLEVBQUU7Q0FDckMsSUFBSUEsT0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0NBQzFCLElBQUksSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUMxRDtDQUNBO0NBQ0EsSUFBSSxJQUFJLEtBQUssQ0FBQyxVQUFVLEtBQUssS0FBSyxLQUFLLElBQUksSUFBSSxLQUFLLEtBQUssU0FBUyxDQUFDLEVBQUUsT0FBTyxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxLQUFLLENBQUMsS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLE9BQU87QUFDNUk7Q0FDQSxJQUFJLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Q0FDL0IsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFO0NBQ2QsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDO0NBQ3BCLE1BQU0sTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO0NBQ3JCLEtBQUs7Q0FDTCxHQUFHLENBQUMsQ0FBQztBQUNMO0NBQ0E7Q0FDQTtDQUNBLEVBQUUsS0FBSyxJQUFJLENBQUMsSUFBSSxNQUFNLEVBQUU7Q0FDeEIsSUFBSSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxTQUFTLElBQUksT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssVUFBVSxFQUFFO0NBQ2xFLE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLFVBQVUsTUFBTSxFQUFFO0NBQ2xDLFFBQVEsT0FBTyxZQUFZO0NBQzNCLFVBQVUsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFD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QU8sRUFBRSxPQUFPLENBQUMsQ0FBQztDQUM5QixFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQzVCO0NBQ0E7Q0FDQSxFQUFFLFNBQVMsT0FBTyxHQUFHO0NBQ3JCLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7Q0FDMUMsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUMxQztDQUNBLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7Q0FDeEMsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUM1QztDQUNBLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7Q0FDNUMsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUMxQztDQUNBLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7Q0FDMUMsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUM1QztDQUNBLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7Q0FDMUMsR0FBRztBQUNIO0NBQ0EsRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztDQUM1QixFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQzlCO0NBQ0EsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUM1QjtDQUNBLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDNUI7Q0FDQTtD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",!1),SolidityCompiler_worker=Object.freeze({__proto__:null,default:WorkerFactory}),require$$4=getDefaultExportFromNamespaceIfPresent(SolidityCompiler_worker),require$$5=getDefaultExportFromNamespaceIfPresent(ContractsInFileStorage),_interopRequireDefault=interopRequireDefault.exports;Object.defineProperty(SolidityCompiler$1,"__esModule",{value:!0});var VIRTUAL_SOURCE_CONTRACT_FILE_NAME_1=SolidityCompiler$1.VIRTUAL_SOURCE_CONTRACT_FILE_NAME=SolidityCompiler_2=SolidityCompiler$1.SolidityCompiler=void 0,_classCallCheck2=_interopRequireDefault(classCallCheck.exports),_createClass2=_interopRequireDefault(createClass.exports),_defineProperty2=_interopRequireDefault(defineProperty.exports),_SolidityCompilerWorker=_interopRequireDefault(require$$4),_ContractsInFileStorage=_interopRequireDefault(require$$5),VIRTUAL_SOURCE_CONTRACT_FILE_NAME="__contract__.sol";VIRTUAL_SOURCE_CONTRACT_FILE_NAME_1=SolidityCompiler$1.VIRTUAL_SOURCE_CONTRACT_FILE_NAME=VIRTUAL_SOURCE_CONTRACT_FILE_NAME;var compilerWorker=null,hasCompilerLoaded=!1;function triggerCompile(t){var e={language:"Solidity",settings:{metadata:{bytecodeHash:"test"===process$1.env.NODE_ENV?"none":"ipfs"},outputSelection:{"*":{"*":["*"]}}},sources:(0,_defineProperty2.default)({},VIRTUAL_SOURCE_CONTRACT_FILE_NAME,{content:t})};if(!compilerWorker)throw new Error("First initialize the compile web-worker.");compilerWorker.postMessage({payload:JSON.stringify(e),type:"compile"})}var SolidityCompiler=function(){function t(){(0,_classCallCheck2.default)(this,t)}return(0,_createClass2.default)(t,null,[{key:"compile",value:function(t){var e=t.code,Q=t.path;if(!window.Worker)throw new Error("Your browser does not support WebWorkers therefore Contract compilation is not available.");if(void 0!==Q){if(Q.startsWith(".."))throw new Error("Cannot load contracts which are outside the bundled designated folder from which the 'ContractsInFileStorage' is constructed.");if(Q.startsWith("./")&&(Q=Q.substring(2)),void 0!==_ContractsInFileStorage.default[Q])e=_ContractsInFileStorage.default[Q];else if(!e||void 0!==Q)throw new Error("Only direct code compilation is fully supported by the browser at this point. Path loading is limited to the pre-bundled contracts stored in 'ContractsInFileStorage'.")}return compilerWorker?triggerCompile(e):compilerWorker=new _SolidityCompilerWorker.default,new Promise((function(t,Q){compilerWorker.onmessage=function(Q){var B=Q.data;if("compile_result"===B.type)t(B.payload);else{if("loaded"===B.type||hasCompilerLoaded)return hasCompilerLoaded=!0,void triggerCompile(e);console.log("Unhandled message received from web-worker:",B)}},compilerWorker.onerror=function(t){Q(t)}}))}}]),t}(),SolidityCompiler_2=SolidityCompiler$1.SolidityCompiler=SolidityCompiler;class CompileIssues extends Error{static tryThrowingIfErrorsIn({compileResult:t=null,ignoreWarnings:e=!0}){if(null!=t&&Array.isArray(t.errors)){const Q=t.errors.filter((t=>e&&"Warning"!==t.type||!e));if(0!=Q.length)throw new CompileIssues(Q)}}static _listOfSimpleIssueMessagesFor(t){return t.map((t=>`[ ${t.sourceLocation.start}:${t.sourceLocation.end} ] ${t.message}`))}constructor(t){super(`There are issues with the contract code:\n${CompileIssues._listOfSimpleIssueMessagesFor(t).join("\n")}`),this.issues=t}}class Contract extends BasicUploadableEntity{static async newFrom({code:t,index:e=0,ignoreWarnings:Q=!1,name:B,path:s}){if(!t&&!s)throw new Error("In order to continue, either provide the direct solidity code or a file path where the top-level code resides.");if(!B&&(e||Number.isInteger(e)&&e<0))throw new Error("Please provide either a non-negative index or the actual name of the contract to reference the Contract instance with.");const F=await Contract.allFrom({code:t,ignoreWarnings:Q,path:s});if(B){const t=F.find((t=>t.name===B));if(!t)throw new Error(`There is no such contract named '${B}' present in the referenced code.`);return t}if(e>=F.length)throw new Error(`Index out of range. Your requested contract-id ${e} is not in range of the ${F.length} contracts present in the given code.`);return F[e]}static async allFrom({code:t,ignoreWarnings:e=!1,path:Q}){if(!t&&!Q)throw new Error("Can only retrieve contracts if either the direct solidity code is provided or a file path where that top-level code resides.");const B=await SolidityCompiler_2.compile({code:t,path:Q}),s=Contract._tryParsingCompileResultFrom({ignoreWarnings:e,rawCompileResult:B}).contracts[VIRTUAL_SOURCE_CONTRACT_FILE_NAME_1],F=[];for(const t of Object.keys(s)){const e=s[t];F.push(new Contract({abi:e.abi,byteCode:e.evm.bytecode.object,name:t}))}return F}static deserialize(t){let e={};try{e=JSON.parse(t)}catch(t){throw new Error("Please provide something valid to be deserialized.")}return new Contract(e)}static _tryParsingCompileResultFrom({rawCompileResult:t,ignoreWarnings:e}){const Q=JSON.parse(t);return CompileIssues.tryThrowingIfErrorsIn({compileResult:Q,ignoreWarnings:e}),Q}constructor({name:t,abi:e,byteCode:Q}){if(!t)throw new Error("Please provide a name for the Contract instance.");if(!e)throw new Error("Please provide a, valid, EthersProject-compatible, ABI definition for the Contract instance.");if("string"==typeof Q&&0!==Q.length){if(/.*__\$.*\$__.*/.test(Q))throw new Error("Library linking is not currently supported. Please follow issue #38 for more info.");if(!/^[0-9a-f]+$/.test(Q))throw new Error("Please provide the valid formatted byte-code definition for the Contract in order to instantiate it.")}super(`${t}-Contract`),this.name=t,this.byteCode=Q,this.interface=new Interface(e)}equals(t){if(t instanceof Contract==!1)return!1;const e=this.interface.fragments,Q=t.interface.fragments;if(e.length!==Q.length)return!1;let B=!0;for(const t of e)if(!Q.find((e=>e.format()===t.format()))){B=!1;break}return this.byteCode===t.byteCode&&B}serialize(){return JSON.stringify({abi:this.interface.format(),byteCode:this.byteCode,name:this.name})}async getContent(){if(!this.byteCode)throw new Error("Won't upload contract to network because it's lacking the required byte-code data.");return this.byteCode}async onFileUploaded({session:t,receipt:e,args:Q=[]}){const{createContractOptions:B,emitConstructorLogs:s}=await this._getContractCreateOptionsFor({args:Q,receipt:e,session:t}),F=new ContractCreateTransaction(B);return await LiveContract.newFollowingUpload({contract:this,emitConstructorLogs:s,session:t,transaction:F})}async _getContractCreateOptionsFor({session:t,receipt:e,args:Q=[]}){const B=e.fileId,s=this.interface.deploy;let F={},U=t.defaults.emitConstructorLogs;if(Q.length>0&&0!==Object.keys(Q[0]).length&&"_contract"===Object.keys(Q[0])[0]){const t=Q[0]._contract;U=void 0!==t.emitConstructorLogs?t.emitConstructorLogs:U,delete t.emitConstructorLogs,F=t,Q=Q.slice(1)}return{createContractOptions:Object.assign({},{adminKey:t.wallet.account.publicKey,bytecodeFileId:B,constructorParameters:await ContractFunctionParameters.newFor(s,Q),gas:t.defaults.contractCreationGas,...F}),emitConstructorLogs:U}}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var Q=0;Q<e.length;Q++){var B=e[Q];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(t,B.key,B)}}function _createClass(t,e,Q){return e&&_defineProperties(t.prototype,e),Q&&_defineProperties(t,Q),Object.defineProperty(t,"prototype",{writable:!1}),t}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var main={},extendStatics=function(t,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var Q in e)Object.prototype.hasOwnProperty.call(e,Q)&&(t[Q]=e[Q])},extendStatics(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __extends$1(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function Q(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(Q.prototype=e.prototype,new Q)}var __assign$1=function(){return __assign$1=Object.assign||function(t){for(var e,Q=1,B=arguments.length;Q<B;Q++)for(var s in e=arguments[Q])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},__assign$1.apply(this,arguments)};function __rest(t,e){var Q={};for(var B in t)Object.prototype.hasOwnProperty.call(t,B)&&e.indexOf(B)<0&&(Q[B]=t[B]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(B=Object.getOwnPropertySymbols(t);s<B.length;s++)e.indexOf(B[s])<0&&Object.prototype.propertyIsEnumerable.call(t,B[s])&&(Q[B[s]]=t[B[s]])}return Q}function __decorate(t,e,Q,B){var s,F=arguments.length,U=F<3?e:null===B?B=Object.getOwnPropertyDescriptor(e,Q):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(t,e,Q,B);else for(var n=t.length-1;n>=0;n--)(s=t[n])&&(U=(F<3?s(U):F>3?s(e,Q,U):s(e,Q))||U);return F>3&&U&&Object.defineProperty(e,Q,U),U}function __param(t,e){return function(Q,B){e(Q,B,t)}}function __metadata(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function __awaiter(t,e,Q,B){return new(Q||(Q=Promise))((function(s,F){function U(t){try{c(B.next(t))}catch(t){F(t)}}function n(t){try{c(B.throw(t))}catch(t){F(t)}}function c(t){t.done?s(t.value):function(t){return t instanceof Q?t:new Q((function(e){e(t)}))}(t.value).then(U,n)}c((B=B.apply(t,e||[])).next())}))}function __generator(t,e){var Q,B,s,F,U={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return F={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(F[Symbol.iterator]=function(){return this}),F;function n(F){return function(n){return function(F){if(Q)throw new TypeError("Generator is already executing.");for(;U;)try{if(Q=1,B&&(s=2&F[0]?B.return:F[0]?B.throw||((s=B.return)&&s.call(B),0):B.next)&&!(s=s.call(B,F[1])).done)return s;switch(B=0,s&&(F=[2&F[0],s.value]),F[0]){case 0:case 1:s=F;break;case 4:return U.label++,{value:F[1],done:!1};case 5:U.label++,B=F[1],F=[0];continue;case 7:F=U.ops.pop(),U.trys.pop();continue;default:if(!(s=U.trys,(s=s.length>0&&s[s.length-1])||6!==F[0]&&2!==F[0])){U=0;continue}if(3===F[0]&&(!s||F[1]>s[0]&&F[1]<s[3])){U.label=F[1];break}if(6===F[0]&&U.label<s[1]){U.label=s[1],s=F;break}if(s&&U.label<s[2]){U.label=s[2],U.ops.push(F);break}s[2]&&U.ops.pop(),U.trys.pop();continue}F=e.call(t,U)}catch(t){F=[6,t],B=0}finally{Q=s=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([F,n])}}}var __createBinding=Object.create?function(t,e,Q,B){void 0===B&&(B=Q),Object.defineProperty(t,B,{enumerable:!0,get:function(){return e[Q]}})}:function(t,e,Q,B){void 0===B&&(B=Q),t[B]=e[Q]};function __exportStar(t,e){for(var Q in t)"default"===Q||Object.prototype.hasOwnProperty.call(e,Q)||__createBinding(e,t,Q)}function __values(t){var e="function"==typeof Symbol&&Symbol.iterator,Q=e&&t[e],B=0;if(Q)return Q.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&B>=t.length&&(t=void 0),{value:t&&t[B++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,e){var Q="function"==typeof Symbol&&t[Symbol.iterator];if(!Q)return t;var B,s,F=Q.call(t),U=[];try{for(;(void 0===e||e-- >0)&&!(B=F.next()).done;)U.push(B.value)}catch(t){s={error:t}}finally{try{B&&!B.done&&(Q=F.return)&&Q.call(F)}finally{if(s)throw s.error}}return U}function __spread(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t}function __spreadArrays(){for(var t=0,e=0,Q=arguments.length;e<Q;e++)t+=arguments[e].length;var B=Array(t),s=0;for(e=0;e<Q;e++)for(var F=arguments[e],U=0,n=F.length;U<n;U++,s++)B[s]=F[U];return B}function __spreadArray(t,e,Q){if(Q||2===arguments.length)for(var B,s=0,F=e.length;s<F;s++)!B&&s in e||(B||(B=Array.prototype.slice.call(e,0,s)),B[s]=e[s]);return t.concat(B||Array.prototype.slice.call(e))}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,e,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,s=Q.apply(t,e||[]),F=[];return B={},U("next"),U("throw"),U("return"),B[Symbol.asyncIterator]=function(){return this},B;function U(t){s[t]&&(B[t]=function(e){return new Promise((function(Q,B){F.push([t,e,Q,B])>1||n(t,e)}))})}function n(t,e){try{!function(t){t.value instanceof __await?Promise.resolve(t.value.v).then(c,o):g(F[0][2],t)}(s[t](e))}catch(t){g(F[0][3],t)}}function c(t){n("next",t)}function o(t){n("throw",t)}function g(t,e){t(e),F.shift(),F.length&&n(F[0][0],F[0][1])}}function __asyncDelegator(t){var e,Q;return e={},B("next"),B("throw",(function(t){throw t})),B("return"),e[Symbol.iterator]=function(){return this},e;function B(B,s){e[B]=t[B]?function(e){return(Q=!Q)?{value:__await(t[B](e)),done:"return"===B}:s?s(e):e}:s}}function __asyncValues(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,Q=t[Symbol.asyncIterator];return Q?Q.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},B("next"),B("throw"),B("return"),e[Symbol.asyncIterator]=function(){return this},e);function B(Q){e[Q]=t[Q]&&function(e){return new Promise((function(B,s){(function(t,e,Q,B){Promise.resolve(B).then((function(e){t({value:e,done:Q})}),e)})(B,s,(e=t[Q](e)).done,e.value)}))}}}function __makeTemplateObject(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var __setModuleDefault=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function __importStar(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var Q in t)"default"!==Q&&Object.prototype.hasOwnProperty.call(t,Q)&&__createBinding(e,t,Q);return __setModuleDefault(e,t),e}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,e,Q,B){if("a"===Q&&!B)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!B:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Q?B:"a"===Q?B.call(t):B?B.value:e.get(t)}function __classPrivateFieldSet(t,e,Q,B,s){if("m"===B)throw new TypeError("Private method is not writable");if("a"===B&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===B?s.call(t,Q):s?s.value=Q:e.set(t,Q),Q}var tslib_es6=Object.freeze({__proto__:null,__extends:__extends$1,get __assign(){return __assign$1},__rest:__rest,__decorate:__decorate,__param:__param,__metadata:__metadata,__awaiter:__awaiter,__generator:__generator,__createBinding:__createBinding,__exportStar:__exportStar,__values:__values,__read:__read,__spread:__spread,__spreadArrays:__spreadArrays,__spreadArray:__spreadArray,__await:__await,__asyncGenerator:__asyncGenerator,__asyncDelegator:__asyncDelegator,__asyncValues:__asyncValues,__makeTemplateObject:__makeTemplateObject,__importStar:__importStar,__importDefault:__importDefault,__classPrivateFieldGet:__classPrivateFieldGet,__classPrivateFieldSet:__classPrivateFieldSet}),buffer={},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Q=t.indexOf("=");return-1===Q&&(Q=e),[Q,Q===e?0:4-Q%4]}function byteLength(t){var e=getLens(t),Q=e[0],B=e[1];return 3*(Q+B)/4-B}function _byteLength(t,e,Q){return 3*(e+Q)/4-Q}function toByteArray(t){var e,Q,B=getLens(t),s=B[0],F=B[1],U=new Arr(_byteLength(t,s,F)),n=0,c=F>0?s-4:s;for(Q=0;Q<c;Q+=4)e=revLookup[t.charCodeAt(Q)]<<18|revLookup[t.charCodeAt(Q+1)]<<12|revLookup[t.charCodeAt(Q+2)]<<6|revLookup[t.charCodeAt(Q+3)],U[n++]=e>>16&255,U[n++]=e>>8&255,U[n++]=255&e;return 2===F&&(e=revLookup[t.charCodeAt(Q)]<<2|revLookup[t.charCodeAt(Q+1)]>>4,U[n++]=255&e),1===F&&(e=revLookup[t.charCodeAt(Q)]<<10|revLookup[t.charCodeAt(Q+1)]<<4|revLookup[t.charCodeAt(Q+2)]>>2,U[n++]=e>>8&255,U[n++]=255&e),U}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[63&t]}function encodeChunk(t,e,Q){for(var B,s=[],F=e;F<Q;F+=3)B=(t[F]<<16&16711680)+(t[F+1]<<8&65280)+(255&t[F+2]),s.push(tripletToBase64(B));return s.join("")}function fromByteArray(t){for(var e,Q=t.length,B=Q%3,s=[],F=16383,U=0,n=Q-B;U<n;U+=F)s.push(encodeChunk(t,U,U+F>n?n:U+F));return 1===B?(e=t[Q-1],s.push(lookup[e>>2]+lookup[e<<4&63]+"==")):2===B&&(e=(t[Q-2]<<8)+t[Q-1],s.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),s.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;var ieee754={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(t,e,Q,B,s){var F,U,n=8*s-B-1,c=(1<<n)-1,o=c>>1,g=-7,l=Q?s-1:0,I=Q?-1:1,r=t[e+l];for(l+=I,F=r&(1<<-g)-1,r>>=-g,g+=n;g>0;F=256*F+t[e+l],l+=I,g-=8);for(U=F&(1<<-g)-1,F>>=-g,g+=B;g>0;U=256*U+t[e+l],l+=I,g-=8);if(0===F)F=1-o;else{if(F===c)return U?NaN:1/0*(r?-1:1);U+=Math.pow(2,B),F-=o}return(r?-1:1)*U*Math.pow(2,F-B)},write:function(t,e,Q,B,s,F){var U,n,c,o=8*F-s-1,g=(1<<o)-1,l=g>>1,I=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,r=B?0:F-1,i=B?1:-1,a=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(n=isNaN(e)?1:0,U=g):(U=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-U))<1&&(U--,c*=2),(e+=U+l>=1?I/c:I*Math.pow(2,1-l))*c>=2&&(U++,c/=2),U+l>=g?(n=0,U=g):U+l>=1?(n=(e*c-1)*Math.pow(2,s),U+=l):(n=e*Math.pow(2,l-1)*Math.pow(2,s),U=0));s>=8;t[Q+r]=255&n,r+=i,n/=256,s-=8);for(U=U<<s|n,o+=s;o>0;t[Q+r]=255&U,r+=i,U/=256,o-=8);t[Q+r-i]|=128*a}};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
!function(t){const e=base64Js,Q=ieee754,B="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=U,t.SlowBuffer=function(t){+t!=t&&(t=0);return U.alloc(+t)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function F(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,U.prototype),e}function U(t,e,Q){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return o(t)}return n(t,e,Q)}function n(t,e,Q){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!U.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const Q=0|r(t,e);let B=F(Q);const s=B.write(t,e);s!==Q&&(B=B.slice(0,s));return B}(t,e);if(ArrayBuffer.isView(t))return function(t){if(K(t,Uint8Array)){const e=new Uint8Array(t);return l(e.buffer,e.byteOffset,e.byteLength)}return g(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(K(t,ArrayBuffer)||t&&K(t.buffer,ArrayBuffer))return l(t,e,Q);if("undefined"!=typeof SharedArrayBuffer&&(K(t,SharedArrayBuffer)||t&&K(t.buffer,SharedArrayBuffer)))return l(t,e,Q);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const B=t.valueOf&&t.valueOf();if(null!=B&&B!==t)return U.from(B,e,Q);const s=function(t){if(U.isBuffer(t)){const e=0|I(t.length),Q=F(e);return 0===Q.length||t.copy(Q,0,0,e),Q}if(void 0!==t.length)return"number"!=typeof t.length||O(t.length)?F(0):g(t);if("Buffer"===t.type&&Array.isArray(t.data))return g(t.data)}(t);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return U.from(t[Symbol.toPrimitive]("string"),e,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function o(t){return c(t),F(t<0?0:0|I(t))}function g(t){const e=t.length<0?0:0|I(t.length),Q=F(e);for(let B=0;B<e;B+=1)Q[B]=255&t[B];return Q}function l(t,e,Q){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(Q||0))throw new RangeError('"length" is outside of buffer bounds');let B;return B=void 0===e&&void 0===Q?new Uint8Array(t):void 0===Q?new Uint8Array(t,e):new Uint8Array(t,e,Q),Object.setPrototypeOf(B,U.prototype),B}function I(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function r(t,e){if(U.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||K(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const Q=t.length,B=arguments.length>2&&!0===arguments[2];if(!B&&0===Q)return 0;let s=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Q;case"hex":return Q>>>1;case"base64":return v(t).length;default:if(s)return B?-1:M(t).length;e=(""+e).toLowerCase(),s=!0}}function i(t,e,Q){let B=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===Q||Q>this.length)&&(Q=this.length),Q<=0)return"";if((Q>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return h(this,e,Q);case"utf8":case"utf-8":return x(this,e,Q);case"ascii":return Z(this,e,Q);case"latin1":case"binary":return A(this,e,Q);case"base64":return G(this,e,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,Q);default:if(B)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),B=!0}}function a(t,e,Q){const B=t[e];t[e]=t[Q],t[Q]=B}function d(t,e,Q,B,s){if(0===t.length)return-1;if("string"==typeof Q?(B=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),O(Q=+Q)&&(Q=s?0:t.length-1),Q<0&&(Q=t.length+Q),Q>=t.length){if(s)return-1;Q=t.length-1}else if(Q<0){if(!s)return-1;Q=0}if("string"==typeof e&&(e=U.from(e,B)),U.isBuffer(e))return 0===e.length?-1:u(t,e,Q,B,s);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,e,Q):Uint8Array.prototype.lastIndexOf.call(t,e,Q):u(t,[e],Q,B,s);throw new TypeError("val must be string, number or Buffer")}function u(t,e,Q,B,s){let F,U=1,n=t.length,c=e.length;if(void 0!==B&&("ucs2"===(B=String(B).toLowerCase())||"ucs-2"===B||"utf16le"===B||"utf-16le"===B)){if(t.length<2||e.length<2)return-1;U=2,n/=2,c/=2,Q/=2}function o(t,e){return 1===U?t[e]:t.readUInt16BE(e*U)}if(s){let B=-1;for(F=Q;F<n;F++)if(o(t,F)===o(e,-1===B?0:F-B)){if(-1===B&&(B=F),F-B+1===c)return B*U}else-1!==B&&(F-=F-B),B=-1}else for(Q+c>n&&(Q=n-c),F=Q;F>=0;F--){let Q=!0;for(let B=0;B<c;B++)if(o(t,F+B)!==o(e,B)){Q=!1;break}if(Q)return F}return-1}function C(t,e,Q,B){Q=Number(Q)||0;const s=t.length-Q;B?(B=Number(B))>s&&(B=s):B=s;const F=e.length;let U;for(B>F/2&&(B=F/2),U=0;U<B;++U){const B=parseInt(e.substr(2*U,2),16);if(O(B))return U;t[Q+U]=B}return U}function y(t,e,Q,B){return z(M(e,t.length-Q),t,Q,B)}function S(t,e,Q,B){return z(function(t){const e=[];for(let Q=0;Q<t.length;++Q)e.push(255&t.charCodeAt(Q));return e}(e),t,Q,B)}function b(t,e,Q,B){return z(v(e),t,Q,B)}function m(t,e,Q,B){return z(function(t,e){let Q,B,s;const F=[];for(let U=0;U<t.length&&!((e-=2)<0);++U)Q=t.charCodeAt(U),B=Q>>8,s=Q%256,F.push(s),F.push(B);return F}(e,t.length-Q),t,Q,B)}function G(t,Q,B){return 0===Q&&B===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(Q,B))}function x(t,e,Q){Q=Math.min(t.length,Q);const B=[];let s=e;for(;s<Q;){const e=t[s];let F=null,U=e>239?4:e>223?3:e>191?2:1;if(s+U<=Q){let Q,B,n,c;switch(U){case 1:e<128&&(F=e);break;case 2:Q=t[s+1],128==(192&Q)&&(c=(31&e)<<6|63&Q,c>127&&(F=c));break;case 3:Q=t[s+1],B=t[s+2],128==(192&Q)&&128==(192&B)&&(c=(15&e)<<12|(63&Q)<<6|63&B,c>2047&&(c<55296||c>57343)&&(F=c));break;case 4:Q=t[s+1],B=t[s+2],n=t[s+3],128==(192&Q)&&128==(192&B)&&128==(192&n)&&(c=(15&e)<<18|(63&Q)<<12|(63&B)<<6|63&n,c>65535&&c<1114112&&(F=c))}}null===F?(F=65533,U=1):F>65535&&(F-=65536,B.push(F>>>10&1023|55296),F=56320|1023&F),B.push(F),s+=U}return function(t){const e=t.length;if(e<=L)return String.fromCharCode.apply(String,t);let Q="",B=0;for(;B<e;)Q+=String.fromCharCode.apply(String,t.slice(B,B+=L));return Q}(B)}t.kMaxLength=s,U.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),U.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(U.prototype,"parent",{enumerable:!0,get:function(){if(U.isBuffer(this))return this.buffer}}),Object.defineProperty(U.prototype,"offset",{enumerable:!0,get:function(){if(U.isBuffer(this))return this.byteOffset}}),U.poolSize=8192,U.from=function(t,e,Q){return n(t,e,Q)},Object.setPrototypeOf(U.prototype,Uint8Array.prototype),Object.setPrototypeOf(U,Uint8Array),U.alloc=function(t,e,Q){return function(t,e,Q){return c(t),t<=0?F(t):void 0!==e?"string"==typeof Q?F(t).fill(e,Q):F(t).fill(e):F(t)}(t,e,Q)},U.allocUnsafe=function(t){return o(t)},U.allocUnsafeSlow=function(t){return o(t)},U.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==U.prototype},U.compare=function(t,e){if(K(t,Uint8Array)&&(t=U.from(t,t.offset,t.byteLength)),K(e,Uint8Array)&&(e=U.from(e,e.offset,e.byteLength)),!U.isBuffer(t)||!U.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let Q=t.length,B=e.length;for(let s=0,F=Math.min(Q,B);s<F;++s)if(t[s]!==e[s]){Q=t[s],B=e[s];break}return Q<B?-1:B<Q?1:0},U.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},U.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return U.alloc(0);let Q;if(void 0===e)for(e=0,Q=0;Q<t.length;++Q)e+=t[Q].length;const B=U.allocUnsafe(e);let s=0;for(Q=0;Q<t.length;++Q){let e=t[Q];if(K(e,Uint8Array))s+e.length>B.length?(U.isBuffer(e)||(e=U.from(e)),e.copy(B,s)):Uint8Array.prototype.set.call(B,e,s);else{if(!U.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(B,s)}s+=e.length}return B},U.byteLength=r,U.prototype._isBuffer=!0,U.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)a(this,e,e+1);return this},U.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)a(this,e,e+3),a(this,e+1,e+2);return this},U.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)a(this,e,e+7),a(this,e+1,e+6),a(this,e+2,e+5),a(this,e+3,e+4);return this},U.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?x(this,0,t):i.apply(this,arguments)},U.prototype.toLocaleString=U.prototype.toString,U.prototype.equals=function(t){if(!U.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===U.compare(this,t)},U.prototype.inspect=function(){let e="";const Q=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,Q).replace(/(.{2})/g,"$1 ").trim(),this.length>Q&&(e+=" ... "),"<Buffer "+e+">"},B&&(U.prototype[B]=U.prototype.inspect),U.prototype.compare=function(t,e,Q,B,s){if(K(t,Uint8Array)&&(t=U.from(t,t.offset,t.byteLength)),!U.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===Q&&(Q=t?t.length:0),void 0===B&&(B=0),void 0===s&&(s=this.length),e<0||Q>t.length||B<0||s>this.length)throw new RangeError("out of range index");if(B>=s&&e>=Q)return 0;if(B>=s)return-1;if(e>=Q)return 1;if(this===t)return 0;let F=(s>>>=0)-(B>>>=0),n=(Q>>>=0)-(e>>>=0);const c=Math.min(F,n),o=this.slice(B,s),g=t.slice(e,Q);for(let t=0;t<c;++t)if(o[t]!==g[t]){F=o[t],n=g[t];break}return F<n?-1:n<F?1:0},U.prototype.includes=function(t,e,Q){return-1!==this.indexOf(t,e,Q)},U.prototype.indexOf=function(t,e,Q){return d(this,t,e,Q,!0)},U.prototype.lastIndexOf=function(t,e,Q){return d(this,t,e,Q,!1)},U.prototype.write=function(t,e,Q,B){if(void 0===e)B="utf8",Q=this.length,e=0;else if(void 0===Q&&"string"==typeof e)B=e,Q=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(Q)?(Q>>>=0,void 0===B&&(B="utf8")):(B=Q,Q=void 0)}const s=this.length-e;if((void 0===Q||Q>s)&&(Q=s),t.length>0&&(Q<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");let F=!1;for(;;)switch(B){case"hex":return C(this,t,e,Q);case"utf8":case"utf-8":return y(this,t,e,Q);case"ascii":case"latin1":case"binary":return S(this,t,e,Q);case"base64":return b(this,t,e,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,t,e,Q);default:if(F)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),F=!0}},U.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const L=4096;function Z(t,e,Q){let B="";Q=Math.min(t.length,Q);for(let s=e;s<Q;++s)B+=String.fromCharCode(127&t[s]);return B}function A(t,e,Q){let B="";Q=Math.min(t.length,Q);for(let s=e;s<Q;++s)B+=String.fromCharCode(t[s]);return B}function h(t,e,Q){const B=t.length;(!e||e<0)&&(e=0),(!Q||Q<0||Q>B)&&(Q=B);let s="";for(let B=e;B<Q;++B)s+=P[t[B]];return s}function N(t,e,Q){const B=t.slice(e,Q);let s="";for(let t=0;t<B.length-1;t+=2)s+=String.fromCharCode(B[t]+256*B[t+1]);return s}function R(t,e,Q){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>Q)throw new RangeError("Trying to access beyond buffer length")}function V(t,e,Q,B,s,F){if(!U.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<F)throw new RangeError('"value" argument is out of bounds');if(Q+B>t.length)throw new RangeError("Index out of range")}function E(t,e,Q,B,s){T(e,B,s,t,Q,7);let F=Number(e&BigInt(4294967295));t[Q++]=F,F>>=8,t[Q++]=F,F>>=8,t[Q++]=F,F>>=8,t[Q++]=F;let U=Number(e>>BigInt(32)&BigInt(4294967295));return t[Q++]=U,U>>=8,t[Q++]=U,U>>=8,t[Q++]=U,U>>=8,t[Q++]=U,Q}function p(t,e,Q,B,s){T(e,B,s,t,Q,7);let F=Number(e&BigInt(4294967295));t[Q+7]=F,F>>=8,t[Q+6]=F,F>>=8,t[Q+5]=F,F>>=8,t[Q+4]=F;let U=Number(e>>BigInt(32)&BigInt(4294967295));return t[Q+3]=U,U>>=8,t[Q+2]=U,U>>=8,t[Q+1]=U,U>>=8,t[Q]=U,Q+8}function D(t,e,Q,B,s,F){if(Q+B>t.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function J(t,e,B,s,F){return e=+e,B>>>=0,F||D(t,0,B,4),Q.write(t,e,B,s,23,4),B+4}function X(t,e,B,s,F){return e=+e,B>>>=0,F||D(t,0,B,8),Q.write(t,e,B,s,52,8),B+8}U.prototype.slice=function(t,e){const Q=this.length;(t=~~t)<0?(t+=Q)<0&&(t=0):t>Q&&(t=Q),(e=void 0===e?Q:~~e)<0?(e+=Q)<0&&(e=0):e>Q&&(e=Q),e<t&&(e=t);const B=this.subarray(t,e);return Object.setPrototypeOf(B,U.prototype),B},U.prototype.readUintLE=U.prototype.readUIntLE=function(t,e,Q){t>>>=0,e>>>=0,Q||R(t,e,this.length);let B=this[t],s=1,F=0;for(;++F<e&&(s*=256);)B+=this[t+F]*s;return B},U.prototype.readUintBE=U.prototype.readUIntBE=function(t,e,Q){t>>>=0,e>>>=0,Q||R(t,e,this.length);let B=this[t+--e],s=1;for(;e>0&&(s*=256);)B+=this[t+--e]*s;return B},U.prototype.readUint8=U.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},U.prototype.readUint16LE=U.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},U.prototype.readUint16BE=U.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},U.prototype.readUint32LE=U.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},U.prototype.readUint32BE=U.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},U.prototype.readBigUInt64LE=j((function(t){f(t>>>=0,"offset");const e=this[t],Q=this[t+7];void 0!==e&&void 0!==Q||Y(t,this.length-8);const B=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,s=this[++t]+256*this[++t]+65536*this[++t]+Q*2**24;return BigInt(B)+(BigInt(s)<<BigInt(32))})),U.prototype.readBigUInt64BE=j((function(t){f(t>>>=0,"offset");const e=this[t],Q=this[t+7];void 0!==e&&void 0!==Q||Y(t,this.length-8);const B=e*2**24+65536*this[++t]+256*this[++t]+this[++t],s=this[++t]*2**24+65536*this[++t]+256*this[++t]+Q;return(BigInt(B)<<BigInt(32))+BigInt(s)})),U.prototype.readIntLE=function(t,e,Q){t>>>=0,e>>>=0,Q||R(t,e,this.length);let B=this[t],s=1,F=0;for(;++F<e&&(s*=256);)B+=this[t+F]*s;return s*=128,B>=s&&(B-=Math.pow(2,8*e)),B},U.prototype.readIntBE=function(t,e,Q){t>>>=0,e>>>=0,Q||R(t,e,this.length);let B=e,s=1,F=this[t+--B];for(;B>0&&(s*=256);)F+=this[t+--B]*s;return s*=128,F>=s&&(F-=Math.pow(2,8*e)),F},U.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},U.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const Q=this[t]|this[t+1]<<8;return 32768&Q?4294901760|Q:Q},U.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const Q=this[t+1]|this[t]<<8;return 32768&Q?4294901760|Q:Q},U.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},U.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},U.prototype.readBigInt64LE=j((function(t){f(t>>>=0,"offset");const e=this[t],Q=this[t+7];void 0!==e&&void 0!==Q||Y(t,this.length-8);const B=this[t+4]+256*this[t+5]+65536*this[t+6]+(Q<<24);return(BigInt(B)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),U.prototype.readBigInt64BE=j((function(t){f(t>>>=0,"offset");const e=this[t],Q=this[t+7];void 0!==e&&void 0!==Q||Y(t,this.length-8);const B=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(B)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+Q)})),U.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),Q.read(this,t,!0,23,4)},U.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),Q.read(this,t,!1,23,4)},U.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),Q.read(this,t,!0,52,8)},U.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),Q.read(this,t,!1,52,8)},U.prototype.writeUintLE=U.prototype.writeUIntLE=function(t,e,Q,B){if(t=+t,e>>>=0,Q>>>=0,!B){V(this,t,e,Q,Math.pow(2,8*Q)-1,0)}let s=1,F=0;for(this[e]=255&t;++F<Q&&(s*=256);)this[e+F]=t/s&255;return e+Q},U.prototype.writeUintBE=U.prototype.writeUIntBE=function(t,e,Q,B){if(t=+t,e>>>=0,Q>>>=0,!B){V(this,t,e,Q,Math.pow(2,8*Q)-1,0)}let s=Q-1,F=1;for(this[e+s]=255&t;--s>=0&&(F*=256);)this[e+s]=t/F&255;return e+Q},U.prototype.writeUint8=U.prototype.writeUInt8=function(t,e,Q){return t=+t,e>>>=0,Q||V(this,t,e,1,255,0),this[e]=255&t,e+1},U.prototype.writeUint16LE=U.prototype.writeUInt16LE=function(t,e,Q){return t=+t,e>>>=0,Q||V(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},U.prototype.writeUint16BE=U.prototype.writeUInt16BE=function(t,e,Q){return t=+t,e>>>=0,Q||V(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},U.prototype.writeUint32LE=U.prototype.writeUInt32LE=function(t,e,Q){return t=+t,e>>>=0,Q||V(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},U.prototype.writeUint32BE=U.prototype.writeUInt32BE=function(t,e,Q){return t=+t,e>>>=0,Q||V(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},U.prototype.writeBigUInt64LE=j((function(t,e=0){return E(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),U.prototype.writeBigUInt64BE=j((function(t,e=0){return p(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),U.prototype.writeIntLE=function(t,e,Q,B){if(t=+t,e>>>=0,!B){const B=Math.pow(2,8*Q-1);V(this,t,e,Q,B-1,-B)}let s=0,F=1,U=0;for(this[e]=255&t;++s<Q&&(F*=256);)t<0&&0===U&&0!==this[e+s-1]&&(U=1),this[e+s]=(t/F>>0)-U&255;return e+Q},U.prototype.writeIntBE=function(t,e,Q,B){if(t=+t,e>>>=0,!B){const B=Math.pow(2,8*Q-1);V(this,t,e,Q,B-1,-B)}let s=Q-1,F=1,U=0;for(this[e+s]=255&t;--s>=0&&(F*=256);)t<0&&0===U&&0!==this[e+s+1]&&(U=1),this[e+s]=(t/F>>0)-U&255;return e+Q},U.prototype.writeInt8=function(t,e,Q){return t=+t,e>>>=0,Q||V(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},U.prototype.writeInt16LE=function(t,e,Q){return t=+t,e>>>=0,Q||V(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},U.prototype.writeInt16BE=function(t,e,Q){return t=+t,e>>>=0,Q||V(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},U.prototype.writeInt32LE=function(t,e,Q){return t=+t,e>>>=0,Q||V(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},U.prototype.writeInt32BE=function(t,e,Q){return t=+t,e>>>=0,Q||V(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},U.prototype.writeBigInt64LE=j((function(t,e=0){return E(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),U.prototype.writeBigInt64BE=j((function(t,e=0){return p(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),U.prototype.writeFloatLE=function(t,e,Q){return J(this,t,e,!0,Q)},U.prototype.writeFloatBE=function(t,e,Q){return J(this,t,e,!1,Q)},U.prototype.writeDoubleLE=function(t,e,Q){return X(this,t,e,!0,Q)},U.prototype.writeDoubleBE=function(t,e,Q){return X(this,t,e,!1,Q)},U.prototype.copy=function(t,e,Q,B){if(!U.isBuffer(t))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),B||0===B||(B=this.length),e>=t.length&&(e=t.length),e||(e=0),B>0&&B<Q&&(B=Q),B===Q)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),t.length-e<B-Q&&(B=t.length-e+Q);const s=B-Q;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,Q,B):Uint8Array.prototype.set.call(t,this.subarray(Q,B),e),s},U.prototype.fill=function(t,e,Q,B){if("string"==typeof t){if("string"==typeof e?(B=e,e=0,Q=this.length):"string"==typeof Q&&(B=Q,Q=this.length),void 0!==B&&"string"!=typeof B)throw new TypeError("encoding must be a string");if("string"==typeof B&&!U.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(1===t.length){const e=t.charCodeAt(0);("utf8"===B&&e<128||"latin1"===B)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<Q)throw new RangeError("Out of range index");if(Q<=e)return this;let s;if(e>>>=0,Q=void 0===Q?this.length:Q>>>0,t||(t=0),"number"==typeof t)for(s=e;s<Q;++s)this[s]=t;else{const F=U.isBuffer(t)?t:U.from(t,B),n=F.length;if(0===n)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<Q-e;++s)this[s+e]=F[s%n]}return this};const H={};function W(t,e,Q){H[t]=class extends Q{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function k(t){let e="",Q=t.length;const B="-"===t[0]?1:0;for(;Q>=B+4;Q-=3)e=`_${t.slice(Q-3,Q)}${e}`;return`${t.slice(0,Q)}${e}`}function T(t,e,Q,B,s,F){if(t>Q||t<e){const B="bigint"==typeof e?"n":"";let s;throw s=F>3?0===e||e===BigInt(0)?`>= 0${B} and < 2${B} ** ${8*(F+1)}${B}`:`>= -(2${B} ** ${8*(F+1)-1}${B}) and < 2 ** ${8*(F+1)-1}${B}`:`>= ${e}${B} and <= ${Q}${B}`,new H.ERR_OUT_OF_RANGE("value",s,t)}!function(t,e,Q){f(e,"offset"),void 0!==t[e]&&void 0!==t[e+Q]||Y(e,t.length-(Q+1))}(B,s,F)}function f(t,e){if("number"!=typeof t)throw new H.ERR_INVALID_ARG_TYPE(e,"number",t)}function Y(t,e,Q){if(Math.floor(t)!==t)throw f(t,Q),new H.ERR_OUT_OF_RANGE(Q||"offset","an integer",t);if(e<0)throw new H.ERR_BUFFER_OUT_OF_BOUNDS;throw new H.ERR_OUT_OF_RANGE(Q||"offset",`>= ${Q?1:0} and <= ${e}`,t)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),W("ERR_OUT_OF_RANGE",(function(t,e,Q){let B=`The value of "${t}" is out of range.`,s=Q;return Number.isInteger(Q)&&Math.abs(Q)>2**32?s=k(String(Q)):"bigint"==typeof Q&&(s=String(Q),(Q>BigInt(2)**BigInt(32)||Q<-(BigInt(2)**BigInt(32)))&&(s=k(s)),s+="n"),B+=` It must be ${e}. Received ${s}`,B}),RangeError);const w=/[^+/0-9A-Za-z-_]/g;function M(t,e){let Q;e=e||1/0;const B=t.length;let s=null;const F=[];for(let U=0;U<B;++U){if(Q=t.charCodeAt(U),Q>55295&&Q<57344){if(!s){if(Q>56319){(e-=3)>-1&&F.push(239,191,189);continue}if(U+1===B){(e-=3)>-1&&F.push(239,191,189);continue}s=Q;continue}if(Q<56320){(e-=3)>-1&&F.push(239,191,189),s=Q;continue}Q=65536+(s-55296<<10|Q-56320)}else s&&(e-=3)>-1&&F.push(239,191,189);if(s=null,Q<128){if((e-=1)<0)break;F.push(Q)}else if(Q<2048){if((e-=2)<0)break;F.push(Q>>6|192,63&Q|128)}else if(Q<65536){if((e-=3)<0)break;F.push(Q>>12|224,Q>>6&63|128,63&Q|128)}else{if(!(Q<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;F.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,63&Q|128)}}return F}function v(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(w,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,Q,B){let s;for(s=0;s<B&&!(s+Q>=e.length||s>=t.length);++s)e[s+Q]=t[s];return s}function K(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function O(t){return t!=t}const P=function(){const t="0123456789abcdef",e=new Array(256);for(let Q=0;Q<16;++Q){const B=16*Q;for(let s=0;s<16;++s)e[B+s]=t[Q]+t[s]}return e}();function j(t){return"undefined"==typeof BigInt?_:t}function _(){throw new Error("BigInt not supported")}}(buffer);var hashconnect$1={},dist={},__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,Q){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var Q in e)Object.prototype.hasOwnProperty.call(e,Q)&&(t[Q]=e[Q])},t(e,Q)};return function(e,Q){function B(){this.constructor=e}t(e,Q),e.prototype=null===Q?Object.create(Q):(B.prototype=Q.prototype,new B)}}();dist.__esModule=!0,dist.createEventEmitter=dist.Event=dist.createEmitter=dist.SealedEvent=dist.BaseEvent=void 0;var BaseEvent=function(){function t(){this.listeners=[]}return t.prototype.on=function(t){this.listeners.push({once:!1,callback:t})},t.prototype.once=function(t){var e=this;if(!t){var Q=new Promise((function(t){e.once(t)}));return this.listeners[this.listeners.length-1].promise=Q,Q}this.listeners.push({once:!0,callback:t})},t.prototype.off=function(t){var e=this.listeners.length;return this.listeners=this.listeners.filter((function(e){return t!==e.callback&&(!e.promise||t!==e.promise)})),this.listeners.length!==e},t.prototype.offAll=function(){var t=this.listeners.length;return this.listeners.length=0,t},t}();dist.BaseEvent=BaseEvent;var SealedEvent=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(BaseEvent);function createEmitterWithBaseEvent(t){var e=t;function Q(t){for(var Q=e.listeners,B=Q.length>0,s=0,F=Q;s<F.length;s++){F[s].callback(t)}return e.listeners=Q.filter((function(t){return!t.once})),B}var B=Q;return B.event=t,B.emit=Q,B}function createEmitter(){return createEmitterWithBaseEvent(new SealedEvent)}dist.SealedEvent=SealedEvent,dist.createEmitter=createEmitter;var Event=function(t){function e(){var e=t.call(this)||this;return e.emit=createEmitterWithBaseEvent(e),e}return __extends(e,t),e}(BaseEvent);function createEventEmitter(){return createEmitterWithBaseEvent(new Event)}dist.Event=Event,dist.createEventEmitter=createEventEmitter;var relay={},types={},hashconnect={};!function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.HashConnectConnectionState=void 0,(e=t.HashConnectConnectionState||(t.HashConnectConnectionState={})).Connected="Connected",e.Disconnected="Disconnected"}(hashconnect),function(t){Object.defineProperty(t,"__esModule",{value:!0});tslib_es6.__exportStar(hashconnect,t)}(types),Object.defineProperty(relay,"__esModule",{value:!0}),relay.WebSocketRelay=void 0;const tslib_1$3=tslib_es6,ts_typed_events_1$1=dist,_1$2=types;class WebSocketRelay{constructor(t){this.subscribedTopics=[],this.connected=new ts_typed_events_1$1.Event,this.payload=new ts_typed_events_1$1.Event,this.hc=t}processMessage(t){this.hc.debug&&console.log("hashconnect - emitting payload"),this.payload.emit(JSON.parse(t.data))}init(){return tslib_1$3.__awaiter(this,void 0,void 0,(function*(){return new Promise((t=>{this.connectToSocket((()=>{t()}))}))}))}connectToSocket(t){this.socket=new WebSocket("wss://hashconnect.hashpack.app"),this.socket.onopen=()=>{this.hc.debug&&console.log("hashconnect - connected"),this.hc.connectionStatusChange.emit(_1$2.HashConnectConnectionState.Connected),t()},this.socket.onclose=()=>{console.log("hashconnect - disconnected"),this.hc.connectionStatusChange.emit(_1$2.HashConnectConnectionState.Disconnected),setTimeout((()=>{this.reconnect()}),300)}}reconnect(){this.hc.debug&&console.log("hashconnect - reconnecting..."),this.connectToSocket((()=>tslib_1$3.__awaiter(this,void 0,void 0,(function*(){for(let t of this.subscribedTopics)yield this.subscribe(t);this.hc.debug&&console.log("hashconnect - reconnected")}))))}subscribe(t){return tslib_1$3.__awaiter(this,void 0,void 0,(function*(){this.hc.debug&&console.log("hashconnect - Subscribing to topic id "+t),-1==this.subscribedTopics.indexOf(t)&&this.subscribedTopics.push(t),this.socket.send(JSON.stringify({action:"sub",topic:t})),this.socket.onmessage=t=>{this.processMessage(t)}}))}addDecryptionKey(t,e){console.log("hashconnect - Adding decryption key \n PrivKey: "+t),this.hc.debug&&console.log("hashconnect - Adding decryption key \n PrivKey: "+t),this.hc.publicKeys[e]=t}unsubscribe(t){return tslib_1$3.__awaiter(this,void 0,void 0,(function*(){this.hc.debug&&console.log("hashconnect - Unsubscribing to "+t),this.socket.send(JSON.stringify({action:"unsub",topic:t}))}))}publish(t,e,Q){return tslib_1$3.__awaiter(this,void 0,void 0,(function*(){const B={action:"pub",payload:JSON.stringify(e),topic:t};this.hc.debug&&console.log("hashconnect - Sending payload to "+t,"\n encrypted with "+Q),yield this.socket.send(JSON.stringify(B))}))}}relay.WebSocketRelay=WebSocketRelay;var message={},messageUtils={},getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(t){return"string"==typeof t&&REGEX.test(t)}for(var byteToHex=[],i=0,_nodeId,_clockseq;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Q=(byteToHex[t[e+0]]+byteToHex[t[e+1]]+byteToHex[t[e+2]]+byteToHex[t[e+3]]+"-"+byteToHex[t[e+4]]+byteToHex[t[e+5]]+"-"+byteToHex[t[e+6]]+byteToHex[t[e+7]]+"-"+byteToHex[t[e+8]]+byteToHex[t[e+9]]+"-"+byteToHex[t[e+10]]+byteToHex[t[e+11]]+byteToHex[t[e+12]]+byteToHex[t[e+13]]+byteToHex[t[e+14]]+byteToHex[t[e+15]]).toLowerCase();if(!validate(Q))throw TypeError("Stringified UUID is invalid");return Q}var _lastMSecs=0,_lastNSecs=0;function v1(t,e,Q){var B=e&&Q||0,s=e||new Array(16),F=(t=t||{}).node||_nodeId,U=void 0!==t.clockseq?t.clockseq:_clockseq;if(null==F||null==U){var n=t.random||(t.rng||rng)();null==F&&(F=_nodeId=[1|n[0],n[1],n[2],n[3],n[4],n[5]]),null==U&&(U=_clockseq=16383&(n[6]<<8|n[7]))}var c=void 0!==t.msecs?t.msecs:Date.now(),o=void 0!==t.nsecs?t.nsecs:_lastNSecs+1,g=c-_lastMSecs+(o-_lastNSecs)/1e4;if(g<0&&void 0===t.clockseq&&(U=U+1&16383),(g<0||c>_lastMSecs)&&void 0===t.nsecs&&(o=0),o>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=c,_lastNSecs=o,_clockseq=U;var l=(1e4*(268435455&(c+=122192928e5))+o)%4294967296;s[B++]=l>>>24&255,s[B++]=l>>>16&255,s[B++]=l>>>8&255,s[B++]=255&l;var I=c/4294967296*1e4&268435455;s[B++]=I>>>8&255,s[B++]=255&I,s[B++]=I>>>24&15|16,s[B++]=I>>>16&255,s[B++]=U>>>8|128,s[B++]=255&U;for(var r=0;r<6;++r)s[B+r]=F[r];return e||stringify(s)}function parse(t){if(!validate(t))throw TypeError("Invalid UUID");var e,Q=new Uint8Array(16);return Q[0]=(e=parseInt(t.slice(0,8),16))>>>24,Q[1]=e>>>16&255,Q[2]=e>>>8&255,Q[3]=255&e,Q[4]=(e=parseInt(t.slice(9,13),16))>>>8,Q[5]=255&e,Q[6]=(e=parseInt(t.slice(14,18),16))>>>8,Q[7]=255&e,Q[8]=(e=parseInt(t.slice(19,23),16))>>>8,Q[9]=255&e,Q[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,Q[11]=e/4294967296&255,Q[12]=e>>>24&255,Q[13]=e>>>16&255,Q[14]=e>>>8&255,Q[15]=255&e,Q}function stringToBytes(t){t=unescape(encodeURIComponent(t));for(var e=[],Q=0;Q<t.length;++Q)e.push(t.charCodeAt(Q));return e}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(t,e,Q){function B(t,B,s,F){if("string"==typeof t&&(t=stringToBytes(t)),"string"==typeof B&&(B=parse(B)),16!==B.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var U=new Uint8Array(16+t.length);if(U.set(B),U.set(t,B.length),(U=Q(U))[6]=15&U[6]|e,U[8]=63&U[8]|128,s){F=F||0;for(var n=0;n<16;++n)s[F+n]=U[n];return s}return stringify(U)}try{B.name=t}catch(t){}return B.DNS=DNS,B.URL=URL$1,B}function md5$1(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var Q=0;Q<e.length;++Q)t[Q]=e.charCodeAt(Q)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(t),8*t.length))}function md5ToHexEncodedArray(t){for(var e=[],Q=32*t.length,B="0123456789abcdef",s=0;s<Q;s+=8){var F=t[s>>5]>>>s%32&255,U=parseInt(B.charAt(F>>>4&15)+B.charAt(15&F),16);e.push(U)}return e}function getOutputLength(t){return 14+(t+64>>>9<<4)+1}function wordsToMd5(t,e){t[e>>5]|=128<<e%32,t[getOutputLength(e)-1]=e;for(var Q=1732584193,B=-271733879,s=-1732584194,F=271733878,U=0;U<t.length;U+=16){var n=Q,c=B,o=s,g=F;Q=md5ff(Q,B,s,F,t[U],7,-680876936),F=md5ff(F,Q,B,s,t[U+1],12,-389564586),s=md5ff(s,F,Q,B,t[U+2],17,606105819),B=md5ff(B,s,F,Q,t[U+3],22,-1044525330),Q=md5ff(Q,B,s,F,t[U+4],7,-176418897),F=md5ff(F,Q,B,s,t[U+5],12,1200080426),s=md5ff(s,F,Q,B,t[U+6],17,-1473231341),B=md5ff(B,s,F,Q,t[U+7],22,-45705983),Q=md5ff(Q,B,s,F,t[U+8],7,1770035416),F=md5ff(F,Q,B,s,t[U+9],12,-1958414417),s=md5ff(s,F,Q,B,t[U+10],17,-42063),B=md5ff(B,s,F,Q,t[U+11],22,-1990404162),Q=md5ff(Q,B,s,F,t[U+12],7,1804603682),F=md5ff(F,Q,B,s,t[U+13],12,-40341101),s=md5ff(s,F,Q,B,t[U+14],17,-1502002290),Q=md5gg(Q,B=md5ff(B,s,F,Q,t[U+15],22,1236535329),s,F,t[U+1],5,-165796510),F=md5gg(F,Q,B,s,t[U+6],9,-1069501632),s=md5gg(s,F,Q,B,t[U+11],14,643717713),B=md5gg(B,s,F,Q,t[U],20,-373897302),Q=md5gg(Q,B,s,F,t[U+5],5,-701558691),F=md5gg(F,Q,B,s,t[U+10],9,38016083),s=md5gg(s,F,Q,B,t[U+15],14,-660478335),B=md5gg(B,s,F,Q,t[U+4],20,-405537848),Q=md5gg(Q,B,s,F,t[U+9],5,568446438),F=md5gg(F,Q,B,s,t[U+14],9,-1019803690),s=md5gg(s,F,Q,B,t[U+3],14,-187363961),B=md5gg(B,s,F,Q,t[U+8],20,1163531501),Q=md5gg(Q,B,s,F,t[U+13],5,-1444681467),F=md5gg(F,Q,B,s,t[U+2],9,-51403784),s=md5gg(s,F,Q,B,t[U+7],14,1735328473),Q=md5hh(Q,B=md5gg(B,s,F,Q,t[U+12],20,-1926607734),s,F,t[U+5],4,-378558),F=md5hh(F,Q,B,s,t[U+8],11,-2022574463),s=md5hh(s,F,Q,B,t[U+11],16,1839030562),B=md5hh(B,s,F,Q,t[U+14],23,-35309556),Q=md5hh(Q,B,s,F,t[U+1],4,-1530992060),F=md5hh(F,Q,B,s,t[U+4],11,1272893353),s=md5hh(s,F,Q,B,t[U+7],16,-155497632),B=md5hh(B,s,F,Q,t[U+10],23,-1094730640),Q=md5hh(Q,B,s,F,t[U+13],4,681279174),F=md5hh(F,Q,B,s,t[U],11,-358537222),s=md5hh(s,F,Q,B,t[U+3],16,-722521979),B=md5hh(B,s,F,Q,t[U+6],23,76029189),Q=md5hh(Q,B,s,F,t[U+9],4,-640364487),F=md5hh(F,Q,B,s,t[U+12],11,-421815835),s=md5hh(s,F,Q,B,t[U+15],16,530742520),Q=md5ii(Q,B=md5hh(B,s,F,Q,t[U+2],23,-995338651),s,F,t[U],6,-198630844),F=md5ii(F,Q,B,s,t[U+7],10,1126891415),s=md5ii(s,F,Q,B,t[U+14],15,-1416354905),B=md5ii(B,s,F,Q,t[U+5],21,-57434055),Q=md5ii(Q,B,s,F,t[U+12],6,1700485571),F=md5ii(F,Q,B,s,t[U+3],10,-1894986606),s=md5ii(s,F,Q,B,t[U+10],15,-1051523),B=md5ii(B,s,F,Q,t[U+1],21,-2054922799),Q=md5ii(Q,B,s,F,t[U+8],6,1873313359),F=md5ii(F,Q,B,s,t[U+15],10,-30611744),s=md5ii(s,F,Q,B,t[U+6],15,-1560198380),B=md5ii(B,s,F,Q,t[U+13],21,1309151649),Q=md5ii(Q,B,s,F,t[U+4],6,-145523070),F=md5ii(F,Q,B,s,t[U+11],10,-1120210379),s=md5ii(s,F,Q,B,t[U+2],15,718787259),B=md5ii(B,s,F,Q,t[U+9],21,-343485551),Q=safeAdd(Q,n),B=safeAdd(B,c),s=safeAdd(s,o),F=safeAdd(F,g)}return[Q,B,s,F]}function bytesToWords(t){if(0===t.length)return[];for(var e=8*t.length,Q=new Uint32Array(getOutputLength(e)),B=0;B<e;B+=8)Q[B>>5]|=(255&t[B/8])<<B%32;return Q}function safeAdd(t,e){var Q=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(Q>>16)<<16|65535&Q}function bitRotateLeft(t,e){return t<<e|t>>>32-e}function md5cmn(t,e,Q,B,s,F){return safeAdd(bitRotateLeft(safeAdd(safeAdd(e,t),safeAdd(B,F)),s),Q)}function md5ff(t,e,Q,B,s,F,U){return md5cmn(e&Q|~e&B,t,e,s,F,U)}function md5gg(t,e,Q,B,s,F,U){return md5cmn(e&B|Q&~B,t,e,s,F,U)}function md5hh(t,e,Q,B,s,F,U){return md5cmn(e^Q^B,t,e,s,F,U)}function md5ii(t,e,Q,B,s,F,U){return md5cmn(Q^(e|~B),t,e,s,F,U)}var v3=v35("v3",48,md5$1),v3$1=v3;function v4(t,e,Q){var B=(t=t||{}).random||(t.rng||rng)();if(B[6]=15&B[6]|64,B[8]=63&B[8]|128,e){Q=Q||0;for(var s=0;s<16;++s)e[Q+s]=B[s];return e}return stringify(B)}function f(t,e,Q,B){switch(t){case 0:return e&Q^~e&B;case 1:case 3:return e^Q^B;case 2:return e&Q^e&B^Q&B}}function ROTL(t,e){return t<<e|t>>>32-e}function sha1$1(t){var e=[1518500249,1859775393,2400959708,3395469782],Q=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var B=unescape(encodeURIComponent(t));t=[];for(var s=0;s<B.length;++s)t.push(B.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var F=t.length/4+2,U=Math.ceil(F/16),n=new Array(U),c=0;c<U;++c){for(var o=new Uint32Array(16),g=0;g<16;++g)o[g]=t[64*c+4*g]<<24|t[64*c+4*g+1]<<16|t[64*c+4*g+2]<<8|t[64*c+4*g+3];n[c]=o}n[U-1][14]=8*(t.length-1)/Math.pow(2,32),n[U-1][14]=Math.floor(n[U-1][14]),n[U-1][15]=8*(t.length-1)&4294967295;for(var l=0;l<U;++l){for(var I=new Uint32Array(80),r=0;r<16;++r)I[r]=n[l][r];for(var i=16;i<80;++i)I[i]=ROTL(I[i-3]^I[i-8]^I[i-14]^I[i-16],1);for(var a=Q[0],d=Q[1],u=Q[2],C=Q[3],y=Q[4],S=0;S<80;++S){var b=Math.floor(S/20),m=ROTL(a,5)+f(b,d,u,C)+y+e[b]+I[S]>>>0;y=C,C=u,u=ROTL(d,30)>>>0,d=a,a=m}Q[0]=Q[0]+a>>>0,Q[1]=Q[1]+d>>>0,Q[2]=Q[2]+u>>>0,Q[3]=Q[3]+C>>>0,Q[4]=Q[4]+y>>>0}return[Q[0]>>24&255,Q[0]>>16&255,Q[0]>>8&255,255&Q[0],Q[1]>>24&255,Q[1]>>16&255,Q[1]>>8&255,255&Q[1],Q[2]>>24&255,Q[2]>>16&255,Q[2]>>8&255,255&Q[2],Q[3]>>24&255,Q[3]>>16&255,Q[3]>>8&255,255&Q[3],Q[4]>>24&255,Q[4]>>16&255,Q[4]>>8&255,255&Q[4]]}var v5=v35("v5",80,sha1$1),v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version(t){if(!validate(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var esmBrowser=Object.freeze({__proto__:null,v1:v1,v3:v3$1,v4:v4,v5:v5$1,NIL:nil,version:version,validate:validate,stringify:stringify,parse:parse}),SimpleCrypto$1={},cryptoJs={exports:{}},core={exports:{}},CryptoJS;core.exports=(CryptoJS=CryptoJS||function(t,e){var Q;if("undefined"!=typeof window&&window.crypto&&(Q=window.crypto),"undefined"!=typeof self&&self.crypto&&(Q=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(Q=globalThis.crypto),!Q&&"undefined"!=typeof window&&window.msCrypto&&(Q=window.msCrypto),!Q&&void 0!==commonjsGlobal&&commonjsGlobal.crypto&&(Q=commonjsGlobal.crypto),!Q&&"function"==typeof commonjsRequire)try{Q=require("crypto")}catch(t){}var B=function(){if(Q){if("function"==typeof Q.getRandomValues)try{return Q.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof Q.randomBytes)try{return Q.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function t(){}return function(e){var Q;return t.prototype=e,Q=new t,t.prototype=null,Q}}(),F={},U=F.lib={},n=U.Base={extend:function(t){var e=s(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=U.WordArray=n.extend({init:function(t,Q){t=this.words=t||[],this.sigBytes=Q!=e?Q:4*t.length},toString:function(t){return(t||g).stringify(this)},concat:function(t){var e=this.words,Q=t.words,B=this.sigBytes,s=t.sigBytes;if(this.clamp(),B%4)for(var F=0;F<s;F++){var U=Q[F>>>2]>>>24-F%4*8&255;e[B+F>>>2]|=U<<24-(B+F)%4*8}else for(var n=0;n<s;n+=4)e[B+n>>>2]=Q[n>>>2];return this.sigBytes+=s,this},clamp:function(){var e=this.words,Q=this.sigBytes;e[Q>>>2]&=4294967295<<32-Q%4*8,e.length=t.ceil(Q/4)},clone:function(){var t=n.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],Q=0;Q<t;Q+=4)e.push(B());return new c.init(e,t)}}),o=F.enc={},g=o.Hex={stringify:function(t){for(var e=t.words,Q=t.sigBytes,B=[],s=0;s<Q;s++){var F=e[s>>>2]>>>24-s%4*8&255;B.push((F>>>4).toString(16)),B.push((15&F).toString(16))}return B.join("")},parse:function(t){for(var e=t.length,Q=[],B=0;B<e;B+=2)Q[B>>>3]|=parseInt(t.substr(B,2),16)<<24-B%8*4;return new c.init(Q,e/2)}},l=o.Latin1={stringify:function(t){for(var e=t.words,Q=t.sigBytes,B=[],s=0;s<Q;s++){var F=e[s>>>2]>>>24-s%4*8&255;B.push(String.fromCharCode(F))}return B.join("")},parse:function(t){for(var e=t.length,Q=[],B=0;B<e;B++)Q[B>>>2]|=(255&t.charCodeAt(B))<<24-B%4*8;return new c.init(Q,e)}},I=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},r=U.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=I.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var Q,B=this._data,s=B.words,F=B.sigBytes,U=this.blockSize,n=F/(4*U),o=(n=e?t.ceil(n):t.max((0|n)-this._minBufferSize,0))*U,g=t.min(4*o,F);if(o){for(var l=0;l<o;l+=U)this._doProcessBlock(s,l);Q=s.splice(0,o),B.sigBytes-=g}return new c.init(Q,g)},clone:function(){var t=n.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});U.Hasher=r.extend({cfg:n.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){r.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,Q){return new t.init(Q).finalize(e)}},_createHmacHelper:function(t){return function(e,Q){return new i.HMAC.init(t,Q).finalize(e)}}});var i=F.algo={};return F}(Math),CryptoJS);var x64Core={exports:{}};x64Core.exports=function(t){return function(e){var Q=t,B=Q.lib,s=B.Base,F=B.WordArray,U=Q.x64={};U.Word=s.extend({init:function(t,e){this.high=t,this.low=e}}),U.WordArray=s.extend({init:function(t,Q){t=this.words=t||[],this.sigBytes=Q!=e?Q:8*t.length},toX32:function(){for(var t=this.words,e=t.length,Q=[],B=0;B<e;B++){var s=t[B];Q.push(s.high),Q.push(s.low)}return F.create(Q,this.sigBytes)},clone:function(){for(var t=s.clone.call(this),e=t.words=this.words.slice(0),Q=e.length,B=0;B<Q;B++)e[B]=e[B].clone();return t}})}(),t}(core.exports);var libTypedarrays={exports:{}};libTypedarrays.exports=function(t){return function(){if("function"==typeof ArrayBuffer){var e=t.lib.WordArray,Q=e.init,B=e.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,B=[],s=0;s<e;s++)B[s>>>2]|=t[s]<<24-s%4*8;Q.call(this,B,e)}else Q.apply(this,arguments)};B.prototype=e}}(),t.lib.WordArray}(core.exports);var encUtf16={exports:{}};encUtf16.exports=function(t){return function(){var e=t,Q=e.lib.WordArray,B=e.enc;function s(t){return t<<8&4278255360|t>>>8&16711935}B.Utf16=B.Utf16BE={stringify:function(t){for(var e=t.words,Q=t.sigBytes,B=[],s=0;s<Q;s+=2){var F=e[s>>>2]>>>16-s%4*8&65535;B.push(String.fromCharCode(F))}return B.join("")},parse:function(t){for(var e=t.length,B=[],s=0;s<e;s++)B[s>>>1]|=t.charCodeAt(s)<<16-s%2*16;return Q.create(B,2*e)}},B.Utf16LE={stringify:function(t){for(var e=t.words,Q=t.sigBytes,B=[],F=0;F<Q;F+=2){var U=s(e[F>>>2]>>>16-F%4*8&65535);B.push(String.fromCharCode(U))}return B.join("")},parse:function(t){for(var e=t.length,B=[],F=0;F<e;F++)B[F>>>1]|=s(t.charCodeAt(F)<<16-F%2*16);return Q.create(B,2*e)}}}(),t.enc.Utf16}(core.exports);var encBase64={exports:{}};encBase64.exports=function(t){return function(){var e=t,Q=e.lib.WordArray;function B(t,e,B){for(var s=[],F=0,U=0;U<e;U++)if(U%4){var n=B[t.charCodeAt(U-1)]<<U%4*2|B[t.charCodeAt(U)]>>>6-U%4*2;s[F>>>2]|=n<<24-F%4*8,F++}return Q.create(s,F)}e.enc.Base64={stringify:function(t){var e=t.words,Q=t.sigBytes,B=this._map;t.clamp();for(var s=[],F=0;F<Q;F+=3)for(var U=(e[F>>>2]>>>24-F%4*8&255)<<16|(e[F+1>>>2]>>>24-(F+1)%4*8&255)<<8|e[F+2>>>2]>>>24-(F+2)%4*8&255,n=0;n<4&&F+.75*n<Q;n++)s.push(B.charAt(U>>>6*(3-n)&63));var c=B.charAt(64);if(c)for(;s.length%4;)s.push(c);return s.join("")},parse:function(t){var e=t.length,Q=this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var F=0;F<Q.length;F++)s[Q.charCodeAt(F)]=F}var U=Q.charAt(64);if(U){var n=t.indexOf(U);-1!==n&&(e=n)}return B(t,e,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64}(core.exports);var encBase64url={exports:{}};encBase64url.exports=function(t){return function(){var e=t,Q=e.lib.WordArray;function B(t,e,B){for(var s=[],F=0,U=0;U<e;U++)if(U%4){var n=B[t.charCodeAt(U-1)]<<U%4*2|B[t.charCodeAt(U)]>>>6-U%4*2;s[F>>>2]|=n<<24-F%4*8,F++}return Q.create(s,F)}e.enc.Base64url={stringify:function(t,e=!0){var Q=t.words,B=t.sigBytes,s=e?this._safe_map:this._map;t.clamp();for(var F=[],U=0;U<B;U+=3)for(var n=(Q[U>>>2]>>>24-U%4*8&255)<<16|(Q[U+1>>>2]>>>24-(U+1)%4*8&255)<<8|Q[U+2>>>2]>>>24-(U+2)%4*8&255,c=0;c<4&&U+.75*c<B;c++)F.push(s.charAt(n>>>6*(3-c)&63));var o=s.charAt(64);if(o)for(;F.length%4;)F.push(o);return F.join("")},parse:function(t,e=!0){var Q=t.length,s=e?this._safe_map:this._map,F=this._reverseMap;if(!F){F=this._reverseMap=[];for(var U=0;U<s.length;U++)F[s.charCodeAt(U)]=U}var n=s.charAt(64);if(n){var c=t.indexOf(n);-1!==c&&(Q=c)}return B(t,Q,F)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),t.enc.Base64url}(core.exports);var md5={exports:{}};md5.exports=function(t){return function(e){var Q=t,B=Q.lib,s=B.WordArray,F=B.Hasher,U=Q.algo,n=[];!function(){for(var t=0;t<64;t++)n[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=U.MD5=F.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var Q=0;Q<16;Q++){var B=e+Q,s=t[B];t[B]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var F=this._hash.words,U=t[e+0],c=t[e+1],r=t[e+2],i=t[e+3],a=t[e+4],d=t[e+5],u=t[e+6],C=t[e+7],y=t[e+8],S=t[e+9],b=t[e+10],m=t[e+11],G=t[e+12],x=t[e+13],L=t[e+14],Z=t[e+15],A=F[0],h=F[1],N=F[2],R=F[3];A=o(A,h,N,R,U,7,n[0]),R=o(R,A,h,N,c,12,n[1]),N=o(N,R,A,h,r,17,n[2]),h=o(h,N,R,A,i,22,n[3]),A=o(A,h,N,R,a,7,n[4]),R=o(R,A,h,N,d,12,n[5]),N=o(N,R,A,h,u,17,n[6]),h=o(h,N,R,A,C,22,n[7]),A=o(A,h,N,R,y,7,n[8]),R=o(R,A,h,N,S,12,n[9]),N=o(N,R,A,h,b,17,n[10]),h=o(h,N,R,A,m,22,n[11]),A=o(A,h,N,R,G,7,n[12]),R=o(R,A,h,N,x,12,n[13]),N=o(N,R,A,h,L,17,n[14]),A=g(A,h=o(h,N,R,A,Z,22,n[15]),N,R,c,5,n[16]),R=g(R,A,h,N,u,9,n[17]),N=g(N,R,A,h,m,14,n[18]),h=g(h,N,R,A,U,20,n[19]),A=g(A,h,N,R,d,5,n[20]),R=g(R,A,h,N,b,9,n[21]),N=g(N,R,A,h,Z,14,n[22]),h=g(h,N,R,A,a,20,n[23]),A=g(A,h,N,R,S,5,n[24]),R=g(R,A,h,N,L,9,n[25]),N=g(N,R,A,h,i,14,n[26]),h=g(h,N,R,A,y,20,n[27]),A=g(A,h,N,R,x,5,n[28]),R=g(R,A,h,N,r,9,n[29]),N=g(N,R,A,h,C,14,n[30]),A=l(A,h=g(h,N,R,A,G,20,n[31]),N,R,d,4,n[32]),R=l(R,A,h,N,y,11,n[33]),N=l(N,R,A,h,m,16,n[34]),h=l(h,N,R,A,L,23,n[35]),A=l(A,h,N,R,c,4,n[36]),R=l(R,A,h,N,a,11,n[37]),N=l(N,R,A,h,C,16,n[38]),h=l(h,N,R,A,b,23,n[39]),A=l(A,h,N,R,x,4,n[40]),R=l(R,A,h,N,U,11,n[41]),N=l(N,R,A,h,i,16,n[42]),h=l(h,N,R,A,u,23,n[43]),A=l(A,h,N,R,S,4,n[44]),R=l(R,A,h,N,G,11,n[45]),N=l(N,R,A,h,Z,16,n[46]),A=I(A,h=l(h,N,R,A,r,23,n[47]),N,R,U,6,n[48]),R=I(R,A,h,N,C,10,n[49]),N=I(N,R,A,h,L,15,n[50]),h=I(h,N,R,A,d,21,n[51]),A=I(A,h,N,R,G,6,n[52]),R=I(R,A,h,N,i,10,n[53]),N=I(N,R,A,h,b,15,n[54]),h=I(h,N,R,A,c,21,n[55]),A=I(A,h,N,R,y,6,n[56]),R=I(R,A,h,N,Z,10,n[57]),N=I(N,R,A,h,u,15,n[58]),h=I(h,N,R,A,x,21,n[59]),A=I(A,h,N,R,a,6,n[60]),R=I(R,A,h,N,m,10,n[61]),N=I(N,R,A,h,r,15,n[62]),h=I(h,N,R,A,S,21,n[63]),F[0]=F[0]+A|0,F[1]=F[1]+h|0,F[2]=F[2]+N|0,F[3]=F[3]+R|0},_doFinalize:function(){var t=this._data,Q=t.words,B=8*this._nDataBytes,s=8*t.sigBytes;Q[s>>>5]|=128<<24-s%32;var F=e.floor(B/4294967296),U=B;Q[15+(s+64>>>9<<4)]=16711935&(F<<8|F>>>24)|4278255360&(F<<24|F>>>8),Q[14+(s+64>>>9<<4)]=16711935&(U<<8|U>>>24)|4278255360&(U<<24|U>>>8),t.sigBytes=4*(Q.length+1),this._process();for(var n=this._hash,c=n.words,o=0;o<4;o++){var g=c[o];c[o]=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8)}return n},clone:function(){var t=F.clone.call(this);return t._hash=this._hash.clone(),t}});function o(t,e,Q,B,s,F,U){var n=t+(e&Q|~e&B)+s+U;return(n<<F|n>>>32-F)+e}function g(t,e,Q,B,s,F,U){var n=t+(e&B|Q&~B)+s+U;return(n<<F|n>>>32-F)+e}function l(t,e,Q,B,s,F,U){var n=t+(e^Q^B)+s+U;return(n<<F|n>>>32-F)+e}function I(t,e,Q,B,s,F,U){var n=t+(Q^(e|~B))+s+U;return(n<<F|n>>>32-F)+e}Q.MD5=F._createHelper(c),Q.HmacMD5=F._createHmacHelper(c)}(Math),t.MD5}(core.exports);var sha1={exports:{}};sha1.exports=function(t){return function(){var e=t,Q=e.lib,B=Q.WordArray,s=Q.Hasher,F=e.algo,U=[],n=F.SHA1=s.extend({_doReset:function(){this._hash=new B.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var Q=this._hash.words,B=Q[0],s=Q[1],F=Q[2],n=Q[3],c=Q[4],o=0;o<80;o++){if(o<16)U[o]=0|t[e+o];else{var g=U[o-3]^U[o-8]^U[o-14]^U[o-16];U[o]=g<<1|g>>>31}var l=(B<<5|B>>>27)+c+U[o];l+=o<20?1518500249+(s&F|~s&n):o<40?1859775393+(s^F^n):o<60?(s&F|s&n|F&n)-1894007588:(s^F^n)-899497514,c=n,n=F,F=s<<30|s>>>2,s=B,B=l}Q[0]=Q[0]+B|0,Q[1]=Q[1]+s|0,Q[2]=Q[2]+F|0,Q[3]=Q[3]+n|0,Q[4]=Q[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,Q=8*this._nDataBytes,B=8*t.sigBytes;return e[B>>>5]|=128<<24-B%32,e[14+(B+64>>>9<<4)]=Math.floor(Q/4294967296),e[15+(B+64>>>9<<4)]=Q,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA1=s._createHelper(n),e.HmacSHA1=s._createHmacHelper(n)}(),t.SHA1}(core.exports);var sha256={exports:{}};sha256.exports=function(t){return function(e){var Q=t,B=Q.lib,s=B.WordArray,F=B.Hasher,U=Q.algo,n=[],c=[];!function(){function t(t){for(var Q=e.sqrt(t),B=2;B<=Q;B++)if(!(t%B))return!1;return!0}function Q(t){return 4294967296*(t-(0|t))|0}for(var B=2,s=0;s<64;)t(B)&&(s<8&&(n[s]=Q(e.pow(B,.5))),c[s]=Q(e.pow(B,1/3)),s++),B++}();var o=[],g=U.SHA256=F.extend({_doReset:function(){this._hash=new s.init(n.slice(0))},_doProcessBlock:function(t,e){for(var Q=this._hash.words,B=Q[0],s=Q[1],F=Q[2],U=Q[3],n=Q[4],g=Q[5],l=Q[6],I=Q[7],r=0;r<64;r++){if(r<16)o[r]=0|t[e+r];else{var i=o[r-15],a=(i<<25|i>>>7)^(i<<14|i>>>18)^i>>>3,d=o[r-2],u=(d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10;o[r]=a+o[r-7]+u+o[r-16]}var C=B&s^B&F^s&F,y=(B<<30|B>>>2)^(B<<19|B>>>13)^(B<<10|B>>>22),S=I+((n<<26|n>>>6)^(n<<21|n>>>11)^(n<<7|n>>>25))+(n&g^~n&l)+c[r]+o[r];I=l,l=g,g=n,n=U+S|0,U=F,F=s,s=B,B=S+(y+C)|0}Q[0]=Q[0]+B|0,Q[1]=Q[1]+s|0,Q[2]=Q[2]+F|0,Q[3]=Q[3]+U|0,Q[4]=Q[4]+n|0,Q[5]=Q[5]+g|0,Q[6]=Q[6]+l|0,Q[7]=Q[7]+I|0},_doFinalize:function(){var t=this._data,Q=t.words,B=8*this._nDataBytes,s=8*t.sigBytes;return Q[s>>>5]|=128<<24-s%32,Q[14+(s+64>>>9<<4)]=e.floor(B/4294967296),Q[15+(s+64>>>9<<4)]=B,t.sigBytes=4*Q.length,this._process(),this._hash},clone:function(){var t=F.clone.call(this);return t._hash=this._hash.clone(),t}});Q.SHA256=F._createHelper(g),Q.HmacSHA256=F._createHmacHelper(g)}(Math),t.SHA256}(core.exports);var sha224={exports:{}};sha224.exports=function(t){return function(){var e=t,Q=e.lib.WordArray,B=e.algo,s=B.SHA256,F=B.SHA224=s.extend({_doReset:function(){this._hash=new Q.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=s._doFinalize.call(this);return t.sigBytes-=4,t}});e.SHA224=s._createHelper(F),e.HmacSHA224=s._createHmacHelper(F)}(),t.SHA224}(core.exports,sha256.exports);var sha512={exports:{}};sha512.exports=function(t){return function(){var e=t,Q=e.lib.Hasher,B=e.x64,s=B.Word,F=B.WordArray,U=e.algo;function n(){return s.create.apply(s,arguments)}var c=[n(1116352408,3609767458),n(1899447441,602891725),n(3049323471,3964484399),n(3921009573,2173295548),n(961987163,4081628472),n(1508970993,3053834265),n(2453635748,2937671579),n(2870763221,3664609560),n(3624381080,2734883394),n(310598401,1164996542),n(607225278,1323610764),n(1426881987,3590304994),n(1925078388,4068182383),n(2162078206,991336113),n(2614888103,633803317),n(3248222580,3479774868),n(3835390401,2666613458),n(4022224774,944711139),n(264347078,2341262773),n(604807628,2007800933),n(770255983,1495990901),n(1249150122,1856431235),n(1555081692,3175218132),n(1996064986,2198950837),n(2554220882,3999719339),n(2821834349,766784016),n(2952996808,2566594879),n(3210313671,3203337956),n(3336571891,1034457026),n(3584528711,2466948901),n(113926993,3758326383),n(338241895,168717936),n(666307205,1188179964),n(773529912,1546045734),n(1294757372,1522805485),n(1396182291,2643833823),n(1695183700,2343527390),n(1986661051,1014477480),n(2177026350,1206759142),n(2456956037,344077627),n(2730485921,1290863460),n(2820302411,3158454273),n(3259730800,3505952657),n(3345764771,106217008),n(3516065817,3606008344),n(3600352804,1432725776),n(4094571909,1467031594),n(275423344,851169720),n(430227734,3100823752),n(506948616,1363258195),n(659060556,3750685593),n(883997877,3785050280),n(958139571,3318307427),n(1322822218,3812723403),n(1537002063,2003034995),n(1747873779,3602036899),n(1955562222,1575990012),n(2024104815,1125592928),n(2227730452,2716904306),n(2361852424,442776044),n(2428436474,593698344),n(2756734187,3733110249),n(3204031479,2999351573),n(3329325298,3815920427),n(3391569614,3928383900),n(3515267271,566280711),n(3940187606,3454069534),n(4118630271,4000239992),n(116418474,1914138554),n(174292421,2731055270),n(289380356,3203993006),n(460393269,320620315),n(685471733,587496836),n(852142971,1086792851),n(1017036298,365543100),n(1126000580,2618297676),n(1288033470,3409855158),n(1501505948,4234509866),n(1607167915,987167468),n(1816402316,1246189591)],o=[];!function(){for(var t=0;t<80;t++)o[t]=n()}();var g=U.SHA512=Q.extend({_doReset:function(){this._hash=new F.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var Q=this._hash.words,B=Q[0],s=Q[1],F=Q[2],U=Q[3],n=Q[4],g=Q[5],l=Q[6],I=Q[7],r=B.high,i=B.low,a=s.high,d=s.low,u=F.high,C=F.low,y=U.high,S=U.low,b=n.high,m=n.low,G=g.high,x=g.low,L=l.high,Z=l.low,A=I.high,h=I.low,N=r,R=i,V=a,E=d,p=u,D=C,J=y,X=S,H=b,W=m,k=G,T=x,f=L,Y=Z,w=A,M=h,v=0;v<80;v++){var z,K,O=o[v];if(v<16)K=O.high=0|t[e+2*v],z=O.low=0|t[e+2*v+1];else{var P=o[v-15],j=P.high,_=P.low,q=(j>>>1|_<<31)^(j>>>8|_<<24)^j>>>7,$=(_>>>1|j<<31)^(_>>>8|j<<24)^(_>>>7|j<<25),tt=o[v-2],et=tt.high,Qt=tt.low,Bt=(et>>>19|Qt<<13)^(et<<3|Qt>>>29)^et>>>6,st=(Qt>>>19|et<<13)^(Qt<<3|et>>>29)^(Qt>>>6|et<<26),Ft=o[v-7],Ut=Ft.high,nt=Ft.low,ct=o[v-16],ot=ct.high,gt=ct.low;K=(K=(K=q+Ut+((z=$+nt)>>>0<$>>>0?1:0))+Bt+((z+=st)>>>0<st>>>0?1:0))+ot+((z+=gt)>>>0<gt>>>0?1:0),O.high=K,O.low=z}var lt,It=H&k^~H&f,rt=W&T^~W&Y,it=N&V^N&p^V&p,at=R&E^R&D^E&D,dt=(N>>>28|R<<4)^(N<<30|R>>>2)^(N<<25|R>>>7),ut=(R>>>28|N<<4)^(R<<30|N>>>2)^(R<<25|N>>>7),Ct=(H>>>14|W<<18)^(H>>>18|W<<14)^(H<<23|W>>>9),yt=(W>>>14|H<<18)^(W>>>18|H<<14)^(W<<23|H>>>9),St=c[v],bt=St.high,mt=St.low,Gt=w+Ct+((lt=M+yt)>>>0<M>>>0?1:0),xt=ut+at;w=f,M=Y,f=k,Y=T,k=H,T=W,H=J+(Gt=(Gt=(Gt=Gt+It+((lt+=rt)>>>0<rt>>>0?1:0))+bt+((lt+=mt)>>>0<mt>>>0?1:0))+K+((lt+=z)>>>0<z>>>0?1:0))+((W=X+lt|0)>>>0<X>>>0?1:0)|0,J=p,X=D,p=V,D=E,V=N,E=R,N=Gt+(dt+it+(xt>>>0<ut>>>0?1:0))+((R=lt+xt|0)>>>0<lt>>>0?1:0)|0}i=B.low=i+R,B.high=r+N+(i>>>0<R>>>0?1:0),d=s.low=d+E,s.high=a+V+(d>>>0<E>>>0?1:0),C=F.low=C+D,F.high=u+p+(C>>>0<D>>>0?1:0),S=U.low=S+X,U.high=y+J+(S>>>0<X>>>0?1:0),m=n.low=m+W,n.high=b+H+(m>>>0<W>>>0?1:0),x=g.low=x+T,g.high=G+k+(x>>>0<T>>>0?1:0),Z=l.low=Z+Y,l.high=L+f+(Z>>>0<Y>>>0?1:0),h=I.low=h+M,I.high=A+w+(h>>>0<M>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,Q=8*this._nDataBytes,B=8*t.sigBytes;return e[B>>>5]|=128<<24-B%32,e[30+(B+128>>>10<<5)]=Math.floor(Q/4294967296),e[31+(B+128>>>10<<5)]=Q,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=Q.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});e.SHA512=Q._createHelper(g),e.HmacSHA512=Q._createHmacHelper(g)}(),t.SHA512}(core.exports,x64Core.exports);var sha384={exports:{}};sha384.exports=function(t){return function(){var e=t,Q=e.x64,B=Q.Word,s=Q.WordArray,F=e.algo,U=F.SHA512,n=F.SHA384=U.extend({_doReset:function(){this._hash=new s.init([new B.init(3418070365,3238371032),new B.init(1654270250,914150663),new B.init(2438529370,812702999),new B.init(355462360,4144912697),new B.init(1731405415,4290775857),new B.init(2394180231,1750603025),new B.init(3675008525,1694076839),new B.init(1203062813,3204075428)])},_doFinalize:function(){var t=U._doFinalize.call(this);return t.sigBytes-=16,t}});e.SHA384=U._createHelper(n),e.HmacSHA384=U._createHmacHelper(n)}(),t.SHA384}(core.exports,x64Core.exports,sha512.exports);var sha3={exports:{}};sha3.exports=function(t){return function(e){var Q=t,B=Q.lib,s=B.WordArray,F=B.Hasher,U=Q.x64.Word,n=Q.algo,c=[],o=[],g=[];!function(){for(var t=1,e=0,Q=0;Q<24;Q++){c[t+5*e]=(Q+1)*(Q+2)/2%64;var B=(2*t+3*e)%5;t=e%5,e=B}for(t=0;t<5;t++)for(e=0;e<5;e++)o[t+5*e]=e+(2*t+3*e)%5*5;for(var s=1,F=0;F<24;F++){for(var n=0,l=0,I=0;I<7;I++){if(1&s){var r=(1<<I)-1;r<32?l^=1<<r:n^=1<<r-32}128&s?s=s<<1^113:s<<=1}g[F]=U.create(n,l)}}();var l=[];!function(){for(var t=0;t<25;t++)l[t]=U.create()}();var I=n.SHA3=F.extend({cfg:F.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new U.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var Q=this._state,B=this.blockSize/2,s=0;s<B;s++){var F=t[e+2*s],U=t[e+2*s+1];F=16711935&(F<<8|F>>>24)|4278255360&(F<<24|F>>>8),U=16711935&(U<<8|U>>>24)|4278255360&(U<<24|U>>>8),(h=Q[s]).high^=U,h.low^=F}for(var n=0;n<24;n++){for(var I=0;I<5;I++){for(var r=0,i=0,a=0;a<5;a++)r^=(h=Q[I+5*a]).high,i^=h.low;var d=l[I];d.high=r,d.low=i}for(I=0;I<5;I++){var u=l[(I+4)%5],C=l[(I+1)%5],y=C.high,S=C.low;for(r=u.high^(y<<1|S>>>31),i=u.low^(S<<1|y>>>31),a=0;a<5;a++)(h=Q[I+5*a]).high^=r,h.low^=i}for(var b=1;b<25;b++){var m=(h=Q[b]).high,G=h.low,x=c[b];x<32?(r=m<<x|G>>>32-x,i=G<<x|m>>>32-x):(r=G<<x-32|m>>>64-x,i=m<<x-32|G>>>64-x);var L=l[o[b]];L.high=r,L.low=i}var Z=l[0],A=Q[0];for(Z.high=A.high,Z.low=A.low,I=0;I<5;I++)for(a=0;a<5;a++){var h=Q[b=I+5*a],N=l[b],R=l[(I+1)%5+5*a],V=l[(I+2)%5+5*a];h.high=N.high^~R.high&V.high,h.low=N.low^~R.low&V.low}h=Q[0];var E=g[n];h.high^=E.high,h.low^=E.low}},_doFinalize:function(){var t=this._data,Q=t.words;this._nDataBytes;var B=8*t.sigBytes,F=32*this.blockSize;Q[B>>>5]|=1<<24-B%32,Q[(e.ceil((B+1)/F)*F>>>5)-1]|=128,t.sigBytes=4*Q.length,this._process();for(var U=this._state,n=this.cfg.outputLength/8,c=n/8,o=[],g=0;g<c;g++){var l=U[g],I=l.high,r=l.low;I=16711935&(I<<8|I>>>24)|4278255360&(I<<24|I>>>8),r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),o.push(r),o.push(I)}return new s.init(o,n)},clone:function(){for(var t=F.clone.call(this),e=t._state=this._state.slice(0),Q=0;Q<25;Q++)e[Q]=e[Q].clone();return t}});Q.SHA3=F._createHelper(I),Q.HmacSHA3=F._createHmacHelper(I)}(Math),t.SHA3}(core.exports,x64Core.exports);var ripemd160={exports:{}};ripemd160.exports=function(t){
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
return function(e){var Q=t,B=Q.lib,s=B.WordArray,F=B.Hasher,U=Q.algo,n=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=s.create([0,1518500249,1859775393,2400959708,2840853838]),I=s.create([1352829926,1548603684,1836072691,2053994217,0]),r=U.RIPEMD160=F.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var Q=0;Q<16;Q++){var B=e+Q,s=t[B];t[B]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var F,U,r,S,b,m,G,x,L,Z,A,h=this._hash.words,N=l.words,R=I.words,V=n.words,E=c.words,p=o.words,D=g.words;for(m=F=h[0],G=U=h[1],x=r=h[2],L=S=h[3],Z=b=h[4],Q=0;Q<80;Q+=1)A=F+t[e+V[Q]]|0,A+=Q<16?i(U,r,S)+N[0]:Q<32?a(U,r,S)+N[1]:Q<48?d(U,r,S)+N[2]:Q<64?u(U,r,S)+N[3]:C(U,r,S)+N[4],A=(A=y(A|=0,p[Q]))+b|0,F=b,b=S,S=y(r,10),r=U,U=A,A=m+t[e+E[Q]]|0,A+=Q<16?C(G,x,L)+R[0]:Q<32?u(G,x,L)+R[1]:Q<48?d(G,x,L)+R[2]:Q<64?a(G,x,L)+R[3]:i(G,x,L)+R[4],A=(A=y(A|=0,D[Q]))+Z|0,m=Z,Z=L,L=y(x,10),x=G,G=A;A=h[1]+r+L|0,h[1]=h[2]+S+Z|0,h[2]=h[3]+b+m|0,h[3]=h[4]+F+G|0,h[4]=h[0]+U+x|0,h[0]=A},_doFinalize:function(){var t=this._data,e=t.words,Q=8*this._nDataBytes,B=8*t.sigBytes;e[B>>>5]|=128<<24-B%32,e[14+(B+64>>>9<<4)]=16711935&(Q<<8|Q>>>24)|4278255360&(Q<<24|Q>>>8),t.sigBytes=4*(e.length+1),this._process();for(var s=this._hash,F=s.words,U=0;U<5;U++){var n=F[U];F[U]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}return s},clone:function(){var t=F.clone.call(this);return t._hash=this._hash.clone(),t}});function i(t,e,Q){return t^e^Q}function a(t,e,Q){return t&e|~t&Q}function d(t,e,Q){return(t|~e)^Q}function u(t,e,Q){return t&Q|e&~Q}function C(t,e,Q){return t^(e|~Q)}function y(t,e){return t<<e|t>>>32-e}Q.RIPEMD160=F._createHelper(r),Q.HmacRIPEMD160=F._createHmacHelper(r)}(),t.RIPEMD160}(core.exports);var hmac={exports:{}};hmac.exports=function(t){!function(){var e=t,Q=e.lib.Base,B=e.enc.Utf8;e.algo.HMAC=Q.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=B.parse(e));var Q=t.blockSize,s=4*Q;e.sigBytes>s&&(e=t.finalize(e)),e.clamp();for(var F=this._oKey=e.clone(),U=this._iKey=e.clone(),n=F.words,c=U.words,o=0;o<Q;o++)n[o]^=1549556828,c[o]^=909522486;F.sigBytes=U.sigBytes=s,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,Q=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(Q))}})}()}(core.exports);var pbkdf2={exports:{}};pbkdf2.exports=function(t){return function(){var e=t,Q=e.lib,B=Q.Base,s=Q.WordArray,F=e.algo,U=F.SHA1,n=F.HMAC,c=F.PBKDF2=B.extend({cfg:B.extend({keySize:4,hasher:U,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var Q=this.cfg,B=n.create(Q.hasher,t),F=s.create(),U=s.create([1]),c=F.words,o=U.words,g=Q.keySize,l=Q.iterations;c.length<g;){var I=B.update(e).finalize(U);B.reset();for(var r=I.words,i=r.length,a=I,d=1;d<l;d++){a=B.finalize(a),B.reset();for(var u=a.words,C=0;C<i;C++)r[C]^=u[C]}F.concat(I),o[0]++}return F.sigBytes=4*g,F}});e.PBKDF2=function(t,e,Q){return c.create(Q).compute(t,e)}}(),t.PBKDF2}(core.exports,sha1.exports,hmac.exports);var evpkdf={exports:{}};evpkdf.exports=function(t){return function(){var e=t,Q=e.lib,B=Q.Base,s=Q.WordArray,F=e.algo,U=F.MD5,n=F.EvpKDF=B.extend({cfg:B.extend({keySize:4,hasher:U,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var Q,B=this.cfg,F=B.hasher.create(),U=s.create(),n=U.words,c=B.keySize,o=B.iterations;n.length<c;){Q&&F.update(Q),Q=F.update(t).finalize(e),F.reset();for(var g=1;g<o;g++)Q=F.finalize(Q),F.reset();U.concat(Q)}return U.sigBytes=4*c,U}});e.EvpKDF=function(t,e,Q){return n.create(Q).compute(t,e)}}(),t.EvpKDF}(core.exports,sha1.exports,hmac.exports);var cipherCore={exports:{}};cipherCore.exports=function(t){t.lib.Cipher||function(e){var Q=t,B=Q.lib,s=B.Base,F=B.WordArray,U=B.BufferedBlockAlgorithm,n=Q.enc;n.Utf8;var c=n.Base64,o=Q.algo.EvpKDF,g=B.Cipher=U.extend({cfg:s.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,Q){this.cfg=this.cfg.extend(Q),this._xformMode=t,this._key=e,this.reset()},reset:function(){U.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?y:u}return function(e){return{encrypt:function(Q,B,s){return t(B).encrypt(e,Q,B,s)},decrypt:function(Q,B,s){return t(B).decrypt(e,Q,B,s)}}}}()});B.StreamCipher=g.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=Q.mode={},I=B.BlockCipherMode=s.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),r=l.CBC=function(){var t=I.extend();function Q(t,Q,B){var s,F=this._iv;F?(s=F,this._iv=e):s=this._prevBlock;for(var U=0;U<B;U++)t[Q+U]^=s[U]}return t.Encryptor=t.extend({processBlock:function(t,e){var B=this._cipher,s=B.blockSize;Q.call(this,t,e,s),B.encryptBlock(t,e),this._prevBlock=t.slice(e,e+s)}}),t.Decryptor=t.extend({processBlock:function(t,e){var B=this._cipher,s=B.blockSize,F=t.slice(e,e+s);B.decryptBlock(t,e),Q.call(this,t,e,s),this._prevBlock=F}}),t}(),i=(Q.pad={}).Pkcs7={pad:function(t,e){for(var Q=4*e,B=Q-t.sigBytes%Q,s=B<<24|B<<16|B<<8|B,U=[],n=0;n<B;n+=4)U.push(s);var c=F.create(U,B);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}};B.BlockCipher=g.extend({cfg:g.cfg.extend({mode:r,padding:i}),reset:function(){var t;g.reset.call(this);var e=this.cfg,Q=e.iv,B=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=B.createEncryptor:(t=B.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,Q&&Q.words):(this._mode=t.call(B,this,Q&&Q.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4});var a=B.CipherParams=s.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),d=(Q.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,Q=t.salt;return(Q?F.create([1398893684,1701076831]).concat(Q).concat(e):e).toString(c)},parse:function(t){var e,Q=c.parse(t),B=Q.words;return 1398893684==B[0]&&1701076831==B[1]&&(e=F.create(B.slice(2,4)),B.splice(0,4),Q.sigBytes-=16),a.create({ciphertext:Q,salt:e})}},u=B.SerializableCipher=s.extend({cfg:s.extend({format:d}),encrypt:function(t,e,Q,B){B=this.cfg.extend(B);var s=t.createEncryptor(Q,B),F=s.finalize(e),U=s.cfg;return a.create({ciphertext:F,key:Q,iv:U.iv,algorithm:t,mode:U.mode,padding:U.padding,blockSize:t.blockSize,formatter:B.format})},decrypt:function(t,e,Q,B){return B=this.cfg.extend(B),e=this._parse(e,B.format),t.createDecryptor(Q,B).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),C=(Q.kdf={}).OpenSSL={execute:function(t,e,Q,B){B||(B=F.random(8));var s=o.create({keySize:e+Q}).compute(t,B),U=F.create(s.words.slice(e),4*Q);return s.sigBytes=4*e,a.create({key:s,iv:U,salt:B})}},y=B.PasswordBasedCipher=u.extend({cfg:u.cfg.extend({kdf:C}),encrypt:function(t,e,Q,B){var s=(B=this.cfg.extend(B)).kdf.execute(Q,t.keySize,t.ivSize);B.iv=s.iv;var F=u.encrypt.call(this,t,e,s.key,B);return F.mixIn(s),F},decrypt:function(t,e,Q,B){B=this.cfg.extend(B),e=this._parse(e,B.format);var s=B.kdf.execute(Q,t.keySize,t.ivSize,e.salt);return B.iv=s.iv,u.decrypt.call(this,t,e,s.key,B)}})}()}(core.exports,evpkdf.exports);var modeCfb={exports:{}};modeCfb.exports=function(t){return t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();function Q(t,e,Q,B){var s,F=this._iv;F?(s=F.slice(0),this._iv=void 0):s=this._prevBlock,B.encryptBlock(s,0);for(var U=0;U<Q;U++)t[e+U]^=s[U]}return e.Encryptor=e.extend({processBlock:function(t,e){var B=this._cipher,s=B.blockSize;Q.call(this,t,e,s,B),this._prevBlock=t.slice(e,e+s)}}),e.Decryptor=e.extend({processBlock:function(t,e){var B=this._cipher,s=B.blockSize,F=t.slice(e,e+s);Q.call(this,t,e,s,B),this._prevBlock=F}}),e}(),t.mode.CFB}(core.exports,cipherCore.exports);var modeCtr={exports:{}};modeCtr.exports=function(t){return t.mode.CTR=(e=t.lib.BlockCipherMode.extend(),Q=e.Encryptor=e.extend({processBlock:function(t,e){var Q=this._cipher,B=Q.blockSize,s=this._iv,F=this._counter;s&&(F=this._counter=s.slice(0),this._iv=void 0);var U=F.slice(0);Q.encryptBlock(U,0),F[B-1]=F[B-1]+1|0;for(var n=0;n<B;n++)t[e+n]^=U[n]}}),e.Decryptor=Q,e),t.mode.CTR;var e,Q}(core.exports,cipherCore.exports);var modeCtrGladman={exports:{}};modeCtrGladman.exports=function(t){
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
return t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function Q(t){if(255==(t>>24&255)){var e=t>>16&255,Q=t>>8&255,B=255&t;255===e?(e=0,255===Q?(Q=0,255===B?B=0:++B):++Q):++e,t=0,t+=e<<16,t+=Q<<8,t+=B}else t+=1<<24;return t}function B(t){return 0===(t[0]=Q(t[0]))&&(t[1]=Q(t[1])),t}var s=e.Encryptor=e.extend({processBlock:function(t,e){var Q=this._cipher,s=Q.blockSize,F=this._iv,U=this._counter;F&&(U=this._counter=F.slice(0),this._iv=void 0),B(U);var n=U.slice(0);Q.encryptBlock(n,0);for(var c=0;c<s;c++)t[e+c]^=n[c]}});return e.Decryptor=s,e}(),t.mode.CTRGladman}(core.exports,cipherCore.exports);var modeOfb={exports:{}};modeOfb.exports=function(t){return t.mode.OFB=(e=t.lib.BlockCipherMode.extend(),Q=e.Encryptor=e.extend({processBlock:function(t,e){var Q=this._cipher,B=Q.blockSize,s=this._iv,F=this._keystream;s&&(F=this._keystream=s.slice(0),this._iv=void 0),Q.encryptBlock(F,0);for(var U=0;U<B;U++)t[e+U]^=F[U]}}),e.Decryptor=Q,e),t.mode.OFB;var e,Q}(core.exports,cipherCore.exports);var modeEcb={exports:{}};modeEcb.exports=function(t){return t.mode.ECB=((e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),e.Decryptor=e.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),e),t.mode.ECB;var e}(core.exports,cipherCore.exports);var padAnsix923={exports:{}};padAnsix923.exports=function(t){return t.pad.AnsiX923={pad:function(t,e){var Q=t.sigBytes,B=4*e,s=B-Q%B,F=Q+s-1;t.clamp(),t.words[F>>>2]|=s<<24-F%4*8,t.sigBytes+=s},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Ansix923}(core.exports,cipherCore.exports);var padIso10126={exports:{}};padIso10126.exports=function(t){return t.pad.Iso10126={pad:function(e,Q){var B=4*Q,s=B-e.sigBytes%B;e.concat(t.lib.WordArray.random(s-1)).concat(t.lib.WordArray.create([s<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Iso10126}(core.exports,cipherCore.exports);var padIso97971={exports:{}};padIso97971.exports=function(t){return t.pad.Iso97971={pad:function(e,Q){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,Q)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.pad.Iso97971}(core.exports,cipherCore.exports);var padZeropadding={exports:{}};padZeropadding.exports=function(t){return t.pad.ZeroPadding={pad:function(t,e){var Q=4*e;t.clamp(),t.sigBytes+=Q-(t.sigBytes%Q||Q)},unpad:function(t){var e=t.words,Q=t.sigBytes-1;for(Q=t.sigBytes-1;Q>=0;Q--)if(e[Q>>>2]>>>24-Q%4*8&255){t.sigBytes=Q+1;break}}},t.pad.ZeroPadding}(core.exports,cipherCore.exports);var padNopadding={exports:{}};padNopadding.exports=function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding}(core.exports,cipherCore.exports);var formatHex={exports:{}};formatHex.exports=function(t){return function(e){var Q=t,B=Q.lib.CipherParams,s=Q.enc.Hex;Q.format.Hex={stringify:function(t){return t.ciphertext.toString(s)},parse:function(t){var e=s.parse(t);return B.create({ciphertext:e})}}}(),t.format.Hex}(core.exports,cipherCore.exports);var aes={exports:{}};aes.exports=function(t){return function(){var e=t,Q=e.lib.BlockCipher,B=e.algo,s=[],F=[],U=[],n=[],c=[],o=[],g=[],l=[],I=[],r=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var Q=0,B=0;for(e=0;e<256;e++){var i=B^B<<1^B<<2^B<<3^B<<4;i=i>>>8^255&i^99,s[Q]=i,F[i]=Q;var a=t[Q],d=t[a],u=t[d],C=257*t[i]^16843008*i;U[Q]=C<<24|C>>>8,n[Q]=C<<16|C>>>16,c[Q]=C<<8|C>>>24,o[Q]=C,C=16843009*u^65537*d^257*a^16843008*Q,g[i]=C<<24|C>>>8,l[i]=C<<16|C>>>16,I[i]=C<<8|C>>>24,r[i]=C,Q?(Q=a^t[t[t[u^a]]],B^=t[t[B]]):Q=B=1}}();var i=[0,1,2,4,8,16,32,64,128,27,54],a=B.AES=Q.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,Q=t.sigBytes/4,B=4*((this._nRounds=Q+6)+1),F=this._keySchedule=[],U=0;U<B;U++)U<Q?F[U]=e[U]:(o=F[U-1],U%Q?Q>6&&U%Q==4&&(o=s[o>>>24]<<24|s[o>>>16&255]<<16|s[o>>>8&255]<<8|s[255&o]):(o=s[(o=o<<8|o>>>24)>>>24]<<24|s[o>>>16&255]<<16|s[o>>>8&255]<<8|s[255&o],o^=i[U/Q|0]<<24),F[U]=F[U-Q]^o);for(var n=this._invKeySchedule=[],c=0;c<B;c++){if(U=B-c,c%4)var o=F[U];else o=F[U-4];n[c]=c<4||U<=4?o:g[s[o>>>24]]^l[s[o>>>16&255]]^I[s[o>>>8&255]]^r[s[255&o]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,U,n,c,o,s)},decryptBlock:function(t,e){var Q=t[e+1];t[e+1]=t[e+3],t[e+3]=Q,this._doCryptBlock(t,e,this._invKeySchedule,g,l,I,r,F),Q=t[e+1],t[e+1]=t[e+3],t[e+3]=Q},_doCryptBlock:function(t,e,Q,B,s,F,U,n){for(var c=this._nRounds,o=t[e]^Q[0],g=t[e+1]^Q[1],l=t[e+2]^Q[2],I=t[e+3]^Q[3],r=4,i=1;i<c;i++){var a=B[o>>>24]^s[g>>>16&255]^F[l>>>8&255]^U[255&I]^Q[r++],d=B[g>>>24]^s[l>>>16&255]^F[I>>>8&255]^U[255&o]^Q[r++],u=B[l>>>24]^s[I>>>16&255]^F[o>>>8&255]^U[255&g]^Q[r++],C=B[I>>>24]^s[o>>>16&255]^F[g>>>8&255]^U[255&l]^Q[r++];o=a,g=d,l=u,I=C}a=(n[o>>>24]<<24|n[g>>>16&255]<<16|n[l>>>8&255]<<8|n[255&I])^Q[r++],d=(n[g>>>24]<<24|n[l>>>16&255]<<16|n[I>>>8&255]<<8|n[255&o])^Q[r++],u=(n[l>>>24]<<24|n[I>>>16&255]<<16|n[o>>>8&255]<<8|n[255&g])^Q[r++],C=(n[I>>>24]<<24|n[o>>>16&255]<<16|n[g>>>8&255]<<8|n[255&l])^Q[r++],t[e]=a,t[e+1]=d,t[e+2]=u,t[e+3]=C},keySize:8});e.AES=Q._createHelper(a)}(),t.AES}(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports);var tripledes={exports:{}};tripledes.exports=function(t){return function(){var e=t,Q=e.lib,B=Q.WordArray,s=Q.BlockCipher,F=e.algo,U=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],n=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],o=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=F.DES=s.extend({_doReset:function(){for(var t=this._key.words,e=[],Q=0;Q<56;Q++){var B=U[Q]-1;e[Q]=t[B>>>5]>>>31-B%32&1}for(var s=this._subKeys=[],F=0;F<16;F++){var o=s[F]=[],g=c[F];for(Q=0;Q<24;Q++)o[Q/6|0]|=e[(n[Q]-1+g)%28]<<31-Q%6,o[4+(Q/6|0)]|=e[28+(n[Q+24]-1+g)%28]<<31-Q%6;for(o[0]=o[0]<<1|o[0]>>>31,Q=1;Q<7;Q++)o[Q]=o[Q]>>>4*(Q-1)+3;o[7]=o[7]<<5|o[7]>>>27}var l=this._invSubKeys=[];for(Q=0;Q<16;Q++)l[Q]=s[15-Q]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,Q){this._lBlock=t[e],this._rBlock=t[e+1],I.call(this,4,252645135),I.call(this,16,65535),r.call(this,2,858993459),r.call(this,8,16711935),I.call(this,1,1431655765);for(var B=0;B<16;B++){for(var s=Q[B],F=this._lBlock,U=this._rBlock,n=0,c=0;c<8;c++)n|=o[c][((U^s[c])&g[c])>>>0];this._lBlock=U,this._rBlock=F^n}var l=this._lBlock;this._lBlock=this._rBlock,this._rBlock=l,I.call(this,1,1431655765),r.call(this,8,16711935),r.call(this,2,858993459),I.call(this,16,65535),I.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function I(t,e){var Q=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=Q,this._lBlock^=Q<<t}function r(t,e){var Q=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=Q,this._rBlock^=Q<<t}e.DES=s._createHelper(l);var i=F.TripleDES=s.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),Q=t.length<4?t.slice(0,2):t.slice(2,4),s=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=l.createEncryptor(B.create(e)),this._des2=l.createEncryptor(B.create(Q)),this._des3=l.createEncryptor(B.create(s))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=s._createHelper(i)}(),t.TripleDES}(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports);var rc4={exports:{}};rc4.exports=function(t){return function(){var e=t,Q=e.lib.StreamCipher,B=e.algo,s=B.RC4=Q.extend({_doReset:function(){for(var t=this._key,e=t.words,Q=t.sigBytes,B=this._S=[],s=0;s<256;s++)B[s]=s;s=0;for(var F=0;s<256;s++){var U=s%Q,n=e[U>>>2]>>>24-U%4*8&255;F=(F+B[s]+n)%256;var c=B[s];B[s]=B[F],B[F]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=F.call(this)},keySize:8,ivSize:0});function F(){for(var t=this._S,e=this._i,Q=this._j,B=0,s=0;s<4;s++){Q=(Q+t[e=(e+1)%256])%256;var F=t[e];t[e]=t[Q],t[Q]=F,B|=t[(t[e]+t[Q])%256]<<24-8*s}return this._i=e,this._j=Q,B}e.RC4=Q._createHelper(s);var U=B.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)F.call(this)}});e.RC4Drop=Q._createHelper(U)}(),t.RC4}(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports);var rabbit={exports:{}};rabbit.exports=function(t){return function(){var e=t,Q=e.lib.StreamCipher,B=e.algo,s=[],F=[],U=[],n=B.Rabbit=Q.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,Q=0;Q<4;Q++)t[Q]=16711935&(t[Q]<<8|t[Q]>>>24)|4278255360&(t[Q]<<24|t[Q]>>>8);var B=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],s=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,Q=0;Q<4;Q++)c.call(this);for(Q=0;Q<8;Q++)s[Q]^=B[Q+4&7];if(e){var F=e.words,U=F[0],n=F[1],o=16711935&(U<<8|U>>>24)|4278255360&(U<<24|U>>>8),g=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),l=o>>>16|4294901760&g,I=g<<16|65535&o;for(s[0]^=o,s[1]^=l,s[2]^=g,s[3]^=I,s[4]^=o,s[5]^=l,s[6]^=g,s[7]^=I,Q=0;Q<4;Q++)c.call(this)}},_doProcessBlock:function(t,e){var Q=this._X;c.call(this),s[0]=Q[0]^Q[5]>>>16^Q[3]<<16,s[1]=Q[2]^Q[7]>>>16^Q[5]<<16,s[2]=Q[4]^Q[1]>>>16^Q[7]<<16,s[3]=Q[6]^Q[3]>>>16^Q[1]<<16;for(var B=0;B<4;B++)s[B]=16711935&(s[B]<<8|s[B]>>>24)|4278255360&(s[B]<<24|s[B]>>>8),t[e+B]^=s[B]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,Q=0;Q<8;Q++)F[Q]=e[Q];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<F[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<F[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<F[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<F[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<F[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<F[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<F[6]>>>0?1:0)|0,this._b=e[7]>>>0<F[7]>>>0?1:0,Q=0;Q<8;Q++){var B=t[Q]+e[Q],s=65535&B,n=B>>>16,c=((s*s>>>17)+s*n>>>15)+n*n,o=((4294901760&B)*B|0)+((65535&B)*B|0);U[Q]=c^o}t[0]=U[0]+(U[7]<<16|U[7]>>>16)+(U[6]<<16|U[6]>>>16)|0,t[1]=U[1]+(U[0]<<8|U[0]>>>24)+U[7]|0,t[2]=U[2]+(U[1]<<16|U[1]>>>16)+(U[0]<<16|U[0]>>>16)|0,t[3]=U[3]+(U[2]<<8|U[2]>>>24)+U[1]|0,t[4]=U[4]+(U[3]<<16|U[3]>>>16)+(U[2]<<16|U[2]>>>16)|0,t[5]=U[5]+(U[4]<<8|U[4]>>>24)+U[3]|0,t[6]=U[6]+(U[5]<<16|U[5]>>>16)+(U[4]<<16|U[4]>>>16)|0,t[7]=U[7]+(U[6]<<8|U[6]>>>24)+U[5]|0}e.Rabbit=Q._createHelper(n)}(),t.Rabbit}(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports);var rabbitLegacy={exports:{}};rabbitLegacy.exports=function(t){return function(){var e=t,Q=e.lib.StreamCipher,B=e.algo,s=[],F=[],U=[],n=B.RabbitLegacy=Q.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,Q=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],B=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var s=0;s<4;s++)c.call(this);for(s=0;s<8;s++)B[s]^=Q[s+4&7];if(e){var F=e.words,U=F[0],n=F[1],o=16711935&(U<<8|U>>>24)|4278255360&(U<<24|U>>>8),g=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),l=o>>>16|4294901760&g,I=g<<16|65535&o;for(B[0]^=o,B[1]^=l,B[2]^=g,B[3]^=I,B[4]^=o,B[5]^=l,B[6]^=g,B[7]^=I,s=0;s<4;s++)c.call(this)}},_doProcessBlock:function(t,e){var Q=this._X;c.call(this),s[0]=Q[0]^Q[5]>>>16^Q[3]<<16,s[1]=Q[2]^Q[7]>>>16^Q[5]<<16,s[2]=Q[4]^Q[1]>>>16^Q[7]<<16,s[3]=Q[6]^Q[3]>>>16^Q[1]<<16;for(var B=0;B<4;B++)s[B]=16711935&(s[B]<<8|s[B]>>>24)|4278255360&(s[B]<<24|s[B]>>>8),t[e+B]^=s[B]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,Q=0;Q<8;Q++)F[Q]=e[Q];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<F[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<F[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<F[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<F[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<F[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<F[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<F[6]>>>0?1:0)|0,this._b=e[7]>>>0<F[7]>>>0?1:0,Q=0;Q<8;Q++){var B=t[Q]+e[Q],s=65535&B,n=B>>>16,c=((s*s>>>17)+s*n>>>15)+n*n,o=((4294901760&B)*B|0)+((65535&B)*B|0);U[Q]=c^o}t[0]=U[0]+(U[7]<<16|U[7]>>>16)+(U[6]<<16|U[6]>>>16)|0,t[1]=U[1]+(U[0]<<8|U[0]>>>24)+U[7]|0,t[2]=U[2]+(U[1]<<16|U[1]>>>16)+(U[0]<<16|U[0]>>>16)|0,t[3]=U[3]+(U[2]<<8|U[2]>>>24)+U[1]|0,t[4]=U[4]+(U[3]<<16|U[3]>>>16)+(U[2]<<16|U[2]>>>16)|0,t[5]=U[5]+(U[4]<<8|U[4]>>>24)+U[3]|0,t[6]=U[6]+(U[5]<<16|U[5]>>>16)+(U[4]<<16|U[4]>>>16)|0,t[7]=U[7]+(U[6]<<8|U[6]>>>24)+U[5]|0}e.RabbitLegacy=Q._createHelper(n)}(),t.RabbitLegacy}(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports),cryptoJs.exports=function(t){return t}(core.exports,x64Core.exports,libTypedarrays.exports,encUtf16.exports,encBase64.exports,encBase64url.exports,md5.exports,sha1.exports,sha256.exports,sha224.exports,sha512.exports,sha384.exports,sha3.exports,ripemd160.exports,hmac.exports,pbkdf2.exports,evpkdf.exports,cipherCore.exports,modeCfb.exports,modeCtr.exports,modeCtrGladman.exports,modeOfb.exports,modeEcb.exports,padAnsix923.exports,padIso10126.exports,padIso97971.exports,padZeropadding.exports,padNopadding.exports,formatHex.exports,aes.exports,tripledes.exports,rc4.exports,rabbit.exports,rabbitLegacy.exports);var __assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(t){for(var e,Q=1,B=arguments.length;Q<B;Q++)for(var s in e=arguments[Q])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},__assign.apply(this,arguments)};Object.defineProperty(SimpleCrypto$1,"__esModule",{value:!0}),SimpleCrypto$1.SimpleCrypto=void 0;var crypto_js_1=cryptoJs.exports,SimpleCrypto=function(){function t(t){if(void 0===t)throw new Error("SimpleCrypto object MUST BE initialised with a SECRET KEY.");this._dataBuffer="",this._encoder=crypto_js_1.enc.Utf8,this._secret=(0,crypto_js_1.SHA3)("string"==typeof t?t:t.toString()),this._keySize=256,this._iterations=100}return t.sanitiseData=function(t){if(null==t)throw new Error("There is no data provided. Process halted.");var e="object"==typeof t?JSON.stringify(t):"string"==typeof t||"number"==typeof t||"boolean"==typeof t?t.toString():null;if(null===e)throw new Error("Invalid data type. Only object, string, number and boolean data types are allowed.");return e},t.transform=function(t){if("true"===t.toLowerCase()||"false"===t.toLowerCase())return"true"===t.toLowerCase();try{return JSON.parse(t)}catch(e){return/^-?[\d.]+(?:e-?\d+)?$/.test(t)&&!isNaN(parseFloat(t))?parseFloat(t):t}},Object.defineProperty(t,"encoders",{get:function(){return __assign({Default:crypto_js_1.enc.Utf8},crypto_js_1.enc)},enumerable:!1,configurable:!0}),t.generateRandom=function(t,e){void 0===t&&(t=128),void 0===e&&(e=!1);var Q=crypto_js_1.lib.WordArray.random(t/8);return e?Q:Q.toString()},t.generateRandomString=function(e){return void 0===e&&(e=128),t.generateRandom(e,!1)},t.generateRandomWordArray=function(e){return void 0===e&&(e=128),t.generateRandom(e,!0)},t.prototype._decrypt=function(){if(this._dataBuffer.length<=64)throw new Error("Invalid cipher text. Decryption halted.");var e=crypto_js_1.enc.Hex.parse(this._dataBuffer.substring(0,32)),Q=crypto_js_1.enc.Hex.parse(this._dataBuffer.substring(32,64)),B=this._dataBuffer.substring(64,this._dataBuffer.length-64),s=(0,crypto_js_1.PBKDF2)(this._secret.toString(),e,{keySize:this._keySize/32,iterations:this._iterations}),F=this._dataBuffer.substring(this._dataBuffer.length-64),U=this._dataBuffer.substring(0,this._dataBuffer.length-64);if(F!=(0,crypto_js_1.HmacSHA256)(U,s).toString())throw new Error("Invalid encrypted text received. Decryption halted.");var n=crypto_js_1.AES.decrypt(B,s,{iv:Q,padding:crypto_js_1.pad.Pkcs7,mode:crypto_js_1.mode.CBC});return t.transform(n.toString(t.encoders.Default))},t.prototype._encrypt=function(){var e=t.generateRandom(128,!0),Q=t.generateRandom(128,!0),B=(0,crypto_js_1.PBKDF2)(this._secret.toString(),e,{keySize:this._keySize/32,iterations:this._iterations}),s=crypto_js_1.AES.encrypt(this._dataBuffer,B,{iv:Q,padding:crypto_js_1.pad.Pkcs7,mode:crypto_js_1.mode.CBC}),F=e.toString()+Q.toString()+s.toString();return F+(0,crypto_js_1.HmacSHA256)(F,B).toString()},t.prototype.decrypt=function(t,e,Q){var B=this,s=function(t){"boolean"!=typeof t&&B.setEncoder(t)};try{return void 0!==t&&this.update(t),void 0!==e&&s(e),void 0!==Q&&s(Q),this._decrypt()}catch(t){throw t}},t.prototype.encrypt=function(t){try{return void 0!==t&&this.update(t),this._encrypt()}catch(t){throw t}},t.prototype.decryptObject=function(t){return this.update(t).decrypt()},t.prototype.encryptObject=function(t){return this.update(t).encrypt()},t.prototype.append=function(e){try{return this._dataBuffer=this._dataBuffer+t.sanitiseData(e),this}catch(t){throw t}},t.prototype.update=function(e){try{return this._dataBuffer=t.sanitiseData(e),this}catch(t){throw t}},t.prototype.setEncoder=function(t){return this._encoder=t,this},t.prototype.setSecret=function(t){return this._secret=(0,crypto_js_1.SHA3)("string"==typeof t?t:t.toString()),this},t}();SimpleCrypto$1.SimpleCrypto=SimpleCrypto,SimpleCrypto$1.default=SimpleCrypto,Object.defineProperty(messageUtils,"__esModule",{value:!0}),messageUtils.MessageUtil=void 0;const tslib_1$2=tslib_es6,uuid_1=esmBrowser,_1$1=message,simple_crypto_js_1=tslib_1$2.__importDefault(SimpleCrypto$1);class MessageUtil{prepareSimpleMessage(t,e,Q,B){return tslib_1$2.__awaiter(this,void 0,void 0,(function*(){e.id=uuid_1.v4(),B.debug&&console.log("hashconnect - Sending message - id: "+e.id);let s=yield this.encrypt(JSON.stringify(e),B.publicKeys[e.topic]),F=new _1$1.RelayMessage(Date.now(),t,s,Q);return JSON.stringify(F)}))}decode(t,e){return tslib_1$2.__awaiter(this,void 0,void 0,(function*(){e.debug&&console.log("hashconnect - decoding message payload");let Q=JSON.parse(t);return Q.data=yield this.decrypt(Q.data,e.publicKeys[Q.topic]),Q}))}createRandomTopicId(){return uuid_1.v4()}encrypt(t,e){return tslib_1$2.__awaiter(this,void 0,void 0,(function*(){return new simple_crypto_js_1.default(e).encrypt(t)}))}decrypt(t,e){return tslib_1$2.__awaiter(this,void 0,void 0,(function*(){return new simple_crypto_js_1.default(e).decrypt(t)}))}}messageUtils.MessageUtil=MessageUtil;var relayMessage={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=t.RelayMessage=void 0;var e;t.RelayMessage=class{constructor(t,e,Q,B){this.timestamp=t,this.type=e,this.data=Q,this.topic=B}},(e=t.RelayMessageType||(t.RelayMessageType={})).Transaction="Transaction",e.TransactionResponse="TransactionResponse",e.ApprovePairing="ApprovePairing",e.RejectPairing="RejectPairing",e.Acknowledge="Acknowledge",e.AdditionalAccountRequest="AdditionalAccountRequest",e.AdditionalAccountResponse="AdditionalAccountResponse"}(relayMessage);var messageHandler={};Object.defineProperty(messageHandler,"__esModule",{value:!0}),messageHandler.MessageHandler=void 0;const tslib_1$1=tslib_es6,_1=message;class MessageHandler{onPayload(t,e){return tslib_1$1.__awaiter(this,void 0,void 0,(function*(){const Q=t.data;switch(e.debug&&console.log(`hashconnect - Message Received of type ${t.type}, sent at ${t.timestamp.toString()}`,Q),Q.topic||console.error("hashconnect - no topic in message"),t.type){case _1.RelayMessageType.ApprovePairing:e.debug&&console.log("hashconnect - approved",t.data);let B=t.data;e.pairingEvent.emit(B),yield e.acknowledge(Q.topic,e.publicKeys[B.topic],B.id);break;case _1.RelayMessageType.Acknowledge:let s=t.data;e.debug&&console.log("hashconnect - acknowledged - id: "+s.msg_id),e.acknowledgeMessageEvent.emit(s);break;case _1.RelayMessageType.Transaction:e.debug&&console.log("hashconnect - Got transaction",t);let F=t.data;F.byteArray=new Uint8Array(buffer.Buffer.from(F.byteArray,"base64")),e.transactionEvent.emit(F),yield e.acknowledge(Q.topic,e.publicKeys[F.topic],F.id);break;case _1.RelayMessageType.TransactionResponse:e.debug&&console.log("hashconnect - Got transaction response",t);let U=t.data;U.signedTransaction&&(U.signedTransaction=new Uint8Array(buffer.Buffer.from(U.signedTransaction,"base64"))),U.receipt&&(U.receipt=new Uint8Array(buffer.Buffer.from(U.receipt,"base64"))),e.transactionResolver(U),yield e.acknowledge(Q.topic,e.publicKeys[U.topic],U.id);break;case _1.RelayMessageType.AdditionalAccountRequest:e.debug&&console.log("hashconnect - Got account info request",t);let n=t.data;e.additionalAccountRequestEvent.emit(n),yield e.acknowledge(Q.topic,e.publicKeys[n.topic],n.id);break;case _1.RelayMessageType.AdditionalAccountResponse:e.debug&&console.log("hashconnect - Got account info response",t);let c=t.data;e.additionalAccountResolver(c),yield e.acknowledge(Q.topic,e.publicKeys[c.topic],c.id)}}))}}messageHandler.MessageHandler=MessageHandler,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=tslib_es6;e.__exportStar(messageUtils,t),e.__exportStar(relayMessage,t),e.__exportStar(messageHandler,t)}(message),Object.defineProperty(hashconnect$1,"__esModule",{value:!0}),hashconnect$1.HashConnect=void 0;const tslib_1=tslib_es6,ts_typed_events_1=dist,relay_1=relay,message_1=message;commonjsGlobal.Buffer=commonjsGlobal.Buffer||buffer.Buffer;class HashConnect{constructor(t){this.publicKeys={},this.debug=!1,this.relay=new relay_1.WebSocketRelay(this),this.foundExtensionEvent=new ts_typed_events_1.Event,this.pairingEvent=new ts_typed_events_1.Event,this.transactionEvent=new ts_typed_events_1.Event,this.acknowledgeMessageEvent=new ts_typed_events_1.Event,this.additionalAccountRequestEvent=new ts_typed_events_1.Event,this.connectionStatusChange=new ts_typed_events_1.Event,this.messages=new message_1.MessageUtil,this.messageParser=new message_1.MessageHandler,t&&(this.debug=t),this.setupEvents()}init(t,e){return tslib_1.__awaiter(this,void 0,void 0,(function*(){return new Promise((Q=>tslib_1.__awaiter(this,void 0,void 0,(function*(){this.metadata=t,this.debug&&console.log("hashconnect - Initializing"),this.privateKey=e||(yield this.generateEncryptionKeys()),t.publicKey=this.privateKey;let B={privKey:this.privateKey};window&&(this.metadata.url=window.location.origin),yield this.relay.init(),this.debug&&console.log("hashconnect - Initialized"),Q(B)}))))}))}connect(t,e){return tslib_1.__awaiter(this,void 0,void 0,(function*(){t||(t=this.messages.createRandomTopicId(),this.publicKeys[t]=this.privateKey,this.debug&&console.log("hashconnect - Created new topic id - "+t)),e&&(this.publicKeys[t]=e.publicKey);let Q={topic:t,expires:0};return yield this.relay.subscribe(Q.topic),Q}))}setupEvents(){this.debug&&console.log("hashconnect - Setting up events"),this.relay.payload.on((t=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(!t)return;const e=yield this.messages.decode(t,this);yield this.messageParser.onPayload(e,this)}))))}sendTransaction(t,e){return tslib_1.__awaiter(this,void 0,void 0,(function*(){e.byteArray=buffer.Buffer.from(e.byteArray).toString("base64");const Q=yield this.messages.prepareSimpleMessage(message_1.RelayMessageType.Transaction,e,t,this);return yield this.relay.publish(t,Q,this.publicKeys[t]),this.sendEncryptedLocalTransaction(Q),yield new Promise((t=>this.transactionResolver=t))}))}requestAdditionalAccounts(t,e){return tslib_1.__awaiter(this,void 0,void 0,(function*(){const Q=yield this.messages.prepareSimpleMessage(message_1.RelayMessageType.AdditionalAccountRequest,e,t,this);return yield this.relay.publish(t,Q,this.publicKeys[t]),yield new Promise((t=>this.additionalAccountResolver=t))}))}sendAdditionalAccounts(t,e){return tslib_1.__awaiter(this,void 0,void 0,(function*(){e.accountIds=e.accountIds.map((t=>t));const Q=yield this.messages.prepareSimpleMessage(message_1.RelayMessageType.AdditionalAccountResponse,e,t,this);return yield this.relay.publish(t,Q,this.publicKeys[t]),e.id}))}sendTransactionResponse(t,e){return tslib_1.__awaiter(this,void 0,void 0,(function*(){e.receipt&&(e.receipt=buffer.Buffer.from(e.receipt).toString("base64")),e.signedTransaction&&(e.signedTransaction=buffer.Buffer.from(e.signedTransaction).toString("base64"));const Q=yield this.messages.prepareSimpleMessage(message_1.RelayMessageType.TransactionResponse,e,t,this);return yield this.relay.publish(t,Q,this.publicKeys[t]),e.id}))}pair(t,e,Q){return tslib_1.__awaiter(this,void 0,void 0,(function*(){this.debug&&console.log("hashconnect - Pairing to "+t.metadata.name);let B=yield this.connect(t.topic),s={metadata:this.metadata,topic:t.topic,accountIds:e,network:Q};s.metadata.description=this.sanitizeString(s.metadata.description),s.metadata.name=this.sanitizeString(s.metadata.name),s.metadata.publicKey=t.metadata.publicKey,s.network=this.sanitizeString(s.network),s.metadata.url=this.sanitizeString(s.metadata.url),s.accountIds=s.accountIds.map((t=>t)),this.publicKeys[t.topic]=t.metadata.publicKey;const F=yield this.messages.prepareSimpleMessage(message_1.RelayMessageType.ApprovePairing,s,s.topic,this);return this.relay.publish(t.topic,F,this.publicKeys[t.topic]),B}))}reject(t,e,Q){return tslib_1.__awaiter(this,void 0,void 0,(function*(){let B={reason:e,topic:t,msg_id:Q};B.reason=this.sanitizeString(B.reason);const s=yield this.messages.prepareSimpleMessage(message_1.RelayMessageType.RejectPairing,B,t,this);yield this.relay.publish(t,s,this.publicKeys[t])}))}acknowledge(t,e,Q){return tslib_1.__awaiter(this,void 0,void 0,(function*(){const B={result:!0,topic:t,msg_id:Q},s=yield this.messages.prepareSimpleMessage(message_1.RelayMessageType.Acknowledge,B,t,this);yield this.relay.publish(t,s,e)}))}generatePairingString(t,e,Q){this.debug&&console.log("hashconnect - Generating pairing string");let B={metadata:this.metadata,topic:t.topic,network:e,multiAccount:Q};return B.metadata.description=this.sanitizeString(B.metadata.description),B.metadata.name=this.sanitizeString(B.metadata.name),B.network=this.sanitizeString(B.network),B.metadata.url=this.sanitizeString(B.metadata.url),buffer.Buffer.from(JSON.stringify(B)).toString("base64")}decodePairingString(t){let e=buffer.Buffer.from(t,"base64").toString();return JSON.parse(e)}generateEncryptionKeys(){return tslib_1.__awaiter(this,void 0,void 0,(function*(){let t=this.messages.createRandomTopicId();return this.debug&&console.log("hashconnect - Generated new encryption key - "+t),t}))}sanitizeString(t){return t.replace(/[^\w. ]/gi,(function(t){return"."==t?".":"&#"+t.charCodeAt(0)+";"}))}findLocalWallets(){this.debug&&console.log("hashconnect - Finding local wallets"),window.addEventListener("message",(t=>{t.data.type&&"hashconnect-query-extension-response"==t.data.type&&(this.debug&&console.log("hashconnect - Local wallet metadata recieved",t.data),t.data.metadata&&this.foundExtensionEvent.emit(t.data.metadata))}),!1),setTimeout((()=>{window.postMessage({type:"hashconnect-query-extension"},"*")}),50)}connectToLocalWallet(t){this.debug&&console.log("hashconnect - Connecting to local wallet"),window.postMessage({type:"hashconnect-connect-extension",pairingString:t},"*")}sendEncryptedLocalTransaction(t){this.debug&&console.log("hashconnect - sending local transaction",t),window.postMessage({type:"hashconnect-send-local-transaction",message:t},"*")}decodeLocalTransaction(t){return tslib_1.__awaiter(this,void 0,void 0,(function*(){return yield this.messages.decode(t,this)}))}}function _createSuper$1(t){var e=_isNativeReflectConstruct$1();return function(){var Q,B=_getPrototypeOf(t);if(e){var s=_getPrototypeOf(this).constructor;Q=Reflect.construct(B,arguments,s)}else Q=B.apply(this,arguments);return _possibleConstructorReturn(this,Q)}}function _isNativeReflectConstruct$1(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}hashconnect$1.HashConnect=HashConnect,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=tslib_es6;e.__exportStar(hashconnect$1,t),e.__exportStar(relayMessage,t)}(main);var HashConnectProvider=function(t){_inherits(B,Provider);var e,Q=_createSuper$1(B);function B(t,e){var s;return _classCallCheck(this,B),(s=Q.call(this)).sender=t,s.client=WebClient.forName(e),s}return _createClass(B,[{key:"getLedgerId",value:function(){return this.client.ledgerId}},{key:"getNetwork",value:function(){return this.client.network}},{key:"getMirrorNetwork",value:function(){return this.client.mirrorNetwork}},{key:"getAccountBalance",value:function(t){return(new AccountBalanceQuery).setAccountId(t).execute(this.client)}},{key:"getAccountInfo",value:function(t){return(new AccountInfoQuery).setAccountId(t).execute(this.client)}},{key:"getAccountRecords",value:function(t){return(new AccountRecordsQuery).setAccountId(t).execute(this.client)}},{key:"getTransactionReceipt",value:function(t){return(new TransactionReceiptQuery).setTransactionId(t).execute(this.client)}},{key:"waitForReceipt",value:function(t){return(new TransactionReceiptQuery).setNodeAccountIds([t.nodeId]).setTransactionId(t.transactionId).execute(this.client)}},{key:"sendRequest",value:(e=_asyncToGenerator(regenerator.mark((function t(e){var Q,B,s,F,U;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Q=this.getBytesOf(e),t.next=3,this.sender.send(e._operator.accountId,Q);case 3:if(B=t.sent,s=B.signedTransaction,!(F=B.error)){t.next=10;break}throw new Error("There was an issue while signing the request: ".concat(F));case 10:if(!(e instanceof Transaction)){t.next=15;break}return U=Transaction.fromBytes(s),t.abrupt("return",U.execute(this.client));case 15:if(!(e instanceof Query)){t.next=18;break}t.next=19;break;case 18:throw new Error("We only know how to forward Transactions and Queries.");case 19:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"getBytesOf",value:function(t){if(t instanceof Transaction||t instanceof Query)return t.toBytes();throw new Error("Only Transactions and Queries can be serialized to be sent for signing by the HashPack wallet.")}}]),B}(),HashConnectSender=function(){function t(e,Q){_classCallCheck(this,t),this.hashConnect=e,this.topicId=Q}return _createClass(t,[{key:"send",value:function(t,e){var Q={byteArray:e,metadata:{accountToSign:t.toString(),returnTransaction:!0},topic:this.topicId};return this.hashConnect.sendTransaction(this.topicId,Q)}}]),t}(),HashPackSigner=function(){function t(e,Q){_classCallCheck(this,t),this.accountId=e,this.sender=Q}var e;return _createClass(t,[{key:"sign",value:(e=_asyncToGenerator(regenerator.mark((function t(e){var Q,B,s,F,U,n,c;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sender.send(this.accountId,e);case 2:if(Q=t.sent,B=Q.signedTransaction,!(s=Q.error)){t.next=9;break}throw new Error("There was an issue reported while signing the message: ".concat(s));case 9:if(!B){t.next=17;break}if(F=Transaction.fromBytes(B),!(U=F._signedTransactions).isEmpty){t.next=14;break}throw new Error("No transaction has been signed.");case 14:return n=U.get(0).sigMap.sigPair,c=n.find((function(t){return void 0!==t.ed25519})),t.abrupt("return",c.ed25519);case 17:return t.abrupt("return",Uint8Array.of());case 18:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}();function ownKeys$1(t,e){var Q=Object.keys(t);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(t);e&&(B=B.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),Q.push.apply(Q,B)}return Q}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var Q=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$1(Object(Q),!0).forEach((function(e){_defineProperty(t,e,Q[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(Q)):ownKeys$1(Object(Q)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(Q,e))}))}return t}function _createForOfIteratorHelper(t,e){var Q="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!Q){if(Array.isArray(t)||(Q=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){Q&&(t=Q);var B=0,s=function(){};return{s:s,n:function(){return B>=t.length?{done:!0}:{done:!1,value:t[B++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var F,U=!0,n=!1;return{s:function(){Q=Q.call(t)},n:function(){var t=Q.next();return U=t.done,t},e:function(t){n=!0,F=t},f:function(){try{U||null==Q.return||Q.return()}finally{if(n)throw F}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var Q=Object.prototype.toString.call(t).slice(8,-1);return"Object"===Q&&t.constructor&&(Q=t.constructor.name),"Map"===Q||"Set"===Q?Array.from(t):"Arguments"===Q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var Q=0,B=new Array(e);Q<e;Q++)B[Q]=t[Q];return B}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var Q,B=_getPrototypeOf(t);if(e){var s=_getPrototypeOf(this).constructor;Q=Reflect.construct(B,arguments,s)}else Q=B.apply(this,arguments);return _possibleConstructorReturn(this,Q)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var HP_LOCAL_STORAGE_KEY="hashpack-session",HP_WAIT_FOR_EXTENSION_RESPONSE_TIMEOUT=2e3,HashPackWallet=function(t){_inherits(o,Wallet);var e,Q,B,s,F,U,n,c=_createSuper(o);function o(t){var e;return _classCallCheck(this,o),(e=c.call(this)).client=WebClient.forName(t.networkMaturity),e.account=t.account,e.provider=new HashConnectProvider(t.hcSender,t.networkMaturity),e.signer=new HashPackSigner(e.getAccountId(),t.hcSender),e}return _createClass(o,[{key:"getProvider",value:function(){return this.provider}},{key:"getAccountKey",value:function(){return this.account.publicKey}},{key:"getLedgerId",value:function(){return this.provider.getLedgerId()}},{key:"getAccountId",value:function(){return this.account.id}},{key:"getNetwork",value:function(){return this.provider.getNetwork()}},{key:"getMirrorNetwork",value:function(){return this.provider.getMirrorNetwork()}},{key:"sign",value:(n=_asyncToGenerator(regenerator.mark((function t(e){var Q,B,s,F;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Q=[],B=_createForOfIteratorHelper(e),t.prev=2,B.s();case 4:if((s=B.n()).done){t.next=18;break}return F=s.value,t.t0=Q,t.t1=SignerSignature,t.t2=this.getAccountId(),t.t3=this.getAccountKey(),t.next=12,this.signer.sign(F);case 12:t.t4=t.sent,t.t5={accountId:t.t2,publicKey:t.t3,signature:t.t4},t.t6=new t.t1(t.t5),t.t0.push.call(t.t0,t.t6);case 16:t.next=4;break;case 18:t.next=23;break;case 20:t.prev=20,t.t7=t.catch(2),B.e(t.t7);case 23:return t.prev=23,B.f(),t.finish(23);case 26:return t.abrupt("return",Q);case 27:case"end":return t.stop()}}),t,this,[[2,20,23,26]])}))),function(t){return n.apply(this,arguments)})},{key:"getAccountBalance",value:function(){return this.provider.getAccountBalance(this.getAccountId())}},{key:"getAccountInfo",value:function(){return this.provider.getAccountInfo(this.getAccountId())}},{key:"getAccountRecords",value:function(){return this.provider.getAccountRecords(this.getAccountId())}},{key:"signTransaction",value:function(t){return t.signWith(this.getAccountKey(),this.signer.sign)}},{key:"checkTransaction",value:(U=_asyncToGenerator(regenerator.mark((function t(e){return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)}))),function(t){return U.apply(this,arguments)})},{key:"populateTransaction",value:(F=_asyncToGenerator(regenerator.mark((function t(e){return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setTransactionId(TransactionId.generate(this.getAccountId())),e.setNodeAccountIds(Object.values(this.getNetwork())),t.abrupt("return",e);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return F.apply(this,arguments)})},{key:"sendRequest",value:(s=_asyncToGenerator(regenerator.mark((function t(e){return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e instanceof Transaction)){t.next=5;break}return this.populateTransaction(e),e.freezeWith(this.client),e._setOperatorWith(this.getAccountId(),this.getAccountKey(),this.signer.sign),t.abrupt("return",this.provider.sendRequest(e));case 5:return t.abrupt("return",Promise.reject("Executable type is not yet supported by this wallet."));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"wipePairingData",value:function(){try{localStorage.removeItem(HP_LOCAL_STORAGE_KEY)}catch(t){console.error(t)}}}],[{key:"getConnection",value:(B=_asyncToGenerator(regenerator.mark((function t(){var e,Q,B,s,F,U,n=arguments;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]&&n[0],Q=localStorage.getItem(HP_LOCAL_STORAGE_KEY),B=null,!Q){t.next=14;break}return s=JSON.parse(Q),F=new main.HashConnect(e),t.next=8,F.init(s.appMetadata,s.privateKey);case 8:return t.next=10,F.connect(s.topic,s.pairedWalletData);case 10:return t.next=12,o.newFor({account:{id:AccountId.fromString(s.accountId),publicKey:PublicKey.fromString(s.accountPublicKey)},hcSender:new HashConnectSender(F,s.topic),networkMaturity:s.networkName});case 12:U=t.sent,B=U;case 14:return t.abrupt("return",B);case 15:case"end":return t.stop()}}),t)}))),function(){return B.apply(this,arguments)})},{key:"newConnection",value:(Q=_asyncToGenerator(regenerator.mark((function t(e){var Q,B,s,F,U,n,c,g,l,I,r;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Q=e.networkName,B=void 0===Q?"testnet":Q,s=e.debug,F=void 0!==s&&s,U=e.appMetadata,n={},c=new main.HashConnect(F),t.next=5,c.init(U);case 5:return g=t.sent,t.next=8,c.connect();case 8:return l=t.sent,n.privateKey=g.privKey,n.topic=l.topic,I=new Promise((function(t,e){return setTimeout((function(){e("The HashPack browser extension could not be found. Please install it to continue.")}),HP_WAIT_FOR_EXTENSION_RESPONSE_TIMEOUT)})),r=new Promise((function(t){return c.foundExtensionEvent.once((function(e){t(c.generatePairingString(l,B,!0))}))})),c.findLocalWallets(),t.next=16,Promise.race([I,r]);case 16:return n.pairingString=t.sent,"https:"!==location.protocol?console.log("Generated a new paring string: ".concat(n.pairingString)):c.connectToLocalWallet(n.pairingString),t.abrupt("return",new Promise((function(t,e){c.pairingEvent.once(function(){var Q=_asyncToGenerator(regenerator.mark((function Q(s){var F,g;return regenerator.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!(s.accountIds&&s.accountIds.length>0)){Q.next=9;break}return F=AccountId.fromString(s.accountIds[0]),Q.next=4,o.newFor({account:{id:F},hcSender:new HashConnectSender(c,n.topic),networkMaturity:B});case 4:g=Q.sent,localStorage.setItem(HP_LOCAL_STORAGE_KEY,JSON.stringify(_objectSpread$1(_objectSpread$1({},n),{},{accountId:F.toString(),accountPublicKey:g.getAccountKey().toStringDer(),appMetadata:U,networkName:B,pairedWalletData:s.metadata}))),t(g),Q.next=10;break;case 9:e("Did not receive back any paired accounts.");case 10:case"end":return Q.stop()}}),Q)})));return function(t){return Q.apply(this,arguments)}}())})));case 19:case"end":return t.stop()}}),t)}))),function(t){return Q.apply(this,arguments)})},{key:"newFor",value:(e=_asyncToGenerator(regenerator.mark((function t(e){var Q,B,s,F,U;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Q=e.account.publicKey){t.next=13;break}return B="mainnet"===e.networkMaturity?"mainnet-public":"testnet",s="https://".concat(B,".mirrornode.hedera.com/api/v1/accounts/").concat(e.account.id),t.next=6,fetch(s);case 6:if((F=t.sent).ok){t.next=9;break}throw new Error("Account Id could not be retrieved from the network");case 9:return t.next=11,F.json();case 11:U=t.sent,Q=PublicKey.fromString(U.key.key);case 13:return t.abrupt("return",new o(_objectSpread$1(_objectSpread$1({},e),{},{account:_objectSpread$1(_objectSpread$1({},e.account),{},{publicKey:Q})})));case 14:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})}]),o}();function ownKeys(t,e){var Q=Object.keys(t);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(t);e&&(B=B.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),Q.push.apply(Q,B)}return Q}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var Q=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(Q),!0).forEach((function(e){_defineProperty(t,e,Q[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(Q)):ownKeys(Object(Q)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(Q,e))}))}return t}var hpAppMetaData={description:"Hedera Strato Documentation",icon:"https://www.hashpack.app/img/logo.svg",name:"hStrato"};function injectStrato(){return _injectStrato.apply(this,arguments)}function _injectStrato(){return _injectStrato=_asyncToGenerator(regenerator.mark((function t(){var e,Q,B,s,F,U,n;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://eu2.contabostorage.com/963797152a304f4bb7f75cc0af884bd7:buidler-labs/projects/hedera-strato-js/docs-operator.json");case 3:return e=t.sent,t.next=6,e.body.getReader().read();case 6:Q=t.sent,B=Q.value,s=(new TextDecoder).decode(B),F=JSON.parse(s),U={network:{name:F.network},wallet:{sdk:{operatorId:F.accountId,operatorKey:F.privateKey}}},n=ApiSession.default,console.log("ApiSession will default to using account-id '".concat(F.accountId,"' on network '").concat(F.network,"'.")),window.ApiSession=_objectSpread({default:function(){for(var t=!1,e=arguments.length,Q=new Array(e),B=0;B<e;B++)Q[B]=arguments[B];return Q.length>0&&Q[0]instanceof Object&&(void 0!==Q[0].wallet&&void 0!==Q[0].wallet.hedera&&(t=void 0!==Q[0].wallet.sdk.operatorId||void 0!==Q[0].wallet.sdk.operatorKey),t||(t=void 0!==Q[0].network&&void 0!==Q[0].network.name)),n(merge.apply(void 0,[t?{}:U].concat(Q)))}},ApiSession),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),console.error("There was an error while fetching the docs-client operator. Falling back to the bundled operator.",t.t0),window.ApiSession=ApiSession;case 20:return t.prev=20,window.Account=Account,window.Contract=Contract,window.File=File,window.Json=Json,window.KeyType=KeyType,window.Token=Token,window.TokenTypes=TokenTypes,window.Topic=Topic,t.finish(20);case 30:case"end":return t.stop()}}),t,null,[[0,16,20,30]])}))),_injectStrato.apply(this,arguments)}function setWallet(t){t&&(window.hedera=t,window.postMessage("WalletLoaded"))}_asyncToGenerator(regenerator.mark((function t(){return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,injectStrato();case 2:return window.connectWallet=function(){var t=_asyncToGenerator(regenerator.mark((function t(e){var Q;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,HashPackWallet.newConnection({appMetadata:hpAppMetaData,debug:!1,networkName:e});case 2:return setWallet(Q=t.sent),t.abrupt("return",Q);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),window.disconnectWallet=function(){window.hedera&&(window.hedera.wipePairingData(),window.hedera=null)},t.t0=setWallet,t.next=7,HashPackWallet.getConnection(!1);case 7:t.t1=t.sent,(0,t.t0)(t.t1);case 9:case"end":return t.stop()}}),t)})))();
//# sourceMappingURL=app.js.map
