"use strict";(self.webpackChunk_buidlerlabs_hedera_strato_docs=self.webpackChunk_buidlerlabs_hedera_strato_docs||[]).push([[5],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>k});var o=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=o.createContext({}),p=function(e){var n=o.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},d=function(e){var n=p(e.components);return o.createElement(l.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},u=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=p(t),k=a,m=u["".concat(l,".").concat(k)]||u[k]||c[k]||i;return t?o.createElement(m,r(r({ref:n},d),{},{components:t})):o.createElement(m,r({ref:n},d))}));function k(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,r=new Array(i);r[0]=u;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,r[1]=s;for(var p=2;p<i;p++)r[p]=t[p];return o.createElement.apply(null,r)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},98002:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>k,frontMatter:()=>s,metadata:()=>p,toc:()=>c});var o=t(87462),a=t(63366),i=(t(67294),t(3905)),r=["components"],s={id:"token",title:"Token"},l=void 0,p={unversionedId:"markdown/guides/entities/token",id:"markdown/guides/entities/token",title:"Token",description:"Creating one",source:"@site/src.docs/markdown/guides/entities/token.md",sourceDirName:"markdown/guides/entities",slug:"/markdown/guides/entities/token",permalink:"/markdown/guides/entities/token",draft:!1,editUrl:"https://github.com/buidler-labs/hedera-strato-docs/edit/main/src.docs/markdown/guides/entities/token.md",tags:[],version:"current",lastUpdatedBy:"Victor ADASCALITEI",lastUpdatedAt:1654340669,formattedLastUpdatedAt:"6/4/2022",frontMatter:{id:"token",title:"Token"},sidebar:"docs",previous:{title:"Json",permalink:"/markdown/guides/entities/json"},next:{title:"Topic",permalink:"/markdown/guides/entities/topic"}},d={},c=[{value:"Creating one",id:"creating-one",level:3},{value:"LiveToken operations",id:"livetoken-operations",level:3},{value:"Retrieving a deployed token",id:"retrieving-a-deployed-token",level:4},{value:"Deleting a LiveToken",id:"deleting-a-livetoken",level:4},{value:"Updating a token",id:"updating-a-token",level:4}],u={toc:c};function k(e){var n=e.components,t=(0,a.Z)(e,r);return(0,i.kt)("wrapper",(0,o.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"creating-one"},"Creating one"),(0,i.kt)("p",null,"Similar to how ",(0,i.kt)("inlineCode",{parentName:"p"},"Account"),"s get created, tokens are not that different. You define your token features object which has the following schema (and dependencies):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"type TokenFeatures = {\n  name?: string;\n  symbol?: string;\n  treasuryAccountId?: string | AccountId;\n  keys?: TokenKeys;\n  autoRenewAccountId?: string | AccountId;\n  expirationTime?: Date | Timestamp;\n  autoRenewPeriod?: number | Long.Long | Duration;\n  tokenMemo?: string;\n};\n\nexport type CreateTokenFeatures = TokenFeatures & {\n  name: string;\n  symbol: string;\n  type: TokenType;\n  maxSupply?: number | Long.Long;\n  supplyType?: TokenSupplyType;\n  initialSupply?: number | Long.Long;\n  decimals?: number | Long.Long;\n  customFees?: { feeCollectorAccountId?: string | AccountId | undefined }[];\n  freezeDefault?: boolean;\n};\n\ntype TokenKeys = {\n  admin?: Key;\n  feeSchedule?: Key;\n  freeze?: Key;\n  kyc?: Key;\n  pause?: Key;\n  supply?: Key;\n  wipe?: Key;\n};\n\nconst TokenTypes = {\n  FungibleCommon: new TokenType(HederaTokenType.FungibleCommon),\n  NonFungibleUnique: new TokenType(HederaTokenType.NonFungibleUnique),\n};\n")),(0,i.kt)("p",null,"and ",(0,i.kt)("inlineCode",{parentName:"p"},"create")," it via an ",(0,i.kt)("inlineCode",{parentName:"p"},"ApiSession"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:"live=true containerKey=create_a_token",live:"true",containerKey:"create_a_token"},'const { session } = await ApiSession.default();\nconst token = new Token({\n  name: "Wrapped HBAR",\n  symbol: "wHBAR",\n  initialSupply: 1000,\n  decimals: 3,\n  type: TokenTypes.FungibleCommon,\n});\nconst liveToken = await session.create(token);\n\nconsole.log(`Token ${liveToken.id} has been successfully created.`);\n')),(0,i.kt)("p",null,"Only the ",(0,i.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"symbol")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"type")," are mandatory options, the rest are optional."),(0,i.kt)("p",null,"Needless to say that this snippet creates a ",(0,i.kt)("inlineCode",{parentName:"p"},"Wrapped HBAR")," (symbolized ",(0,i.kt)("inlineCode",{parentName:"p"},"wHBAR"),") fungible token with an initial supply of 1000 units and 2 decimal places."),(0,i.kt)("p",null,"By default, if not specified otherwise, all keys are assigned to the operator of the current session. If you don't want this behavior for all the keys, just set the one you want to be excluded to ",(0,i.kt)("inlineCode",{parentName:"p"},"null")," when creating the token. Of course, if you want to assign that key to another address, you can of course do that."),(0,i.kt)("p",null,"The following code does the same thing as above except that it leaves the ",(0,i.kt)("inlineCode",{parentName:"p"},"kyc")," key unset:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'const { session } = await ApiSession.default();\nconst token = new Token({\n  name: "Wrapped HBAR",\n  symbol: "wHBAR",\n  initialSupply: 1000,\n  decimals: 3,\n  keys: { kyc: null },\n  type: TokenTypes.FungibleCommon,\n});\nconst liveToken = await session.create(token);\n\n// ...\n')),(0,i.kt)("h3",{id:"livetoken-operations"},"LiveToken operations"),(0,i.kt)("p",null,"Currently, ",(0,i.kt)("inlineCode",{parentName:"p"},"LiveToken"),"s support assigning supply control to something else (a different account or person) via the ",(0,i.kt)("inlineCode",{parentName:"p"},"assignSupplyControlTo")," method."),(0,i.kt)("h4",{id:"retrieving-a-deployed-token"},"Retrieving a deployed token"),(0,i.kt)("p",null,"It's currently not possible to retrieve a ",(0,i.kt)("inlineCode",{parentName:"p"},"Token")," once deployed but it will be ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/buidler-labs/hedera-strato-js/issues/59"},"once issue #59 is implemented"),"."),(0,i.kt)("h4",{id:"deleting-a-livetoken"},"Deleting a LiveToken"),(0,i.kt)("p",null,"Is possible if the wallet owning the ",(0,i.kt)("inlineCode",{parentName:"p"},"ApiSession")," is allowed to do so (the wallet account public-key is the same as the token's admin key) and can be accomplished via a ",(0,i.kt)("inlineCode",{parentName:"p"},"LiveToken.deleteEntity()")," call."),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Once deleted, certain operations such as ",(0,i.kt)("inlineCode",{parentName:"p"},"assignSupplyControlTo")," and, in general, all network-related actions, are no longer available."))),(0,i.kt)("h4",{id:"updating-a-token"},"Updating a token"),(0,i.kt)("p",null,"If the wallet owner of the ",(0,i.kt)("inlineCode",{parentName:"p"},"ApiSession")," doing the update has the same public-key as the one configured on the token's admin key, the session can update the token via calling the ",(0,i.kt)("inlineCode",{parentName:"p"},"LiveToken.updateEntity(TokenFeatures)")," method. Of course, ",(0,i.kt)("inlineCode",{parentName:"p"},"TokenFeatures")," is the same object type like the one used to create a ",(0,i.kt)("inlineCode",{parentName:"p"},"LiveToken")," (please check the discussion above)."))}k.isMDXComponent=!0}}]);